!function i(o,r,a){function s(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,i,o,r,a)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var l=e("../../util/ModelUtil"),r=e("../../util/DiUtil"),a=e("./util/TypeUtil"),s=e("min-dash"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n])}i.default=e,t&&t.set(e,i);return i}(e("./CustomerReplaceOptions"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function i(e,t,n,i,o,r){this._popupMenu=e,this._modeling=t,this._moddle=n,this._bpmnReplace=i,this._rules=o,this._translate=r,this.register()}i.$inject=["popupMenu","modeling","moddle","bpmnReplace","rules","translate"],i.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},i.prototype.getEntries=function(i){var e,n=i.businessObject;if(!this._rules.allowed("shape.replace",{element:i}))return[];var o=(0,a.isDifferentType)(i);return(0,l.is)(n,"bpmn:StartEvent")&&!(0,r.isEventSubProcess)(n.$parent)?(e=(0,s.filter)(c.START_EVENT,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:Participant")?(e=(0,s.filter)(c.PARTICIPANT,function(e){return(0,r.isExpanded)(n)!==e.target.isExpanded}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:StartEvent")&&(0,r.isEventSubProcess)(n.$parent)?(e=(0,s.filter)(c.EVENT_SUB_PROCESS_START_EVENT,function(e){var t=!1!==e.target.isInterrupting,t=(0,l.getBusinessObject)(i).isInterrupting===t;return o(e)||!o(e)&&!t}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:EndEvent")?(e=(0,s.filter)(c.END_EVENT,function(e){return!("bpmn:CancelEventDefinition"==e.target.eventDefinitionType&&!(0,l.is)(n.$parent,"bpmn:Transaction"))&&o(e)}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:BoundaryEvent")?(e=(0,s.filter)(c.BOUNDARY_EVENT,function(e){var t=e.target;if("bpmn:CancelEventDefinition"==t.eventDefinition&&!(0,l.is)(n.attachedToRef,"bpmn:Transaction"))return!1;t=!1!==t.cancelActivity,t=n.cancelActivity==t;return o(e)||!o(e)&&!t}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:IntermediateCatchEvent")||(0,l.is)(n,"bpmn:IntermediateThrowEvent")?(e=(0,s.filter)(c.INTERMEDIATE_EVENT,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:Gateway")?(e=(0,s.filter)(c.GATEWAY,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:Transaction")?(e=(0,s.filter)(c.TRANSACTION,o),this._createEntries(i,e)):(0,r.isEventSubProcess)(n)&&(0,r.isExpanded)(n)?(e=(0,s.filter)(c.EVENT_SUB_PROCESS,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:SubProcess")&&(0,r.isExpanded)(n)?(e=(0,s.filter)(c.SUBPROCESS_EXPANDED,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:AdHocSubProcess")&&!(0,r.isExpanded)(n)?(e=(0,s.filter)(c.TASK,function(e){var t=e.target,n="bpmn:SubProcess"===t.type,e=!0===t.isExpanded;return(0,a.isDifferentType)(i,t)&&(!n||e)}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(i,c.SEQUENCE_FLOW):(0,l.is)(n,"bpmn:FlowNode")?(e=(0,s.filter)(c.TASK,o),(0,l.is)(n,"bpmn:SubProcess")&&!(0,r.isExpanded)(n)&&(e=(0,s.filter)(e,function(e){return"Sub Process (collapsed)"!==e.label})),this._createEntries(i,e)):[]},i.prototype.getHeaderEntries=function(e){var t=[];return(0,l.is)(e,"bpmn:Activity")&&!(0,r.isEventSubProcess)(e)&&(t=t.concat(this._getLoopEntries(e))),!(0,l.is)(e,"bpmn:SubProcess")||(0,l.is)(e,"bpmn:Transaction")||(0,r.isEventSubProcess)(e)||t.push(this._getAdHocEntry(e)),t},i.prototype._createEntries=function(t,e){var n=[],i=this;return(0,s.forEach)(e,function(e){e=i._createMenuEntry(e,t);n.push(e)}),n},i.prototype._createSequenceFlowEntries=function(t,e){var n=(0,l.getBusinessObject)(t),i=[],o=this._modeling,r=this._moddle,a=this;return(0,s.forEach)(e,function(e){switch(e.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&((0,l.is)(n.sourceRef,"bpmn:ExclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:InclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:ComplexGateway")||(0,l.is)(n.sourceRef,"bpmn:Activity"))&&i.push(a._createMenuEntry(e,t,function(){o.updateProperties(t.source,{default:n})}));break;case"replace-with-conditional-flow":!n.conditionExpression&&(0,l.is)(n.sourceRef,"bpmn:Activity")&&i.push(a._createMenuEntry(e,t,function(){var e=r.create("bpmn:FormalExpression",{body:""});o.updateProperties(t,{conditionExpression:e})}));break;default:if((0,l.is)(n.sourceRef,"bpmn:Activity")&&n.conditionExpression)return i.push(a._createMenuEntry(e,t,function(){o.updateProperties(t,{conditionExpression:void 0})}));if(((0,l.is)(n.sourceRef,"bpmn:ExclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:InclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:ComplexGateway")||(0,l.is)(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n)return i.push(a._createMenuEntry(e,t,function(){o.updateProperties(t.source,{default:void 0})}))}}),i},i.prototype._createMenuEntry=function(e,t,n){var i=this._translate,o=this._bpmnReplace.replaceElement;return n=n||function(){return o(t,e.target)},{label:i(e.label),className:e.className,id:e.actionName,action:n}},i.prototype._getLoopEntries=function(i){var o=this,e=this._translate;function t(e,t){var n;t.active?n=void 0:(n=o._moddle.create(t.options.loopCharacteristics),t.options.isSequential&&(n.isSequential=t.options.isSequential)),o._modeling.updateProperties(i,{loopCharacteristics:n})}var n,r,a,s=(0,l.getBusinessObject)(i).loopCharacteristics;return s&&(n=s.isSequential,r=void 0===s.isSequential,a=void 0!==s.isSequential&&!s.isSequential),[{id:"toggle-parallel-mi",className:"bpmn-icon-parallel-mi-marker",title:e("Parallel Multi Instance"),active:a,action:t,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},{id:"toggle-sequential-mi",className:"bpmn-icon-sequential-mi-marker",title:e("Sequential Multi Instance"),active:n,action:t,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},{id:"toggle-loop",className:"bpmn-icon-loop-marker",title:e("Loop"),active:r,action:t,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}]},i.prototype._getAdHocEntry=function(n){var e=this._translate,t=(0,l.getBusinessObject)(n),i=(0,l.is)(t,"bpmn:AdHocSubProcess"),o=this._bpmnReplace.replaceElement;return{id:"toggle-adhoc",className:"bpmn-icon-ad-hoc-marker",title:e("Ad-hoc"),active:i,action:function(e,t){return o(n,i?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"})}}}},{"../../util/DiUtil":7,"../../util/ModelUtil":9,"./CustomerReplaceOptions":2,"./util/TypeUtil":6,"min-dash":834}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PARTICIPANT=n.SEQUENCE_FLOW=n.EVENT_SUB_PROCESS_START_EVENT=n.BOUNDARY_EVENT=n.TASK=n.EVENT_SUB_PROCESS=n.TRANSACTION=n.SUBPROCESS_EXPANDED=n.GATEWAY=n.END_EVENT=n.INTERMEDIATE_EVENT=n.START_EVENT=void 0;n.START_EVENT=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}];n.INTERMEDIATE_EVENT=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition"}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition"}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}];n.END_EVENT=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}];n.GATEWAY=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}];n.SUBPROCESS_EXPANDED=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}];n.TRANSACTION=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}];n.EVENT_SUB_PROCESS=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}}];n.TASK=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}];n.BOUNDARY_EVENT=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}];n.EVENT_SUB_PROCESS_START_EVENT=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}];n.SEQUENCE_FLOW=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}];n.PARTICIPANT=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:"Collapsed Pool",actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}]},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var d=e("min-dash"),o=e("min-dom"),r="data-id";function i(e,t,n){e=(0,d.isDefined)(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:e},this._eventBus=t,this._canvas=n,this._providers={},this._current={}}i.$inject=["config.popupMenu","eventBus","canvas"],i.prototype.registerProvider=function(e,t){this._providers[e]=t},i.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._providers[t],t=n.getEntries(e),e=n.getHeaderEntries&&n.getHeaderEntries(e),t=0<t.length,e=e&&0<e.length;return!t&&!e},i.prototype.open=function(e,t,n){var i=this._providers[t];if(!e)throw new Error("Element is missing");if(!i)throw new Error("Provider is not registered: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");t=this._current={provider:i,className:t,element:e,position:n};i.getHeaderEntries&&(t.headerEntries=i.getHeaderEntries(e)),t.entries=i.getEntries(e),t.container=this._createContainer();i=t.headerEntries||[],e=t.entries||[];i.length&&t.container.appendChild(this._createEntries(t.headerEntries,"djs-popup-header")),e.length&&t.container.appendChild(this._createEntries(t.entries,"djs-popup-body"));e=this._canvas.getContainer();this._attachContainer(t.container,e,n.cursor)},i.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindHandlers(),(0,o.remove)(this._current.container),this._current.container=null)},i.prototype.isOpen=function(){return!!this._current.container},i.prototype.trigger=function(e){e.preventDefault();var t=e.delegateTarget||e.target,t=(0,o.attr)(t,r),t=this._getEntry(t);if(t.action)return t.action.call(null,e,t)},i.prototype._getEntry=function(e){e=(0,d.matchPattern)({id:e}),e=(0,d.find)(this._current.entries,e)||(0,d.find)(this._current.headerEntries,e);if(!e)throw new Error("entry not found");return e},i.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},i.prototype._createContainer=function(){var e=(0,o.domify)('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return(0,d.assign)(e.style,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),(0,o.classes)(e).add(n),e},i.prototype._attachContainer=function(e,t,n){var i=this;o.delegate.bind(e,".entry","click",function(e){i.trigger(e)}),this._updateScale(e),t.appendChild(e),n&&this._assureIsInbounds(e,n),this._bindHandlers()},i.prototype._updateScale=function(e){var t,n,i,o=this._canvas.zoom(),r=this._config.scale,a=o;!0!==r&&(r=!1===r?t=1:(t=r.min,r.max),(0,d.isDefined)(t)&&o<t&&(a=t),(0,d.isDefined)(r)&&r<o&&(a=r)),i="scale("+a+")",(n=e).style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){n.style[e+"transform"]=i})},i.prototype._assureIsInbounds=function(e,t){var n,i,o=this._canvas._container.getBoundingClientRect(),r=e.offsetLeft,a=e.offsetTop,s=e.scrollWidth,l=e.scrollHeight,c={},u=t.x-o.left,t=t.y-o.top;r+s>o.width&&(c.x=!0),a+l>o.height&&(c.y=!0),c.x&&c.y?(n=u-s+"px",i=t-l+"px"):c.x?(n=u-s+"px",i=t+"px"):c.y&&t<l?(n=u+"px",i="10px"):c.y&&(n=u+"px",i=t-l+"px"),(0,d.assign)(e.style,{left:n,top:i},{visibility:"visible","z-index":1e3})},i.prototype._createEntries=function(e,t){var n=(0,o.domify)("<div>"),i=this;return(0,o.classes)(n).add(t),(0,d.forEach)(e,function(e){e=i._createEntry(e,n);n.appendChild(e)}),n},i.prototype._createEntry=function(e){if(!e.id)throw new Error("every entry must have the id property set");var t,n=(0,o.domify)("<div>"),i=(0,o.classes)(n);return i.add("entry"),e.className&&e.className.split(" ").forEach(function(e){i.add(e)}),(0,o.attr)(n,r,e.id),e.label&&((t=(0,o.domify)("<span>")).textContent=e.label,n.appendChild(t)),e.imageUrl&&n.appendChild((0,o.domify)('<img src="'+e.imageUrl+'" />')),!0===e.active&&i.add("active"),!0===e.disabled&&i.add("disabled"),e.title&&(n.title=e.title),n},i.prototype._bindHandlers=function(){var e=this._eventBus,t=this;function n(){t.close()}e.once("contextPad.close",n),e.once("canvas.viewbox.changing",n),e.once("commandStack.changed",n)},i.prototype._unbindHandlers=function(){var e=this._eventBus,t=this;function n(){t.close()}e.off("contextPad.close",n),e.off("canvas.viewbox.changed",n),e.off("commandStack.changed",n)}},{"min-dash":834,"min-dom":835}],4:[function(e,t,n){"use strict";function i(e){this._popupMenu=e,this.register()}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).$inject=["popupMenu"],i.getEntries=function(e){},i.getHeaderEntries=function(e){},i.register=function(){}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../../../../diagram-js/popup-menu")),e=o(e("./CustomMenuProvider"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",e.default]};n.default=e},{"../../../../diagram-js/popup-menu":21,"./CustomMenuProvider":1}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDifferentType=function(r){return function(e){var t=e.target,n=(0,a.getBusinessObject)(r),i=n.eventDefinitions&&n.eventDefinitions[0],o=n.$type===t.type,e=(i&&i.$type)===t.eventDefinitionType,i=n.triggeredByEvent===t.triggeredByEvent,n=void 0===t.isExpanded||t.isExpanded===(0,s.isExpanded)(n);return!(o&&e&&i&&n)}};var a=e("../../../util/ModelUtil"),s=e("../../../util/DiUtil")},{"../../../util/DiUtil":7,"../../../util/ModelUtil":9}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isExpanded=function(e){if((0,i.is)(e,"bpmn:CallActivity"))return!1;if((0,i.is)(e,"bpmn:SubProcess"))return!!(0,i.getBusinessObject)(e).di.isExpanded;if((0,i.is)(e,"bpmn:Participant"))return!!(0,i.getBusinessObject)(e).processRef;return!0},n.isInterrupting=function(e){return e&&!1!==(0,i.getBusinessObject)(e).isInterrupting},n.isEventSubProcess=function(e){return e&&!!(0,i.getBusinessObject)(e).triggeredByEvent},n.hasEventDefinition=r,n.hasErrorEventDefinition=function(e){return r(e,"bpmn:ErrorEventDefinition")},n.hasEscalationEventDefinition=function(e){return r(e,"bpmn:EscalationEventDefinition")},n.hasCompensateEventDefinition=function(e){return r(e,"bpmn:CompensateEventDefinition")};var i=e("./ModelUtil"),o=e("min-dash");function r(e,t){var e=(0,i.getBusinessObject)(e),n=!1;return e.eventDefinitions&&(0,o.forEach)(e.eventDefinitions,function(e){(0,i.is)(e,t)&&(n=!0)}),n}},{"./ModelUtil":9,"min-dash":834}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isLabelExternal=function(e){return(0,i.is)(e,"bpmn:Event")||(0,i.is)(e,"bpmn:Gateway")||(0,i.is)(e,"bpmn:DataStoreReference")||(0,i.is)(e,"bpmn:DataObjectReference")||(0,i.is)(e,"bpmn:DataInput")||(0,i.is)(e,"bpmn:DataOutput")||(0,i.is)(e,"bpmn:SequenceFlow")||(0,i.is)(e,"bpmn:MessageFlow")||(0,i.is)(e,"bpmn:Group")},n.hasExternalLabel=function(e){return u(e.label)},n.getFlowLabelPosition=s,n.getWaypointsMid=l,n.getExternalLabelMid=c,n.getExternalLabelBounds=function(e,t){var n,i,e=e.di.label;e&&e.bounds?(i=e.bounds,n={width:Math.max(r.width,i.width),height:i.height},i={x:i.x+i.width/2,y:i.y+i.height/2}):(i=c(t),n=r);return(0,o.assign)({x:i.x-n.width/2,y:i.y-n.height/2},n)},n.isLabel=u,n.FLOW_LABEL_INDENT=n.DEFAULT_LABEL_SIZE=void 0;var o=e("min-dash"),i=e("./ModelUtil"),r={width:90,height:20};n.DEFAULT_LABEL_SIZE=r;var a=15;function s(e){var t=e.length/2-1,n=e[Math.floor(t)],t=e[Math.ceil(.01+t)],e=l(e),t=Math.atan((t.y-n.y)/(t.x-n.x)),n=e.x,e=e.y;return Math.abs(t)<Math.PI/2?e-=a:n+=a,{x:n,y:e}}function l(e){var t=e.length/2-1,n=e[Math.floor(t)],t=e[Math.ceil(.01+t)];return{x:n.x+(t.x-n.x)/2,y:n.y+(t.y-n.y)/2}}function c(e){return e.waypoints?s(e.waypoints):(0,i.is)(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+r.height/2}:{x:e.x+e.width/2,y:e.y+e.height+r.height/2}}function u(e){return e&&!!e.labelTarget}n.FLOW_LABEL_INDENT=a},{"./ModelUtil":9,"min-dash":834}],9:[function(e,t,n){"use strict";function i(e){return e&&e.businessObject||e}Object.defineProperty(n,"__esModule",{value:!0}),n.is=function(e,t){e=i(e);return e&&"function"==typeof e.$instanceOf&&e.$instanceOf(t)},n.getBusinessObject=i},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.open=function(){r||(r=(0,i.domify)(a),i.delegate.bind(r,".backdrop","click",function(e){document.body.removeChild(r)}));document.body.appendChild(r)},n.BPMNIO_IMG=void 0;var i=e("min-dom"),e='<img width="52" height="52" src="'+("data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>'))+'" />';function o(e){return e.join(";")}n.BPMNIO_IMG=e;var r,a='<div class="bjs-powered-by-lightbox" style="'+o(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+o(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"])+'"></div><div class="notice" style="'+o(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"])+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+e+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>'},{"min-dom":835}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var c=e("min-dash"),i=e("./ModelCloneUtils");function o(e,t){this._eventBus=e,this._bpmnFactory=t}o.prototype.clone=function(r,a,e){var s=this,l={newElement:a,hasNestedProperty:!1};return e=(0,c.sortBy)(e,function(e){return"bpmn:extensionElements"===e}),(0,c.forEach)(e,function(e){var t,n=r.get(e),i=a.get(e),o=a.$model.getPropertyDescriptor(a,e);i!==n&&(o&&(o.isId||o.isReference)||(t=n,o=["boolean","string","number"],(0,c.some)(o,function(e){return typeof t===e})||null===n?a.set(e,n):(0,c.isArray)(n)?(0,c.forEach)(n,function(e){l.refTopLevelProperty=e,e=s._deepClone(e,l),l.hasNestedProperty&&(e.$parent=a,i.push(e)),l.hasNestedProperty=!1}):(e=e.replace(/bpmn:/,""),l.refTopLevelProperty=n,n=s._deepClone(n,l),l.hasNestedProperty&&(n.$parent=a).set(e,n),l.hasNestedProperty=!1)))}),a},o.prototype._deepClone=function(o,r){var a=this,s=this._eventBus,l=this._bpmnFactory.create(o.$type),e=(0,c.filter)(Object.keys(o),function(e){var t=l.$model.getPropertyDescriptor(l,e);return(!t||!t.isId&&!t.isReference)&&(-1===i.IGNORED_PROPERTIES.indexOf(e)&&"$type"!==e)});return e.length||(r.hasNestedProperty=!0),(0,c.forEach)(e,function(i){void 0!==o[i]&&(o[i].$type||(0,c.isArray)(o[i]))?(0,c.isArray)(o[i])?(l[i]=[],(0,c.forEach)(o[i],function(e){var t=o.$model.getTypeDescriptor(e.$type);if(t){var n=s.fire("property.clone",{newElement:r.newElement,refTopLevelProperty:r.refTopLevelProperty,propertyDescriptor:t});if(!n&&"bpmn:ExtensionElements"===o.$type&&t.meta&&t.meta.allowedIn&&(n=t,t=r.newElement.$type,(1!==(n=n.meta.allowedIn).length||"*"!==n[0])&&-1===n.indexOf(t)))return!1;((e=a._deepClone(e,r)).$parent=l)[i]||(l[i]=[]),r.hasNestedProperty=!0,l[i].push(e)}})):o[i].$type&&(l[i]=a._deepClone(o[i],r),l[i]&&(r.hasNestedProperty=!0,l[i].$parent=l)):(r.hasNestedProperty=!0,l[i]=o[i])}),l}},{"./ModelCloneUtils":12,"min-dash":834}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getProperties=function(e,t){var n=[];return(0,i.forEach)(e.properties,function(e){t&&e.default||n.push(e.ns.name)}),n},n.IGNORED_PROPERTIES=void 0;var i=e("min-dash");n.IGNORED_PROPERTIES=["lanes","incoming","outgoing","artifacts","default","flowElements","dataInputAssociations","dataOutputAssociations"]},{"min-dash":834}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){return n=n||{},(e=o.default[e]||e).replace(/{([^}]+)}/g,function(e,t){return n[t]||"{"+t+"}"})};var i,o=(i=e("./translations"))&&i.__esModule?i:{default:i}},{"./translations":14}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={"Activate the global connect tool":"启动全局连接工具","Append {type}":"追加 {type}","Add Lane above":"添加到通道之上","Divide into two Lanes":"分成两条通道","Divide into three Lanes":"分成三条通道","Add Lane below":"添加到通道之下","Append compensation activity":"追加补偿活动","Change type":"更改类型","Connect using Association":"文本关联","Connect using Sequence/MessageFlow or Association":"消息关联","Connect using DataInputAssociation":"数据关联",Remove:"移除","Activate the hand tool":"启动手动工具","Activate the lasso tool":"启动 Lasso 工具","Activate the create/remove space tool":"启动创建/删除空间工具","Create expanded SubProcess":"创建可折叠子流程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多实例","Sequential Multi Instance":"串行多实例",Loop:"循环","Ad-hoc":"Ad-hoc子流程","Create {type}":"创建 {type}",Task:"任务","Send Task":"发送任务","Receive Task":"接受任务","User Task":"用户任务","Manual Task":"手动任务","Business Rule Task":"规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用任务","Sub Process (collapsed)":"可折叠子流程","Sub Process (expanded)":"可展开子流程","Start Event":"开始事件","Intermediate Throw Event":"中间抛出事件","End Event":"结束事件","Message Start Event":"消息启动事件","Timer Start Event":"定时启动事件","Conditional Start Event":"条件启动事件","Signal Start Event":"信号启动事件","Error Start Event":"错误启动事件","Escalation Start Event":"升级启动事件","Compensation Start Event":"补偿启动事件","Message Start Event (non-interrupting)":"消息启动事件 (非中断)","Timer Start Event (non-interrupting)":"定时启动事件 (非中断)","Conditional Start Event (non-interrupting)":"条件启动事件 (非中断)","Signal Start Event (non-interrupting)":"信号启动事件 (非中断)","Escalation Start Event (non-interrupting)":"升级启动事件 (非中断)","Message Intermediate Catch Event":"中间消息捕获事件","Message Intermediate Throw Event":"中间消息抛出事件","Timer Intermediate Catch Event":"中间定时捕获事件","Escalation Intermediate Throw Event":"中间升级抛出事件","Conditional Intermediate Catch Event":"中间条件捕获事件","Link Intermediate Catch Event":"中间链接捕获事件","Link Intermediate Throw Event":"中间链接抛出事件","Compensation Intermediate Throw Event":"中间补偿抛出事件","Signal Intermediate Catch Event":"中间信号捕获事件","Signal Intermediate Throw Event":"中间信号抛出事件","Message End Event":"结束消息事件","Escalation End Event":"结束升级事件","Error End Event":"结束错误事件","Cancel End Event":"结束取消事件","Compensation End Event":"结束补偿事件","Signal End Event":"结束信号事件","Terminate End Event":"终止边界事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件 (非中断)","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件 (非中断)","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件 (非中断)","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件 (非中断)","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件 (非中断)","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"独占网关","Parallel Gateway":"并行网关","Inclusive Gateway":"非独占网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"交易","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在 {element} 中没有父元素 {parent}","no shape type specified":"未指定形状类型","flow elements must be children of pools/participants":"元素必须是池/参与者的子级","out of bounds release":"越界释放","more than {count} child lanes":"超过 {count} 条通道","element required":"需要元素","diagram not part of bpmn:Definitions":"图表不是 bpmn:Definitions 的一部分","no diagram to display":"没有要显示的图表","no process or collaboration to display":"没有可显示的流程或协作","element {element} referenced by {referenced}#{property} not yet drawn":"元素 {element} 的引用 {referenced}#{property} 尚未绘制","already rendered {element}":"{element} 已呈现","failed to import {element}":"{element} 导入失败","Task Priority":"任务属性",General:" 通用",Documentation:"描述",Name:"名称",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段",async:"异步",Listeners:"监听器",Executable:"可执行","Candidate Starter Groups":"候选组","Candidate Starter Users":"候选人","Element Documentation":"描述",Properties:"属性","Add Property":"添加属性","Execution Listener":"执行监听器",Value:"值","Create MessageEvent":"创建消息启动事件","Create SignalEvent":"创建信号启动事件","Create TimerEvent":"创建计时器启动事件","Create EscalationEvent":"创建升级启动事件","Due Date":"到期时间",Assignee:"处理人","Candidate Users":"候选人","Candidate Groups":"候选组",Priority:"优先级",globalRestFulsTab:"全局设置"}},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={msg:"success",code:0,data:[{createTime:"2021-08-17 15:38:03",completeTime:"2021-08-17 15:38:03",opinion:null,type:"startEvent",nodeId:"StartEvent_1",nodeKey:"StartEvent_1",nodeName:"开始",auditorName:null,auditor:"Savor",status:null,procInstId:"3347535",procDefId:"demo08170943:2:3340268",supInstId:"",identityLinks:"",assignTime:"0",durationInMillis:"7",reason:null,a1FlowTaskTrajectoryEntity:{id:"1058",userId:"admin",procDefId:"demo08170943:2:3340268",procId:"3347535",taskId:"StartEvent_1",fromNodeId:null,toNodeId:null,status:"submit",opinion:"发起流程",statusVal:"提交",innerStatus:null,activityInstanceId:"3347550",nodeType:"startEvent",userName:"Savor",nodeRunId:null,title:"【Savor-流程变量】",preNodeId:null,endStatus:null}},{createTime:"2021-08-17 15:38:03",completeTime:null,opinion:null,type:"userTask",nodeId:"Activity_0bb0zfk",nodeKey:"Activity_0bb0zfk",nodeName:"申请",auditorName:null,auditor:"admin",status:null,procInstId:"3347535",procDefId:"demo08170943:2:3340268",supInstId:"",identityLinks:"Savor",assignTime:"0",durationInMillis:null,reason:null,a1FlowTaskTrajectoryEntity:{id:"1059",userId:null,procDefId:"demo08170943:2:3340268",procId:"3347535",taskId:"Activity_0bb0zfk",fromNodeId:null,toNodeId:null,status:null,opinion:null,statusVal:null,innerStatus:null,activityInstanceId:null,nodeType:"userTask",userName:null,nodeRunId:"3347553",title:"【Savor-流程变量】",preNodeId:"",endStatus:null}}],XML:'<?xml version="1.0" encoding="UTF-8"?>\n<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:extA1="http://www.a1bpm.com/schema/1.0/A1" xmlns:A1Category="http://a1bpm.category/schema/bpmn/ExtCategory/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="definitions_17m7czq" targetNamespace="测试流程" A1Category:categoryId="66717" A1Category:title="测试" A1Category:modelId="343">\n  <extA1:ExtProperties id="ExtProperties_1pzqvmq" />\n  <extA1:Buttons id="Buttons_12pbb5b" />\n  <extA1:UserRules id="UserRules_1ei2q83">\n    <extA1:UserRule id="UserRule_1apqnps" nodeId="Activity_0bb0zfk" pluginType="users" pluginVal="" logicCal="" ruleId="start" ruleVal="" ruleDisplayName="[发起人]" />\n    <extA1:UserRule id="UserRule_1mbxlm3" nodeId="Activity_0xl2bk8" pluginType="script" pluginVal="[form_Data.user1]" logicCal="" ruleId="" ruleVal="" ruleDisplayName="" specId="" />\n    <extA1:UserRule id="UserRule_1501sww" nodeId="Activity_1qa2noy" pluginType="script" pluginVal="[form_Data.user2]" logicCal="" ruleId="" ruleVal="" ruleDisplayName="" specId="" />\n  </extA1:UserRules>\n  <extA1:UserPropertyes id="UserPropertyes_0mx5h1d" />\n  <extA1:Globals id="Globals_1rkyzbr" />\n  <extA1:VariableDefs id="VariableDefs_0ackb0k" />\n  <extA1:Conditions id="Conditions_1r12rhe" />\n  <extA1:CommonScripts id="CommonScripts_0f1qqdw" />\n  <extA1:SignNodes id="SignNodes_0f1qqdw" />\n  <extA1:GlobalForms id="GlobalForms_0f1qqdw">\n    <extA1:GlobalForm id="GlobalForm_1xvtvtr" formValue="chooseUser" name="流程变量" parentFlowKey="frame" type="frame" />\n  </extA1:GlobalForms>\n  <extA1:ExtAttributes id="ExtAttributes_0f1qqd2" />\n  <bpmn:process id="demo08170943" name="流程变量" isExecutable="true">\n    <bpmn:documentation>流程变量</bpmn:documentation>\n    <bpmn:startEvent id="StartEvent_1" name="开始" activiti:initiator="startUser">\n      <bpmn:outgoing>Flow_0toffet</bpmn:outgoing>\n    </bpmn:startEvent>\n    <bpmn:userTask id="Activity_0bb0zfk" name="申请">\n      <bpmn:incoming>Flow_0toffet</bpmn:incoming>\n      <bpmn:outgoing>Flow_1c9pucw</bpmn:outgoing>\n    </bpmn:userTask>\n    <bpmn:sequenceFlow id="Flow_0toffet" sourceRef="StartEvent_1" targetRef="Activity_0bb0zfk" />\n    <bpmn:userTask id="Activity_0xl2bk8" name="用户1">\n      <bpmn:incoming>Flow_1c9pucw</bpmn:incoming>\n      <bpmn:outgoing>Flow_00wi1jv</bpmn:outgoing>\n    </bpmn:userTask>\n    <bpmn:sequenceFlow id="Flow_1c9pucw" sourceRef="Activity_0bb0zfk" targetRef="Activity_0xl2bk8" />\n    <bpmn:userTask id="Activity_1qa2noy" name="用户2">\n      <bpmn:incoming>Flow_00wi1jv</bpmn:incoming>\n      <bpmn:outgoing>Flow_07cjhqp</bpmn:outgoing>\n    </bpmn:userTask>\n    <bpmn:sequenceFlow id="Flow_00wi1jv" sourceRef="Activity_0xl2bk8" targetRef="Activity_1qa2noy" />\n    <bpmn:endEvent id="Event_1ygexd7" name="结束">\n      <bpmn:incoming>Flow_07cjhqp</bpmn:incoming>\n    </bpmn:endEvent>\n    <bpmn:sequenceFlow id="Flow_07cjhqp" sourceRef="Activity_1qa2noy" targetRef="Event_1ygexd7" />\n  </bpmn:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="demo08170943">\n      <bpmndi:BPMNEdge id="Flow_07cjhqp_di" bpmnElement="Flow_07cjhqp">\n        <di:waypoint x="690" y="177" />\n        <di:waypoint x="752" y="177" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Flow_00wi1jv_di" bpmnElement="Flow_00wi1jv">\n        <di:waypoint x="530" y="177" />\n        <di:waypoint x="590" y="177" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Flow_1c9pucw_di" bpmnElement="Flow_1c9pucw">\n        <di:waypoint x="370" y="177" />\n        <di:waypoint x="430" y="177" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Flow_0toffet_di" bpmnElement="Flow_0toffet">\n        <di:waypoint x="215" y="177" />\n        <di:waypoint x="270" y="177" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n        <dc:Bounds x="179" y="159" width="36" height="36" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x="186" y="195" width="22" height="14" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Activity_0bb0zfk_di" bpmnElement="Activity_0bb0zfk">\n        <dc:Bounds x="270" y="137" width="100" height="80" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Activity_0xl2bk8_di" bpmnElement="Activity_0xl2bk8">\n        <dc:Bounds x="430" y="137" width="100" height="80" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Activity_1qa2noy_di" bpmnElement="Activity_1qa2noy">\n        <dc:Bounds x="590" y="137" width="100" height="80" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Event_1ygexd7_di" bpmnElement="Event_1ygexd7">\n        <dc:Bounds x="752" y="159" width="36" height="36" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x="759" y="202" width="22" height="14" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn:definitions>\n',sequenceFlowIds:["Flow_0toffet"]}},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i,u=e("min-dash"),d=(i=e("jquery"))&&i.__esModule?i:{default:i};e("min-dom");function o(e,t,n,i,o,r,a,s){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=o,this._handTool=r,this._globalConnect=a,this._translate=s,e.registerProvider(this)}o.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],o.prototype.getPaletteEntries=function(e){var t={},l=this._create,c=this._elementFactory,n=(this._spaceTool,this._lassoTool);this._handTool,this._globalConnect,this._translate;function a(e,t,n,i,o,r){return a(e,t,n,i,o,!1,r)}function i(e,t,n){return a(e,t,n,"","",!1,"hidden")}function i(e,t,n,i,o){return a(e,t,n,i,o,!1,"hidden")}function a(n,e,t,i,o,r,a){function s(e){var t=c.createShape((0,u.assign)({type:n},o));o&&(t.businessObject.di.isExpanded=o.isExpanded),l.start(e,t)}n.replace(/^bpmn:/,"");return{group:e,className:t,title:i,action:{dragstart:s,click:function(e){var t=e.toElement;if(e.toElement.attributes.type){var n=e.toElement.attributes.type.value;if(0<n.indexOf("EndEvent")||0<n.indexOf("StartEvent")){s(e);var i=(0,d.default)(".list-group-div-li");return void(0,d.default)(i).each(function(e,t){t.classList.remove("kie-palette-show-flyout")})}}"SPAN"!=t.nodeName?(i=(0,d.default)(".list-group-div-li"),(0,d.default)(i).each(function(e,t){t.classList.remove("kie-palette-show-flyout")}),(0,d.default)(t.parentNode)[0].className=" list-group-item list-group-div-li  kie-palette-show-flyout"):s(e)}},separator:r,type:n,hidden:a}}return(0,u.assign)(t,{"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:"多选",action:{click:function(e){n.activateSelection(e)}}},"create.start-event":a("bpmn:StartEvent","event","bpmn-icon-start-event-none event","开始事件",{}),"create.end-event":a("bpmn:EndEvent","event","bpmn-icon-end-event-none event","结束事件",{}),"create.exclusive-gateway":a("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-xor gateway","排他网关",{}),"create.ParallelGateway":i("bpmn:ParallelGateway","gateway","bpmn-icon-gateway-parallel","并行网关",{}),"create.Inclusive Gateway":i("bpmn:InclusiveGateway","gateway","bpmn-icon-gateway-or","包含网关",{}),"create.user-task":a("bpmn:UserTask","activity"," bpmn-icon-user-task activity","用户任务",{}),"create.Service-Task":i("bpmn:ServiceTask","activity","bpmn-icon-service activity","服务任务",{}),"create.Send-Task":i("bpmn:SendTask","activity","bpmn-icon-send","发送任务",{}),"create.bpmn-icon-receive":i("bpmn:ReceiveTask","activity","bpmn-icon-receive","接受任务",{}),"create.bpmn-icon-manual":i("bpmn:ManualTask","activity","bpmn-icon-manual","人工任务",{}),"create.bpmn-icon-business-rule":i("bpmn:BusinessRuleTask","activity","bpmn-icon-business-rule","业务规则任务",{}),"create.bpmn-icon-service":i("bpmn:ServiceTask","activity","bpmn-icon-service","服务任务",{}),"create.bpmn-icon-script":i("bpmn:ScriptTask","activity","bpmn-icon-script","脚本任务",{}),"create.bpmn-icon-subprocess-expanded":a("bpmn:SubProcess","SubProcess","bpmn-icon-subprocess-expanded","展开子流程",{isExpanded:!0}),"create.bpmn-icon-subprocess-collapsed":i("bpmn:SubProcess","SubProcess","bpmn-icon-subprocess-collapsed","折叠子流程",{isExpanded:!1}),"create.bpmn-icon-call-activity":i("bpmn:CallActivity","SubProcess","bpmn-icon-call-activity","引用活动",{isExpanded:!1}),"create.bpmn-icon-transaction":i("bpmn:Transaction","SubProcess","bpmn-icon-transaction","事件子流程",{isExpanded:!0})}),t}},{jquery:624,"min-dash":834,"min-dom":835}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=e("min-dash"),s=e("min-dom"),l=i(e("./CustomPalette")),o=i(e("jquery"));function i(e){return e&&e.__esModule?e:{default:e}}var r=".djs-palette-toggle";function c(e,t){this._eventBus=e,this._canvas=t,this._providers=[];var n=this;e.on("tool-manager.update",function(e){e=e.tool;n.updateToolHighlight(e)}),e.on("i18n.changed",function(){n._update()}),e.on("diagram.init",function(){n._diagramInitialized=!0,n._providers.length&&(n._init(),n._update())})}c.$inject=["eventBus","canvas"],c.prototype.registerProvider=function(e){this._providers.push(e),this._diagramInitialized&&(this._container||this._init(),this._update())},c.prototype.getEntries=function(){var n={};return(0,a.forEach)(this._providers,function(e){e=e.getPaletteEntries();(0,a.forEach)(e,function(e,t){n[t]=e})}),n},c.prototype.getStartEntries=function(){var n={},e=this._providers[0].getStartEntries();return(0,a.forEach)(e,function(e,t){n[t]=e}),n},c.prototype._init=function(){var e=this._canvas,t=this._eventBus,n=e.getContainer(),e=this._container=(0,s.domify)(c.HTML_MARKUP),i=this;n.appendChild(e),s.delegate.bind(e,".kie-palette-flyout__close","click",function(e){var t=(0,o.default)(".list-group-div-li");(0,o.default)(t).each(function(e,t){t.classList.remove("kie-palette-show-flyout")})}),s.delegate.bind(e,".djs-palette-toggle, .entry","click",function(e){var t=e.delegateTarget;if((0,s.matches)(t,r))return i.toggle();i.trigger("click",e)}),s.event.bind(e,"mousedown",function(e){e.stopPropagation()}),s.delegate.bind(e,".entry","dragstart",function(e){i.trigger("dragstart",e)}),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:e})},c.prototype._toggleState=function(e){e=e||{};var t=this._getParentContainer(),n=this._container,i=this._eventBus,n=(0,s.classes)(n),t="twoColumn"in e?e.twoColumn:this._needsCollapse(t.clientHeight,this._entries||{});"open"in e&&n.toggle("open",e.open),i.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},c.prototype._update=function(){var e=(0,s.query)(".djs-palette-inner-parent",this._container),t=this._entries=this.getEntries();(0,s.clear)(e);var n=(0,s.domify)('<div class="palette-panel" style="top: 0px; left: 0px;"></div>');e.appendChild(n);e=(0,s.domify)('<div class="kie-palette"></div>');n.appendChild(e);var r=(0,s.domify)('<ul class="list-group list-group-div">');e.appendChild(r),(0,a.forEach)(t,function(e,t){var n,i,o;e.hidden||(n=(0,s.domify)('  <li class="list-group-item list-group-div-li "></li>'),i=(0,s.domify)('     <button style="font-size: 30px;text-align: center;"  class=" entry btn-default kie-palette-category-widget-button '+e.className+' " title="Start Events" draggable="true">\n                    </button>'),o=function(i){var e="";e="gateway"==i?"网关":"event"==i?"事件":"activity"==i?"活动":"子流程";var t=l.default.prototype.getPaletteEntries(),n=(0,s.domify)('<div  class="kie-palette-flyout"></div>'),o=(0,s.domify)(' <div class="kie-palette-flyout__close">\n        <button data-field="closeCategoryButton"\n                class="btn btn-link btn-large kie-palette-flyout__btn-link--close">\n            <span class="pficon pficon-close"  ></span>\n        </button>\n    </div>');n.appendChild(o),n.appendChild((0,s.domify)("<h5>"+e+"</h5>"));var r=(0,s.domify)(' <ul class="list-group"  style="padding-top:10px;"></ul>');return n.appendChild(r),(0,a.forEach)(t,function(e,t){var n;i==e.group&&(n=e.title,n=(0,s.domify)(' <li class="list-group-item kie-palette-item-list-item ">\n        <a data-field="itemAnchor" class=" entry kie-palette-item-anchor-spacer '+e.className+'" type="'+e.type+'" data-action="'+t+'" title="" draggable="true" style="height: 20px;">\n        <span data-field="icon"  class="  kie-palette-item-icon-spacer  "><div>\n    <div data-field="content">\n    <div class="GILV2QVBBR" style="background-position: 0px -252px;"></div></div>\n</div>\n        \n        </span>\n            <span class="list-group-item-value kie-palette-item-value-spacer"\n                  data-field="name" style="text-align:left;line-height: 1em;">'+n+"</span>\n        </a>\n    </li>"),r.appendChild(n))}),n}(e.group),(0,s.attr)(i,"data-action",t),e.title&&(0,s.attr)(i,"title",e.title),e.type&&(0,s.attr)(i,"type",e.type),r.appendChild(n),n.appendChild(i),n.appendChild(o))}),this.open()},c.prototype.trigger=function(e,t,n){var i=this._entries,o=t.delegateTarget||t.target;if(!o)return t.preventDefault();(i=i[(0,s.attr)(o,"data-action")])&&(o=i.action,i=t.originalEvent||t,(0,a.isFunction)(o)?"click"===e&&o(i,n):o[e]&&o[e](i,n),t.preventDefault())},c.prototype._layoutChanged=function(){this._toggleState({})},c.prototype._needsCollapse=function(e,t){return e<50+46*Object.keys(t).length},c.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},c.prototype.open=function(){this._toggleState({open:!0})},c.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},c.prototype.isActiveTool=function(e){return e&&this._activeTool===e},c.prototype.updateToolHighlight=function(n){var e;this._toolsContainer||(e=(0,s.query)(".djs-palette-entries",this._container),this._toolsContainer=(0,s.query)("[data-group=tools]",e)),e=this._toolsContainer,(0,a.forEach)(e.children,function(e){var t=e.getAttribute("data-action");t&&(e=(0,s.classes)(e),t=t.replace("-tool",""),e.contains("entry")&&t===n?e.add("highlighted-entry"):e.remove("highlighted-entry"))})},c.prototype.isOpen=function(){return(0,s.classes)(this._container).has("open")},c.prototype._getParentContainer=function(){return this._canvas.getContainer()},c.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"><div class="group" data-group="event"></div><div class="group" data-group="activity"></div><div class="group" data-group="gateway"></div><div class="group" data-group="collaboration"></div></div><div class="djs-palette-inner-parent"></div><div class="djs-palette-toggle"></div><div class="djs-palette-flyout" style="display: none" >cccccccccccccccccc</div></div>'},{"./CustomPalette":16,jquery:624,"min-dash":834,"min-dom":835}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./Palette")),e=o(e("./CustomPalette"));function o(e){return e&&e.__esModule?e:{default:e}}e={__init__:["palette","paletteProvider"],palette:["type",i.default],paletteProvider:["type",e.default]};n.default=e},{"./CustomPalette":16,"./Palette":17}],19:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3,"min-dash":834,"min-dom":835}],20:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],21:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["popupMenu"],popupMenu:["type",((i=e("./PopupMenu"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./PopupMenu":19}],22:[function(e,t,n){!function(e){var t,n,i,o,r,a,s,l='<svg><symbol id="icon-xiazai" viewBox="0 0 1024 1024"><path d="M175.748784 432.242492l298.692805 298.696939 0.066518-0.064468c9.303258 9.394974 22.214841 15.226796 36.482361 15.226796 15.949904 0 30.199003-7.271614 39.604596-18.679431l287.137158-287.123346c13.659651-9.233292 22.648741-24.857131 22.648741-42.575678 0-28.342512-22.972119-51.324946-51.315792-51.324946L648.480358 346.398358 648.480358 151.043065c0-48.060599-38.961933-87.021959-87.024501-87.021959l-99.957575 0c-48.062568 0-87.025525 38.960337-87.025525 87.021959l0 195.355293L214.357662 346.398358c-28.34265 0-51.327049 22.982434-51.327049 51.324946 0 13.135158 4.937655 25.102724 13.052805 34.184567L175.748784 432.242492z"  ></path><path d="M959.449247 613.228519c0-29.4221-23.852198-53.273321-53.275504-53.273321s-53.275504 23.851221-53.275504 53.273321l0 210.691583L170.513335 823.920102 170.513335 613.228519c0-29.4221-23.852198-53.273321-53.275504-53.273321s-53.275504 23.851221-53.275504 53.273321l0 222.971257 0 69.997214 0 40.993646c0 6.78145 5.498449 12.279674 12.280178 12.279674l870.924517 0c6.782751 0 12.280178-5.498224 12.280178-12.279674l0-40.953737c0-0.014326 0.001023-0.026606 0.001023-0.039909L959.448223 613.228519z"  ></path></symbol><symbol id="icon-tupian" viewBox="0 0 1024 1024"><path d="M844.861912 95.946786 179.188232 95.946786c-45.759898 0-83.240934 37.481036-83.240934 83.240934l0 665.673681c0 45.811065 37.481036 83.189767 83.240934 83.189767l665.674704 0c45.811065 0 83.189767-37.378702 83.189767-83.189767L928.052702 179.18772C928.051679 133.427822 890.672977 95.946786 844.861912 95.946786zM366.492101 304.073681c34.484682 0 62.417909 27.933227 62.417909 62.417909s-27.933227 62.417909-62.417909 62.417909c-34.484682 0-62.417909-27.933227-62.417909-62.417909S332.008443 304.073681 366.492101 304.073681zM218.954397 722.310713l209.448033-211.429229 52.843492 89.498689L678.27771 346.125999 802.910905 722.310713 218.954397 722.310713z"  ></path></symbol><symbol id="icon-xiazai1" viewBox="0 0 1024 1024"><path d="M941.62944 657.89952c-0.13824 0-4.16768-7.83872-8.96512-17.41824l-125.63968-251.264c-4.79232-9.58464-17.4848-17.42336-28.19584-17.41824l-104.12544 0.03584a19.54816 19.54816 0 0 0-19.49184 19.48672v33.10592a19.5584 19.5584 0 0 0 19.49184 19.49696l33.1008 0.01536c10.71616 0.01024 23.36768 7.87456 28.12928 17.47968l89.04704 179.94752c4.75648 9.6-0.11776 17.45408-10.83904 17.45408h-141.44a19.54816 19.54816 0 0 0-19.48672 19.49184v101.91872a19.54304 19.54304 0 0 1-19.4816 19.4816H388.61824a19.54304 19.54304 0 0 1-19.4816-19.4816v-101.91872a19.54304 19.54304 0 0 0-19.4816-19.49184H205.34272c-10.71616 0-15.46752-7.78752-10.55232-17.31072l93.1328-180.5312c4.91008-9.51808 17.69984-17.3056 28.416-17.30048l32.24576 0.02048a19.52256 19.52256 0 0 0 19.48672-19.46624v-32.8192a19.5328 19.5328 0 0 0-19.48672-19.47648l-103.64928 0.03072c-10.71616 0-23.41888 7.84384-28.23168 17.41312l-126.26944 251.264c-4.80768 9.5744-8.63232 17.408-8.4992 17.408 0.13824 0 0.25088 8.76544 0.25088 19.4816v176.92672a19.54304 19.54304 0 0 0 19.4816 19.48672h820.7104a19.54816 19.54816 0 0 0 19.48672-19.48672V677.376c0.01024-10.70592-0.1024-19.47648-0.23552-19.47648z m-245.46816-203.88864h-106.91584V153.89696H446.05952v300.11392H333.40928c-10.72128 0-13.66528 6.56384-6.55872 14.58176l177.43872 200.22272c7.10656 8.01792 18.6624 7.95648 25.66656-0.14848l172.94336-199.91552c7.0144-8.11008 3.98336-14.74048-6.73792-14.74048z" fill="" ></path></symbol><symbol id="icon-Path" viewBox="0 0 1146 1024"><path d="M242 386h648a36 36 0 0 1 0 72H242a36 36 0 0 1 0-72zM134 134v756h864V234.008H496.7L448.712 134H134z m407.988 28.008h492.12c19.8 0 35.892 15.984 35.892 35.928v728.136c0 19.836-15.84 35.928-35.892 35.928H97.892a35.208 35.208 0 0 1-25.38-10.692 35.712 35.712 0 0 1-10.512-25.128V97.82C62 78.02 78.416 62 98.072 62h359.856c19.908 0 43.02 14.508 51.696 32.58l32.4 67.428z" fill="#6D6D6D" ></path></symbol><symbol id="icon-wenjianjia" viewBox="0 0 1024 1024"><path d="M909 959H115a50 50 0 0 1-50-50V115a50 50 0 0 1 50-50h336l38.248 80H909a50 50 0 0 1 50 50v714a50 50 0 0 1-50 50z m-10-640v-99a15 15 0 0 0-15-15H458.364L416 125H140a15 15 0 0 0-15 15v179h774z m-774 60v505a15 15 0 0 0 15 15h744a15 15 0 0 0 15-15V379H125z" fill="#333333" ></path></symbol><symbol id="icon-wenjianjia1" viewBox="0 0 1156 1024"><path d="M1104.384 91.648H512L495.616 36.864C489.472 15.36 469.504 0 446.976 0H51.712C23.552 0 0.512 23.04 0.512 51.2v921.6c0 28.16 23.04 51.2 51.2 51.2h1052.16c1.536 0 3.584 0 5.12-0.512 3.584-0.512 6.656-1.024 10.24-2.048s6.144-2.048 9.216-4.096c5.632-3.072 10.752-7.168 14.848-12.288 1.024-1.024 2.048-2.56 3.072-4.096 2.048-2.56 3.584-5.632 4.608-8.704 2.56-6.144 4.096-12.8 4.096-19.968v-829.44c0.512-28.16-22.528-51.2-50.688-51.2zM132.096 168.96h892.928c28.16 0 51.2 23.04 51.2 51.2v44.032H80.896V220.16c0-28.16 22.528-51.2 51.2-51.2zM107.52 622.08c0-14.336 11.264-25.6 25.6-25.6h279.552c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6H133.12c-14.336 0-25.6-11.776-25.6-25.6z m304.64-146.944H133.12c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h279.552c14.336 0 25.6 11.264 25.6 25.6s-11.776 25.6-26.112 25.6z" fill="" ></path></symbol><symbol id="icon-xiazai2" viewBox="0 0 1024 1024"><path d="M1000.057 718.552v188.2c0 15.686-5.497 29.018-16.469 39.993-10.98 10.981-24.315 16.466-39.991 16.466H77.878c-15.686 0-29.02-5.486-39.993-16.466-10.981-10.973-16.466-24.306-16.466-39.993v-188.2c0-15.676 5.486-29.011 16.466-39.993 10.972-10.972 24.306-16.466 39.993-16.466h273.477l79.398 79.987c22.734 21.962 49.404 32.934 79.983 32.934 30.584 0 57.24-10.972 79.987-32.934l79.987-79.987h272.888c15.675 0 29.012 5.495 39.991 16.466 10.972 10.983 16.469 24.316 16.469 39.993zM808.919 383.91c6.663 16.081 3.915 29.802-8.233 41.17L537.207 688.559c-7.059 7.454-15.88 11.176-26.467 11.176-10.585 0-19.407-3.723-26.465-11.176l-263.48-263.48c-12.157-11.368-14.904-25.086-8.233-41.17 6.663-15.29 18.232-22.936 34.697-22.936h150.56V97.494c0-10.191 3.723-19.014 11.176-26.466 7.443-7.443 16.267-11.176 26.466-11.176h150.56c10.19 0 19.013 3.731 26.465 11.176 7.444 7.453 11.174 16.274 11.174 26.466v263.479h150.563c16.469 0 28.028 7.648 34.699 22.937z m-45.876 492.849c7.444-7.443 11.177-16.267 11.177-26.466 0-10.19-3.731-19.013-11.177-26.465-7.453-7.443-16.274-11.176-26.465-11.176-10.2 0-19.023 3.731-26.467 11.176-7.453 7.453-11.174 16.274-11.174 26.465 0 10.2 3.723 19.023 11.174 26.466 7.444 7.453 16.268 11.176 26.467 11.176 10.191 0.001 19.014-3.723 26.465-11.176z m150.56 0c7.444-7.443 11.177-16.267 11.177-26.466 0-10.19-3.731-19.013-11.177-26.465-7.453-7.443-16.274-11.176-26.465-11.176-10.2 0-19.023 3.731-26.465 11.176-7.455 7.453-11.177 16.274-11.177 26.465 0 10.2 3.723 19.023 11.177 26.466 7.441 7.453 16.266 11.176 26.465 11.176 10.191 0.001 19.014-3.723 26.465-11.176z" fill="" ></path></symbol><symbol id="icon-add" viewBox="0 0 1024 1024"><path d="M512 992c-265.08 0-480-214.92-480-480s214.92-480 480-480 480 214.92 480 480S777.08 992 512 992zM512 152C313.22 152 152 313.22 152 512s161.22 360 360 360 360-161.22 360-360S710.78 152 512 152zM692 572L572 572l0 120c0 33.18-26.82 60-60 60-33.12 0-60-26.82-60-60L452 572 332 572C298.88 572 272 545.18 272 512c0-33.12 26.88-60 60-60l120 0L452 332c0-33.12 26.88-60 60-60 33.18 0 60 26.88 60 60l0 120 120 0c33.18 0 60 26.88 60 60C752 545.18 725.18 572 692 572z"  ></path></symbol><symbol id="icon-wenjianjia2" viewBox="0 0 1024 1024"><path d="M102.286 425.643v-6.258h818.518v386.844c0 26.283-22.528 47.673-50.176 47.673H152.462c-27.648 0-50.176-21.504-50.176-47.673V425.643z"  ></path><path d="M870.741 261.575c27.648 0 50.176 21.39 50.176 47.673v58.14h-818.63v-116.28c0-33.679 27.989-60.985 62.35-60.985H458.98c34.247 0 62.35 27.306 62.35 60.985v10.467H870.74z"  ></path></symbol><symbol id="icon-wenjianjia3" viewBox="0 0 1024 1024"><path d="M998.6816 435.2a59.8784 59.8784 0 0 0-60.7488-58.88H238.3616A59.8272 59.8272 0 0 0 177.664 435.2L71.2192 921.984h760.32a59.9296 59.9296 0 0 0 60.8512-58.88zM131.9424 390.9888L25.6 863.0016V161.536a59.9296 59.9296 0 0 1 60.8-58.88h304.1536a59.9552 59.9552 0 0 1 60.8 58.88V215.04h364.928a59.9552 59.9552 0 0 1 60.8 58.88v57.9328H192.7936a59.9808 59.9808 0 0 0-60.8512 59.136z"  ></path></symbol><symbol id="icon-ai231" viewBox="0 0 1024 1024"><path d="M914.39085959-6.24280223l-803.15542599 0c-63.11044093 0-114.79914688 51.592243-114.79914689 114.78708975l0 803.08308025c0 63.09687701 51.68870595 114.78708974 114.79914689 114.78708973l803.15542599 0c63.02603657 0 114.71323575-51.68870595 114.71323576-114.78708973l0-803.08308025C1029.10409535 45.34944076 977.41689763-6.24280223 914.39085959-6.24280223M914.39085959 682.19938948l-229.51238263 0c0 97.48416887-74.53217737 172.11280919-172.10075059 172.11280919-97.48416887 0-172.11280919-74.62863885-172.1128092-172.11280919l-229.42797827 0 0-573.65510196 803.155426 0L914.39236784 682.19938948zM742.290109 395.28743341l-114.71323574 0 0-172.10225737-229.5138894 0 0 172.10225737-114.71323576 0 229.42797827 229.59829377L742.290109 395.28743341z"  ></path></symbol><symbol id="icon-xiazai11" viewBox="0 0 1024 1024"><path d="M1018.58387216 726.28497793V921.06647677c0 16.21068392-5.57242258 30.14174039-16.97055971 41.41323157-11.3981371 11.3981371-25.20254766 16.97055973-41.41323154 16.97055972H63.79991909c-16.21068392 0-30.14174039-5.57242258-41.41323154-16.97055972-11.3981371-11.3981371-16.97055973-25.20254766-16.97055971-41.41323157V726.28497793c0-16.21068392 5.57242258-30.14174039 16.97055971-41.41323155 11.3981371-11.3981371 25.20254766-16.97055973 41.41323154-16.97055972h283.18038453l82.19323328 82.8264631c23.55615006 22.79627425 51.03832512 34.06776541 82.8264631 34.06776541 31.788138 0 59.27031305-11.3981371 82.8264631-34.06776541l82.82646311-82.8264631H960.32672688c16.21068392 0 30.14174039 5.57242258 41.41323152 16.97055972 11.01819923 11.5247831 16.84391374 25.3291936 16.84391376 41.41323155zM820.76287007 379.90825532c6.96552823 16.59062183 4.05267099 30.90161619-8.61192582 42.67969125L539.35552909 695.38336172c-7.34546615 7.72540405-16.33732986 11.5247831-27.35552909 11.5247831-11.01819923 0-20.13670891-3.79937907-27.35552909-11.5247831L211.72240977 422.58794657c-12.53795084-11.77807504-15.45080813-25.96242345-8.61192582-42.67969125 6.96552823-15.83074602 18.87024924-23.68279604 35.96745491-23.68279601h155.90118668V83.43004416c0-10.51161535 3.79937907-19.75677103 11.52478306-27.35552909s16.71726776-11.5247831 27.35552911-11.52478313h155.90118667c10.51161535 0 19.75677103 3.79937907 27.35552909 11.52478313s11.5247831 16.84391374 11.5247831 27.35552909V356.22545931h156.02783262c17.09720567 0 29.12857268 7.85205003 36.09410088 23.68279601z m-47.61888396 510.25660526c7.72540405-7.72540405 11.5247831-16.84391374 11.52478308-27.35552911s-3.79937907-19.75677103-11.52478308-27.35552908-16.84391374-11.5247831-27.35552911-11.52478311-19.75677103 3.79937907-27.3555291 11.52478311-11.5247831 16.84391374-11.52478308 27.35552908 3.79937907 19.75677103 11.52478308 27.35552911 16.71726776 11.5247831 27.3555291 11.52478308c10.51161535 0.12664595 19.75677103-3.79937907 27.35552911-11.52478308z m155.90118666 0c7.72540405-7.72540405 11.5247831-16.84391374 11.52478307-27.35552911s-3.79937907-19.75677103-11.52478307-27.35552908-16.84391374-11.5247831-27.35552911-11.52478311-19.75677103 3.79937907-27.35552909 11.52478311-11.5247831 16.84391374-11.5247831 27.35552908 3.79937907 19.75677103 11.5247831 27.35552911 16.71726776 11.5247831 27.35552909 11.52478308c10.51161535 0.12664595 19.63012504-3.79937907 27.35552911-11.52478308z"  ></path></symbol><symbol id="icon-tupian-xianxing" viewBox="0 0 1024 1024"><path d="M864.05 128.46H129.97c-17.68 0-32 14.33-32 32v639.61c0 17.67 14.32 32 32 32h734.08c17.68 0 32-14.33 32-32V160.46c0-17.67-14.32-32-32-32z m-32 639.61H161.97V192.46h670.08v575.61z"  ></path><path d="M795.58 691.57a32.007 32.007 0 0 1-27.33 15.34H225.77c-12.01 0-23-6.72-28.48-17.4a31.988 31.988 0 0 1 2.5-33.28l125.3-174.17c10.17-14.13 29.78-17.54 44.12-7.67l101.77 70.03 129.73-165.51a31.995 31.995 0 0 1 28.21-12.11 31.99 31.99 0 0 1 25.42 17.2L796.7 660.26a32.018 32.018 0 0 1-1.12 31.31z"  ></path><path d="M320.03 321.34a64.03 64.83 0 1 0 128.06 0 64.03 64.83 0 1 0-128.06 0Z"  ></path></symbol><symbol id="icon-add1" viewBox="0 0 1024 1024"><path d="M512 992c-265.08 0-480-214.92-480-480s214.92-480 480-480 480 214.92 480 480S777.08 992 512 992zM512 152C313.22 152 152 313.22 152 512s161.22 360 360 360 360-161.22 360-360S710.78 152 512 152zM692 572L572 572l0 120c0 33.18-26.82 60-60 60-33.12 0-60-26.82-60-60L452 572 332 572C298.88 572 272 545.18 272 512c0-33.12 26.88-60 60-60l120 0L452 332c0-33.12 26.88-60 60-60 33.18 0 60 26.88 60 60l0 120 120 0c33.18 0 60 26.88 60 60C752 545.18 725.18 572 692 572z" fill="#2c2c2c" ></path></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}function c(){a||(a=!0,o())}n=function(){var e,t,n;(t=document.createElement("div")).innerHTML=l,l=null,(n=t.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",e=n,(t=document.body).firstChild?(n=t.firstChild).parentNode.insertBefore(e,n):t.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(n,0):(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),n()},document.addEventListener("DOMContentLoaded",i,!1)):document.attachEvent&&(o=n,r=e.document,a=!1,(s=function(){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(s,50)}c()})(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,c())})}(window)},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getbpmnModeler=function(){return bpmnModeler},n.prefixUrl=n.bpmnModeler2=void 0;var h=d(e("jquery")),i=d(e("bpmn-js/lib/Modeler")),o=d(e("./provider/lib/provider/activiti/activiti.json")),r=d(e("./provider/lib/provider/extPlugins/json/globalrestful.json")),a=d(e("./provider/lib/provider/extPlugins/json/userAssign.json")),s=d(e("./provider/lib/provider/extPlugins/json/userProperty.json")),l=d(e("./provider/lib/provider/extPlugins/json/a1CategoryDefinitions.json")),c=d(e("./provider/lib/provider/extPlugins/json/a1Ext.json")),u=d(e("./customTranslate/customTranslate"));function d(e){return e&&e.__esModule?e:{default:e}}window.$=h.default,window.jQuery=h.default;var f=e("./provider/lib/ElementRegistryUtils").getElement,p=(e("./provider/lib/ElementRegistryUtils")._bpmnDefinitions,e("./provider/lib/ElementRegistryUtils").getMainProcessId),m=(u.default,e("bpmn-js/lib/NavigatedViewer"),e("bpmn-js-token-simulation/lib/viewer"),(0,h.default)("#js-drop-zone2")),e=(0,h.default)("#js-canvas2"),g=new i.default({container:e,additionalModules:[],moddleExtensions:{activiti:o.default,restful:r.default,userAssign:a.default,userProperty:s.default,a1CategoryDefinitions:l.default,a1ExtVar:c.default}});function v(e){e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(e);return null!=e?unescape(e[2]):null}n.bpmnModeler2=g,m.removeClass("with-diagram");var y="",b=[],x=[];function w(){layui.use("element",function(){var e=layui.element,t=layui.jquery;e.on("tab(dmnModel)",function(){var e=this.getAttribute("lay-id");"suspension"===e&&(t(".layui-table-tips")&&t(".layui-table-tips").length&&t(".layui-table-tips")[0].remove(),function(){var e=v("instId"),t=v("modelId");v("fireHoverAction"),e&&h.default.ajax({type:"get",url:k+"mcp-bpms-admin/a1bpmn/api/runtime/hisInstance/v1/nodeOpinion?instId="+e,dataType:"json",success:function(e){0==e.code?(y=e.data,S(e.XML,e.data,e.sequenceFlowIds)):layer.msg("未知的流程",{icon:2})}});t&&h.default.ajax({type:"get",url:k+"mcp-bpms-admin/a1bpmn/api/runtime/hisInstance/v1/processDefinitionId?modelId="+t,dataType:"json",success:function(e){0==e.code?(y=e.data,S(e.XML,e.sequenceFlowIds)):layer.msg("未知的流程",{icon:2})}})}()),"opinion"===e&&T()})})}const k="/api/";function E(e){return void 0===e||null==e||""==e}function C(e){return null!=e&&!/^\s*$/.test(e)}function S(e,n,o){n&&h.default.each(n,function(e,t){x.push(t.nodeKey),"startEvent"==t.type||"userTask"==t.type&&E(t.completeTime)&&b.push(t.nodeKey)}),g.importXML(e,function(e){var t=p(g)[0],i=(f(g,t),g.get("modeling"));e?(m.removeClass("with-diagram").addClass("with-error"),m.find(".error pre").text(e.message)):m.removeClass("with-error").addClass("with-diagram"),n&&(h.default.each(o,function(e,t){t=f(g,t);try{i.setColor(t,{stroke:"limegreen"})}catch{}}),n&&h.default.each(n,function(e,t){var n=t.nodeKey,n=f(g,n);"startEvent"==t.type||"endEvent"==t.type?i.setColor(n,{stroke:"rgb(248, 152, 0)"}):"userTask"==t.type||"businessRuleTask"==t.type?E(t.completeTime)?i.setColor(n,{stroke:"rgb(255, 0, 0)"}):(i.setColor(n,{stroke:"#3366ff"}),n.id):"sequenceFlow"==t.type&&i.setColor(n,{stroke:"limegreen"})}))},function(){})}function T(){const e=v("instId");e&&(layui.use("table",function(){layui.table.render({id:"log",elem:"#log",method:"GET",url:k+"mcp-bpms-admin/a1bpmn/api/runtime/hisInstance/v1/nodeOpinion?instId="+e,page:!1,cols:[[{field:"taskName",title:"节点名称"},{field:"userName",title:"执行人",templet:function(e){return'<span ng-switch-when="2" style="         border-color: #1ab394;">'+(e&&C(e.userName)?e.userName:"")+"</span>"}},{field:"opinion",title:"操作",templet:function(e){return'<span ng-switch-when="2" style="         border-color: #1ab394;">'+(e&&C(e.statusVal)?e.statusVal:"")+"</span>"}},{field:"statusVal",title:"审批意见",templet:function(e){return'<span ng-switch-when="2" style="         border-color: #1ab394;">'+(e&&C(e.opinion)?e.opinion:"")+"</span>"}},{field:"createTime#",title:"接受时间",templet:function(e){return'<span ng-switch-when="2" style="         border-color: #1ab394;">'+(e&&C(e.createTime)?e.createTime:"")+"</span>"}},{field:"completeTime",title:"审批时间",templet:function(e){return'<span ng-switch-when="2" style="         border-color: #1ab394;">'+(e&&C(e.endTime)?e.endTime:"")+"</span>"}},{field:"businessKey",title:"耗时",templet:function(e){return'<span ng-switch-when="2" style="         border-color: #1ab394;">'+(e&&C(e.endTime)?function(e,t){e=new Date(e);var n=(t=new Date(t)).getTime()-e.getTime(),i=Math.floor(n/864e5),t=n%864e5,e=Math.floor(t/36e5),n=t%36e5,t=Math.floor(n/6e4),n=Math.round(n%6e4/1e3)+"秒";return 0<t&&(n=t+"分"+n),0<e&&(n=e+"小时"+n),n=0<i?i+"天"+n:n}(e.createTime,e.endTime):"")+"</span>"}}]]})}),layui.use("table",function(){layui.table.render({id:"tableLog",elem:"#tableLog",method:"GET",url:k+"mcp-bpms-admin/a1bpmn/api/runtime/hisInstance/v1/nodeOpinion?instId="+e,page:!1,cols:[[{field:"nodeName",title:"任务名称"},{field:"createTime",title:"创建时间"},{field:"completeTime",title:"审批时间"},{field:"userName",title:"执行人",templet:function(e){let t="-";return e&&e.a1FlowTaskTrajectoryEntity&&e.a1FlowTaskTrajectoryEntity.userName?t=e.a1FlowTaskTrajectoryEntity.userName:e&&e.identityLinks&&(t=e.identityLinks),'<span ng-switch-when="2" style="border-color: #1ab394;">'+t+"</span>"}},{field:"taskName",title:"任务标题",templet:function(e){let t="";return e&&e.a1FlowTaskTrajectoryEntity&&e.a1FlowTaskTrajectoryEntity.title&&(t=e.a1FlowTaskTrajectoryEntity.title),"<span >"+t+"</span>"}},{field:"taskName",title:"备注/意见",templet:function(e){let t="";return e&&e.a1FlowTaskTrajectoryEntity&&e.a1FlowTaskTrajectoryEntity.opinion&&(t=e.a1FlowTaskTrajectoryEntity.opinion),"<span >"+t+"</span>"}},{field:"taskName",title:"状态说明",templet:function(e){let t="";return e&&e.a1FlowTaskTrajectoryEntity&&e.a1FlowTaskTrajectoryEntity.statusVal&&(t=e.a1FlowTaskTrajectoryEntity.statusVal),"<span >"+t+"</span>"}}]]})}))}n.prefixUrl=k,(0,h.default)(function(){function p(e,t,n){e='<div class="tipsClass">'+e+"</div>";(0,h.default)(".tipsClass").remove(),(0,h.default)("body").append(e);e=(0,h.default)((0,h.default)(".djs-tooltip-container")[1]).css("transform");(0,h.default)("div.tipsClass").css({top:n+"px",left:t+1+"px",position:"absolute","font-size":"12px"}).css("transform",e).show()}var e=g.get("eventBus");e.on("element.hover",function(e){var i,t,o,n,r,a,s,l,c,u,d=e.element;0<=h.default.inArray(d.id,x)&&(i=d.id,t=d.businessObject.name,o="",y&&h.default.each(y,function(e,t){var n=t.nodeKey;f(g,n);n==i&&(o=t)}),n=null==o.completeTime?"":o.completeTime,c=null==o.durationInMillis?"":o.durationInMillis/1e3,r=null==o.auditor?"":o.auditor,s=a="",o.reason&&(a=o.reason.statusVal,s=o.a1FlowTaskTrajectoryEntity.opinion),o.a1FlowTaskTrajectoryEntity&&(r=o.a1FlowTaskTrajectoryEntity.userName,a=o.a1FlowTaskTrajectoryEntity.statusVal,s=(s=o.a1FlowTaskTrajectoryEntity.opinion)||"",r=r||"",a=a||""),l=u=null!=(u=c)&&""!=u?60<u&&u<3600?parseInt(u/60)+"分钟"+parseInt(60*(parseFloat(u/60)-parseInt(u/60)))+"秒":3600<=u&&u<86400?parseInt(u/3600)+"小时"+parseInt(60*(parseFloat(u/3600)-parseInt(u/3600)))+"分钟"+parseInt(60*(parseFloat(60*(parseFloat(u/3600)-parseInt(u/3600)))-parseInt(60*(parseFloat(u/3600)-parseInt(u/3600)))))+"秒":86400<=u?parseInt(u/3600/24)+"天"+parseInt(24*(parseFloat(u/3600/24)-parseInt(u/3600/24)))+"小时"+parseInt(60*(parseFloat(u/3600)-parseInt(u/3600)))+"分钟"+parseInt(60*(parseFloat(60*(parseFloat(u/3600)-parseInt(u/3600)))-parseInt(60*(parseFloat(u/3600)-parseInt(u/3600)))))+"秒":parseInt(u)+"秒":u,u=c="",u=o.identityLinks,"bpmn:StartEvent"==d.type?(c+='<div id="qtip-0" class=" qtip-default qtip-default  qtip-bootstrap qtip-shadow qtip-pos-lt qtip-fixed" style="max-width: 280px;min-width: 50px;">\n        <div class="qtip-titlebar">\n            <div id="qtip-0-title" class="qtip-title" aria-atomic="true">任务审批详情</div>\n        </div>\n        <div  id="qtip-0-content" aria-atomic="true">\n            <ul class="opinion-container-ul no-padding ng-scope" >\n                <li ng-repeat="opinion in nodeOpinion.result.data" class="ng-scope">\n                    <div class="m-sm">\n                        <table class="table table-bordered">\n                            <tbody>\n                            <tr>\n                                <th width="90">任务名称</th>\n                                <td width="150" class="ng-binding">'+t+"</td>\n                            </tr>\n",c+=null==o.completeTime?'<tr ng-show="!opinion.auditor" class="ng-hide">\n                                <th><label style="font-size:11px;" tooltip-placement="right"\n                                           uib-tooltip="有资格审批的用户及用户组"> 候选人</label></th>\n                                <td>\n                                    <div class="owner-div">'+u+"                                    </div>\n                                </td>\n                            </tr>":'<tr ng-show="opinion.auditor">\n                                <th>执行人</th>\n                                <td><span class="owner-span">\t\t\t\t\t\t\t<a href="javascript:void(0)"\n                                                                                            class="ng-binding">'+r+"</a>\t\t\t\t\t\t</span>\n                                </td>\n                            </tr>",p(c+='                            \n                            <tr>\n                                <th>开始时间</th>\n                                <td style="font-size:11px;" class="ng-binding">'+o.createTime+'</td>\n                            </tr>\n                            <tr>\n                                <th>结束时间</th>\n                                <td style="font-size:11px;" class="ng-binding">'+n+'</td>\n                            </tr>\n                            <tr>\n                                <th>审批用时</th>\n                                <td class="ng-binding">'+l+'</td>\n                            </tr>\n                            <tr>\n                                <th>状态</th>\n                                <td class="ng-binding">'+a+'</td>\n                            </tr>\n                            <tr>\n                                <th>意见</th>\n                                <td class="ng-binding">发起流程</td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>',e.originalEvent.screenX,e.element.screenY)):"bpmn:UserTask"==d.type?(u="",u=o.identityLinks,c+='<div id="qtip-0" class=" qtip-default qtip-default  qtip-bootstrap qtip-shadow qtip-pos-lt qtip-fixed" style="max-width: 280px;min-width: 50px;">\n        <div class="qtip-titlebar">\n            <div id="qtip-0-title" class="qtip-title" aria-atomic="true">任务审批详情</div>\n        </div>\n        <div  id="qtip-0-content" aria-atomic="true">\n            <ul class="opinion-container-ul no-padding ng-scope" >\n                <li ng-repeat="opinion in nodeOpinion.result.data" class="ng-scope">\n                    <div class="m-sm">\n                        <table class="table table-bordered">\n                            <tbody>\n                            <tr>\n                                <th width="90">任务名称</th>\n                                <td width="150" class="ng-binding">'+t+"</td>\n                            </tr>\n",c+=null==o.completeTime?'<tr ng-show="!opinion.auditor" class="ng-hide">\n                                <th><label style="font-size:11px;" tooltip-placement="right"\n                                           uib-tooltip="有资格审批的用户及用户组"> 候选人</label></th>\n                                <td>\n                                    <div class="owner-div">'+u+"                                    </div>\n                                </td>\n                            </tr>":'<tr ng-show="opinion.auditor">\n                                <th>执行人</th>\n                                <td><span class="owner-span">\t\t\t\t\t\t\t<a href="javascript:void(0)"\n                                                                                            class="ng-binding">'+r+"</a>\t\t\t\t\t\t</span>\n                                </td>\n                            </tr>",p(c+='                            \n                            <tr>\n                                <th>开始时间</th>\n                                <td style="font-size:11px;" class="ng-binding">'+o.createTime+'</td>\n                            </tr>\n                            <tr>\n                                <th>结束时间</th>\n                                <td style="font-size:11px;" class="ng-binding">'+n+'</td>\n                            </tr>\n                            <tr>\n                                <th>审批用时</th>\n                                <td class="ng-binding">'+l+'</td>\n                            </tr>\n                            <tr>\n                                <th>状态</th>\n                                <td class="ng-binding">'+a+'</td>\n                            </tr>\n                            <tr>\n                                <th>意见</th>\n                                <td class="ng-binding">'+s+"</td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>",e.originalEvent.screenX,e.element.screenY)):(0,h.default)("div.tipsClass").hide())}),e.on("element.out",function(e){(0,h.default)("div.tipsClass").hide()}),T(),w(),(0,h.default)("#hitable").css("top",(0,h.default)("#js-canvas").height()+5),e.on("shape.changed",function(e){var t=(0,h.default)(".djs-shape");h.default.each(t,function(e,t){var n=(0,h.default)(this).attr("data-element-id");-1<h.default.inArray(n,b)&&((0,h.default)((0,h.default)(this).children()[0]).children()[0].setAttribute("stroke-dasharray","4,4"),(0,h.default)((0,h.default)(this).children()[0]).addClass("node"))})}),(0,h.default)(".buttons a").click(function(e){(0,h.default)(this).is(".active")||(e.preventDefault(),e.stopPropagation())})})},{"./customTranslate/customTranslate":13,"./provider/lib/ElementRegistryUtils":25,"./provider/lib/provider/activiti/activiti.json":85,"./provider/lib/provider/extPlugins/json/a1CategoryDefinitions.json":159,"./provider/lib/provider/extPlugins/json/a1Ext.json":160,"./provider/lib/provider/extPlugins/json/globalrestful.json":161,"./provider/lib/provider/extPlugins/json/userAssign.json":162,"./provider/lib/provider/extPlugins/json/userProperty.json":163,"bpmn-js-token-simulation/lib/viewer":283,"bpmn-js/lib/Modeler":291,"bpmn-js/lib/NavigatedViewer":292,jquery:624}],24:[function(e,n,t){!function(e,t){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(k,e){"use strict";var t=[],E=k.document,n=Object.getPrototypeOf,s=t.slice,m=t.concat,l=t.push,o=t.indexOf,i={},r=i.toString,f=i.hasOwnProperty,a=f.toString,c=a.call(Object),g={};function v(e,t){var n=(t=t||E).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function u(e,t){return t.toUpperCase()}var C=function(e,t){return new C.fn.init(e,t)},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,h=/-([a-z])/g;function y(e){var t=!!e&&"length"in e&&e.length,n=C.type(e);return"function"!==n&&!C.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:"3.2.1",constructor:C,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||C.isFunction(r)||(r={}),a===s&&(r=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)o=r[t],n=e[t],r!==n&&(l&&n&&(C.isPlainObject(n)||(i=Array.isArray(n)))?(o=i?(i=!1,o&&Array.isArray(o)?o:[]):o&&C.isPlainObject(o)?o:{},r[t]=C.extend(l,o,n)):void 0!==n&&(r[t]=n));return r},C.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==r.call(e)||(e=n(e))&&("function"!=typeof(e=f.call(e,"constructor")&&e.constructor)||a.call(e)!==c))},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[r.call(e)]||"object":typeof e},globalEval:function(e){v(e)},camelCase:function(e){return e.replace(p,"ms-").replace(h,u)},each:function(e,t){var n,i=0;if(y(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(d,"")},makeArray:function(e,t){t=t||[];return null!=e&&(y(Object(e))?C.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!=a&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(y(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&a.push(o);return m.apply([],a)},guid:1,proxy:function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),C.isFunction(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},now:Date.now,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var b=function(n){function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function h(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function i(){k()}var e,f,x,r,o,m,p,g,w,l,c,k,E,a,C,v,s,u,y,S="sizzle"+ +new Date,b=n.document,T=0,_=0,N=ae(),A=ae(),P=ae(),I=function(e,t){return e===t&&(c=!0),0},R={}.hasOwnProperty,t=[],M=t.pop,L=t.push,D=t.push,j=t.slice,F=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",$="\\["+B+"*("+H+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+B+"*\\]",z=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",U=new RegExp(B+"+","g"),V=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),q=new RegExp("^"+B+"*,"+B+"*"),W=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),K=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),G=new RegExp(z),Y=new RegExp("^"+H+"$"),X={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,te=/[+~]/,ne=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=ge(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{D.apply(t=j.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){D={apply:t.length?function(e,t){L.apply(e,j.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,n,i){var o,r,a,s,l,c,u,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:b)!==E&&k(t),t=t||E,C)){if(11!==p&&(l=ee.exec(e)))if(o=l[1]){if(9===p){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&y(t,a)&&a.id===o)return n.push(a),n}else{if(l[2])return D.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&f.getElementsByClassName&&t.getElementsByClassName)return D.apply(n,t.getElementsByClassName(o)),n}if(f.qsa&&!P[e+" "]&&(!v||!v.test(e))){if(1!==p)d=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ie,h):t.setAttribute("id",s=S),r=(c=m(e)).length;r--;)c[r]="#"+s+" "+me(c[r]);u=c.join(","),d=te.test(e)&&he(t.parentNode)||t}if(u)try{return D.apply(n,d.querySelectorAll(u)),n}catch(e){}finally{s===S&&t.removeAttribute("id")}}}return g(e.replace(V,"$1"),t,n,i)}function ae(){var n=[];function i(e,t){return n.push(e+" ")>x.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function se(e){return e[S]=!0,e}function le(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function ce(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&oe(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pe(a){return se(function(r){return r=+r,se(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=re.support={},o=re.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},k=re.setDocument=function(e){var t,e=e?e.ownerDocument||e:b;return e!==E&&9===e.nodeType&&e.documentElement&&(a=(E=e).documentElement,C=!o(E),b!==E&&(t=E.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",i,!1):t.attachEvent&&t.attachEvent("onunload",i)),f.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=le(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=J.test(E.getElementsByClassName),f.getById=le(function(e){return a.appendChild(e).id=S,!E.getElementsByName||!E.getElementsByName(S).length}),f.getById?(x.filter.ID=function(e){var t=e.replace(ne,d);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&C){e=t.getElementById(e);return e?[e]:[]}}):(x.filter.ID=function(e){var t=e.replace(ne,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&C){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),x.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},x.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&C)return t.getElementsByClassName(e)},s=[],v=[],(f.qsa=J.test(E.querySelectorAll))&&(le(function(e){a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+B+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(f.matchesSelector=J.test(u=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&le(function(e){f.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),s.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=J.test(a.compareDocumentPosition),y=t||J.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===E||e.ownerDocument===b&&y(b,e)?-1:t===E||t.ownerDocument===b&&y(b,t)?1:l?F(l,e)-F(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===E?-1:t===E?1:o?-1:r?1:l?F(l,e)-F(l,t):0;if(o===r)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ue(a[i],s[i]):a[i]===b?-1:s[i]===b?1:0}),E},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==E&&k(e),t=t.replace(K,"='$1']"),f.matchesSelector&&C&&!P[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=u.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<re(t,E,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==E&&k(e),y(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==E&&k(e);var n=x.attrHandle[t.toLowerCase()],n=n&&R.call(x.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==n?n:f.attributes||!C?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},re.escape=function(e){return(e+"").replace(ie,h)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],i=0,o=0;if(c=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(I),c){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return l=null,e},r=re.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(x=re.selectors={cacheLength:50,createPseudo:se,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=re.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(U," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=v!=y?"nextSibling":"previousSibling",u=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b,h=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&p){for(h=(s=(i=(o=(r=(a=u)[S]||(a[S]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===T&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||l.pop();)if(1===a.nodeType&&++h&&a===e){o[f]=[T,s,h];break}}else if(!1===(h=p?s=(i=(o=(r=(a=e)[S]||(a[S]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===T&&i[1]:h))for(;(a=++s&&a&&a[c]||(h=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++h||(p&&((o=(r=a[S]||(a[S]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]=[T,h]),a!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,r){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return a[S]?a(r):1<a.length?(t=[e,e,"",r],x.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=F(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:se(function(e){var i=[],o=[],s=p(e.replace(V,"$1"));return s[S]?se(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),i[0]=null,!o.pop()}}),has:se(function(t){return function(e){return 0<re(t,e).length}}),contains:se(function(t){return t=t.replace(ne,d),function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:se(function(n){return Y.test(n||"")||re.error("unsupported lang: "+n),n=n.replace(ne,d).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:pe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function fe(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(a,e,t){var s=e.dir,l=e.next,c=l||s,u=t&&"parentNode"===c,d=_++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n);return!1}:function(e,t,n){var i,o,r=[T,d];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((o=i[c])&&o[0]===T&&o[1]===d)return r[2]=o[2];if((i[c]=r)[2]=a(e,t,n))return!0}return!1}}function ve(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function ye(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function be(h,f,m,g,v,e){return g&&!g[S]&&(g=be(g)),v&&!v[S]&&(v=be(v,e)),se(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)re(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!h||!e&&f?u:ye(u,s,h,n,i),p=m?v||(e?h:c||g)?[]:t:d;if(m&&m(d,p,n,i),g)for(o=ye(p,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(p[l[r]]=!(d[l[r]]=a));if(e){if(v||h){if(v){for(o=[],r=p.length;r--;)(a=p[r])&&o.push(d[r]=a);v(null,p=[],o,i)}for(r=p.length;r--;)(a=p[r])&&-1<(o=v?F(e,a):s[r])&&(e[o]=!(t[o]=a))}}else p=ye(p===t?p.splice(c,p.length):p),v?v(null,t,p,i):D.apply(t,p)})}function xe(g,v){function e(e,t,n,i,o){var r,a,s,l=0,c="0",u=e&&[],d=[],p=w,h=e||b&&x.find.TAG("*",o),f=T+=null==p?1:Math.random()||.1,m=h.length;for(o&&(w=t===E||t||o);c!==m&&null!=(r=h[c]);c++){if(b&&r){for(a=0,t||r.ownerDocument===E||(k(r),n=!C);s=g[a++];)if(s(r,t||E,n)){i.push(r);break}o&&(T=f)}y&&((r=!s&&r)&&l--,e&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=M.call(i));d=ye(d)}D.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&re.uniqueSort(i)}return o&&(T=f,w=p),u}var y=0<v.length,b=0<g.length;return y?se(e):e}return fe.prototype=x.filters=x.pseudos,x.setFilters=new fe,m=re.tokenize=function(e,t){var n,i,o,r,a,s,l,c=A[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=x.preFilter;a;){for(r in n&&!(i=q.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=W.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(V," ")}),a=a.slice(n.length)),x.filter)!(i=X[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?re.error(e):A(e,s).slice(0)},p=re.compile=function(e,t){var n,i=[],o=[],r=P[e+" "];if(!r){for(n=(t=t||m(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=x.relative[t[0].type],s=a||x.relative[" "],l=a?1:0,c=ge(function(e){return e===i},s,!0),u=ge(function(e){return-1<F(i,e)},s,!0),d=[function(e,t,n){return n=!a&&(n||t!==w)||((i=t).nodeType?c:u)(e,t,n),i=null,n}];l<r;l++)if(n=x.relative[t[l].type])d=[ge(ve(d),n)];else{if((n=x.filter[t[l].type].apply(null,t[l].matches))[S]){for(o=++l;o<r&&!x.relative[t[o].type];o++);return be(1<l&&ve(d),1<l&&me(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(V,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&me(t))}d.push(n)}return ve(d)}(t[n]))[S]?i:o).push(r);(r=P(e,xe(o,i))).selector=e}return r},g=re.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&m(e=c.selector||e);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===t.nodeType&&C&&x.relative[r[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ne,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=X.needsContext.test(e)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(ne,d),te.test(r[0].type)&&he(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&me(r)))return D.apply(n,i),n;break}}return(c||p(e,u))(i,t,!C,n,!t||te.test(e)&&he(t.parentNode)||t),n},f.sortStable=S.split("").sort(I).join("")===S,f.detectDuplicates=!!c,k(),f.sortDetached=le(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(O,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),re}(k);C.find=b,C.expr=b.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=b.uniqueSort,C.text=b.getText,C.isXMLDoc=b.isXML,C.contains=b.contains,C.escapeSelector=b.escape;function x(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(n))break;i.push(e)}return i}function w(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var S=C.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var _=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,N=/^.[^:#\[\.,]*$/;function A(e,n,i){return C.isFunction(n)?C.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?C.grep(e,function(e){return e===n!==i}):"string"!=typeof n?C.grep(e,function(e){return-1<o.call(n,e)!==i}):N.test(n)?C.filter(n,e,i):(n=C.filter(n,e),C.grep(e,function(e){return-1<o.call(n,e)!==i&&1===e.nodeType}))}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,o[t],n);return 1<i?C.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&S.test(e)?C(e):e||[],!1).length}});var P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){if(!e)return this;if(n=n||I,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:P.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),_.test(i[1])&&C.isPlainObject(t))for(var i in t)C.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(e=E.getElementById(i[2]))&&(this[0]=e,this.length=1),this}).prototype=C.fn;var I=C(E),R=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],a="string"!=typeof e&&C(e);if(!S.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?o.call(C(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return T(e,"iframe")?e.contentDocument:(T(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(i,o){C.fn[i]=function(e,t){var n=C.map(this,o,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(M[i]||C.uniqueSort(n),R.test(i)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function j(e){return e}function F(e){throw e}function O(e,t,n,i){var o;try{e&&C.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&C.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},C.each(e.match(D)||[],function(e,t){n[t]=!0}),n):C.extend({},i);function o(){for(s=s||i.once,a=r=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&i.stopOnFalse&&(u=l.length,t=!1);i.memory||(t=!1),r=!1,s&&(l=t?[]:"")}var r,t,a,s,l=[],c=[],u=-1,d={add:function(){return l&&(t&&!r&&(u=l.length-1,c.push(t)),function n(e){C.each(e,function(e,t){C.isFunction(t)?i.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==C.type(t)&&n(t)})}(arguments),t&&!r&&o()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||r||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||o()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},C.extend({Deferred:function(e){var r=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var o=arguments;return C.Deferred(function(i){C.each(r,function(e,t){var n=C.isFunction(o[t[4]])&&o[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,i){var l=0;function c(o,r,a,s){return function(){function e(){var e,t;if(!(o<l)){if((e=a.apply(n,i))===r.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,C.isFunction(t)?s?t.call(e,c(l,r,j,s),c(l,r,F,s)):(l++,t.call(e,c(l,r,j,s),c(l,r,F,s),c(l,r,j,r.notifyWith))):(a!==j&&(n=void 0,i=[e]),(s||r.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),l<=o+1&&(a!==F&&(n=void 0,i=[e]),r.rejectWith(n,i))}};o?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),k.setTimeout(t))}}return C.Deferred(function(e){r[0][3].add(c(0,e,C.isFunction(i)?i:j,e.notifyWith)),r[1][3].add(c(0,e,C.isFunction(t)?t:j)),r[2][3].add(c(0,e,C.isFunction(n)?n:F))}).promise()},promise:function(e){return null!=e?C.extend(e,a):a}},s={};return C.each(r,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){o=i},r[3-e][2].disable,r[0][2].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){o[t]=this,r[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(o,r)}}var n=arguments.length,i=n,o=Array(i),r=s.call(arguments),a=C.Deferred();if(n<=1&&(O(e,a.done(t(i)).resolve,a.reject,!n),"pending"===a.state()||C.isFunction(r[i]&&r[i].then)))return a.then();for(;i--;)O(r[i],t(i),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){k.console&&k.console.warn&&e&&B.test(e.name)&&k.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){k.setTimeout(function(){throw e})};var H=C.Deferred();function $(){E.removeEventListener("DOMContentLoaded",$),k.removeEventListener("load",$),C.ready()}C.fn.ready=function(e){return H.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||((C.isReady=!0)!==e&&0<--C.readyWait||H.resolveWith(E,[C]))}}),C.ready.then=H.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?k.setTimeout(C.ready):(E.addEventListener("DOMContentLoaded",$),k.addEventListener("load",$));function z(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===C.type(n))for(s in o=!0,n)z(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,C.isFunction(i)||(a=!0),t=c?a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(C(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r}function U(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function V(){this.expando=C.expando+V.uid++}V.uid=1,V.prototype={cache:function(e){var t=e[this.expando];return t||(t={},U(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[C.camelCase(t)]=n;else for(i in t)o[C.camelCase(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][C.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(C.camelCase):(t=C.camelCase(t))in i?[t]:t.match(D)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!C.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var q=new V,W=new V,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/[A-Z]/g;function Y(e,t,n){var i,o;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(G,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:K.test(o)?JSON.parse(o):o)}catch(e){}W.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return W.hasData(e)||q.hasData(e)},data:function(e,t,n){return W.access(e,t,n)},removeData:function(e,t){W.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,i,o,r=this[0],a=r&&r.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){W.set(this,n)}):z(this,function(e){var t;return r&&void 0===e?void 0!==(t=W.get(r,n))||void 0!==(t=Y(r,n))?t:void 0:void this.each(function(){W.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=W.get(r),1===r.nodeType&&!q.get(r,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(i=a[t].name).indexOf("data-")&&(i=C.camelCase(i.slice(5)),Y(r,i,o[i])));q.set(r,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){W.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return i=q.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=q.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,o=n.shift(),r=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){C.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:C.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=C.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=q.get(a[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}});function X(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&C.contains(e.ownerDocument,e)&&"none"===C.css(e,"display")}function Q(e,t,n,i){var o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,i||[]),t)e.style[o]=r[o];return i}var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),ee=["Top","Right","Bottom","Left"];function te(e,t,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return C.css(e,t,"")},l=s(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=(C.cssNumber[t]||"px"!==c&&+l)&&J.exec(C.css(e,t));if(u&&u[3]!==c)for(c=c||u[3],n=n||[],u=+l||1;C.style(e,t,(u/=r=r||".5")+c),r!==(r=s()/l)&&1!==r&&--a;);return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}var ne={};function ie(e,t){for(var n,i,o,r,a,s=[],l=0,c=e.length;l<c;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(s[l]=q.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&X(i)&&(s[l]=(a=r=void 0,r=(o=i).ownerDocument,a=o.nodeName,(o=ne[a])||(r=r.body.appendChild(r.createElement(a)),o=C.css(r,"display"),r.parentNode.removeChild(r),ne[a]=o="none"===o?"block":o)))):"none"!==n&&(s[l]="none",q.set(i,"display",n)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}C.fn.extend({show:function(){return ie(this,!0)},hide:function(){return ie(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){X(this)?C(this).show():C(this).hide()})}});var oe=/^(?:checkbox|radio)$/i,re=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ae=/^$|\/(?:java|ecma)script/i,se={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function le(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&T(e,t)?C.merge([e],n):n}function ce(e,t){for(var n=0,i=e.length;n<i;n++)q.set(e[n],"globalEval",!t||q.get(t[n],"globalEval"))}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td;var ue=/<|&#?\w+;/;function de(e,t,n,i,o){for(var r,a,s,l,c,u=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((r=e[p])||0===r)if("object"===C.type(r))C.merge(d,r.nodeType?[r]:r);else if(ue.test(r)){for(a=a||u.appendChild(t.createElement("div")),s=(re.exec(r)||["",""])[1].toLowerCase(),s=se[s]||se._default,a.innerHTML=s[1]+C.htmlPrefilter(r)+s[2],c=s[0];c--;)a=a.lastChild;C.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",p=0;r=d[p++];)if(i&&-1<C.inArray(r,i))o&&o.push(r);else if(l=C.contains(r.ownerDocument,r),a=le(u.appendChild(r),"script"),l&&ce(a),n)for(c=0;r=a[c++];)ae.test(r.type||"")&&n.push(r);return u}t=E.createDocumentFragment().appendChild(E.createElement("div")),(b=E.createElement("input")).setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),t.appendChild(b),g.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;var pe=E.documentElement,he=/^key/,fe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,me=/^([^.]*)(?:\.(.+)|)/;function ge(){return!0}function ve(){return!1}function ye(){try{return E.activeElement}catch(e){}}function be(e,t,n,i,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)be(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=ve;else if(!o)return e;return 1===r&&(a=o,(o=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),e.each(function(){C.event.add(this,t,o,i,n)})}C.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,p,h,f=q.get(t);if(f)for(n.handler&&(n=(r=n).handler,o=r.selector),o&&C.find.matchesSelector(pe,o),n.guid||(n.guid=C.guid++),(s=f.events)||(s=f.events={}),(a=f.handle)||(a=f.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;l--;)d=h=(c=me.exec(e[l])||[])[1],p=(c[2]||"").split(".").sort(),d&&(u=C.event.special[d]||{},d=(o?u.delegateType:u.bindType)||d,u=C.event.special[d]||{},c=C.extend({type:d,origType:h,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=s[d])||((h=s[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(d,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),C.event.global[d]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,h,f,m,g=q.hasData(e)&&q.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(D)||[""]).length;c--;)if(h=m=(s=me.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},p=l[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)u=p[r],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||C.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[c],n,i,!0);C.isEmptyObject(l)&&q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,a=C.event.fix(e),s=new Array(arguments.length),l=(q.get(this,"events")||{})[a.type]||[],e=C.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,a)){for(r=C.event.handlers.call(this,a,l),t=0;(i=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[o=(i=t[n]).selector+" "]&&(a[o]=i.needsContext?-1<C(o,this).index(c):C.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:C.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ye()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ye()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&T(this,"input"))return this.click(),!1},_default:function(e){return T(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){return this instanceof C.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ge:ve,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),void(this[C.expando]=!0)):new C.Event(e,t)},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ve,isPropagationStopped:ve,isImmediatePropagationStopped:ve,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ge,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ge,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ge,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&he.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&fe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),C.fn.extend({on:function(e,t,n,i){return be(this,e,t,n,i)},one:function(e,t,n,i){return be(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ve),this.each(function(){C.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var xe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,we=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ee=/^true\/(.*)/,Ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Se(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&C(">tbody",e)[0]||e}function Te(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _e(e){var t=Ee.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ne(e,t){var n,i,o,r,a,s;if(1===t.nodeType){if(q.hasData(e)&&(r=q.access(e),a=q.set(t,r),s=r.events))for(o in delete a.handle,a.events={},s)for(n=0,i=s[o].length;n<i;n++)C.event.add(t,o,s[o][n]);W.hasData(e)&&(e=W.access(e),e=C.extend({},e),W.set(t,e))}}function Ae(n,i,o,r){i=m.apply([],i);var e,t,a,s,l,c,u=0,d=n.length,p=d-1,h=i[0],f=C.isFunction(h);if(f||1<d&&"string"==typeof h&&!g.checkClone&&ke.test(h))return n.each(function(e){var t=n.eq(e);f&&(i[0]=h.call(this,e,t.html())),Ae(t,i,o,r)});if(d&&(t=(e=de(i,n[0].ownerDocument,!1,n,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(s=(a=C.map(le(e,"script"),Te)).length;u<d;u++)l=e,u!==p&&(l=C.clone(l,!0,!0),s&&C.merge(a,le(l,"script"))),o.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,C.map(a,_e),u=0;u<s;u++)l=a[u],ae.test(l.type||"")&&!q.access(l,"globalEval")&&C.contains(c,l)&&(l.src?C._evalUrl&&C._evalUrl(l.src):v(l.textContent.replace(Ce,""),c))}return n}function Pe(e,t,n){for(var i,o=t?C.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||C.cleanData(le(i)),i.parentNode&&(n&&C.contains(i.ownerDocument,i)&&ce(le(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e.replace(xe,"<$1></$2>")},clone:function(e,t,n){var i,o,r,a,s,l,c,u=e.cloneNode(!0),d=C.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=le(u),i=0,o=(r=le(e)).length;i<o;i++)s=r[i],l=a[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&oe.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(r=r||le(e),a=a||le(u),i=0,o=r.length;i<o;i++)Ne(r[i],a[i]);else Ne(e,u);return 0<(a=le(u,"script")).length&&ce(a,!d&&le(e,"script")),u},cleanData:function(e){for(var t,n,i,o=C.event.special,r=0;void 0!==(n=e[r]);r++)if(U(n)){if(t=n[q.expando]){if(t.events)for(i in t.events)o[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[q.expando]=void 0}n[W.expando]&&(n[W.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return z(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ae(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Se(this,e).appendChild(e)})},prepend:function(){return Ae(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Se(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Ae(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ae(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(le(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!we.test(e)&&!se[(re.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(le(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ae(this,arguments,function(e){var t=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(le(this)),t&&t.replaceChild(e,this))},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){C.fn[e]=function(e){for(var t,n=[],i=C(e),o=i.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),C(i[r])[a](t),l.apply(n,t.get());return this.pushStack(n)}});function Ie(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?k:t).getComputedStyle(e)}var Re,Me,Le,De,je,Fe,Oe=/^margin/,Be=new RegExp("^("+Z+")(?!px)[a-z%]+$","i");function He(){var e;Fe&&(Fe.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",Fe.innerHTML="",pe.appendChild(je),e=k.getComputedStyle(Fe),Re="1%"!==e.top,De="2px"===e.marginLeft,Me="4px"===e.width,Fe.style.marginRight="50%",Le="4px"===e.marginRight,pe.removeChild(je),Fe=null)}function $e(e,t,n){var i,o,r=e.style;return(n=n||Ie(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||C.contains(e.ownerDocument,e)||(o=C.style(e,t)),!g.pixelMarginRight()&&Be.test(o)&&Oe.test(t)&&(i=r.width,e=r.minWidth,t=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=i,r.minWidth=e,r.maxWidth=t)),void 0!==o?o+"":o}function ze(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}je=E.createElement("div"),(Fe=E.createElement("div")).style&&(Fe.style.backgroundClip="content-box",Fe.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===Fe.style.backgroundClip,je.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",je.appendChild(Fe),C.extend(g,{pixelPosition:function(){return He(),Re},boxSizingReliable:function(){return He(),Me},pixelMarginRight:function(){return He(),Le},reliableMarginLeft:function(){return He(),De}}));var Ue=/^(none|table(?!-c[ea]).+)/,Ve=/^--/,qe={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","Moz","ms"],Ge=E.createElement("div").style;function Ye(e){return C.cssProps[e]||(C.cssProps[e]=function(e){if(e in Ge)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if((e=Ke[n]+t)in Ge)return e}(e)||e)}function Xe(e,t,n){var i=J.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Qe(e,t,n,i,o){for(var r=0,a=n===(i?"border":"content")?4:"width"===t?1:0;a<4;a+=2)"margin"===n&&(r+=C.css(e,n+ee[a],!0,o)),i?("content"===n&&(r-=C.css(e,"padding"+ee[a],!0,o)),"margin"!==n&&(r-=C.css(e,"border"+ee[a]+"Width",!0,o))):(r+=C.css(e,"padding"+ee[a],!0,o),"padding"!==n&&(r+=C.css(e,"border"+ee[a]+"Width",!0,o)));return r}function Ze(e,t,n){var i,o=Ie(e),r=$e(e,t,o),a="border-box"===C.css(e,"boxSizing",!1,o);return Be.test(r)?r:(i=a&&(g.boxSizingReliable()||r===e.style[t]),"auto"===r&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)]),(r=parseFloat(r)||0)+Qe(e,t,n||(a?"border":"content"),i,o)+"px")}function Je(e,t,n,i,o){return new Je.prototype.init(e,t,n,i,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=$e(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=C.camelCase(t),l=Ve.test(t),c=e.style;return l||(t=Ye(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:c[t]:("string"===(r=typeof n)&&(o=J.exec(n))&&o[1]&&(n=te(e,t,o),r="number"),void(null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(C.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))))}},css:function(e,t,n,i){var o,r=C.camelCase(t);return Ve.test(t)||(t=Ye(r)),"normal"===(o=void 0===(o=(r=C.cssHooks[t]||C.cssHooks[r])&&"get"in r?r.get(e,!0,n):o)?$e(e,t,i):o)&&t in We&&(o=We[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),C.each(["height","width"],function(e,r){C.cssHooks[r]={get:function(e,t,n){if(t)return!Ue.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,r,n):Q(e,qe,function(){return Ze(e,r,n)})},set:function(e,t,n){var i,o=n&&Ie(e),o=n&&Qe(e,r,n,"border-box"===C.css(e,"boxSizing",!1,o),o);return o&&(i=J.exec(t))&&"px"!==(i[3]||"px")&&(e.style[r]=t,t=C.css(e,r)),Xe(0,t,o)}}}),C.cssHooks.marginLeft=ze(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-Q(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,r){C.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+ee[t]+r]=i[t]||i[t-2]||i[0];return n}},Oe.test(o)||(C.cssHooks[o+r].set=Xe)}),C.fn.extend({css:function(e,t){return z(this,function(e,t,n){var i,o,r={},a=0;if(Array.isArray(t)){for(i=Ie(e),o=t.length;a<o;a++)r[t[a]]=C.css(e,t[a],!1,i);return r}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=Je).prototype={constructor:Je,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(C.cssNumber[n]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return(e&&e.get?e:Je.propHooks._default).get(this)},run:function(e){var t,n=Je.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:Je.propHooks._default).set(this),this}}).init.prototype=Je.prototype,(Je.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[C.cssProps[e.prop]]&&!C.cssHooks[e.prop]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=Je.prototype.init,C.fx.step={};var et,tt,nt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){tt&&(!1===E.hidden&&k.requestAnimationFrame?k.requestAnimationFrame(ot):k.setTimeout(ot,C.fx.interval),C.fx.tick())}function rt(){return k.setTimeout(function(){et=void 0}),et=C.now()}function at(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=ee[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function st(e,t,n){for(var i,o=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function lt(o,e,t){var n,r,i=0,a=lt.prefilters.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=et||rt(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(t);return s.notifyWith(o,[c,t,e]),t<1&&i?e:(i||s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:et||rt(),duration:t.duration,tweens:[],createTween:function(e,t){e=C.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,e])):s.rejectWith(o,[c,e]),this}}),u=c.props;for(function(e,t){var n,i,o,r,a;for(n in e)if(i=C.camelCase(n),o=t[i],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),a=C.cssHooks[i],a&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);i<a;i++)if(n=lt.prefilters[i].call(c,o,u,c.opts))return C.isFunction(n.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=C.proxy(n.stop,n)),n;return C.map(u,st,c),C.isFunction(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,J.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,o=(e=C.isFunction(e)?(t=e,["*"]):e.match(D)).length;i<o;i++)n=e[i],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,a,s,l,c,u="width"in t||"height"in t,d=this,p={},h=e.style,f=e.nodeType&&X(e),m=q.get(e,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[i],nt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||C.style(e,i)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(i in u&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=q.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(ie([e],!0),c=e.style.display||c,u=C.css(e,"display"),ie([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(d.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(f=m.hidden):m=q.access(e,"fxshow",{display:c}),r&&(m.hidden=!f),f&&ie([e],!0),d.done(function(){for(i in f||ie([e]),q.remove(e,"fxshow"),p)C.style(e,i,p[i])})),l=st(f?m[i]:0,i,d),i in m||(m[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(X).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=C.isEmptyObject(t),r=C.speed(e,n,i),i=function(){var e=lt(this,C.extend({},t),r);(o||q.get(this,"finish"))&&e.stop(!0)};return i.finish=i,o||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(o,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=C.timers,i=q.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&it.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||C.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=q.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=C.timers,r=n?n.length:0;for(t.finish=!0,C.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var o=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(at(i,!0),e,t,n)}}),C.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(et=C.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),et=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){tt||(tt=!0,ot())},C.fx.stop=function(){tt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=k.setTimeout(e,i);t.stop=function(){k.clearTimeout(n)}})},t=E.createElement("input"),Z=E.createElement("select").appendChild(E.createElement("option")),t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=Z.selected,(t=E.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value;var ct,ut=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return z(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?C.prop(e,t,n):(1===r&&C.isXMLDoc(e)||(o=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(D);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ut[t]||C.find.attr;ut[t]=function(e,t,n){var i,o,r=t.toLowerCase();return n||(o=ut[r],ut[r]=i,i=null!=a(e,t,n)?r:null,ut[r]=o),i}});var dt=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function ht(e){return(e.match(D)||[]).join(" ")}function ft(e){return e.getAttribute&&e.getAttribute("class")||""}C.fn.extend({prop:function(e,t){return z(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,i,o,r,a,s=0;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,ft(this)))});if("string"==typeof t&&t)for(e=t.match(D)||[];n=this[s++];)if(a=ft(n),i=1===n.nodeType&&" "+ht(a)+" "){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a!==(a=ht(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,ft(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(D)||[];n=this[s++];)if(a=ft(n),i=1===n.nodeType&&" "+ht(a)+" "){for(r=0;o=e[r++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a!==(a=ht(i))&&n.setAttribute("class",a)}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"==r?t?this.addClass(o):this.removeClass(o):C.isFunction(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,ft(this),t),t)}):this.each(function(){var e,t,n,i;if("string"==r)for(t=0,n=C(this),i=o.match(D)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=r||((e=ft(this))&&q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&q.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+ht(ft(t))+" ").indexOf(i))return!0;return!1}});var mt=/\r/g;C.fn.extend({val:function(t){var n,e,i,o=this[0];return arguments.length?(i=C.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(mt,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:ht(C.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type,r=o?null:[],a=o?i+1:n.length,s=i<0?a:o?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!T(t.parentNode,"optgroup"))){if(t=C(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=C.makeArray(t),a=o.length;a--;)((i=o[a]).selected=-1<C.inArray(C.valHooks.option.get(i),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gt=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,n,i){var o,r,a,s,l,c,u=[n||E],d=f.call(e,"type")?e.type:e,p=f.call(e,"namespace")?e.namespace.split("."):[],h=r=n=n||E;if(3!==n.nodeType&&8!==n.nodeType&&!gt.test(d+C.event.triggered)&&(-1<d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),s=d.indexOf(":")<0&&"on"+d,(e=e[C.expando]?e:new C.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[d]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!C.isWindow(n)){for(a=c.delegateType||d,gt.test(a+d)||(h=h.parentNode);h;h=h.parentNode)u.push(h),r=h;r===(n.ownerDocument||E)&&u.push(r.defaultView||r.parentWindow||k)}for(o=0;(h=u[o++])&&!e.isPropagationStopped();)e.type=1<o?a:c.bindType||d,(l=(q.get(h,"events")||{})[e.type]&&q.get(h,"handle"))&&l.apply(h,t),(l=s&&h[s])&&l.apply&&U(h)&&(e.result=l.apply(h,t),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(u.pop(),t)||!U(n)||s&&C.isFunction(n[d])&&!C.isWindow(n)&&((r=n[s])&&(n[s]=null),n[C.event.triggered=d](),C.event.triggered=void 0,r&&(n[s]=r)),e.result}},simulate:function(e,t,n){e=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(e,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),g.focusin="onfocusin"in k,g.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,i){function o(e){C.event.simulate(i,e.target,C.event.fix(e))}C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=q.access(e,i);t||e.addEventListener(n,o,!0),q.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=q.access(e,i)-1;t?q.access(e,i,t):(e.removeEventListener(n,o,!0),q.remove(e,i))}}});var vt=k.location,yt=C.now(),bt=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new k.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var xt=/\[\]$/,wt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=C.isFunction(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,o=[];if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(Array.isArray(e))C.each(e,function(e,t){o||xt.test(i)?r(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,r)});else if(o||"object"!==C.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Et.test(this.nodeName)&&!kt.test(e)&&(this.checked||!oe.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}});var Ct=/%20/g,St=/#.*$/,Tt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,At=/^\/\//,Pt={},It={},Rt="*/".concat("*"),Mt=E.createElement("a");function Lt(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(D)||[];if(C.isFunction(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function Dt(t,i,o,r){var a={},s=t===It;function l(e){var n;return a[e]=!0,C.each(t[e]||[],function(e,t){t=t(i,o,r);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function jt(e,t){var n,i,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}Mt.href=vt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,C.ajaxSettings),t):jt(C.ajaxSettings,e)},ajaxPrefilter:Lt(Pt),ajaxTransport:Lt(It),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,c,u,n,d,p,h,i,o,f=C.ajaxSetup({},t=t||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=f.statusCode||{},r={},a={},s="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=_t.exec(u);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?u:null},setRequestHeader:function(e,t){return null==p&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==p&&(f.mimeType=e),this},statusCode:function(e){if(e)if(p)x.always(e[x.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),w(0,e),this}};if(v.promise(x),f.url=((e||f.url||vt.href)+"").replace(At,vt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(D)||[""],null==f.crossDomain){o=E.createElement("a");try{o.href=f.url,o.href=o.href,f.crossDomain=Mt.protocol+"//"+Mt.host!=o.protocol+"//"+o.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Dt(Pt,f,t,x),p)return x;for(i in(h=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Nt.test(f.type),c=f.url.replace(St,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ct,"+")):(o=f.url.slice(c.length),f.data&&(c+=(bt.test(c)?"&":"?")+f.data,delete f.data),!1===f.cache&&(c=c.replace(Tt,"$1"),o=(bt.test(c)?"&":"?")+"_="+yt+++o),f.url=c+o),f.ifModified&&(C.lastModified[c]&&x.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&x.setRequestHeader("If-None-Match",C.etag[c])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Rt+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(m,x,f)||p))return x.abort();if(s="abort",y.add(f.complete),x.done(f.success),x.fail(f.error),l=Dt(It,f,t,x)){if(x.readyState=1,h&&g.trigger("ajaxSend",[x,f]),p)return x;f.async&&0<f.timeout&&(d=k.setTimeout(function(){x.abort("timeout")},f.timeout));try{p=!1,l.send(r,w)}catch(e){if(p)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,n,i){var o,r,a,s=t;p||(p=!0,d&&k.clearTimeout(d),l=void 0,u=i||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a=a||o}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,x,n)),a=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,a,x,i),i?(f.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=n),(n=x.getResponseHeader("etag"))&&(C.etag[c]=n)),204===e||"HEAD"===f.type?s="nocontent":304===e?s="notmodified":(s=a.state,o=a.data,i=!(r=a.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),x.status=e,x.statusText=(t||s)+"",i?v.resolveWith(m,[o,s,x]):v.rejectWith(m,[x,s,r]),x.statusCode(b),b=void 0,h&&g.trigger(i?"ajaxSuccess":"ajaxError",[x,f,i?o:r]),y.fireWith(m,[x,s]),h&&(g.trigger("ajaxComplete",[x,f]),--C.active||C.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,n,i){return C.isFunction(t)&&(i=i||n,n=t,t=void 0),C.ajax(C.extend({url:e,type:o,dataType:i,data:t,success:n},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){return this[0]&&(C.isFunction(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return C.isFunction(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Ot=C.ajaxSettings.xhr();g.cors=!!Ot&&"withCredentials"in Ot,g.ajax=Ot=!!Ot,C.ajaxTransport(function(o){var r,a;if(g.cors||Ot&&!o.crossDomain)return{send:function(e,t){var n,i=o.xhr();if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);r=function(e){return function(){r&&(r=a=i.onload=i.onerror=i.onabort=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Ft[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=r(),a=i.onerror=r("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&k.setTimeout(function(){r&&a()})},r=r("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(e,t){i=C("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(i[0])},abort:function(){o&&o()}}});var Bt=[],Ht=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||C.expando+"_"+yt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(Ht.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ht,"$1"+i):!1!==e.jsonp&&(e.url+=(bt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||C.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=k[i],k[i]=function(){r=arguments},n.always(function(){void 0===o?C(k).removeProp(i):k[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Bt.push(i)),r&&C.isFunction(o)&&o(r[0]),r=o=void 0}),"script"}),g.createHTMLDocument=((t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(i)):t=E),i=!n&&[],(n=_.exec(e))?[t.createElement(n[1])]:(n=de([e],t,i),i&&i.length&&C(i).remove(),C.merge([],n.childNodes)));var i},C.fn.load=function(e,t,n){var i,o,r,a=this,s=e.indexOf(" ");return-1<s&&(i=ht(e.slice(s)),e=e.slice(0,s)),C.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,n){var i,o,r,a,s=C.css(e,"position"),l=C(e),c={};"static"===s&&(e.style.position="relative"),r=l.offset(),i=C.css(e,"top"),a=C.css(e,"left"),a=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(o=(s=l.position()).top,s.left):(o=parseFloat(i)||0,parseFloat(a)||0),null!=(t=C.isFunction(t)?t.call(e,n,C.extend({},r)):t).top&&(c.top=t.top-r.top+o),null!=t.left&&(c.left=t.left-r.left+a),"using"in t?t.using.call(e,c):l.css(c)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),i=(n=i.ownerDocument).documentElement,n=n.defaultView,{top:e.top+n.pageYOffset-i.clientTop,left:e.left+n.pageXOffset-i.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===C.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),i={top:(i=!T(e[0],"html")?e.offset():i).top+C.css(e[0],"borderTopWidth",!0),left:i.left+C.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-C.css(n,"marginTop",!0),left:t.left-i.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||pe})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;C.fn[t]=function(e){return z(this,function(e,t,n){var i;return C.isWindow(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n?i?i[o]:e[t]:void(i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[t]=n)},t,e,arguments.length)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=ze(g.pixelPosition,function(e,t){if(t)return t=$e(e,n),Be.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(a,s){C.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,r){C.fn[r]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return z(this,function(e,t,n){var i;return C.isWindow(e)?0===r.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?C.css(e,t,o):C.style(e,t,n,o)},s,n?e:void 0,n)}})}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=T,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var $t=k.jQuery,zt=k.$;return C.noConflict=function(e){return k.$===C&&(k.$=zt),e&&k.jQuery===C&&(k.jQuery=$t),C},e||(k.jQuery=k.$=C),C})},{}],25:[function(e,t,n){"use strict";i(e("jquery"));var r=e("../../index"),a=i(e("./helper/CanvsHelper")),s=e("bpmn-js/lib/util/ModelUtil");function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var n,i,e=e.get("elementRegistry");return e=(n=e)._elements,i=[],Object.keys(e).forEach((e,t)=>{e=n.get(e);"bpmn:Process"==e.type&&i.push(e.id)}),i}function o(e){var n=e.get("elementRegistry"),e=n._elements,i=[];return Object.keys(e).forEach((e,t)=>{e=n.get(e);"bpmn:Process"==e.type&&i.push(e)}),i}function c(e,t){return e.get("elementRegistry").get(t)}t.exports.getAllUserTask=function(e){var n=e.get("elementRegistry"),e=n._elements,i=[];return Object.keys(e).forEach((e,t)=>{e=n.get(e);"bpmn:UserTask"==e.type&&i.push(e)}),i},t.exports.getAllExtA1=function(e){var n=e.get("elementRegistry"),e=n._elements,i=[];return Object.keys(e).forEach((e,t)=>{e=n.get(e);"getAllExtA1"==e.type&&i.push(e)}),i},t.exports.getAllCustomerElement=function(e,t){for(var n=c(e,l(e)[0]).businessObject.$parent.rootElements,i=[],o=0;o<n.length;o++)n[o]&&n[o].$type==t&&i.push(n[o]);return i},t.exports.removeCustomerElementById=function(e,t,n){for(var i=c(e,l(e)[0]).businessObject.$parent.rootElements,o=[],r=0;r<i.length;r++)i[r]&&i[r].$type==t&&i[r].id==n&&o.push(r);if(o)for(r=0;r<o.length;r++)i.splice(o[r],1);return a.default.excute(),!0},t.exports.getCustomerElementById=function(e,t,n){for(var i=c(e,l(e)[0]).businessObject.$parent.rootElements,o=0;o<i.length;o++)if(i[o]&&i[o].$type==t&&i[o].id==n)return i[o]},t.exports.getNotCustomerElementById=function(e){for(var t=[],n=l(r.bpmnModeler)[0],i=((n=c(r.bpmnModeler,n)).businessObject.$parent,n.children),o=0;o<i.length;o++)((0,s.is)(i[o],"bpmn:UserTask")||(0,s.is)(i[o],"bpmn:Event"))&&i[o]&&i[o].id!=e&&t.push(i[o]);return t},t.exports.getCustomerElementBySingleType=function(e,t,n){for(var i=c(e,l(e)[0]).businessObject.$parent.rootElements,o=0;o<i.length;o++)if(i[o]&&i[o].$type==t)return i[o]},t.exports.getMainProcessId=l,t.exports.getRootProcess=o,t.exports.createDocumentation=function(e){return r.bpmnModeler.get("bpmnFactory").create("bpmn:Documentation",{text:e})},t.exports.getRoot=function(e){return o(e)[0].businessObject.$parent},t.exports.getElement=c,t.exports._bpmnDefinitions=function(e){return c(e,l(e)[0]).businessObject.$parent},t.exports.getUserTaskType=function(n){var e=n._elements,i=[];return Object.keys(e).forEach((e,t)=>{e=n.get(e);"bpmn:UserTask"==e.type&&i.push(e.id)}),i},t.exports.getCureentNodeInfo=function(e){return(e.businessObject.name||"")+"("+e.businessObject.id+")"}},{"../../index":23,"./helper/CanvsHelper":59,"bpmn-js/lib/util/ModelUtil":419,jquery:624}],26:[function(e,t,n){"use strict";t.exports.escapeHTML=function(e){return(e=""+e)&&e.replace(/[&<>"']/g,function(e){return HTML_ESCAPE_MAP[e]})}},{}],27:[function(e,t,n){"use strict";function i(e,t){var n=this;e.on("propertiesPanel.isEntryVisible",t=t||1e3,function(e){return n.isEntryVisible(e.entry,e.element)}),e.on("propertiesPanel.isPropertyEditable",t,function(e){return n.isPropertyEditable(e.entry,e.propertyName,e.element)})}i.$inject=["eventBus"],(t.exports=i).prototype.isEntryVisible=function(e,t){return!0},i.prototype.isPropertyEditable=function(e,t,n){return!0}},{}],28:[function(e,t,n){"use strict";var r=e("min-dom").query,a=e("min-dom").clear,i=e("bpmn-js/lib/util/ModelUtil").is,s=e("lodash/forEach"),l=e("min-dom").domify,o=e("ids").default,c=/\s/,u=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,d=/^[a-z_][\w-.]*$/i,p=/\$\{([^}]*)\}/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function f(e){if(0<=e.selectedIndex)return e.options[e.selectedIndex].value}function m(e){for(var t=e;t.$parent;)t=t.$parent;return t}function g(e,t){var n=[];return s(e||[],function(e){i(e,t)&&n.push(e)}),n}function v(e,t){return g(m(e).rootElements,t)}function y(e){return e.push({label:"",value:"",name:""})}function b(e,t){var n=[],t=v(e,t);return s(t,function(e){n.push({label:(e.name||"")+" (id="+e.id+")",value:e.id,name:e.name})}),n}function x(e,t){return w(e=e.replace(p,"$1"))?t("Id must not contain spaces."):d.test(e)?void 0:u.test(e)?t("Id must not contain prefix."):t("Id must be a valid QName.")}function w(e){return c.test(e)}function k(e){return(e=""+e)&&e.replace(/[&<>"']/g,function(e){return h[e]})}t.exports.selectedOption=f,t.exports.selectedType=function(e,t){return f(r(e,t))},t.exports.getRoot=m,t.exports.filterElementsByType=g,t.exports.findRootElementsByType=v,t.exports.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.exports.addEmptyParameter=y,t.exports.refreshOptionsModel=b,t.exports.updateOptionsDropDown=function(e,t,n,i){y(n=b(t,n));var o=r(e,i);return a(o),s(n,function(e){e=l('<option value="'+k(e.value)+'">'+k(e.label)+"</option>");o.appendChild(e)}),n},t.exports.isIdValid=function(e,t,n){var i=e.$model.ids.assigned(t);return!t||i&&i!==e?n("Element must have an unique id."):x(t,n)},t.exports.validateId=x,t.exports.containsSpace=w,t.exports.nextId=function(e){return new o([32,32,1]).nextPrefixed(e)},t.exports.triggerClickEvent=function(e){var t,n="click";if(document.createEvent){try{t=new MouseEvent(n,{view:window,bubbles:!0,cancelable:!0})}catch(e){(t=document.createEvent("MouseEvent")).initEvent(n,!0,!0)}return e.dispatchEvent(t)}return t=document.createEventObject(),e.fireEvent("on"+n,t)},t.exports.escapeHTML=k},{"bpmn-js/lib/util/ModelUtil":419,ids:622,"lodash/forEach":801,"min-dom":835}],29:[function(e,t,n){"use strict";var s=e("../helper/ElementHelper");function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function l(e,t){if(!e)throw new Error(t+" required");return e}i.$inject=["elementRegistry","bpmnFactory"],(t.exports=i).prototype.execute=function(e){var t=l(e.referencingObject,"referencingObject"),n=l(e.referenceProperty,"referenceProperty"),i=l(e.newObject,"newObject"),o=l(e.newObjectContainer,"newObjectContainer"),r=l(e.newObjectParent,"newObjectParent"),a=[e.element],r=s.createElement(i.type,i.properties,r,this._bpmnFactory);return e.referencedObject=r,o.push(r),e.previousReference=t[n],t[n]=r,e.changed=a},i.prototype.revert=function(e){var t=e.referencingObject,n=e.referenceProperty,i=e.previousReference,o=e.referencedObject,r=e.newObjectContainer;return t.set(n,i),r.splice(r.indexOf(o),1),e.changed}},{"../helper/ElementHelper":66}],30:[function(e,t,n){"use strict";var s=e("lodash/forEach"),l=e("../helper/ElementHelper");function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function c(e,t){if(!e)throw new Error(t+" required");return e}i.$inject=["elementRegistry","bpmnFactory"],(t.exports=i).prototype.execute=function(e){var t=c(e.currentObject,"currentObject"),n=c(e.propertyName,"propertyName"),i=function(e,t){if(!e||"[object Array]"!==Object.prototype.toString.call(e))throw new Error(t+" needs to be a list");return e}(e.newObjects,"newObjects"),o=[e.element],r=[],a=this;return s(i,function(e){e=l.createElement(e.type,e.properties,t,a._bpmnFactory);r.push(e)}),e.childObject=r,e.previousChilds=t[n],t[n]=r,e.changed=o},i.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,i=e.previousChilds;return t.set(n,i),e.changed}},{"../helper/ElementHelper":66,"lodash/forEach":801}],31:[function(e,t,n){"use strict";var i=e("lodash/forEach");function o(e){this._commandStack=e}o.$inject=["commandStack"],(t.exports=o).prototype.preExecute=function(e){var t=this._commandStack;i(e,function(e){t.execute(e.cmd,e.context)})}},{"lodash/forEach":801}],32:[function(e,t,n){"use strict";var u=e("lodash/transform"),d=e("bpmn-js/lib/util/ModelUtil").is,p=e("lodash/keys"),h=e("lodash/forEach");function i(e){this._elementRegistry=e}function f(n,e){h(e,function(e,t){n.set(t,e)})}i.$inject=["elementRegistry"],(t.exports=i).prototype.execute=function(e){var t=e.element,n=e.businessObject,i=function(e){for(var t=e;t.$parent;)t=t.$parent;return t}(n).rootElements,o=e.referenceType,r=e.referenceProperty,a=[t];if(!t)throw new Error("element required");if(!n)throw new Error("businessObject required");var s,l,c=e.properties,l=e.oldProperties||(s=n,l=p(c),u(l,function(e,t){return e[t]=s.get(t),e},{}));return void 0!==o&&void 0!==r&&h(i,function(e){d(e,o)&&e.id===c[r]&&(c[r]=e)}),f(n,c),e.oldProperties=l,e.changed=a},i.prototype.revert=function(e){var t=e.oldProperties;return f(e.businessObject,t),e.changed}},{"bpmn-js/lib/util/ModelUtil":419,"lodash/forEach":801,"lodash/keys":818,"lodash/transform":830}],33:[function(e,t,n){"use strict";var u=e("lodash/forEach");function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function d(e,t){if(!e)throw new Error(t+"required");return e}i.$inject=["elementRegistry","bpmnFactory"],(t.exports=i).prototype.execute=function(e){var t,n=d(e.currentObject,"currentObject"),i=d(e.propertyName,"propertyName"),o=e.updatedObjectList,r=e.objectsToRemove||[],a=e.objectsToAdd||[],s=[e.element];e.referencePropertyName&&(t=e.referencePropertyName);var l,c=n[i];return e.previousList=n[i],o?n[i]=o:(l=[],u(c,function(e){-1==r.indexOf(e)&&l.push(e)}),0<(l=l.concat(a)).length||!t?n[i]=l:t&&n.$parent.set(t,void 0)),e.changed=s},i.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,i=e.previousList,o=t.$parent;return e.referencePropertyName&&o.set(e.referencePropertyName,t),t.set(n,i),e.changed}},{"lodash/forEach":801}],34:[function(e,t,n){"use strict";var i=e("lodash/forEach"),o={"properties-panel.update-businessobject":e("./UpdateBusinessObjectHandler"),"properties-panel.create-and-reference":e("./CreateAndReferenceHandler"),"properties-panel.create-businessobject-list":e("./CreateBusinessObjectListHandler"),"properties-panel.update-businessobject-list":e("./UpdateBusinessObjectListHandler"),"properties-panel.multi-command-executor":e("./MultiCommandHandler")};function r(e,n){e.on("diagram.init",function(){i(o,function(e,t){n.registerHandler(t,e)})})}r.$inject=["eventBus","commandStack"],t.exports={__init__:[r]}},{"./CreateAndReferenceHandler":29,"./CreateBusinessObjectListHandler":30,"./MultiCommandHandler":31,"./UpdateBusinessObjectHandler":32,"./UpdateBusinessObjectListHandler":33,"lodash/forEach":801}],35:[function(e,t,n){"use strict";var s=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,l=e("../helper/CmdHelper"),c=e("../Utils").escapeHTML,u=e("./EntryFieldDescription");t.exports=function(i,e){var t=e,n=t.id,o=i.label||n,r=!!i.disabled&&"function"==typeof i.disabled,a=!!i.hidden&&"function"==typeof i.hidden,e=i.description;return t.html='<input id="camunda-'+c(n)+'" type="checkbox" name="'+c(i.modelProperty)+'" '+(r?'data-disable="isDisabled"':"")+(a?'data-show="isHidden"':"")+' /><label for="camunda-'+c(n)+'" '+(r?'data-disable="isDisabled"':"")+(a?'data-show="isHidden"':"")+">"+c(o)+"</label>",e&&(t.html+=u(e)),t.get=function(e){var t=s(e),e={};return e[i.modelProperty]=t.get(i.modelProperty),e},t.set=function(e,t){var n={};return n[i.modelProperty]=!!t[i.modelProperty],l.updateProperties(e,n)},"function"==typeof i.set&&(t.set=i.set),"function"==typeof i.get&&(t.get=i.get),r&&(t.isDisabled=function(){return i.disabled.apply(t,arguments)}),a&&(t.isHidden=function(){return!i.hidden.apply(t,arguments)}),t.cssClasses=["bpp-checkbox"],t}},{"../Utils":28,"../helper/CmdHelper":61,"./EntryFieldDescription":38,"bpmn-js/lib/util/ModelUtil":419}],36:[function(e,t,n){"use strict";var s=e("lodash/assign"),l=e("lodash/find"),c=e("min-dom").query,u=e("../Utils").escapeHTML,d=e("./SelectEntryFactory"),p=e("./EntryFieldDescription");t.exports=function(o){var i=o.selectOptions,r=o.modelProperty,a=o.customValue||"custom",e=o.customName||"custom "+r,t=o.description,n=s({},o);n.showCustomInput=function(e,t){t=c('[data-entry="'+o.id+'"] select',t.parentNode);return!!t&&t.value===a},n.get=function(e,t){var n,e=o.get(e,t),t={};return void 0===(n=e)[r]||l(i,function(e){return n[r]===e.value})?t[r]=e[r]||"":(t[r]=a,t["custom-"+r]=e[r]),t},n.set=function(e,t,n){var i={};return t[r]===a?i[r]=t["custom-"+r]||"":o.emptyParameter&&""===t[r]?i[r]=void 0:i[r]=t[r],o.set(e,i,n)},n.selectOptions.push({name:e,value:a});n=s({},d(n,n));return n.html+='<div class="bpp-field-wrapper bpp-combo-input" data-show="showCustomInput"><input id="camunda-'+u(o.id)+'-input" type="text" name="custom-'+u(r)+'"  /></div>',t&&(n.html+=p(t)),n}},{"../Utils":28,"./EntryFieldDescription":38,"./SelectEntryFactory":44,"lodash/assign":792,"lodash/find":798,"min-dom":835}],37:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,o=e("./TextInputEntryFactory"),r=e("./TextInputButtonEntryFactory"),a=e("./HtmlFactory"),s=e("./UsersEntryFactory"),l=e("./usersTaskNodeEntryFactory"),c=e("./LocalNodeFactory"),u=e("./InputAndButtonEntryFactory"),d=e("./TextInputDateEntryFactory"),p=e("./CheckboxEntryFactory"),h=e("./SelectEntryFactory"),f=e("./TextInputDisplayNoneEntryFactory"),m=e("./ComboEntryFactory"),g=e("./TextBoxEntryFactory"),v=e("./ValidationAwareTextInput"),y=e("./TableEntryFactory"),b=e("./LabelFactory"),x=e("./LinkEntryFactory"),w=e("../helper/CmdHelper");function k(e){if(!e)throw new Error(e+" must be set.");return e}function E(o){return{id:o.id,description:o.description||"",get:o.get||function(e){var t=i(e),n={},e=k(o.modelProperty);return n[e]=t.get(e),n},set:o.set||function(e,t){var n={},i=k(o.modelProperty);return""!==t[i]?n[i]=t[i]:n[i]=void 0,w.updateProperties(e,n)},validate:o.validate||function(){return{}},html:o.html}}function C(){}C.textField=function(e){return o(e,E(e))},C.htmlField=function(e){return a(e,E(e))},C.inputAndButtonField=function(e){return u(e,E(e))},C.localUserTaskNodeField=function(e){return c(e,E(e))},C.textButtonField=function(e){return r(e,E(e))},C.textInputDisplayNoneField=function(e){return f(e,E(e))},C.textDateField=function(e){return d(e,E(e))},C.validationAwareTextField=function(e){return v(e,E(e))},C.checkbox=function(e){return p(e,E(e))},C.textBox=function(e){return g(e,E(e))},C.selectBox=function(e){return h(e,E(e))},C.usersField=function(e){return s(e,E(e))},C.usersTaskNodeField=function(e){return l(e,E(e))},C.comboBox=function(e){return m(e)},C.table=function(e){return y(e)},C.label=function(e){return b(e)},C.link=function(e){return x(e)},t.exports=C},{"../helper/CmdHelper":61,"./CheckboxEntryFactory":35,"./ComboEntryFactory":36,"./HtmlFactory":39,"./InputAndButtonEntryFactory":40,"./LabelFactory":41,"./LinkEntryFactory":42,"./LocalNodeFactory":43,"./SelectEntryFactory":44,"./TableEntryFactory":45,"./TextBoxEntryFactory":46,"./TextInputButtonEntryFactory":48,"./TextInputDateEntryFactory":49,"./TextInputDisplayNoneEntryFactory":50,"./TextInputEntryFactory":51,"./UsersEntryFactory":52,"./ValidationAwareTextInput":53,"./usersTaskNodeEntryFactory":54,"bpmn-js/lib/util/ModelUtil":419}],38:[function(e,t,n){"use strict";var s=e("../Utils").escapeHTML;t.exports=function(e){for(var t,n,i,o=[],r=/(?:\[([^\]]+)\]\((https?:\/\/[^"<>\]]+)\))|(?:<a href="(https?:\/\/[^"<>]+)">([^<]*)<\/a>)/gi,a=0;t=r.exec(e);)t.index>a&&o.push(s(e.substring(a,t.index))),n=t[2]||t[3],i=t[1]||t[4],o.push('<a href="'+n+'" target="_blank">'+s(i)+"</a>"),a=t.index+t[0].length;return a<e.length&&o.push(s(e.substring(a))),'<div class="bpp-field-description">'+o.join("")+"</div>"}},{"../Utils":28}],39:[function(e,t,n){"use strict";var i=e("../../../index"),o=(e("../Utils").escapeHTML,e("../ElementRegistryUtils").getUserTaskType,e("../ElementRegistryUtils").getElement,e("../ElementRegistryUtils")._bpmnDefinitions,e("../ElementRegistryUtils").getMainProcessId,e("min-dom").query,e("./EntryFieldDescription"),e("../provider/activiti/parts/implementation/ExtensionElements"),e("../helper/ExtensionElementsHelper"),e("../helper/CmdHelper"),e("../helper/ElementHelper"),e("../helper/ImplementationTypeHelper"),e("../template/generateHtml").restFulForm,e("jquery"));t.exports=function(e,t){var n=t;e.bpmnFactory;return n.html=t.html,o(function(){o("#setLocalRestFul").unbind().bind("click",function(){var e=o("#camunda-id").val(),e=i.bpmnModeler.get("elementRegistry").get(e);open("节点【"+e.businessObject.name+"】事件设置",0,e.businessObject.id)})}),n}},{"../../../index":23,"../ElementRegistryUtils":25,"../Utils":28,"../helper/CmdHelper":61,"../helper/ElementHelper":66,"../helper/ExtensionElementsHelper":69,"../helper/ImplementationTypeHelper":72,"../provider/activiti/parts/implementation/ExtensionElements":124,"../template/generateHtml":164,"./EntryFieldDescription":38,jquery:624,"min-dom":835}],40:[function(e,t,n){"use strict";e("../../../index");var i=o(e("jquery"));o(e("../helper/XMLHelper")),o(e("../helper/ElementHelper")),o(e("../helper/CanvsHelper"));function o(e){return e&&e.__esModule?e:{default:e}}e("bpmn-js/lib/util/ModelUtil").getBusinessObject,e("../helper/CmdHelper"),e("../Utils").escapeHTML,e("../ElementRegistryUtils").getUserTaskType,e("../ElementRegistryUtils").getAllUserTask,e("../ElementRegistryUtils").getElement,e("../ElementRegistryUtils")._bpmnDefinitions,e("../ElementRegistryUtils").getMainProcessId,e("./EntryFieldDescription"),e("bootstrap");t.exports=function(e,t){e.bpmnFactory,e.element;var n=t,t=n.id;e.label,e.disabled&&e.disabled,e.hidden&&e.hidden,e.description;return n.html='<div class="input-group">\n<input type="text"  style="height: 32px; margin-top: 1px;" class="form-control typeName "   readonly="readonly"> <span class="input-group-btn">\n<span class="layui-btn selectType"   style="height: 31px">选择</span>\n</div><div class="input-group" style="padding-top: 6px"><span class="layui-btn model-save">保存</span>\n<span class="layui-btn model-publish">发布</span>\n',n.cssClasses=["bpp-checkbox"],(0,i.default)(function(){(0,i.default)(".model-save").unbind().bind("click",function(){})}),n}},{"../../../index":23,"../ElementRegistryUtils":25,"../Utils":28,"../helper/CanvsHelper":59,"../helper/CmdHelper":61,"../helper/ElementHelper":66,"../helper/XMLHelper":80,"./EntryFieldDescription":38,bootstrap:224,"bpmn-js/lib/util/ModelUtil":419,jquery:624}],41:[function(e,t,n){"use strict";t.exports=function(n){return{id:n.id,html:'<label data-value="label" data-show="showLabel" class="entry-label'+(n.divider?" divider":"")+'"></label>',get:function(e,t){return"function"==typeof n.get?n.get(e,t):{label:n.labelText}},showLabel:function(e,t){return"function"!=typeof n.showLabel||n.showLabel(e,t)}}}},{}],42:[function(e,t,n){"use strict";var s=e("../Utils").escapeHTML,l=e("./EntryFieldDescription"),c=e("lodash/bind");t.exports=function(e){var t=e.id,n=e.label||t,i=e.showLink,o=e.handleClick,r=e.description;if(i&&"function"!=typeof i)throw new Error("options.showLink must be a function");if("function"!=typeof o)throw new Error("options.handleClick must be a function");var a={id:t};return a.html='<a data-action="handleClick" '+(i?'data-show="showLink" ':"")+'class="bpp-entry-link'+(e.cssClasses?" "+s(e.cssClasses):"")+'">'+s(n)+"</a>",r&&(a.html+=l(r)),a.handleClick=c(o,a),"function"==typeof i&&(a.showLink=function(){return i.apply(a,arguments)}),a}},{"../Utils":28,"./EntryFieldDescription":38,"lodash/bind":793}],43:[function(e,t,n){"use strict";var a=e("../../../index"),i=(e("../Utils").escapeHTML,e("../ElementRegistryUtils").getUserTaskType,e("../ElementRegistryUtils").getAllUserTask),p=e("../ElementRegistryUtils").getElement,h=(e("../ElementRegistryUtils")._bpmnDefinitions,e("../ElementRegistryUtils").getMainProcessId),f=(e("min-dom").query,e("./EntryFieldDescription"),e("../provider/activiti/parts/implementation/ExtensionElements"),e("../helper/ExtensionElementsHelper"),e("../helper/CmdHelper"),e("../helper/ElementHelper")),m=(e("../helper/ImplementationTypeHelper"),e("../template/generateHtml").restFulForm,e("jquery"));t.exports=function(e,t){var n=t,r=e.bpmnFactory;function o(e){var t,n,i,o,r=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}(),a='<tr class="layui-table-ui-restFul">\n\n            <td>\n <a href="javascript:javaScript:void(0)"  class="btn btn-sm btn-default fa fa-chevron-up up"></a>\n                <a href="javascript:javaScript:void(0)"  class="btn btn-sm btn-default fa fa-chevron-down down"></a>                <a class="btn btn-default fa fa-trash-o btn_remove" title="移除" ></a>\n            </td>\n            <td><table class="table table-bordered">\n                <tbody><tr>\n                    <th style="width: 15%;">\n                        <span>地址:</span>\n                        <span class="required">*</span>\n                    </th>\n                    <td>\n';a+=e?'    <input class="form-control "  type="text"  name="url" value="'+e.url+'">\n':'                        <input class="form-control "  type="text"  name="url">\n',a+='                    </td>\n                </tr>\n                <tr>\n                    <th>\n                        <span>描述:</span>\n                        <span class="required">*</span>\n                    </th>\n                    <td>\n',a+=e?'    <input class="form-control "  type="text"  name="desc" value="'+e.desc+'">\n':'                        <input class="form-control "  type="text"  name="desc">\n',a+='   </td>\n                </tr>\n                <tr>\n                    <th>\n                        <span>类型:</span>\n                        <span class="required">*</span>\n                    </th>\n                    <td>\n',e?(t=e.invokeMode,""==m.trim(t)?a+='                        <label class="radio-inline">\n                            <input type="radio" value="1"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" >异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'">同步\n                        </label>\n                    </td>\n':m.trim(t)==m.trim("0")?a+='                        <label class="radio-inline">\n                            <input type="radio" value="1"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" >异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"  checked class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'">同步\n                        </label>\n                    </td>\n':a+='                        <label class="radio-inline">\n                            <input type="radio" value="1" checked  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" >异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"   class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'">同步\n                        </label>\n                    </td>\n'):a+='                        <label class="radio-inline">\n                            <input type="radio" value="1"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" >异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'">同步\n                        </label>\n                    </td>\n',a+="                </tr>\n",a+="                <tr>\n                    <th>\n                        <span>触发时机:</span>\n                    </th>\n                    <td>\n",e?(i=e.callTime,""!=m.trim(i)?(0<=i.indexOf("startEvent")?a+='                        <label   class="checkbox-inline ng-scope"><input name="callTime" type="checkbox" checked value="startEvent" class="ng-pristine ">流程启动时</label>\n':a+='                        <label   class="checkbox-inline ng-scope"><input name="callTime" type="checkbox" value="startEvent" class="ng-pristine ">流程启动时</label>\n',0<=i.indexOf("endEvent")?a+='                        <label  class="checkbox-inline ng-scope"><input name="callTime" checked  type="checkbox"  value="endEvent" class="ng-pristine ">流程结束时</label>\n':a+='                        <label  class="checkbox-inline ng-scope"><input name="callTime"  type="checkbox"  value="endEvent" class="ng-pristine ">流程结束时</label>\n',0<=i.indexOf("taskCreate")?a+='                        <label class="checkbox-inline"><input  checked name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node">任务创建时</label>\n':a+='                        <label class="checkbox-inline"><input  name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node">任务创建时</label>\n',0<=i.indexOf("taskComplete")?a+='                        <label class="checkbox-inline"><input checked name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node">任务结束时</label>\n':a+='                        <label class="checkbox-inline"><input name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node">任务结束时</label>\n'):a+='                        <label   class="checkbox-inline ng-scope"><input name="callTime" type="checkbox" value="startEvent" class="ng-pristine ">流程启动时</label>\n                        <label  class="checkbox-inline ng-scope"><input name="callTime"  type="checkbox"  value="endEvent" class="ng-pristine ">流程结束时</label>\n                        <label class="checkbox-inline"><input  name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node">任务创建时</label>\n                        <label class="checkbox-inline"><input name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node">任务结束时</label>\n'):a+='                        <label   class="checkbox-inline ng-scope"><input name="callTime" type="checkbox" value="startEvent" class="ng-pristine ">流程启动时</label>\n                        <label  class="checkbox-inline ng-scope"><input name="callTime"  type="checkbox"  value="endEvent" class="ng-pristine ">流程结束时</label>\n                        <label class="checkbox-inline"><input  name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node">任务创建时</label>\n                        <label class="checkbox-inline"><input name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node">任务结束时</label>\n',a+="                    </td>\n",e&&(i=e.callTime,n=e.callNodes,(0<=i.indexOf("taskCreate")||0<=i.indexOf("taskComplete"))&&(i=u(),o="",0<i.length&&(m(i).each(function(e,t){o+='<label  class="checkbox-inline ng-binding ng-scope">\n',0<=n.indexOf(t.businessObject.id)?o+='<input type="checkbox" name="callNodes" checked   value="'+t.businessObject.id+'" class="ng-pristine ng-untouched ng-valid ng-empty">'+t.businessObject.name+"\n":o+='<input type="checkbox" name="callNodes"    value="'+t.businessObject.id+'" class="ng-pristine ng-untouched ng-valid ng-empty">'+t.businessObject.name+"\n",o+="</label>\n"}),a+='<tr class="ng-scope">\n<th>\n<span>触发节点<a href="javascript:;" style="text-decoration: none;" title="如果选择节点则只有对应节点才执行，否则默认全部节点都会执行。" class="fa fa-exclamation-circle ht-help" ht-tip=""> </a>:</span>\n</th>\n<td>\n'+o+"</td>\n</tr>"))),a+="\n                <tr>\n                    <th>\n                        <span>接口头部（header）:</span>\n                    </th>\n                    <td>\n",a+=e?'                        <input class="form-control " type="text" ng-model="restful.header" name="header" value="'+e.header+'" >\n':'                        <input class="form-control " type="text" ng-model="restful.header" name="header" >\n',a+="                    </td>\n                </tr>\n                </tbody></table></td>\n        </tr>",m("#layui-table-restFul").find(".layui-table-ui-restFul:last").after(a),s(),d(),l(),c()}function s(){var e=m("#right-sidebar-setRestFul").find(".btn_remove");m(e).each(function(e,t){t.addEventListener("click",function(){m(t).parent().parent().empty()})})}function l(){var e=m("#right-sidebar-setRestFul").find(".down");m(e).each(function(e,n){n.addEventListener("click",function(){var e=m(n).parent().parent(),t=e.next();0<t.length&&e.insertAfter(t)})})}function c(){var e=m("#right-sidebar-setRestFul").find(".up");m(e).each(function(e,n){n.addEventListener("click",function(){var e=m(n).parent().parent(),t=e.next();0<t.length&&e.insertAfter(t)})})}function u(){return i(a.bpmnModeler)}function d(){m(".ng-pristine-node").unbind("change"),m(".ng-pristine-node").change(function(){var e,t,n;m(this).is(":checked")?(e=m(this).parent().parent().parent().parent().find("tr:eq(3)"),0<=m(this).parent().parent().parent().parent().find("tr:eq(4)").html().indexOf("触发节点")||(t=u(),n="",0<t.length&&(m(t).each(function(e,t){n+='<label  class="checkbox-inline ng-binding ng-scope">\n',n+='<input type="checkbox" name="callNodes"   value="'+t.businessObject.id+'" class="ng-pristine ng-untouched ng-valid ng-empty">'+t.businessObject.name+"\n",n+="</label>\n"}),e.after('<tr class="ng-scope">\n<th>\n<span>触发节点<a href="javascript:;" style="text-decoration: none;" title="如果选择节点则只有对应节点才执行，否则默认全部节点都会执行。" class="fa fa-exclamation-circle ht-help" ht-tip=""> </a>:</span>\n</th>\n<td>\n'+n+"</td>\n</tr>")))):0==m(this).parent().parent().find("input[class='ng-pristine-node']:checked").length&&0<=m(this).parent().parent().parent().parent().find("tr:eq(4)").html().indexOf("触发节点")&&m(this).parent().parent().parent().parent().find("tr:eq(4)").remove()})}return n.html=t.html,m(function(){for(var e=document.getElementsByClassName("ng-pristine-globalRestFul-radio"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){});m("#setRestFul").unbind().bind("click",function(){layer.open({type:1,title:"全局事件设置",area:["800px","500px"],btn:["保存","取消"],content:m("#right-sidebar-setRestFul"),end:function(){m("#right-sidebar-setRestFul").hide()},success:function(e,t){m("#restFul-addLine").unbind().bind("click",function(){o(null)}),s(),d(),l(),c(),u(),function(){for(var e=h(a.bpmnModeler)[0],t=p(a.bpmnModeler,e).businessObject.$parent.rootElements,n=!1,i=0;i<t.length;i++)n="restful:Global"==t[i].$type;n||o(null),m(t).each(function(e,t){"restful:Global"==t.$type&&(t.desc,t.header,t.id,t.invokeMode,t.url,t.callNodes,o(t))})}()},yes:function(e,t){var c,n=(c=[],i=m(".layui-table-ui-restFul"),m(i).each(function(e,t){var n,i,o,r,a,s,l;!t.hasChildNodes()||(n=m(t).find("input[name='url']").val())&&(i=m(t).find("input[name='desc']").val(),o=m(t).find("input[name='header']").val(),r=m(t).find("input:radio:checked").val(),a=new Array,s=m(t).find("input[name='callTime']"),m.each(s,function(){this.checked&&a.push(m(this).val())}),s=a.join(","),l=new Array,t=m(t).find("input[name='callNodes']"),m.each(t,function(){this.checked&&l.push(m(this).val())}),t=l.join(","),c.push({url:n,desc:i,header:o,invokeMode:r,callNodes:t,callTime:s}))}),c),i=h(a.bpmnModeler)[0],o=p(a.bpmnModeler,i).businessObject.$parent;!function(){for(var e=h(a.bpmnModeler)[0],t=p(a.bpmnModeler,e).businessObject.$parent.rootElements,n=0,i=!0,o=t.length;n<o;i&&n++)i=!t[n]||"restful:Global"!=t[n].$type||(t.splice(n,1),!1)}(),m(n).each(function(e,t){t=f.createElement("restful:Global",t,o,r);o.rootElements.push(t)}),layer.close(e),m(".layui-table-ui-restFul").empty()},btn2:function(e,t){m(".layui-table-ui-restFul").empty()},cancel:function(){m(".layui-table-ui-restFul").empty()}})})}),n}},{"../../../index":23,"../ElementRegistryUtils":25,"../Utils":28,"../helper/CmdHelper":61,"../helper/ElementHelper":66,"../helper/ExtensionElementsHelper":69,"../helper/ImplementationTypeHelper":72,"../provider/activiti/parts/implementation/ExtensionElements":124,"../template/generateHtml":164,"./EntryFieldDescription":38,jquery:624,"min-dom":835}],44:[function(e,t,n){"use strict";var c=e("../Utils").escapeHTML,u=e("min-dom").domify,d=e("lodash/forEach"),p=e("./EntryFieldDescription");t.exports=function(e,t){var n=t,i=e.label||n.id,r=e.selectOptions||[{name:"",value:""}],o=e.modelProperty,a=e.emptyParameter,s=!!e.disabled&&"function"==typeof e.disabled,l=!!e.hidden&&"function"==typeof e.hidden,t=e.description;return a&&(r=r.concat([{name:"",value:""}])),n.html='<label for="camunda-'+c(n.id)+'"'+(s?'data-disable="isDisabled" ':"")+(l?'data-show="isHidden" ':"")+">"+c(i)+'</label><select id="camunda-'+c(n.id)+'-select" name="'+c(o)+'"'+(s?'data-disable="isDisabled" ':"")+(l?'data-show="isHidden" ':"")+" data-value>",(o=r)&&"[object Array]"===Object.prototype.toString.call(o)&&d(r,function(e){n.html+='<option value="'+c(e.value)+'">'+(e.name?c(e.name):"")+"</option>"}),n.html+="</select>",t&&"function"!=typeof e.showCustomInput&&(n.html+=p(t)),n.setControlValue=function(e,t,n,i,o){if("function"==typeof r){e=r(e,n);if(e){for(;n.firstChild;)n.removeChild(n.firstChild);d(e,function(e){e=u('<option value="'+e.value+'">'+e.name+"</option>");n.appendChild(e)})}}void 0!==o&&(n.value=o)},s&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),l&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-dropdown"],n}},{"../Utils":28,"./EntryFieldDescription":38,"lodash/forEach":801,"min-dom":835}],45:[function(e,t,n){"use strict";var v=e("../Utils").escapeHTML,y=e("../helper/CmdHelper"),i=e("min-dom").query,b=e("min-dom").attr,x=e("min-dom").closest,o=e("lodash/filter"),w=e("lodash/forEach"),p=e("lodash/keys"),k=e("min-dom").domify,E=e("./EntryFieldDescription"),C=e("selection-update"),a='<div class="bpp-field-wrapper bpp-table-row">';function S(e,t){var n,i,o,r=a;return r+=(n=t,i=e.length,o="",w(e,function(e){o+='<input class="bpp-table-row-columns-'+i+" "+(n?"bpp-table-row-removable":"")+'" id="camunda-table-row-cell-input-value" type="text" name="'+v(e)+'" />'}),o),r+=t?'<button class="clear" data-action="deleteElement"><span>X</span></button>':"",r+="</div>"}function T(e){var t,n,i=a;return i+=(t=e.length,n="",w(e,function(e){n+='<label class="bpp-table-row-columns-'+t+'">'+v(e)+"</label>"}),n),i+="</div>"}function _(n,c,e,u,d){return o(e,function(e,t){return i=n,o=c,r=e,a=u[t],s=d,l=t,!(!(r&&!a)&&p(r).concat(p(a)).every(function(e){var t=r[e]||void 0,n=a[e]||void 0;return!s(i,o,e,l)||t===n}));var i,o,r,a,s,l})}function N(e){return x(e,"[data-entry]",!0)}function A(e){return i("div[data-list-entry-container]",e)}t.exports=function(l){function c(e,t){return t=o(e,t),i=r,(t||[]).map(function(t){var n={};return w(i,function(e){n[e]=t[e]||""}),n});var i}var e=l.id,r=l.modelProperties,t=l.labels,n=l.description,i=T(t),o=l.getElements,u=l.removeElement,a="function"==typeof u,d=l.addElement,t=l.addLabel||"Add Value",p=l.updateElement,h="function"==typeof p,f=l.editable||function(){return!0},m=l.setControlValue,s=l.show,g="function"==typeof s,n={id:e,html:("function"==typeof d?'<div class="bpp-table-add-row" '+(g?'data-show="show"':"")+"><label>"+v(t)+'</label><button class="add" data-action="addElement"><span>+</span></button></div>':"")+'<div class="bpp-table" data-show="showTable"><div class="bpp-field-wrapper bpp-table-row">'+i+"</div><div data-list-entry-container></div></div>"+(n?E(n):""),get:function(e,t){var i=c(e,t,this.__invalidValues),t=this.__invalidValues;return delete this.__invalidValues,w(t,function(t,e){var n=i[e];w(r,function(e){n[e]=t[e]})}),i},set:function(i,o,r){var e=this.__action||{};if(delete this.__action,"delete-element"===e.id)return u(i,r,e.idx);if("add-element"===e.id)return d(i,r);if(h){var a=[],e=o;"function"!=typeof l.validate&&(e=_(i,r,o,c(i,r),f));var s=this;return w(e,function(e){var t,n=o.indexOf(e);(t="function"==typeof l.validate?l.validate(i,e,r,n):t)?(s.__invalidValues=s.__invalidValues||{},s.__invalidValues[n]=e,a.push(y.updateProperties(i,{}))):(n=p(i,e,r,n))&&a.push(n)}),a}},createListEntryTemplate:function(e,t,n){return S(r,a)},addElement:function(e,t,n,i){var o=k(S(r,a));return A(t).appendChild(o),this.__action={id:"add-element"},!0},deleteElement:function(e,t,n,i){var o=A(t),t=n.delegateTarget.parentNode,n=parseInt(b(t,"data-index"),10);return o.removeChild(t),this.__action={id:"delete-element",idx:n},!0},editable:function(e,t,n,i,o,r){t=x(t,"[data-entry]");return f(e,t,i,r)},show:function(e,t,n,i){return t=N(t),s(e,t,n,i)},showTable:function(e,t,n,i){t=N(t);var o=c(e,t);return o&&o.length&&(!g||s(e,t,n,i))},validateListItem:function(e,t,n,i){if("function"==typeof l.validate)return l.validate(e,t,n,i)}};return m&&(n.setControlValue=function(e,t,n,i,o,r){var a,s=N(t),l=b(n,"readonly"),t=n.value;void 0===o&&(o=""),l&&t===o||(document.activeElement===n&&(a=C({start:n.selectionStart,end:n.selectionEnd},t,o)),m(e,s,n,i,o,r),a&&(a=a,(n=n).selectionStart=a.start,n.selectionEnd=a.end))}),n}},{"../Utils":28,"../helper/CmdHelper":61,"./EntryFieldDescription":38,"lodash/filter":797,"lodash/forEach":801,"lodash/keys":818,"min-dom":835,"selection-update":847}],46:[function(e,t,n){"use strict";var r=e("../Utils").escapeHTML,a=e("./EntryFieldDescription");t.exports=function(e,t){var n=t,i=e.label||n.id,o=!!e.show&&"function"==typeof e.show,t=e.description;return n.html='<label for="camunda-'+r(n.id)+'" '+(o?'data-show="isShown"':"")+">"+i+'</label><div  class="bpp-field-wrapper" '+(o?'data-show="isShown"':"")+'><div style="height: 40px" contenteditable="true" id="camunda-'+r(n.id)+'" name="'+r(e.modelProperty)+'" /></div>',t&&(n.html+=a(t)),o&&(n.isShown=function(){return e.show.apply(n,arguments)}),n.cssClasses=["bpp-textbox"],n}},{"../Utils":28,"./EntryFieldDescription":38}],47:[function(e,t,n){"use strict";var p=e("../Utils").escapeHTML,p=e("../Utils").escapeHTML,h=e("min-dom").query,f=e("./EntryFieldDescription");t.exports=function(n,e){var t=e,i=n.label||t.id,o=n.dataValueLabel,r=n.buttonLabel||"X",a=void 0!==n.buttonAction?n.buttonAction.name:"clear",s=void 0!==n.buttonAction?n.buttonAction.method:function(e,t){return!(h('input[name="'+n.modelProperty+'"]',t).value="")},l=void 0!==n.buttonShow?n.buttonShow.name:"canClear",c=void 0!==n.buttonShow?n.buttonShow.method:function(e,t){return""!==h('input[name="'+n.modelProperty+'"]',t).value},u=!!n.disabled&&"function"==typeof n.disabled,d=!!n.hidden&&"function"==typeof n.hidden,e=n.description;return t.html='<label for="camunda-'+p(t.id)+'" '+(u?'data-disable="isDisabled" ':"")+(d?'data-show="isHidden" ':"")+(o?'data-value="'+p(o)+'"':"")+">"+p(i)+'</label><div class="bpp-field-wrapper" '+(u?'data-disable="isDisabled"':"")+(d?'data-show="isHidden"':"")+'><input id="camunda-'+p(t.id)+'" type="text" name="'+p(n.modelProperty)+'" '+(u?'data-disable="isDisabled"':"")+(d?'data-show="isHidden"':"")+' /><button class="'+p(a)+'" data-action="'+p(a)+'" data-show="'+p(l)+'" '+(u?'data-disable="isDisabled"':"")+(d?' data-show="isHidden"':"")+"><span>"+p(r)+'</span></button></div><a type="button" class="layui-btn" >选择候选人</a>',e&&(t.html+=f(e)),t[a]=s,t[l]=c,u&&(t.isDisabled=function(){return n.disabled.apply(t,arguments)}),d&&(t.isHidden=function(){return!n.hidden.apply(t,arguments)}),t.cssClasses=["bpp-textfield"],t}},{"../Utils":28,"./EntryFieldDescription":38,"min-dom":835}],48:[function(e,t,n){"use strict";e("layui-src");var i,r=e("../../../index.js"),a=(i=e("jquery"))&&i.__esModule?i:{default:i};var s=e("../Utils").escapeHTML;e("min-dom").query;layui.config({dir:"/dist/"});e("bootstrap");var l=e("./EntryFieldDescription");t.exports=function(e,t){var n=t,i=e.label||n.id,o=!!e.show&&"function"==typeof e.show,t=e.description;return n.html='<label for="camunda-'+s(n.id)+'" '+(o?'data-show="isShown"':"")+">"+i+'</label><div class="bpp-field-wrapper" '+(o?'data-show="isShown"':"")+'><div contenteditable="true" id="camunda-'+s(n.id)+'" name="'+s(e.modelProperty)+'" /></div><a type="button" id="test" class="layui-btn"  >选择候选人</a> ',t&&(n.html+=l(t)),o&&(n.isShown=function(){return e.show.apply(n,arguments)}),n.cssClasses=["bpp-textbox"],(0,a.default)(function(){document.getElementById("test").addEventListener("click",function(){layer.open({type:1,title:"新建配置",closeBtn:!1,shift:2,area:["600px","500px"],shadeClose:!0,btn:["新增","取消"],btnAlign:"c",content:(0,a.default)("#add-main"),end:function(){(0,a.default)("#add-main").hide()},success:function(e,t){},yes:function(){},no:function(){(0,a.default)("#camunda-assignee").val();(0,a.default)("#camunda-candidateGroups").val("1,3,5"),(0,a.default)("#camunda-candidateGroups").trigger("click");var e=r.bpmnModeler.get("elementRegistry").get("UserTask_17hj2l6");e.businessObject.name="333",r.bpmnModeler.get("modeling").updateProperties(e,{name:"333",candidateUsers:"22",candidateGroups:"11,22,33"})},cancel:function(){(0,a.default)("#camunda-assignee").val();(0,a.default)("#camunda-candidateGroups").val("1,3,5"),(0,a.default)("#camunda-candidateGroups").trigger("click");var e=r.bpmnModeler.get("elementRegistry").get("UserTask_17hj2l6");e.businessObject.name="333",r.bpmnModeler.get("modeling").updateProperties(e,{name:"333",candidateUsers:"22",candidateGroups:"11,22,33"})}})})}),n}},{"../../../index.js":23,"../Utils":28,"./EntryFieldDescription":38,bootstrap:224,jquery:624,"layui-src":625,"min-dom":835}],49:[function(e,t,n){"use strict";e("layui-src");e("../../../index.js");var i,r=(i=e("jquery"))&&i.__esModule?i:{default:i};var a=e("../Utils").escapeHTML;e("min-dom").query;layui.config({dir:"/dist/"});e("bootstrap");var s=e("./EntryFieldDescription");t.exports=function(e,t){var n=t,i=e.label||n.id,o=!!e.show&&"function"==typeof e.show,t=e.description;return n.html='<label for="camunda-'+a(n.id)+'" '+(o?'data-show="isShown"':"")+">"+i+'</label><div class="bpp-field-wrapper" '+(o?'data-show="isShown"':"")+'><div contenteditable="true" id="camunda-'+a(n.id)+'" name="'+a(e.modelProperty)+'" /></div>',t&&(n.html+=s(t)),o&&(n.isShown=function(){return e.show.apply(n,arguments)}),n.cssClasses=["bpp-textbox"],(0,r.default)(function(){}),n}},{"../../../index.js":23,"../Utils":28,"./EntryFieldDescription":38,bootstrap:224,jquery:624,"layui-src":625,"min-dom":835}],50:[function(e,t,n){"use strict";var i;(i=e("jquery"))&&i.__esModule,e("../../../index");var p=e("../Utils").escapeHTML,h=e("min-dom").query,f=e("./EntryFieldDescription");e("../provider/activiti/parts/implementation/ExtensionElements"),e("../helper/ExtensionElementsHelper"),e("../helper/CmdHelper"),e("../helper/ElementHelper"),e("../helper/ImplementationTypeHelper");t.exports=function(n,e){var t=e,i=n.label||t.id,o=n.dataValueLabel,r=n.buttonLabel||"X",a=void 0!==n.buttonAction?n.buttonAction.name:"clear",s=void 0!==n.buttonAction?n.buttonAction.method:function(e,t){return!(h('input[name="'+n.modelProperty+'"]',t).value="")},l=void 0!==n.buttonShow?n.buttonShow.name:"canClear",c=void 0!==n.buttonShow?n.buttonShow.method:function(e,t){return""!==h('input[name="'+n.modelProperty+'"]',t).value},u=!!n.disabled&&"function"==typeof n.disabled,d=!!n.hidden&&"function"==typeof n.hidden,e=n.description;return t.html='<label style="display: none" for="camunda-'+p(t.id)+'" '+(u?'data-disable="isDisabled" ':"")+(d?'data-show="isHidden" ':"")+(o?'data-value="'+p(o)+'"':"")+">"+p(i)+'</label><div style="display: none" class="bpp-field-wrapper" '+(u?'data-disable="isDisabled"':"")+'data-show="isHidden"><input id="camunda-'+p(t.id)+'" type="text" name="'+p(n.modelProperty)+'" '+(u?'data-disable="isDisabled"':"")+'data-show="isHidden" /><button class="'+p(a)+'" data-action="'+p(a)+'" data-show="'+p(l)+'" '+(u?'data-disable="isDisabled"':"")+' data-show="isHidden"><span>'+p(r)+"</span></button></div>",e&&(t.html+=f(e)),t[a]=s,t[l]=c,u&&(t.isDisabled=function(){return n.disabled.apply(t,arguments)}),d&&(t.isHidden=function(){return!n.hidden.apply(t,arguments)}),t.cssClasses=["bpp-textfield"],t}},{"../../../index":23,"../Utils":28,"../helper/CmdHelper":61,"../helper/ElementHelper":66,"../helper/ExtensionElementsHelper":69,"../helper/ImplementationTypeHelper":72,"../provider/activiti/parts/implementation/ExtensionElements":124,"./EntryFieldDescription":38,jquery:624,"min-dom":835}],51:[function(e,t,n){"use strict";var p=e("../Utils").escapeHTML,h=e("min-dom").query,f=e("./EntryFieldDescription");t.exports=function(n,e){var t=e,i=n.label||t.id,o=n.dataValueLabel,r=n.buttonLabel||"X",a=void 0!==n.buttonAction?n.buttonAction.name:"clear",s=void 0!==n.buttonAction?n.buttonAction.method:function(e,t){return!(h('input[name="'+n.modelProperty+'"]',t).value="")},l=void 0!==n.buttonShow?n.buttonShow.name:"canClear",c=void 0!==n.buttonShow?n.buttonShow.method:function(e,t){return""!==h('input[name="'+n.modelProperty+'"]',t).value},u=!!n.disabled&&"function"==typeof n.disabled,d=!!n.hidden&&"function"==typeof n.hidden,e=n.description;return t.html='<label for="camunda-'+p(t.id)+'" '+(u?'data-disable="isDisabled" ':"")+(d?'data-show="isHidden" ':"")+(o?'data-value="'+p(o)+'"':"")+">"+p(i)+'</label><div class="bpp-field-wrapper" '+(u?'data-disable="isDisabled"':"")+(d?'data-show="isHidden"':"")+'><input id="camunda-'+p(t.id)+'" type="text" name="'+p(n.modelProperty)+'" '+(u?'data-disable="isDisabled"':"")+(d?'data-show="isHidden"':"")+' /><button class="'+p(a)+'" data-action="'+p(a)+'" data-show="'+p(l)+'" '+(u?'data-disable="isDisabled"':"")+(d?' data-show="isHidden"':"")+"><span>"+p(r)+"</span></button></div>",e&&(t.html+=f(e)),t[a]=s,t[l]=c,u&&(t.isDisabled=function(){return n.disabled.apply(t,arguments)}),d&&(t.isHidden=function(){return!n.hidden.apply(t,arguments)}),t.cssClasses=["bpp-textfield"],t}},{"../Utils":28,"./EntryFieldDescription":38,"min-dom":835}],52:[function(e,t,n){"use strict";i(e("layui-src/dist/layui.js"));e("bootstrap-table");var u=e("../../../index.js"),d=i(e("jquery"));function i(e){return e&&e.__esModule?e:{default:e}}var p=e("min-dom").domify,h=e("../ElementRegistryUtils").getMainProcessId,f=e("../ElementRegistryUtils").getElement;e("../helper/ElementHelper");t.exports=function(e,t){var n=t,i=(e.bpmnFactory,e.element),o=p('<div class="table-ch "></div>'),r=p('<div class="btn-group" role="group" ></div>'),a=p('<a class="btn btn-link fa " id="currentNodeId"></a>'),s=p(" <a id='layui-layer-user-add-btn' class=\"btn btn-default fa fa-plus\"></a>");r.appendChild(a),r.appendChild(s),o.appendChild(r);t=p('<div  class="show-grid well refreshNodeDiv  " style="text-align: center; height: 100%;">');const l=u.bpmnModeler.get("elementRegistry");l.filter(e=>"bpmn:UserTask"===e.type);var c=!1,e=h(u.bpmnModeler)[0],a=f(u.bpmnModeler,e).businessObject.$parent.rootElements;(0,d.default)(a).each(function(e,t){var n=i.id;"userAssign:UserRule"==t.$type&&t.nodeId==n&&(c=!0)});s="",s=p(c?'<div class="pull-left " style="line-height: 30px; border: none; width: 50%;">\n已定义规则</div>':'<div class="alert alert-danger show-grid " role="alert" >尚未配置节点人员，请添加人员设置</div>\n'),r=p('<div   class="pull-right" style="border: none;">'),e=p('<a  class="btn btn-success btn-sm fa fa-edit addNodeUserCondition"></a>'),a=p('\'<a  class="btn btn-sm btn-default fa fa-trash-o nodeUsersDel"></a>');return t.appendChild(s),r.appendChild(e),r.appendChild(a),c&&t.appendChild(r),o.appendChild(t),(0,d.default)(function(){}),n.html+=o.innerHTML,n.cssClasses=["bpp-textbox"],n}},{"../../../index.js":23,"../ElementRegistryUtils":25,"../helper/ElementHelper":66,"bootstrap-table":223,jquery:624,"layui-src/dist/layui.js":625,"min-dom":835}],53:[function(e,t,n){"use strict";var i=e("./TextInputEntryFactory");t.exports=function(o,e){var r=o.modelProperty;e.get=function(e,t){var n=this.__lastInvalidValue;delete this.__lastInvalidValue;var i={};return i[r]=void 0!==n?n:o.getProperty(e,t),i},e.set=function(e,t,n){var i=a.apply(this,[e,t,n]),t=t[r];if(i&&i[r])return this.__lastInvalidValue=t,o.setProperty(e,{},n);i={};return i[r]=t,o.setProperty(e,i,n)};var a=e.validate=function(e,t,n){var i=t[r]||this.__lastInvalidValue,t={};return t[r]=i,o.validate(e,t,n)};return i(o,e)}},{"./TextInputEntryFactory":51}],54:[function(e,t,n){"use strict";i(e("layui-src/dist/layui.js"));e("bootstrap-table");var f=e("../../../index.js"),m=i(e("jquery"));function i(e){return e&&e.__esModule?e:{default:e}}var g=e("min-dom").domify,v=e("../ElementRegistryUtils").getMainProcessId,y=e("../ElementRegistryUtils").getElement,b=e("../helper/ElementHelper"),x=e("../ElementRegistryUtils").getCureentNodeInfo;t.exports=function(e,t){var n=t,d=e.bpmnFactory,p=e.element,i=g("<div ></div>"),o=g('<div><label class="layui-form-label" style="width: 300px;padding-left: 20px;text-align: left;">'+x(p)+"</label></div>"),r=g('<form class="layui-form" >'),a=g(' <div class="layui-form-item">\n    <label class="layui-form-label">跳转类型: </label>\n    <div class="layui-input-block jumptype-div" >\n      <input type="checkbox"  lay-skin="primary" name="jumpType_common" value="jumpType_common" title="正常跳转">\n      <input type="checkbox" lay-skin="primary" name="jumpType_free" value="jumpType_free" title="自由跳转" >\n      <input type="checkbox"  lay-skin="primary" name="jumpType_select" value="jumpType_select" title="选择路径跳转">\n    </div>\n  </div><button style="display: none" id="reset" type="reset" class="layui-btn layui-btn-primary">重置</button>'),s=g(' <div class="layui-form-item">\n    <label class="layui-form-label ">通知类型: </label>\n    <div class="layui-input-block notifyType-div">\n      <input type="checkbox"  lay-skin="primary" name="notifyType_voice" value="notifyType_voice" title="语音">\n      <input type="checkbox" lay-skin="primary" name="notifyType_mail" value="notifyType_mail" title="邮件" >\n      <input type="checkbox"  lay-skin="primary" name="notifyType_sms" value="notifyType_sms" title="短信">\n      <input type="checkbox"  lay-skin="primary" name="notifyType_inner" value="notifyType_inner" title="站内消息">\n    </div>\n  </div>'),l=g(' <div class="layui-form-item">\n    <label class="layui-form-label">驳回策略: </label>\n    <div class="layui-input-block backUserMode-div">\n <input type="radio"       name="backUserMode" value="history" title="驳回历史处理人">\n        \n        <input type="radio" name="backUserMode" value="normal" title="驳回节点配置人" >    </div>\n  </div>'),c=g(' <div class="layui-form-item">\n    <label class="layui-form-label">驳回节点: </label>\n    <div class="layui-input-block" style="width:330px">\n <select name="backNode" class="backNode-div" lay-verify="" >\n  <option value="010">北京</option>\n  <option value="0571" >杭州</option>\n  <option value="0572" >杭州</option>\n  <option value="0573" >杭州</option>\n  <option value="0574" >杭州</option>\n  <option value="0575" >杭州</option>\n</select>      </div>\n  </div>'),u=g('   <div class="layui-form-item">\n    <label class="layui-form-label">前置处理:</label>\n    <div class="layui-input-block">\n      <input type="text" name="prevHand" required  lay-verify="required" placeholder="前置处理器" autocomplete="off" class="layui-input prevHand" style="width:330px">\n    </div>\n  </div>'),h=g('   <div class="layui-form-item">\n    <label class="layui-form-label">后置处理:</label>\n    <div class="layui-input-block">\n      <input type="text" name="postHandler" required  lay-verify="required" placeholder="后置处理器" autocomplete="off" class="layui-input postHandler"  style="width:330px">\n    </div>\n  </div>'),t=g('   <div class="layui-form-item" pane>\n    <label class="layui-form-label">审批期限:</label>\n    <div class="layui-input-block dateType-div " style="width:330px">\n      <input type="radio" name="propertie.dateType" value="worktime" title="工作日">\n      <input type="radio" name="propertie.dateType" value="caltime" title="日历日" >\n    <input type="text" name="node_properties_day"   lay-verify="required"autocomplete="off" class="layui-input node_properties_day"  style="width:330px"><label>天</label> <select id="node_properties_hour" name="hour" lay-verify="">\n</select>  <label>小时</label> <select name="minute" lay-verify="" id="node_properties_minute">\n</select>  <label>分</label>    </div>\n  </div>'),e=g('<div class="layui-form-item" id="node_properties_save"> \n    <div class="layui-input-block">\n      <a class="layui-btn layui-btn-sm"  >保存</a>\n    </div>\n  </div>');return r.appendChild(a),r.appendChild(s),r.appendChild(l),r.appendChild(c),r.appendChild(u),r.appendChild(h),r.appendChild(t),i.appendChild(o),i.appendChild(r),i.appendChild(e),n.html=i.innerHTML,(0,m.default)(function(){(0,m.default)("#reset").click(),function(){for(var e=0;e<=59;e++)(0,m.default)("#node_properties_minute").append("<option value="+e+">"+e+"</option>");for(e=0;e<=23;e++)(0,m.default)("#node_properties_hour").append("<option value="+e+">"+e+"</option>");for(var t,n=v(f.bpmnModeler)[0],i=y(f.bpmnModeler,n).businessObject.$parent.rootElements,e=0;e<i.length;e++)if("node:UserProperty"==i[e].$type&&i[e].nodeId==p.id){t=i[e];break}if(t){if("-1"!=t.jumpType)for(var o=t.jumpType.split(","),e=0;e<o.length;e++)(0,m.default)(".jumptype-div").find("input:checkbox[name='"+o[e]+"']").prop("checked",!0);if("-1"!=t.notifyType)for(var r=t.notifyType.split(","),e=0;e<r.length;e++)(0,m.default)(".notifyType-div").find("input:checkbox[name='"+r[e]+"']").prop("checked",!0);if("-1"!=t.backUserMode)for(e=0;e<r.length;e++)(0,m.default)(".backUserMode-div").find("input:radio[value='"+t.backUserMode+"']").prop("checked",!0);(0,m.default)(".backNode-div option[value='"+t.backNode+"']").attr("selected",!0),"-1"!=t.prevHand&&(0,m.default)(".prevHand").val(t.prevHand),"-1"!=t.postHandler&&(0,m.default)(".postHandler").val(t.postHandler),t.dateType&&(0,m.default)(".dateType-div").find("input:radio[value='"+t.dateType+"']").prop("checked",!0),"-1"!=t.nodePropertiesDay&&(0,m.default)(".node_properties_day").val(t.nodePropertiesDay),"-1"!=t.nodePropertiesHour&&(0,m.default)("#node_properties_hour option[value='"+t.nodePropertiesHour+"'] ").attr("selected",!0),"-1"!=t.nodePropertiesMinute&&(0,m.default)("#node_properties_minute option[value='"+t.nodePropertiesMinute+"'] ").attr("selected",!0)}}(),(0,m.default)("#node_properties_save").unbind().bind("click",function(){var e=[];e["node:nodeId"]=p.id;var t,n,i=(0,m.default)(".jumptype-div").find("input:checkbox:checked"),o=(0,m.default)(".notifyType-div").find("input:checkbox:checked"),r=(0,m.default)(".backUserMode-div").find("input:radio:checked").val(),a=(0,m.default)(".dateType-div").find("input:radio:checked").val(),s=(0,m.default)(".node_properties_day").val();i?(t=[],m.default.each(i,function(){t.push((0,m.default)(this).val())}),n=t.join(","),e["node:jumpType"]=n):e["node:jumpType"]="-1",o?(t=[],m.default.each(o,function(){t.push((0,m.default)(this).val())}),n=t.join(","),e["node:notifyType"]=n):e["node:notifyType"]="-1",e["node:backUserMode"]=r||"-1";r=(0,m.default)(".backNode-div option:selected").val();e["node:backNode"]=r||"-1";r=(0,m.default)(".prevHand").val();e["node:prevHand"]=r||"-1";r=(0,m.default)(".postHandler").val();e["node:postHandler"]=r||"-1",e["node:dateType"]=a||"-1",e["node:nodePropertiesDay"]=s||"-1";s=(0,m.default)("#node_properties_hour").val();e["node:nodePropertiesHour"]=s||"-1";s=(0,m.default)("#node_properties_minute").val();e["node:nodePropertiesMinute"]=s||"-1";for(var s=v(f.bpmnModeler)[0],s=y(f.bpmnModeler,s).businessObject.$parent,l=s.rootElements,s=b.createElement("node:UserProperty",{nodeId:e["node:nodeId"],backNode:e["node:backNode"],backUserMode:e["node:backUserMode"],dateType:e["node:dateType"],jumpType:e["node:jumpType"],nodePropertiesDay:e["node:nodePropertiesDay"],notifyType:e["node:notifyType"],postHandler:e["node:postHandler"],prevHand:e["node:prevHand"],nodePropertiesHour:e["node:nodePropertiesHour"],nodePropertiesMinute:e["node:nodePropertiesMinute"]},s,d),c=[],u=0;u<l.length;u++)if("node:UserProperty"==l[u].$type&&l[u].nodeId==p.id){c.push(u);break}if(c)for(u=0;u<c.length;u++)l.splice(c[u],1);l.push(s)})}),n.cssClasses=["bpp-textbox"],n}},{"../../../index.js":23,"../ElementRegistryUtils":25,"../helper/ElementHelper":66,"bootstrap-table":223,jquery:624,"layui-src/dist/layui.js":625,"min-dom":835}],55:[function(e,t,n){"use strict";i(e("layui-src/dist/layui.js"));e("bootstrap-table");var f=e("../../../index.js"),m=i(e("jquery"));function i(e){return e&&e.__esModule?e:{default:e}}var g=e("min-dom").domify,v=e("../ElementRegistryUtils").getMainProcessId,y=e("../ElementRegistryUtils").getElement,b=e("../helper/ElementHelper"),x=e("../ElementRegistryUtils").getCureentNodeInfo;t.exports=function(e,t){var n=t,d=e.bpmnFactory,p=e.element,i=g("<div ></div>"),o=g('<div><label class="layui-form-label" style="width: 300px;padding-left: 20px;text-align: left;">'+x(p)+"</label></div>"),r=g('<form class="layui-form" >'),a=g(' <div class="layui-form-item">\n    <label class="layui-form-label">跳转类型: </label>\n    <div class="layui-input-block jumptype-div" >\n      <input type="checkbox"  lay-skin="primary" name="jumpType_common" value="jumpType_common" title="正常跳转">\n      <input type="checkbox" lay-skin="primary" name="jumpType_free" value="jumpType_free" title="自由跳转" >\n      <input type="checkbox"  lay-skin="primary" name="jumpType_select" value="jumpType_select" title="选择路径跳转">\n    </div>\n  </div><button style="display: none" id="reset" type="reset" class="layui-btn layui-btn-primary">重置</button>'),s=g(" "),l=g(" "),c=g(" "),u=g("   "),h=g("  "),t=g("   "),e=g('<div class="layui-form-item" id="node_properties_save"> \n    <div class="layui-input-block">\n      <a class="layui-btn layui-btn-sm"  >保存</a>\n    </div>\n  </div>');return r.appendChild(a),r.appendChild(s),r.appendChild(l),r.appendChild(c),r.appendChild(u),r.appendChild(h),r.appendChild(t),i.appendChild(o),i.appendChild(r),i.appendChild(e),n.html=i.innerHTML,(0,m.default)(function(){(0,m.default)("#reset").click(),initData(),(0,m.default)("#node_properties_save").unbind().bind("click",function(){var e=[];e["node:nodeId"]=p.id;var t,n,i=(0,m.default)(".jumptype-div").find("input:checkbox:checked"),o=(0,m.default)(".notifyType-div").find("input:checkbox:checked"),r=(0,m.default)(".backUserMode-div").find("input:radio:checked").val(),a=(0,m.default)(".dateType-div").find("input:radio:checked").val(),s=(0,m.default)(".node_properties_day").val();i?(t=[],m.default.each(i,function(){t.push((0,m.default)(this).val())}),n=t.join(","),e["node:jumpType"]=n):e["node:jumpType"]="-1",o?(t=[],m.default.each(o,function(){t.push((0,m.default)(this).val())}),n=t.join(","),e["node:notifyType"]=n):e["node:notifyType"]="-1",e["node:backUserMode"]=r||"-1";r=(0,m.default)(".backNode-div option:selected").val();e["node:backNode"]=r||"-1";r=(0,m.default)(".prevHand").val();e["node:prevHand"]=r||"-1";r=(0,m.default)(".postHandler").val();e["node:postHandler"]=r||"-1",e["node:dateType"]=a||"-1",e["node:nodePropertiesDay"]=s||"-1";s=(0,m.default)("#node_properties_hour").val();e["node:nodePropertiesHour"]=s||"-1";s=(0,m.default)("#node_properties_minute").val();e["node:nodePropertiesMinute"]=s||"-1";for(var s=v(f.bpmnModeler)[0],s=y(f.bpmnModeler,s).businessObject.$parent,l=s.rootElements,s=b.createElement("node:UserProperty",{nodeId:e["node:nodeId"],backNode:e["node:backNode"],backUserMode:e["node:backUserMode"],dateType:e["node:dateType"],jumpType:e["node:jumpType"],nodePropertiesDay:e["node:nodePropertiesDay"],notifyType:e["node:notifyType"],postHandler:e["node:postHandler"],prevHand:e["node:prevHand"],nodePropertiesHour:e["node:nodePropertiesHour"],nodePropertiesMinute:e["node:nodePropertiesMinute"]},s,d),c=[],u=0;u<l.length;u++)if("node:UserProperty"==l[u].$type&&l[u].nodeId==p.id){c.push(u);break}if(c)for(u=0;u<c.length;u++)l.splice(c[u],1);l.push(s)})}),n.cssClasses=["bpp-textbox"],n}},{"../../../index.js":23,"../ElementRegistryUtils":25,"../helper/ElementHelper":66,"bootstrap-table":223,jquery:624,"layui-src/dist/layui.js":625,"min-dom":835}],56:[function(e,t,n){"use strict";var i=e("lodash/map"),o=e("./ExtensionElementsHelper");t.exports.isAsyncBefore=function(e){return!(!e.get("activiti:asyncBefore")&&!e.get("activiti:async"))},t.exports.isExclusive=function(e){return!!e.get("activiti:exclusive")},t.exports.getFailedJobRetryTimeCycle=function(e){return(o.getExtensionElements(e,"activiti:FailedJobRetryTimeCycle")||[])[0]},t.exports.removeFailedJobRetryTimeCycle=function(t,n){var e=o.getExtensionElements(t,"activiti:FailedJobRetryTimeCycle");return i(e,function(e){return o.removeEntry(t,n,e)})}},{"./ExtensionElementsHelper":69,"lodash/map":819}],57:[function(e,t,n){"use strict";var i,o=(i=e("jquery"))&&i.__esModule?i:{default:i};var r={};(t.exports=r).bindClick=function(e,t){(0,o.default)(e).unbind().bind("click",t)}},{jquery:624}],58:[function(e,t,n){"use strict";var s=e("../../../index"),l=i(e("jquery")),a=i(e("./DomOperate")),c=e("bpmn-js/lib/util/ModelUtil");function i(e){return e&&e.__esModule?e:{default:e}}t.exports={};e("./LayerHelper"),e("../ElementRegistryUtils").getAllUserTask;var u=e("./ElementHelper"),d=(e("./UUIdHelper"),e("./CanvsHelper"),e("../ElementRegistryUtils").getMainProcessId),p=(e("../ElementRegistryUtils").getRootProcess,e("../ElementRegistryUtils").getElement),e={};t.exports=e;var h={StartEvent:[{btnName:"启动",alias:"startFlow",cssName:"fa fa-send"},{btnName:"流程图",alias:"flowImage",cssName:"fa fa-newspaper-o"},{btnName:"打印",alias:"print",cssName:"fa fa-print"},{btnName:"保存",alias:"saveDraft",cssName:"fa fa-clipboard"}],UserTask:[{btnName:"同意",alias:"agree"}]};function o(e){var t,n,i;return e?(i=u.getCustomerElementBySingleTypeAndId("extA1:Button",e),(n=u.getButtonElementByChildTypeAndId("extA1:Buttons",e))&&0<n.length||(i=u.getElementById(e)[0])):(i=u.getSelectElement())&&(n=u.getButtonElementBySingleTypeAndId("extA1:Button",i.id)),n&&(0==n.length?(0,c.is)(i,"bpmn:StartEvent")?t=h.StartEvent.length:(0,c.is)(i,"bpmn:UserTask")&&(t=h.UserTask.length):t=n.length),t}function f(e){var t,n="",i=u.getElementDispalyFirstName(e);return e&&(t=o(e.id),n+='  <div class="layui-form alert button_first " data-id="'+e.id+'" style="background-color: #f5f5f5;border: 1px solid #e3e3e3;">',n+=' <span class="btn_node_name">'+i+"</span>",n+=':<span data-id="'+e.id+'" class="layui-badge event_node_count">'+t+"</span>",n+=' <a data-id="'+e.id+'" data-name="'+e.businessObject.name+'" href="javascript:void(0);" class="btn btn-sm btn-info fa fa-cog setNodeBtn"> 编辑</a>\n',n+=" </div>"),n}function m(){(0,l.default)(".setNodeBtn").unbind().bind("click",function(){var e,r,t;e=(0,l.default)(this).attr("data-name")+"节点设置按钮",r=(0,l.default)(this).attr("data-id"),layer.open({type:1,title:e,area:["900px","800px"],skin:"layui-layer-event",btn:["保存","取消"],content:(0,l.default)("#flowNodeSelector"),end:function(){(0,l.default)("#flowNodeSelector").hide()},success:function(e,t){var n,i=u.getSelectElement(),o=u.getCustomerElementBySingleType("extA1:Buttons");o?(o.child?0==(n=u.getButtonElementByChildTypeAndId("extA1:Buttons",r)).length&&(n=(0,c.is)(i,"bpmn:StartEvent")?(h.StartEvent.forEach(function(e){}),h.StartEvent):(0,c.is)(i,"bpmn:UserTask")?(h.UserTask.forEach(function(e){}),h.UserTask):h.StartEvent):n=(0,c.is)(i,"bpmn:StartEvent")?(h.StartEvent.forEach(function(e){}),h.StartEvent):(0,c.is)(i,"bpmn:UserTask")?(h.UserTask.forEach(function(e){}),h.UserTask):h.StartEvent,g(n)):g(n=(0,c.is)(i,"bpmn:StartEvent")?(h.StartEvent.forEach(function(e){}),h.StartEvent):(0,c.is)(i,"bpmn:UserTask")?(h.UserTask.forEach(function(e){}),h.UserTask):h.StartEvent)},yes:function(e,t){var n;!function(n){var e=layui.table.cache.tableBorderedBtn,t=(u.getButtonElementBySingleTypeAndId("extA1:Button",n),d(s.bpmnModeler)[0]),i=p(s.bpmnModeler,t).businessObject.$parent,o=(i.rootElements,[]);(0,l.default)(e).each(function(e,t){t={alias:t.alias,btnName:t.btnName,cssName:t.cssName,beforeScript:t.beforeScript,afterScript:t.afterScript,groovyScript:t.groovyScript,urlForm:t.urlForm,nodeId:n},t=u.createElement("extA1:Button",t,i,s.bpmnModeler.get("bpmnFactory"));o.push(t)});e=u.getCustomerElementBySingleType("extA1:Buttons");if(e&&e.child)for(var r=u.getButtonElementByChildTypeNotId("extA1:Buttons",n),a=0;a<r.length;a++)o.push(r[a]);e.child=o}(r),n=r,(0,l.default)(".event_node_count").parent().find("span[data-id="+n+"]").html(o(n)),layer.close(e)},btn2:function(e,t){},cancel:function(){}}),t=(0,l.default)(this).attr("data-id"),(0,l.default)(".save_node_btn").unbind().bind("click",function(){var t=a.default.inputVal("input[name=btnName]"),n=a.default.inputVal("input[name=btnAlias]"),i=(0,l.default)(".beforeScript").val(),o=(0,l.default)(".afterScript").val(),r=(0,l.default)(".groovyScript").val();layui.use("table",function(){var e=layui.table.cache.tableBorderedBtn;e.push({btnName:t,alias:n,beforeScript:i,afterScript:o,groovyScript:r}),g(e)})}),(0,l.default)(".getButtons").unbind().bind("click",function(){layui.use("table",function(){layui.table;var e=u.getCustomerUserTaskElementById(t)[0],e=(0,c.is)(e,"bpmn:StartEvent")?(h.StartEvent.forEach(function(e){}),h.StartEvent):(0,c.is)(e,"bpmn:UserTask")?(h.UserTask.forEach(function(e){}),h.UserTask):h.StartEvent;g(e)})}),(0,l.default)(".addButton").unbind().bind("click",function(){alert(1)})})}function g(e){var t,n;t=e,layui.use("table",function(){var e=layui.table;n=e.render({elem:"#tableBorderedBtn",data:t,limit:1e3,cols:[[{field:"alias",title:"动作"},{field:"btnName",title:"名称"},{field:"operate",title:"排序",templet:function(e){return'\t\t\t\t\t\t\t\t<a href="javascript:javaScript:void(0)" ng-click="ArrayTool.up($index,buttonList)" class="btn btn-sm btn-default fa fa-chevron-up node_btn_up"></a>\n\t\t\t\t\t\t\t\t<a href="javascript:javaScript:void(0)" ng-click="ArrayTool.down($index,buttonList)" class="btn btn-sm btn-default fa fa-chevron-down node_btn_down"></a>'}},,{field:"operate",title:"操作",templet:function(e){return'<a  class="btn btn-danger btn-sm fa fa-trash-o  delete_row" LAY_INDEX='+e.LAY_INDEX+">删除</a>"}}]]})});(0,l.default)(".node_btn_down").unbind().bind("click",function(){var e=(0,l.default)(this).parent().parent().parent(),t=e.next();t&&e.insertAfter(t)}),(0,l.default)(".node_btn_up").unbind().bind("click",function(){var e=(0,l.default)(this).parent().parent().parent(),t=e.prev();0<e.length&&e.insertBefore(t)}),(0,l.default)(".delete_row").unbind().bind("click",function(){var i=(0,l.default)(this).attr("LAY_INDEX");layui.use("table",function(){for(var e=layui.table.cache.tableBorderedBtn,t=[],n=0;n<e.length;n++)n!=i-1&&t.push(e[n]);g(t)})})}e.localShow=function(){var a;a=u.getSelectElement(),u.getElementDispalyFirstName(a),(0,l.default)(".btn_first_legend").empty().append(u.getElementDispalyFirstName(a)),(0,l.default)("#allBtnNodeDiv").empty().append(f(a)),m(),(0,l.default)(".setAllNodeButton").empty().html("设置所有节点按钮"),(0,l.default)(".setAllNodeButton").unbind().bind("click",function(){var t,e,n,i,o,r;"设置所有节点按钮"==(0,l.default)(this).html()?(t="",e=u.getNotAndShlfCustomerNodeBtnElementById(a.id),n=d(s.bpmnModeler)[0],p(s.bpmnModeler,n).businessObject.$parent.rootElements,i=u.getCustomerElementBySingleType("extA1:Buttons"),o=[],e.forEach(function(t){if(i)if(i.child)if(i.child.forEach(function(e){r=u.getButtonElementByChildTypeAndId("extA1:Buttons",t.id)}),0==r.length)((0,c.is)(t,"bpmn:StartEvent")?(h.StartEvent.forEach(function(e){}),h.StartEvent):(0,c.is)(t,"bpmn:UserTask")?(h.UserTask.forEach(function(e){}),h.UserTask):h.StartEvent).forEach(function(e){e.nodeId=t.id;e=u.createElement("extA1:Button",e,i,s.bpmnModeler.get("bpmnFactory"));o.push(e)});else for(var e=0;e<r.length;e++)o.push(r[e]);else((0,c.is)(t,"bpmn:StartEvent")?(h.StartEvent.forEach(function(e){}),h.StartEvent):(0,c.is)(t,"bpmn:UserTask")?(h.UserTask.forEach(function(e){}),h.UserTask):h.StartEvent).forEach(function(e){e.nodeId=t.id;e=u.createElement("extA1:Button",e,i,s.bpmnModeler.get("bpmnFactory"));o.push(e)})}),0<o.length&&(i.child=o),e.forEach(function(e){t+=f(e)}),(0,l.default)("#allBtnNodeDiv").empty().append(t),m(),(0,l.default)(this).empty().html("隐藏非当前节点按钮")):((0,l.default)("#allBtnNodeDiv").empty().append(f(a)),m(),(0,l.default)(this).empty().html("设置所有节点按钮"))});var e=u.getSelectElement();u.getElementDispalyFirstName(e),o();(0,l.default)("#btn_tool").empty().append('<a  class="btn btn-primary btn-sm fa fa-plus addButton"><span>新建</span></a>\n            <a  class="btn btn-primary btn-sm fa fa-recycle getButtons"><span>初始化按钮</span></a>\n            ')}},{"../../../index":23,"../ElementRegistryUtils":25,"./CanvsHelper":59,"./DomOperate":64,"./ElementHelper":66,"./LayerHelper":74,"./UUIdHelper":78,"bpmn-js/lib/util/ModelUtil":419,jquery:624}],59:[function(o,e,t){"use strict";var n,i=o("min-dash"),r=o("../../../index"),a=(n=o("jquery"))&&n.__esModule?n:{default:n};var s={};e.exports=s;var l,c=(0,a.default)("#js-download-diagram"),u=(0,a.default)("#js-download-svg"),d=(0,a.default)("#js-download-json"),p=(0,a.default)("#js-download-png");function h(e){r.bpmnModeler.saveSVG(e)}function f(n){r.bpmnModeler.saveXML({format:!0},function(e,t){n(e,t)})}function m(e,t,n){var i=encodeURIComponent(n);n?e.addClass("active").attr({href:"data:application/bpmn20-xml;charset=UTF-8,"+i,download:t}):e.removeClass("active")}function g(e,t,n){encodeURIComponent(n);n?e.addClass("active").attr({href:n,download:t}):e.removeClass("active")}function v(){var n,i=new RegExp("bpmn:Definitions","g");return r.bpmnModeler.saveXML({format:!0},function(e,t){n=t.replace(i,"bpmn:definitions")}),n}s.getImg=function(){return l},s.excute=function(){h(function(e,t){var n=o("canvg-browser"),i=document.getElementById("canvas");n(i,t,{log:!1,ignoreMouse:!0});i=i.toDataURL("image/png",1);l=i,g(p,"diagram.png",e?null:i),m(u,"diagram.svg",e?null:t)}),f(function(e,t){var n=v();m(c,"diagram.bpmn",e?null:n);n=r.bpmnModeler.get("canvas").getRootElement().businessObject.$parent;m(d,"diagram.json",e?null:JSON.stringify(n))})},s.exportArtifacts=(0,i.debounce)(function(){h(function(e,t){var n=o("canvg-browser"),i=document.getElementById("canvas");n(i,t,{log:!1,ignoreMouse:!0});i=i.toDataURL("image/png",1);l=i,g(p,"diagram.png",e?null:i),m(u,"diagram.svg",e?null:t)}),f(function(e,t){var n=v();m(c,"diagram.bpmn",e?null:n);n=r.bpmnModeler.get("canvas").getRootElement().businessObject.$parent;m(d,"diagram.json",e?null:JSON.stringify(n))})},500)},{"../../../index":23,"canvg-browser":422,jquery:624,"min-dash":834}],60:[function(e,t,n){"use strict";var i=e("diagram-js/lib/util/Collections").add,o=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,e={};(t.exports=e).createCategoryValue=function(e,t){var n=t.create("bpmn:CategoryValue"),t=t.create("bpmn:Category",{categoryValue:[n]});return i(e.get("rootElements"),t),o(t).$parent=e,o(n).$parent=t,n}},{"bpmn-js/lib/util/ModelUtil":419,"diagram-js/lib/util/Collections":602}],61:[function(e,t,n){"use strict";var i={};(t.exports=i).updateProperties=function(e,t){return{cmd:"element.updateProperties",context:{element:e,properties:t}}},i.updateBusinessObject=function(e,t,n){return{cmd:"properties-panel.update-businessobject",context:{element:e,businessObject:t,properties:n}}},i.addElementsTolist=function(e,t,n,i){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,objectsToAdd:i}}},i.removeElementsFromList=function(e,t,n,i,o){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:i,objectsToRemove:o}}},i.addAndRemoveElementsFromList=function(e,t,n,i,o,r){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:i,objectsToAdd:o,objectsToRemove:r}}},i.setList=function(e,t,n,i){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,updatedObjectList:i}}}},{}],62:[function(e,t,n){"use strict";var o=e("../../../index"),r=i(e("jquery"));i(e("./DomOperate")),e("bpmn-js/lib/util/ModelUtil");function i(e){return e&&e.__esModule?e:{default:e}}t.exports={};e("./LayerHelper"),e("../ElementRegistryUtils").getAllUserTask;var a=e("./ElementHelper"),s=(e("./UUIdHelper"),e("./CanvsHelper"),e("../ElementRegistryUtils").getMainProcessId),l=(e("../ElementRegistryUtils").getRootProcess,e("../ElementRegistryUtils").getElement),e={};(t.exports=e).localShow=function(){var i,e=a.getSelectElement();e&&(i="",0<e.outgoing.length&&e.outgoing.forEach(function(e){var t,n;e.target&&(t=e.id,n=e.target.businessObject.name,i+='<div class="layui-form alert button_first " data-id='+t+' style="background-color: #f5f5f5;border: 1px solid #e3e3e3;padding-left: 4px;"> <span class="btn_node_name">目标节点</span>:'+a.getElementDispalyFirstName(e.target)+'<a data-id="StartEvent_1" sequence_id='+t+" data-id="+t+" data-name="+n+'  href="javascript:void(0);" class="btn btn-danger btn-sm fa fa-edit pull-right condition_btn_set"> 设置</a>\n </div>')}),(0,r.default)(".outComeNodesShow").empty().html(i),(0,r.default)(".condition_btn_set").unbind().bind("click",function(){(0,r.default)(this).attr("data-id");var e=(0,r.default)(this).attr("data-name"),n=(0,r.default)(this).attr("sequence_id"),t=a.getElementById(n),i=s(o.bpmnModeler)[0],i=(l(o.bpmnModeler,i),null!=t[0].businessObject.conditionExpression?t[0].businessObject.conditionExpression.body:""),t=(0,r.default)("#flowCondition").find("table tr").length;(0,r.default)("#flowCondition").find("table tr").slice(1,t).remove(),(0,r.default)("#flowCondition").find("table").append('<tr ng-repeat="outNode in bpmNodeDef.outcomeNodes" class="ng-scope appendoutcomeNodes">\n                <th width="15%">\n                    <span class="ng-binding">'+e+'</span>\n                </th>\n                <td>\n                    <div class="CodeMirror-wrapping" style="position: relative; height: 110px;">\n                        <textarea id="nodeCondition" tabindex="100000" rows="5" style="resize:none;overflow: auto;\n    word-break: break-all;width:100%">'+i+"</textarea>\n                </div>\n                </td>\n            </tr>"),layer.open({type:1,title:"分支条件设置"+n,skin:"layui-layer-user",closeBtn:1,btn:["确认","取消"],shade:[0],area:["800px","500px"],anim:2,content:(0,r.default)("#flowCondition"),success:function(e,t){},end:function(){var e=a.getElementById(n),t=s(o.bpmnModeler)[0],t=l(o.bpmnModeler,t),t=a.createElement("bpmn:FormalExpression",{body:(0,r.default)("#nodeCondition").val()},t,o.bpmnModeler.get("bpmnFactory"));o.bpmnModeler.get("modeling").updateProperties(e[0],{conditionExpression:t}),(0,r.default)("#flowCondition").hide()},yes:function(e,t){layer.close(e)},btn2:function(e,t){},cancel:function(){}}),(0,r.default)(".selectScript").unbind().bind("click",function(){layer.open({type:2,title:"条件脚本选择器",skin:"layui-layer-user",closeBtn:1,btn:["确认","取消"],shade:[0],area:["800px","500px"],anim:2,content:"condition.html",success:function(e,t){},end:function(){},yes:function(e,t){(0,r.default)("#nodeCondition").val(11111111),layer.close(e)},btn2:function(e,t){},cancel:function(){}})})}))}},{"../../../index":23,"../ElementRegistryUtils":25,"./CanvsHelper":59,"./DomOperate":64,"./ElementHelper":66,"./LayerHelper":74,"./UUIdHelper":78,"bpmn-js/lib/util/ModelUtil":419,jquery:624}],63:[function(e,t,n){"use strict";var i;e("summernote/dist/summernote"),i=function(r){r.extend(!0,r.summernote.lang,{"en-US":{print:{print:"print"}}}),r.extend(r.summernote.plugins,{print:function(e){var t=r.summernote.ui,i=e.layoutInfo.editor,o=e.options,n=o.langInfo;e.memo("button.print",function(){return t.button({contents:"啊哈哈哈哈",tooltip:n.print.print,click:function(){$frame=function(){var e=r('<iframe name="summernotePrintFrame"width="0" height="0" frameborder="0" src="about:blank" style="visibility:hidden"></iframe>');e.appendTo(i.parent());var t,n=e.contents().find("head");return o.print&&o.print.stylesheetUrl?((t=document.createElement("link")).href=o.print.stylesheetUrl,t.rel="stylesheet",t.type="text/css",n.append(t)):r("style, link[rel=stylesheet]",document).each(function(){n.append(r(this).clone())}),e}(),$frame.contents().find("body").html(e.invoke("code")),setTimeout(function(){$frame[0].contentWindow.focus(),$frame[0].contentWindow.print(),$frame.remove(),$frame=null},250)}}).render()})}})},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof t&&t.exports?t.exports=i(e("jquery")):i(window.jQuery)},{jquery:624,"summernote/dist/summernote":849}],64:[function(e,t,n){"use strict";var i,o=(i=e("jquery"))&&i.__esModule?i:{default:i};var r={};(t.exports=r).selectVal=function(e){return(0,o.default)(e).find("option:selected").val()},r.inputVal=function(e){return(0,o.default)(e).val()},r.setInputVal=function(e,t){return(0,o.default)(e).val(t)},r.checkdSelect=function(e,t){(0,o.default)(e).find("option[text='"+t+"']").attr("selected",!0)},r.checkdSelectByVal=function(e,t){(0,o.default)(e).find("option[value='"+t+"']").attr("selected",!0)}},{jquery:624}],65:[function(e,t,n){"use strict";var f=i(e("jquery"));e("summernote/dist/summernote"),e("./CustomerSummernote");var m=e("../../../index"),g=(i(e("./UUIdHelper")),i(e("./CanvsHelper"))),v=i(e("./LayerHelper"));function i(e){return e&&e.__esModule?e:{default:e}}var y=e("../helper/ElementHelper"),b=e("../ElementRegistryUtils").getElement,x=e("../ElementRegistryUtils").getMainProcessId,w=(e("../ElementRegistryUtils").getCustomerElementById,e("../ElementRegistryUtils").getCustomerElementBySingleType),e=(e("./CmdHelper"),{});function o(e,t){for(var n=e.split(","),i=0;i<n.length;i++)(0,f.default)(t).each(function(e,t){(0,f.default)(t).val()==n[i]&&(0,f.default)(t).attr("checked","true")})}function r(){(0,f.default)(".others-save").bind("click",function(){var e,t,n,i,o=(0,f.default)("#summernote").summernote("code"),r=(0,f.default)(".prop_description").val(),a=k('input[name="propNotifyType"]:checked'),s=k('input[name="parameterUserAssign"]:checked'),l=k('input[name="propSkipRules"]:checked'),c=k('input[name="propDateType"]:checked'),u=(0,f.default)('input[name="dateTypeDay"]').val(),d=(0,f.default)('input[name="startMethod"]:checked').val(),p=(0,f.default)('select[name="dateTypeHour"]').find("option:selected").val(),h=(0,f.default)('select[name="dateTypeMinute"] option:selected').val();e=o,t=r,o=a,r=s,a=l,s=c,l=u,c=p,u=h,p=d,h="extA1:ExtProperties",d=x(m.bpmnModeler)[0],(d=b(m.bpmnModeler,d).businessObject.$parent).rootElements,p={subjectRule:e,description:t,propNotifyType:o,parameterUserAssign:r,propSkipRules:a,propDateType:s,dateTypeDay:l,dateTypeHour:c,dateTypeMinute:u,startMethod:p},(h=w(m.bpmnModeler,h))?(h.child&&h.child.splice(0,1),n=y.createElement("extA1:PropertiesDef",p,h,m.bpmnModeler.get("bpmnFactory")),(i=[]).push(n),h.child=i):(d=y.createElement("extA1:ExtProperties",{},d,m.bpmnModeler.get("bpmnFactory")),n=y.createElement("extA1:PropertiesDef",p,d,m.bpmnModeler.get("bpmnFactory")),(i=[]).push(n),d.child=i),g.default.excute(),v.default.success("保存流程参数成功!")})}function k(e){var t=[];return(0,f.default)(e).each(function(){t.push((0,f.default)(this).val())}),t.join(",")}(t.exports=e).summernote=function(){var e;e="extA1:ExtProperties",(e=w(m.bpmnModeler,e))&&e.child&&(e=e.child[0],(0,f.default)("#summernote").summernote("code",e.subjectRule),(0,f.default)(".prop_description").val(e.description),e.propNotifyType&&o(e.propNotifyType,'input[name="propNotifyType"]'),e.parameterUserAssign&&o(e.parameterUserAssign,'input[name="parameterUserAssign"]'),e.propDateType&&o(e.propDateType,'input[name="propDateType"]'),e.propSkipRules&&o(e.propSkipRules,'input[name="propSkipRules"]'),e.dateTypeDay&&(0,f.default)('input[name="dateTypeDay"]').val(e.dateTypeDay),e.dateTypeHour&&(0,f.default)('select[name="dateTypeHour"]').find("option[value="+e.dateTypeHour+"]").attr("selected",!0),e.dateTypeMinute&&(0,f.default)('select[name="dateTypeMinute"]').find("option[value="+e.dateTypeMinute+"]").attr("selected",!0),e.startMethod&&(0,f.default)("input:radio[name=startMethod][value="+e.startMethod+"]").attr("checked",!0),layui.use("form",function(){layui.form.render()})),r(),(0,f.default)("#summernote").summernote({tabsize:2,height:150,buttons:{"流程标题":'<button type="button" id="title" class="btn btn-success btn-sm" >\n                                    <i class="fa fa-plus"></i> 流程标题\n                                </button>',"发起时间":'<button type="button" id="startDate" class="btn btn-success btn-sm" >\n                                    <i class="fa fa-edit"></i> 发起时间\n                                </button>',startorName:'<button type="button" id="startName" class="btn btn-success btn-sm" >\n                                    <i class="fa fa-tint"></i> 发起人\n                                </button>'},toolbar:[["title",["流程标题"]],["startDate",["发起时间"]],["startorName",["startorName"]],["view",["codeview"]]]}),(0,f.default)("#title").unbind().bind("click",function(){(0,f.default)("#summernote").summernote("code",(0,f.default)("#summernote").summernote("code").replace(new RegExp("<p><br></p>$"),"")+"${title}")}),(0,f.default)("#startDate").unbind().bind("click",function(){(0,f.default)("#summernote").summernote("code",(0,f.default)("#summernote").summernote("code").replace(new RegExp("<p><br></p>$"),"")+"${startDate}")}),(0,f.default)("#startName").unbind().bind("click",function(){(0,f.default)("#summernote").summernote("code",(0,f.default)("#summernote").summernote("code").replace(new RegExp("<p><br></p>$"),"")+"${startUserName}")})}},{"../../../index":23,"../ElementRegistryUtils":25,"../helper/ElementHelper":66,"./CanvsHelper":59,"./CmdHelper":61,"./CustomerSummernote":63,"./LayerHelper":74,"./UUIdHelper":78,jquery:624,"summernote/dist/summernote":849}],66:[function(e,t,n){"use strict";var s=e("../../../index"),i=o(e("./LayerHelper")),r=(o(e("jquery")),e("bpmn-js/lib/util/ModelUtil"));function o(e){return e&&e.__esModule?e:{default:e}}var l=e("../ElementRegistryUtils").getMainProcessId,c=(e("../ElementRegistryUtils").getRootProcess,e("../ElementRegistryUtils").getRoot,e("../ElementRegistryUtils").createDocumentation,e("../ElementRegistryUtils").getElement),e={};function a(e,t){return e.get("elementRegistry").get(t)}function u(n){var e=n._elements,i=[];return Object.keys(e).forEach((e,t)=>{e=n.get(e);"bpmn:Process"==e.type&&i.push(e.id)}),i}(t.exports=e).createElement=function(e,t,n,i){t=i.create(e,t);return t.$parent=n,t},e.getCustomerElementBySingleType=function(e){for(var t=l(s.bpmnModeler)[0],n=a(s.bpmnModeler,t).businessObject.$parent.rootElements,i=0;i<n.length;i++)if(n[i]&&n[i].$type==e)return n[i]},e.createElementSimple=function(e,t,n){return n.create(e,t)},e.getAllBtnElements=function(){for(var e=[],t=l(s.bpmnModeler)[0],t=a(s.bpmnModeler,t),n=(t.businessObject.$parent,t.children),i=0;i<n.length;i++)((0,r.is)(n[i],"bpmn:UserTask")||(0,r.is)(n[i],"bpmn:Event"))&&n[i]&&e.push(n[i]);return e},e.getCustomerElementBySingleType=function(e){var t=l(s.bpmnModeler)[0];if(t)for(var n=c(s.bpmnModeler,t).businessObject.$parent.rootElements,i=0;i<n.length;i++)if(n[i]&&n[i].$type==e)return n[i]},e.getCustomerElementsBySingleType=function(e){var t=[],n=l(s.bpmnModeler)[0];if(n)for(var i=c(s.bpmnModeler,n).businessObject.$parent.rootElements,o=0;o<i.length;o++)i[o]&&i[o].$type==e&&t.push(i[o]);return t},e.getCustomerGloableElementBySingleType=function(e){var t=l(s.bpmnModeler)[0];if(t)for(var n=c(s.bpmnModeler,t).businessObject.$parent.rootElements,i=0;i<n.length;i++)if(n[i]&&n[i].$type==e&&"frame"==n[i].type)return n[i]},e.getCustomerElementBySingleTypeAndId=function(e,t,n){var i=l(s.bpmnModeler)[0];if(i)for(var o=c(s.bpmnModeler,i).businessObject.$parent.rootElements,r=0;r<o.length;r++)if(o[r]&&o[r].$type==e&&o[r].nodeId==t)return n&&o[r].$type,o[r]},e.getButtonElementBySingleTypeAndId=function(e,t){var n=l(s.bpmnModeler)[0];if(n){for(var i=c(s.bpmnModeler,n).businessObject.$parent.rootElements,o=[],r=0;r<i.length;r++)i[r]&&i[r].$type==e&&i[r].nodeId==t&&o.push(i[r]);return o}},e.getButtonElementByChildTypeAndId=function(e,t){var n=l(s.bpmnModeler)[0];if(n){for(var i=c(s.bpmnModeler,n).businessObject.$parent.rootElements,o=[],r=0;r<i.length;r++)if(i[r]&&i[r].$type==e&&i[r].child)for(var a=0;a<i[r].child.length;a++)i[r].child[a].nodeId==t&&o.push(i[r].child[a]);return o}},e.getButtonElementByChildTypeNotId=function(e,t){var n=l(s.bpmnModeler)[0];if(n){for(var i=c(s.bpmnModeler,n).businessObject.$parent.rootElements,o=[],r=0;r<i.length;r++)if(i[r]&&i[r].$type==e&&i[r].child)for(var a=0;a<i[r].child.length;a++)i[r].child[a].nodeId!=t&&o.push(i[r].child[a]);return o}},e.getCustomerElementBySingleTypeCount=function(e){var t=[],n=l(s.bpmnModeler)[0];if(n)for(var i=c(s.bpmnModeler,n).businessObject.$parent.rootElements,o=0;o<i.length;o++)i[o]&&i[o].$type==e&&t.push(i[o]);return t.length},e.getGloablElementBySingleTypeCount=function(e,t){var n=[],i=l(s.bpmnModeler)[0];if(i)for(var o=c(s.bpmnModeler,i).businessObject.$parent.rootElements,r=0;r<o.length;r++)o[r]&&o[r].$type==e&&o[r].scope==t&&n.push(o[r]);return n.length},e.getGloablElementBySingleTypeAndIdCount=function(e,t,n){var i=[],o=l(s.bpmnModeler)[0];if(o)for(var r=c(s.bpmnModeler,o).businessObject.$parent.rootElements,a=0;a<r.length;a++)r[a]&&r[a].$type==e&&r[a].scope==t&&r[a].callNode==n&&i.push(r[a]);return i.length},e.getElementDispalyName=function(e){return e?e.id+"("+(null==e.businessObject.name?"":e.businessObject.name)+")":""},e.getElementDispalyFirstName=function(e){if(e){var t=e.id;return(null==e.businessObject.name?"":e.businessObject.name)+"("+t+")"}return""},e.getSelectElement=function(){var e=s.bpmnModeler.get("selection").get();if(e&&0<e.length){if(1==e.length)return e[0];i.default.error("请勿选择多个元素")}},e.getNotCustomerUserTaskElementById=function(e){for(var t=[],n=l(s.bpmnModeler)[0],n=a(s.bpmnModeler,n),i=(n.businessObject.$parent,n.children),o=0;o<i.length;o++)(0,r.is)(i[o],"bpmn:UserTask")&&i[o]&&i[o].id!=e&&t.push(i[o]);return t},e.getNotAndShlfCustomerUserTaskElementById=function(e){for(var t=[],n=l(s.bpmnModeler)[0],n=a(s.bpmnModeler,n),i=(n.businessObject.$parent,n.children),o=0;o<i.length;o++)(0,r.is)(i[o],"bpmn:UserTask")&&i[o]&&i[o].id==e&&t.push(i[o]);for(o=0;o<i.length;o++)(0,r.is)(i[o],"bpmn:UserTask")&&i[o]&&i[o].id!=e&&t.push(i[o]);return t},e.getNotAndShlfCustomerNodeBtnElementById=function(e){for(var t=[],n=l(s.bpmnModeler)[0],n=a(s.bpmnModeler,n),i=(n.businessObject.$parent,n.children),o=0;o<i.length;o++)((0,r.is)(i[o],"bpmn:UserTask")||(0,r.is)(i[o],"bpmn:StartEvent"))&&i[o]&&i[o].id==e&&t.push(i[o]);for(o=0;o<i.length;o++)((0,r.is)(i[o],"bpmn:UserTask")||(0,r.is)(i[o],"bpmn:StartEvent"))&&i[o]&&i[o].id!=e&&t.push(i[o]);return t},e.getCustomerUserTaskElementById=function(e){for(var t=[],n=l(s.bpmnModeler)[0],n=a(s.bpmnModeler,n),i=(n.businessObject.$parent,n.children),o=0;o<i.length;o++)(0,r.is)(i[o],"bpmn:UserTask")&&i[o]&&i[o].id==e&&t.push(i[o]);return t},e.getElementById=function(e){for(var t=[],n=l(s.bpmnModeler)[0],n=a(s.bpmnModeler,n),i=(n.businessObject.$parent,n.children),o=0;o<i.length;o++)i[o]&&i[o].id==e&&t.push(i[o]);return t},e.getElementOnlyName=function(e){e.id;return null==e.businessObject.name?"":e.businessObject.name},e.getMainProcessId=function(){return u(s.bpmnModeler.get("elementRegistry"))},e.getElementsSize=function(){var e=u(s.bpmnModeler.get("elementRegistry"));return a(s.bpmnModeler,e[0]).businessObject.$parent.rootElements[0].flowElements.length}},{"../../../index":23,"../ElementRegistryUtils":25,"./LayerHelper":74,"bpmn-js/lib/util/ModelUtil":419,jquery:624}],67:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,o=e("bpmn-js/lib/util/ModelUtil").is,r=e("lodash/forEach"),e={};(t.exports=e).getEventDefinition=function(e,t){var e=i(e),n=null;return e.eventDefinitions&&r(e.eventDefinitions,function(e){o(e,t)&&(n=e)}),n},e.getTimerEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:TimerEventDefinition")},e.getMessageEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:MessageEventDefinition")},e.getSignalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:SignalEventDefinition")},e.getErrorEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ErrorEventDefinition")},e.getEscalationEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:EscalationEventDefinition")},e.getCompensateEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:CompensateEventDefinition")},e.getLinkEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:LinkEventDefinition")},e.getConditionalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ConditionalEventDefinition")}},{"bpmn-js/lib/util/ModelUtil":419,"lodash/forEach":801}],68:[function(e,t,n){"use strict";var l=e("../../../index"),p=o(e("jquery")),i=(o(e("./DomOperate")),e("bpmn-js/lib/util/ModelUtil"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports={};e("./LayerHelper");var r=e("../ElementRegistryUtils").getAllUserTask,h=e("./ElementHelper"),c=e("./UUIdHelper"),f=(e("./CanvsHelper"),e("../ElementRegistryUtils").getMainProcessId),m=(e("../ElementRegistryUtils").getRootProcess,e("../ElementRegistryUtils").getElement),a={};function s(){(0,p.default)(".setLocalRestFul").unbind().bind("click",function(){var e=(0,p.default)(this).attr("data-id");E("节点 【"+(0,p.default)(this).attr("data-name")+" 】事件设置",0,e)}),(0,p.default)(".local_event_show_add_btn").unbind().bind("click",function(){var e;"设置所有节点事件"==(0,p.default)(this).html()?(e=(0,p.default)(".local_event_show_div").find("form")[0],e=(0,p.default)(e).attr("data-id"),a.localAppendHtml(e,0),(0,p.default)(this).empty().html("隐藏非当前节点事件")):((0,p.default)(this).empty().html("设置所有节点事件"),a.localAppendHtml(e,1))})}function g(e){"1"==e&&(e=(e=h.getGloablElementBySingleTypeCount("restful:Global",e))?"已经配置了"+e+"个全局事件 ":"尚未配置全局事件，请添加全局事件设置",(0,p.default)(".eventDisplayInfoDiv").empty().html(e).show())}function v(e,t){e=h.getGloablElementBySingleTypeAndIdCount("restful:Global",e,t);(0,p.default)(".setLocalRestFul").html(),(0,p.default)(".setLocalRestFul").parent().find("span[data-id="+t+"]").html(e)}function u(e,t){var n,i,o,r=c.getuuid(),a="",s='<tr class="layui-table-ui-restFul">\n\n            <td>\n <a href="javascript:javaScript:void(0)"  class="btn btn-sm btn-default fa fa-chevron-up up"></a>\n                <a href="javascript:javaScript:void(0)"  class="btn btn-sm btn-default fa fa-chevron-down down"></a>                <a class="btn btn-default fa fa-trash-o btn_remove" title="移除"  data-id="'+(a=e?e.id:a)+'"></a>\n            </td>\n            <td><table class="table table-bordered">\n                <tbody><tr>\n                    <th style="width: 15%;">\n                        <span>地址:</span>\n                        <span class="required">*</span>\n                    </th>\n                    <td>\n';s+=e?'    <input class="form-control "  type="text"  name="url" value="'+e.url+'">\n':'                        <input class="form-control "  type="text"  name="url">\n',s+='                    </td>\n                </tr>\n                <tr>\n                    <th>\n                        <span>描述:</span>\n                        <span class="required">*</span>\n                    </th>\n                    <td>\n',s+=e?'    <input class="form-control "  type="text"  name="desc" value="'+e.desc+'">\n':'                        <input class="form-control "  type="text"  name="desc">\n',s+='   </td>\n                </tr>\n                <tr>\n                    <th>\n                        <span>类型:</span>\n                        <span class="required">*</span>\n                    </th>\n                    <td>\n',e?(a=e.invokeMode,""==p.default.trim(a)?s+='                        <label class="radio-inline">\n                            <input type="radio" value="1"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">同步\n                        </label>\n                    </td>\n':p.default.trim(a)==p.default.trim("0")?s+='                        <label class="radio-inline">\n                            <input type="radio" value="1"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"  checked class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">同步\n                        </label>\n                    </td>\n':s+='                        <label class="radio-inline">\n                            <input type="radio" value="1" checked  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"   class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">同步\n                        </label>\n                    </td>\n'):s+='                        <label class="radio-inline">\n                            <input type="radio" value="1"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">异步\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" value="0"  class="ng-pristine-globalRestFul-radio" name="invokeMode'+r+'" style="margin-top: 5px;">同步\n                        </label>\n                    </td>\n',s+="                </tr>\n",s+="                <tr>\n                    <th>\n                        <span>触发时机:</span>\n                    </th>\n                    <td>\n",e?(i=e.callTime,""!=p.default.trim(i)?("1"==t&&(0<=i.indexOf("startEvent")?s+='                        <label   class="checkbox-inline ng-scope"><input name="callTime" type="checkbox" checked value="startEvent" class="ng-pristine " style="margin-top: 5px;">流程启动时</label>\n':s+='                        <label   class="checkbox-inline ng-scope"><input name="callTime" type="checkbox" value="startEvent" class="ng-pristine " style="margin-top: 5px;">流程启动时</label>\n',0<=i.indexOf("endEvent")?s+='                        <label  class="checkbox-inline ng-scope"><input name="callTime" checked  type="checkbox"  value="endEvent" class="ng-pristine " style="margin-top: 5px;">流程结束时</label>\n':s+='                        <label  class="checkbox-inline ng-scope"><input name="callTime"  type="checkbox"  value="endEvent" class="ng-pristine " style="margin-top: 5px;">流程结束时</label>\n'),0<=i.indexOf("taskCreate")?s+='                        <label class="checkbox-inline"><input  checked name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node" style="margin-top: 5px;">任务创建时</label>\n':s+='                        <label class="checkbox-inline"><input  name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node" style="margin-top: 5px;">任务创建时</label>\n',0<=i.indexOf("taskComplete")?s+='                        <label class="checkbox-inline"><input checked name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node" style="margin-top: 5px;">任务结束时</label>\n':s+='                        <label class="checkbox-inline"><input name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node" style="margin-top: 5px;">任务结束时</label>\n'):s+=d(t)):s+=d(t),s+="                    </td>\n",e&&(i=e.callTime,n=e.callNodes,(0<=i.indexOf("taskCreate")||0<=i.indexOf("taskComplete"))&&(i=k(),o="",0<i.length&&((0,p.default)(i).each(function(e,t){o+='<label  class="checkbox-inline ng-binding ng-scope">\n',0<=n.indexOf(t.businessObject.id)?o+='<input type="checkbox" name="callNodes" checked   value="'+t.businessObject.id+'" class="ng-pristine ng-untouched ng-valid ng-empty">'+t.businessObject.name+"\n":o+='<input type="checkbox" name="callNodes"    value="'+t.businessObject.id+'" class="ng-pristine ng-untouched ng-valid ng-empty">'+t.businessObject.name+"\n",o+="</label>\n"}),s+='<tr class="ng-scope">\n<th>\n<span>触发节点<a href="javascript:;" style="text-decoration: none;" title="如果选择节点则只有对应节点才执行，否则默认全部节点都会执行。" class="fa fa-exclamation-circle ht-help" ht-tip=""> </a>:</span>\n</th>\n<td>\n'+o+"</td>\n</tr>"))),s+="\n                <tr>\n                    <th>\n                        <span>接口头部（header）:</span>\n                    </th>\n                    <td>\n",s+=e?'                        <input class="form-control " type="text" ng-model="restful.header" name="header" value="'+e.header+'" >\n':'                        <input class="form-control " type="text" ng-model="restful.header" name="header" >\n',s+="                    </td>\n                </tr>\n                </tbody></table></td>\n        </tr>",(0,p.default)("#layui-table-restFul").find(".layui-table-ui-restFul:last").after(s),b(),y(t),x(),w()}function d(e){var t="";return t+="1"==e?'                        <label   class="checkbox-inline ng-scope"><input name="callTime" type="checkbox" value="startEvent" class="ng-pristine " style="margin-top: 5px;">流程启动时</label>\n                        <label  class="checkbox-inline ng-scope"><input name="callTime"  type="checkbox"  value="endEvent" class="ng-pristine " style="margin-top: 5px;">流程结束时</label>\n                        <label class="checkbox-inline"><input  name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node" style="margin-top: 5px;">任务创建时</label>\n                        <label class="checkbox-inline"><input name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node" style="margin-top: 5px;">任务结束时</label>\n':'                        <label class="checkbox-inline"><input  name="callTime"  type="checkbox"  value="taskCreate" class="ng-pristine-node" style="margin-top: 5px;">任务创建时</label>\n                        <label class="checkbox-inline"><input name="callTime"  type="checkbox"  value="taskComplete" class="ng-pristine-node" style="margin-top: 5px;">任务结束时</label>\n'}function y(i){(0,p.default)(".ng-pristine-node").unbind("change"),(0,p.default)(".ng-pristine-node").change(function(){var e,t,n;(0,p.default)(this).is(":checked")?(e=(0,p.default)(this).parent().parent().parent().parent().find("tr:eq(3)"),0<=(0,p.default)(this).parent().parent().parent().parent().find("tr:eq(4)").html().indexOf("触发节点")||1==i&&(t=k(),n="",0<t.length&&((0,p.default)(t).each(function(e,t){n+='<label  class="checkbox-inline ng-binding ng-scope">\n',n+='<input type="checkbox" name="callNodes"   value="'+t.businessObject.id+'" class="ng-pristine ng-untouched ng-valid ng-empty">'+t.businessObject.name+"\n",n+="</label>\n"}),e.after('<tr class="ng-scope">\n<th>\n<span>触发节点<a href="javascript:;" style="text-decoration: none;" title="如果选择节点则只有对应节点才执行，否则默认全部节点都会执行。" class="fa fa-exclamation-circle ht-help" ht-tip=""> </a>:</span>\n</th>\n<td>\n'+n+"</td>\n</tr>")))):0==(0,p.default)(this).parent().parent().find("input[class='ng-pristine-node']:checked").length&&0<=(0,p.default)(this).parent().parent().parent().parent().find("tr:eq(4)").html().indexOf("触发节点")&&(0,p.default)(this).parent().parent().parent().parent().find("tr:eq(4)").remove()})}function b(){var e=(0,p.default)("#right-sidebar-setRestFul").find(".btn_remove");(0,p.default)(e).each(function(e,t){t.addEventListener("click",function(){!function(e){for(var t=f(l.bpmnModeler)[0],n=m(l.bpmnModeler,t).businessObject.$parent.rootElements,i=[],o=0;o<n.length;o++)n[o]&&"restful:Global"==n[o].$type&&n[o].id==e&&i.push(o);if(i)for(o=0;o<i.length;o++)n.splice(i[o],1)}((0,p.default)(t).attr("data-id")),(0,p.default)(t).parent().parent().remove()})})}function x(){var e=(0,p.default)("#right-sidebar-setRestFul").find(".down");(0,p.default)(e).each(function(e,n){n.addEventListener("click",function(){var e=(0,p.default)(n).parent().parent(),t=e.next();0<t.length&&e.insertAfter(t)})})}function w(){var e=(0,p.default)("#right-sidebar-setRestFul").find(".up");(0,p.default)(e).each(function(e,n){n.addEventListener("click",function(){var e=(0,p.default)(n).parent().parent(),t=e.next();0<t.length&&e.insertAfter(t)})})}function k(){return r(l.bpmnModeler)}function E(e,a,s){layer.open({type:1,title:e,area:["800px","600px"],skin:"layui-layer-event",btn:["保存","取消"],content:(0,p.default)("#right-sidebar-setRestFul"),end:function(){(0,p.default)("#right-sidebar-setRestFul").hide()},success:function(e,t){var n;n=a,(0,p.default)("#restFul-addLine").unbind().bind("click",function(){u(null,n)}),b(),y(),x(),w(),k(),function(e){for(var t=f(l.bpmnModeler)[0],n=m(l.bpmnModeler,t).businessObject.$parent.rootElements,i=[],o=[],r=0;r<n.length;r++)"restful:Global"==n[r].$type?("1"==n[r].scope?i:o).push(n[r]):0;if(e){for(var a=[],r=0;r<o.length;r++)o[r].callNode==e&&(u(o[r]),a.push(1));0==a.length&&u(null)}else for(r=0;r<i.length;r++)u(i[r],1);(0,p.default)(n).each(function(e,t){"restful:Global"==t.$type&&(t.desc,t.header,t.id,t.invokeMode,t.url,t.callNodes,t.scope,t.callNode)})}(s)},yes:function(e,t){var c,u,d,n=(c=a,u=s,d=[],i=(0,p.default)(".layui-table-ui-restFul"),(0,p.default)(i).each(function(e,t){var n,i,o,r,a,s,l;!t.hasChildNodes()||(n=(0,p.default)(t).find("input[name='url']").val())&&(i=(0,p.default)(t).find("input[name='desc']").val(),o=(0,p.default)(t).find("input[name='header']").val(),r=(0,p.default)(t).find("input:radio:checked").val(),a=new Array,l=(0,p.default)(t).find("input[name='callTime']"),p.default.each(l,function(){this.checked&&a.push((0,p.default)(this).val())}),l=a.join(","),s=new Array,t=(0,p.default)(t).find("input[name='callNodes']"),p.default.each(t,function(){this.checked&&s.push((0,p.default)(this).val())}),l={url:n,desc:i,header:o,invokeMode:r,callNodes:s.join(","),callTime:l,scope:c},"1"==c||"0"==c&&(l.callNode=u,l.scope="0"),d.push(l))}),d),i=f(l.bpmnModeler)[0],o=m(l.bpmnModeler,i).businessObject.$parent,r=o.rootElements;!function(e){for(var t=f(l.bpmnModeler)[0],n=m(l.bpmnModeler,t).businessObject.$parent.rootElements,i=[],o=0;o<n.length;o++)n[o]&&"restful:Global"==n[o].$type&&(e?n[o].callNode==e&&i.push(o):"1"==n[o].scope&&i.push(o));if(i)for(o=0;o<i.length;o++)n.splice(i[o],1)}(s),(0,p.default)(n).each(function(e,t){t=h.createElement("restful:Global",t,o,l.bpmnModeler.get("bpmnFactory"));r.push(t)}),layer.close(e),"0"==a?v(a,s):g(a),(0,p.default)(".layui-table-ui-restFul").empty()},btn2:function(e,t){(0,p.default)(".layui-table-ui-restFul").empty()},cancel:function(){(0,p.default)(".layui-table-ui-restFul").empty()}})}(t.exports=a).localShow=function(){var e,t,n;h.getSelectElement()&&(e=h.getSelectElement().id,(0,p.default)(".local_event_show_add_btn").html("设置所有节点事件"),(0,i.is)(h.getSelectElement(),"bpmn:UserTask")&&(n=h.getSelectElement().businessObject.name,t=h.getElementDispalyFirstName(h.getSelectElement()),(0,p.default)(".local_event_show_div").find(".form_first").length<=1&&(n=' <form class="layui-form alert form_first " data-id='+e+'  style="background-color: #f5f5f5;border: 1px solid #e3e3e3;">\n                                                            <span class="event_node_name">'+t+"：</span><span data-id="+e+' class="layui-badge event_node_count">0</span>\n                                                            <a  data-id='+e+"  data-name="+n+'  href="javascript:void(0);" class="btn btn-sm btn-info fa fa-cog setLocalRestFul" > 设置</a>\n                                                        </form>',(0,p.default)(".local_event_show_div").empty().append(n)),s(),v("0",e)))},a.localAppendHtml=function(e,t){null==e&&(e=h.getSelectElement().id);var e=0==t?h.getNotAndShlfCustomerUserTaskElementById(e):h.getCustomerUserTaskElementById(e),o="";(0,p.default)(e).each(function(e,t){var n=t.id,i=t.businessObject.name,t=h.getElementDispalyFirstName(t);o+=' <form class="layui-form alert " style="background-color: #f5f5f5;border: 1px solid #e3e3e3;">\n                                                            <span class="event_node_name">'+t+"：</span><span data-id="+n+' class="layui-badge event_node_count">0</span>\n                                                            <a  data-id='+n+"  data-name="+i+'  href="javascript:void(0);" class="btn btn-sm btn-info fa fa-cog setLocalRestFul" > 设置</a>\n                                                        </form>'}),(0,p.default)(".local_event_show_div").empty().append(o),s(),(0,p.default)(e).each(function(e,t){v("0",t.id)})},a.bind=function(){g(1),(0,p.default)("#setRestFul").unbind().bind("click",function(){E("全局事件设置",1,null)})}},{"../../../index":23,"../ElementRegistryUtils":25,"./CanvsHelper":59,"./DomOperate":64,"./ElementHelper":66,"./LayerHelper":74,"./UUIdHelper":78,"bpmn-js/lib/util/ModelUtil":419,jquery:624}],69:[function(e,t,n){"use strict";var r=e("./CmdHelper"),a=e("./ElementHelper"),i=e("bpmn-js/lib/util/ModelUtil").is,e={};e.getExtensionElements=function(e,t){e=e.get("extensionElements");if(void 0!==e){e=e.get("values");if(void 0!==e){e=e.filter(function(e){return i(e,t)});if(e.length)return e}}},e.addEntry=function(e,t,n,i){var o=e.get("extensionElements");return o?r.addElementsTolist(t,o,"values",[n]):{extensionElements:o=a.createElement("bpmn:ExtensionElements",{values:[n]},e,i)}},e.removeEntry=function(e,t,n){e=e.get("extensionElements");return e?r.removeElementsFromList(t,e,"values","extensionElements",[n]):{}},t.exports=e},{"./CmdHelper":61,"./ElementHelper":66,"bpmn-js/lib/util/ModelUtil":419}],70:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,o=e("./ExtensionElementsHelper").getExtensionElements,e={};(t.exports=e).getFormData=function(e){e=i(e),e=o(e,"activiti:FormData");if(void 0!==e)return e[0]},e.getFormFields=function(e){e=this.getFormData(e);return void 0!==e&&e.fields||[]},e.getFormField=function(e,t){return this.getFormFields(e)[t]},e.getConstraints=function(e){return e&&e.validation&&e.validation.constraints?e.validation.constraints:[]},e.getEnumValues=function(e){return e&&e.values?e.values:[]}},{"./ExtensionElementsHelper":69,"bpmn-js/lib/util/ModelUtil":419}],71:[function(e,t,n){"use strict";var i,o=(i=e("jquery"))&&i.__esModule?i:{default:i},r=e("../../../index");e("./LayerHelper");var a={};(t.exports=a).ajax=function(e,t){var n;return o.default.ajax({type:e,url:r.prefixUrl+t,dataType:"json",async:!1,success:function(e){}}).done(function(e){n=e}),n},a.ajaxPost=function(e,t){var n;return o.default.ajax({type:"POST",url:r.prefixUrl+e,dataType:"json",data:t,async:!1,success:function(e){}}).done(function(e){n=e}),n}},{"../../../index":23,"./LayerHelper":74,jquery:624}],72:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil"),o=i.is,r=i.getBusinessObject,a=e("./EventDefinitionHelper"),s=e("./ExtensionElementsHelper"),e={};(t.exports=e).isServiceTaskLike=function(e){return o(e,"activiti:ServiceTaskLike")},e.isDmnCapable=function(e){return o(e,"activiti:DmnCapable")},e.isExternalCapable=function(e){return o(e,"activiti:ExternalCapable")},e.isTaskListener=function(e){return o(e,"activiti:TaskListener")},e.isExecutionListener=function(e){return o(e,"activiti:ExecutionListener")},e.isListener=function(e){return this.isTaskListener(e)||this.isExecutionListener(e)},e.isSequenceFlow=function(e){return o(e,"bpmn:SequenceFlow")},e.getServiceTaskLikeBusinessObject=function(e){var t;return!o(e,"bpmn:IntermediateThrowEvent")&&!o(e,"bpmn:EndEvent")||(t=a.getMessageEventDefinition(e))&&(e=t),this.isServiceTaskLike(e)&&r(e)},e.getImplementationType=function(e){var t=this.getServiceTaskLikeBusinessObject(e);if(!t){if(!this.isListener(e))return;t=e}if(this.isDmnCapable(t)&&void 0!==t.get("activiti:decisionRef"))return"dmn";if(this.isServiceTaskLike(t)&&void 0!==s.getExtensionElements(t,"activiti:Connector"))return"connector";if(this.isExternalCapable(t)&&"external"===t.get("activiti:type"))return"external";if(void 0!==t.get("activiti:class"))return"class";if(void 0!==t.get("activiti:expression"))return"expression";if(void 0!==t.get("activiti:delegateExpression"))return"delegateExpression";if(this.isListener(t)&&void 0!==t.get("script"))return"script"}},{"./EventDefinitionHelper":67,"./ExtensionElementsHelper":69,"bpmn-js/lib/util/ModelUtil":419}],73:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil"),o=i.is,r=i.getBusinessObject,a=e("./ExtensionElementsHelper"),s=e("./ImplementationTypeHelper"),l={};function c(e,t,n){t=a.getExtensionElements(e,t)||[];return n?(t[0]||{})[n]||[]:t}function u(e,t,n){n=l.getInputOutput(e,n);return n&&n.get(t)||[]}(t.exports=l).getInputOutput=function(e,t){if(!t)return(c(r(e),"activiti:InputOutput")||[])[0];e=this.getConnector(e);return e&&e.get("inputOutput")},l.getConnector=function(e){e=s.getServiceTaskLikeBusinessObject(e);return e&&(c(e,"activiti:Connector")||[])[0]},l.getInputParameters=function(e,t){return u.apply(this,[e,"inputParameters",t])},l.getOutputParameters=function(e,t){return u.apply(this,[e,"outputParameters",t])},l.getInputParameter=function(e,t,n){return this.getInputParameters(e,t)[n]},l.getOutputParameter=function(e,t,n){return this.getOutputParameters(e,t)[n]},l.isInputOutputSupported=function(e,t){e=r(e);return t||o(e,"bpmn:FlowNode")&&!o(e,"bpmn:StartEvent")&&!o(e,"bpmn:BoundaryEvent")&&!(o(e,"bpmn:SubProcess")&&e.get("triggeredByEvent"))},l.areOutputParametersSupported=function(e,t){e=r(e);return t||!o(e,"bpmn:EndEvent")&&!e.loopCharacteristics}},{"./ExtensionElementsHelper":69,"./ImplementationTypeHelper":72,"bpmn-js/lib/util/ModelUtil":419}],74:[function(e,t,n){var i={};(t.exports=i).success=function(e){layer.msg(e,{icon:1,offset:"5px"})},i.error=function(e){layer.msg(e,{icon:2,offset:"5px"})}},{}],75:[function(e,t,n){"use strict";var r=e("bpmn-js/lib/util/ModelUtil").is,a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,s=e("./CmdHelper"),e={};(t.exports=e).modifyProcessBusinessObject=function(e,t,n){if(!r(e,"bpmn:Participant"))return{};var i=a(e).get("processRef"),o={};return o[t]=n[t],s.updateBusinessObject(e,i,o)},e.getProcessBusinessObject=function(e,t){if(!r(e,"bpmn:Participant"))return{};var n=a(e).get("processRef"),e={};return e[t]=n.get(t),e}},{"./CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419}],76:[function(e,t,n){"use strict";var p=o(e("jquery")),l=o(e("./DomOperate")),h=e("../../../index"),i=e("bpmn-js/lib/util/ModelUtil");function o(e){return e&&e.__esModule?e:{default:e}}var r={};t.exports=r;var f=e("./LayerHelper"),a=(e("../ElementRegistryUtils").getAllUserTask,e("../ElementRegistryUtils")),m=e("./ElementHelper"),s=(e("./UUIdHelper"),e("./EventHelper")),c=e("./CanvsHelper"),g=e("../ElementRegistryUtils").getMainProcessId,v=(e("../ElementRegistryUtils").getRootProcess,e("../ElementRegistryUtils").getElement);r.global=function(){(0,p.default)(".save_local_form").unbind().bind("click",function(){r.save("local")});var e=m.getCustomerElementBySingleType("extA1:GlobalForm");e&&(l.default.setInputVal(".url",e.formValue),l.default.checkdSelect(".globalForm",e.name)),layui.use("form",function(){layui.form.on("select",function(e){"A1INNER"==e.value?((0,p.default)(e.othis[0]).parent().parent().parent().find(".globalForm_A1FRAME_select").show(),(0,p.default)(e.othis[0]).parent().parent().parent().find(".globalForm_A1FRAME").hide()):"A1FRAME"==e.value?((0,p.default)(e.othis[0]).parent().parent().parent().find(".globalForm_A1FRAME_select").hide(),(0,p.default)(e.othis[0]).parent().parent().parent().find(".globalForm_A1FRAME").show()):"local_3"==e.value?((0,p.default)(e.othis[0]).parent().parent().parent().find(".local_Form_A1FRAME_select").show(),(0,p.default)(e.othis[0]).parent().parent().parent().find(".local_Form_A1FRAME").hide()):"local_4"==e.value&&((0,p.default)(e.othis[0]).parent().parent().parent().find(".local_Form_A1FRAME").show(),(0,p.default)(e.othis[0]).parent().parent().parent().find(".local_Form_A1FRAME_select").hide())}),(0,p.default)(".save_global_form").unbind().bind("click",function(){var e,t,n=l.default.selectVal(".globalForm"),i=l.default.inputVal(".url");"A1FRAME"==n?(t={formValue:i,type:"frame",name:"URL表单",parentFlowKey:"frame"},e=g(h.bpmnModeler)[0],n=v(h.bpmnModeler,e).businessObject.$parent.rootElements,(e=m.getCustomerElementBySingleType("extA1:GlobalForm","frame"))?(e.formValue=i,e.type="frame",e.name="URL表单",e.parentFlowKey="",e.nodeId=""):(t=m.createElementSimple("extA1:GlobalForm",t,h.bpmnModeler.get("bpmnFactory")),n.push(t)),c.excute(),f.success("流程配置保存成功")):f.error("在线表单暂时没有开放")})}),(0,p.default)(".setAllLocalForm").unbind().bind("click",function(){"设置所有节点"==(0,p.default)(this).html()?((0,p.default)(this).empty().html("隐藏非当前节点"),r.refresh()):(r.emptyOtherNodeDiv(),(0,p.default)(this).empty().html("设置所有节点"))}),(0,p.default)(".saveLocalForm").unbind().bind("click",function(){r.save("local"),f.success("保存成功")})},r.setRestFul=function(){s.bind()},r.emptyOtherNodeDiv=function(){var e=(0,p.default)(".node_form_context").find(".node_second_legend");0<e.length&&(0,p.default)(e).each(function(e,t){(0,p.default)(this).attr("data-id");(0,p.default)(t).parent().parent().remove()}),(0,p.default)(".setAllLocalForm").empty().html("设置所有节点")},r.refresh=function(){var i=[],e=(0,p.default)(".node_form_context").find(".node_second_legend");0<e.length&&(0,p.default)(e).each(function(e,t){var n=(0,p.default)(this).attr("data-id");n==m.getSelectElement().id?(0,p.default)(t).parent().parent().remove():i.push(n)});e=m.getSelectElement(),e=a.getNotCustomerElementById(e.id);(0,p.default)(e).each(function(e,t){var n=t.id,n=m.getCustomerElementBySingleTypeAndId("extA1:GlobalForm",n,"local"),n=null==n?"":n.formValue,n='                                                    <div class="node_local_form  appendDiV"  >\n\n                                                        <fieldset class="layui-elem-field layui-field-title">\n                                                            <legend class="node_second_legend" style="width: auto;border-bottom: 0px;" data-id='+t.id+">"+a.getCureentNodeInfo(t)+'</legend>\n                                                        </fieldset>\n                                                        <form class="layui-form" style="background-color: #f5f5f5;border: 1px solid #e3e3e3;">\n                                                            <div class="layui-form-item">\n                                                                <label class="layui-form-label"\n                                                                       style="width: 90px">表单类型:</label>\n                                                                <div class="layui-input-block">\n                                                                    <select name="localForm"\n                                                                            lay-verify="localForm" class="local_Form" >\n                                                                        <option value="local_3">在线表单\n                                                                        </option>\n                                                                        <option value="local_4" selected>URL表单\n                                                                        </option>\n                                                                    </select>\n                                                                </div>\n                                                            </div>\n                                                            <div class="layui-form-item local_Form_A1FRAME">\n                                                                <label class="layui-form-label"\n                                                                       style="width: 90px;padding-left: 0px">PC端URL:</label>\n                                                                <div class="layui-input-block">\n                                                                    <input type="text" value="'+n+'" name="title"\n                                                                           required\n                                                                           lay-verify="required"\n                                                                           placeholder="PC端URL"\n                                                                           autocomplete="off"\n                                                                           class="layui-input url form_url ">\n                                                                </div>\n                                                            </div>\n\n                                                            <div class="layui-form-item local_Form_A1FRAME_select" style="display: none">\n                                                                <label class="layui-form-label"\n                                                                       style="width: 90px;padding-left: 0px">PC端URL:</label>\n                                                                <div class="layui-input-block" style="padding-top: 6px">\n                                                                    <div class="right-operation">\n                                                                        <span class="operation_text ng-scope">请选择</span>\n                                                                        <a href="javascript:void(0);"\n                                                                           class="btn btn-sm btn-info fa fa-search-plus"></a>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                        </form >\n\n                                                    </div>\n';-1==p.default.inArray(t.id,i)&&((0,p.default)(".node_form_context").find(".node_local_form:last").append(n),layui.use("form",function(){layui.form.render("select")}))})},r.save=function(e){var t,n=g(h.bpmnModeler)[0],r=v(h.bpmnModeler,n).businessObject.$parent.rootElements,i=m.getSelectElement().id;m.getSelectElement();0<(0,p.default)(".node_form_context").find(".node_first_legend").length&&(t=m.getCustomerElementBySingleTypeAndId("extA1:GlobalForm",i,"local"),n=(0,p.default)(".node_local_form_firsturl").val(),t?(t.formValue=n,t.type="frame",t.name="URL表单",t.parentFlowKey="local",t.nodeId=i):(o=m.createElementSimple("extA1:GlobalForm",{formValue:n,type:"local",name:"URL表单",parentFlowKey:"local",nodeId:i},h.bpmnModeler.get("bpmnFactory")),r.push(o)));var o=(0,p.default)(".node_form_context").find(".node_second_legend");0<o.length&&(0,p.default)(o).each(function(e,t){var n=(0,p.default)(this).attr("data-id"),i=m.getCustomerElementBySingleTypeAndId("extA1:GlobalForm",n,"local"),o=(0,p.default)(this).parent().parent().find(".url").val();i?(i.formValue=o,i.type="frame",i.name="URL表单",i.parentFlowKey="local",i.nodeId=n):(n=m.createElementSimple("extA1:GlobalForm",{formValue:o,type:"local",name:"URL表单",parentFlowKey:"local",nodeId:n},h.bpmnModeler.get("bpmnFactory")),r.push(n))})},r.nodeForm=function(){var e=m.getSelectElement();!function(e){(0,p.default)(".node_local_form_firsturl").val(""),(0,p.default)(".global_form_url").val(""),!e||(t=m.getCustomerElementBySingleTypeAndId("extA1:GlobalForm",e.id,"local"))&&(0,p.default)(".node_local_form_firsturl").val(t.formValue);var t=m.getCustomerGloableElementBySingleType("extA1:GlobalForm","frame");t&&(0,p.default)(".global_form_url").val(t.formValue)}(e),e&&((0,i.is)(e,"bpmn:Activity")||(0,i.is)(e,"bpmn:Event"))&&(0,p.default)(".node_first_legend").empty().html(a.getCureentNodeInfo(e))},r.nodeProperty=function(){var e=m.getSelectElement();e&&((0,i.is)(e,"bpmn:UserTask")||(0,i.is)(e,"bpmn:StartEvent"))?((0,p.default)(".saveNodeProperty").unbind().bind("click",function(){var e=[],t=m.getSelectElement().id;e["node:nodeId"]=t;var n,i,o=(0,p.default)(".jumptype-div").find("input:checkbox:checked"),r=(0,p.default)(".notifyType-div").find("input:checkbox:checked"),a=(0,p.default)(".backUserMode-div").find("input:radio:checked").val(),s=(0,p.default)(".dateType-div").find("input:radio:checked").val(),l=(0,p.default)(".node_properties_day").val();o?(n=[],p.default.each(o,function(){n.push((0,p.default)(this).val())}),i=n.join(","),e["node:jumpType"]=i):e["node:jumpType"]="-1",r?(n=[],p.default.each(r,function(){n.push((0,p.default)(this).val())}),i=n.join(","),e["node:notifyType"]=i):e["node:notifyType"]="-1",e["node:backUserMode"]=a||"-1";a=(0,p.default)(".backNode-div option:selected").val();e["node:backNode"]=a||"-1";a=(0,p.default)(".prevHand").val();e["node:prevHand"]=a||"-1";a=(0,p.default)(".postHandler").val();e["node:postHandler"]=a||"-1",e["node:dateType"]=s||"-1",e["node:nodePropertiesDay"]=l||"-1";l=(0,p.default)("#node_properties_hour").val();e["node:nodePropertiesHour"]=l||"-1";l=(0,p.default)("#node_properties_minute").val();e["node:nodePropertiesMinute"]=l||"-1";for(var l=g(h.bpmnModeler)[0],l=v(h.bpmnModeler,l).businessObject.$parent,c=l.rootElements,l=m.createElement("node:UserProperty",{nodeId:e["node:nodeId"],backNode:e["node:backNode"],backUserMode:e["node:backUserMode"],dateType:e["node:dateType"],jumpType:e["node:jumpType"],nodePropertiesDay:e["node:nodePropertiesDay"],notifyType:e["node:notifyType"],postHandler:e["node:postHandler"],prevHand:e["node:prevHand"],nodePropertiesHour:e["node:nodePropertiesHour"],nodePropertiesMinute:e["node:nodePropertiesMinute"]},l,h.bpmnModeler.get("bpmnFactory")),u=[],t=m.getSelectElement().id,d=0;d<c.length;d++)if("node:UserProperty"==c[d].$type&&c[d].nodeId==t){u.push(d);break}if(u)for(d=0;d<u.length;d++)c.splice(u[d],1);c.push(l),f.success("节点信息保存成功")}),function(){var e=m.getSelectElement().id,t=m.getNotCustomerUserTaskElementById(e),i="";i+='  <option value="">请选择驳回节点</option>',(0,p.default)(t).each(function(e,t){var n=t.id,t=t.businessObject.name;i+="<option value='"+n+"'>"+t+"</option>"}),(0,p.default)(".backNode-div").empty().append(i);for(var n=0;n<=59;n++)(0,p.default)("#node_properties_minute").append("<option value="+n+">"+n+"</option>");for(n=0;n<=23;n++)(0,p.default)("#node_properties_hour").append("<option value="+n+">"+n+"</option>");layui.use("form",function(){layui.form.render("select")});for(var o,t=g(h.bpmnModeler)[0],r=v(h.bpmnModeler,t).businessObject.$parent.rootElements,n=0;n<r.length;n++)if("node:UserProperty"==r[n].$type&&r[n].nodeId==e){o=r[n];break}if(o){if(o[!0]&&l.default.checkdSelectByVal(".backNode-div",o.backNode),"-1"!=o.jumpType)for(var a=o.jumpType.split(","),n=0;n<a.length;n++)(0,p.default)(".jumptype-div").find("input:checkbox[name='"+a[n]+"']").prop("checked",!0);if("-1"!=o.notifyType)for(var s=o.notifyType.split(","),n=0;n<s.length;n++)(0,p.default)(".notifyType-div").find("input:checkbox[name='"+s[n]+"']").prop("checked",!0);if("-1"!=o.backUserMode)for(n=0;n<s.length;n++)(0,p.default)(".backUserMode-div").find("input:radio[value='"+o.backUserMode+"']").prop("checked",!0);(0,p.default)(".backNode-div option[value='"+o.backNode+"']").attr("selected",!0),"-1"!=o.prevHand&&(0,p.default)(".prevHand").val(o.prevHand),"-1"!=o.postHandler&&(0,p.default)(".postHandler").val(o.postHandler),o.dateType&&(0,p.default)(".dateType-div").find("input:radio[value='"+o.dateType+"']").prop("checked",!0),"-1"!=o.nodePropertiesDay&&(0,p.default)(".node_properties_day").val(o.nodePropertiesDay),"-1"!=o.nodePropertiesHour&&(0,p.default)("#node_properties_hour option[value='"+o.nodePropertiesHour+"'] ").attr("selected",!0),"-1"!=o.nodePropertiesMinute&&(0,p.default)("#node_properties_minute option[value='"+o.nodePropertiesMinute+"'] ").attr("selected",!0),layui.use("form",function(){layui.form.render()})}else(0,p.default)(".node_property_context_form")[0].reset()}(),(0,p.default)(".node_property_context_form").show()):(0,p.default)(".node_property_context_form").hide()}},{"../../../index":23,"../ElementRegistryUtils":25,"./CanvsHelper":59,"./DomOperate":64,"./ElementHelper":66,"./EventHelper":68,"./LayerHelper":74,"./UUIdHelper":78,"bpmn-js/lib/util/ModelUtil":419,jquery:624}],77:[function(e,t,n){"use strict";var h=e("../../../index"),f=i(e("jquery")),a=i(e("./XMLHelper")),s=i(e("./CanvsHelper"));function i(e){return e&&e.__esModule?e:{default:e}}var m=e("./ElementHelper"),l=e("./LayerHelper"),g=(e("./CanvsHelper"),e("./UUIdHelper")),c=(e("./BindClickHelper"),e("./HttpHelper"));window.$=f.default,window.jQuery=f.default,e("ztree/js/jquery.ztree.core"),e("ztree/js/jquery.ztree.excheck"),e("ztree/js/jquery.ztree.exedit");var o={};t.exports=o;var u,r=e("bpmn-js/lib/util/ModelUtil").is,v=e("min-dom").domify,p=e("../ElementRegistryUtils").getMainProcessId,d=e("../ElementRegistryUtils").getRootProcess,y=e("../ElementRegistryUtils").getRoot,b=(e("../ElementRegistryUtils").createDocumentation,e("../ElementRegistryUtils").getElement);function x(e){return null!=e&&!/^\s*$/.test(e)}function w(i){var o,e,t;i&&(layui.use(["element","layer"],function(){var e=layui.element,o=layui.jquery;e.on("collapse(org_user_group)",function(e){var t,n={view:{selectedMulti:!1},check:{enable:!1},data:{simpleData:{enable:!0}},callback:{onClick:function(e,t,n){"idm_user"==n.type&&0==c.ajax("get","mcp-bpms-admin/a1bpmn/user/v1/listIdmUser?page=1&limit=5").code&&u.reload({page:{curr:1},where:{},url:h.prefixUrl+"mcp-bpms-admin/a1bpmn/user/v1/listIdmUser?limit=5"});"idm_role"==n.type&&0==c.ajax("get","mcp-bpms-admin/a1bpmn/user/v1/listIdmGroupUsers?page=1&limit=5&groupId="+n.id).code&&u.reload({url:h.prefixUrl+"mcp-bpms-admin/a1bpmn/user/v1/listIdmGroupUsers?limit=5&groupId="+n.id,page:{curr:1},where:{}})}}},i=e.title[0].getAttribute("data-action");"idm_user"==i?0==(e=c.ajax("get","a1bpmn/user/v1/getTypesByType?type="+i)).code&&(t=e.data,o.fn.zTree.init(o("#"+i).contents().find("#org_user_group_tree"),n,t)):"idm_role"==i&&0==(e=c.ajax("get","a1bpmn/user/v1/listIdmGroup?page=1&limit=200")).code&&(t=e.data,o.fn.zTree.init(o("#"+i).contents().find("#org_user_group_tree"),n,t))})}),(0,f.default)("#panel_body_node_element_info").empty(),t=new Array,r(i,"bpmn:Process")?t.push("流程ID"):(t.push("节点ID"),t.push("节点名称"),t.push("宽度"),t.push("高度"),r(i,"bpmn:SequenceFlow")||(t.push("X"),t.push("Y"))),(o="",f.default)(t).each(function(e,t){var n="";"节点ID"==t?n=k(i.id):"节点名称"==t?n=k(i.businessObject.name):"宽度"==t?n=k(i.width):"高度"==t?n=k(i.height):"X"==t?n=k(i.x):"Y"==t?n=k(i.y):"流程ID"==t&&(n=k(i.id)),o+='<tr style="height:45px;"  class="ng-scope" >\n                                                        <th  width="70" class="ng-binding">'+t+'</th>\n                                                        <td >\n                                                            <div class="ng-scope">\n                                                                <input type="text" value="'+n+'"  class="form-control ng-pristine ng-valid" readonly="readonly" >\n                                                            </div>\n                                                        </td>\n                                                    </tr>'}),(0,f.default)("#panel_body_node_element_info").append(o),e=p(h.bpmnModeler)[0],t=b(h.bpmnModeler,e),(e=t.businessObject.$parent)&&x(e.modelId)&&((0,f.default)("input[name='typeIdHidden']").val(e.categoryId),(0,f.default)("input[name='typeNameHidden']").val(e.title),(0,f.default)("input[name='typeName']").val(e.title),(0,f.default)("input[name='name']").val(t.businessObject.name),(0,f.default)("input[name='defKey']").val(t.id),(0,f.default)(".model_save").empty().html("保存修改"),(0,f.default)(".model_publish2").empty().html("发布新版"),0<t.businessObject.documentation.length&&(0,f.default)("#desc").val(t.businessObject.documentation[0].text),C()))}function k(e){return null==e?"":e}function E(){var e,t,n=(0,f.default)("input[name='typeName']").val(),i=(0,f.default)("input[name='name']").val(),o=(0,f.default)("input[name='defKey']").val(),r=(0,f.default)("#desc").val();x(n)?x(o)?(e=d(h.bpmnModeler),y(h.bpmnModeler).targetNamespace=o,t=h.bpmnModeler.get("bpmnFactory").create("bpmn:Documentation",{text:r}),h.bpmnModeler.get("modeling").updateProperties(e[0],{documentation:[t],id:o,name:i}),n=e[0].businessObject.$parent,t=(0,f.default)("input[name='typeIdHidden']").val(),e=(0,f.default)("input[name='typeNameHidden']").val(),r={xml:encodeURIComponent(a.default.getXml()),typeId:t,designer:"A1",modelType:"0",modelKey:o,name:i,description:r,modelId:n.typeKey,typeKey:t,thumbnail:encodeURIComponent(s.default.getImg())},0==(t=c.ajaxPost("a1bpmn/api/models/save",r)).code?(r=t.primaryId,n.categoryId=(0,f.default)("input[name='typeIdHidden']").val(),n.title=e,n.typeKey=r,s.default.excute(),l.success("保存成功"),C()):l.error(t.msg)):l.error("流程Key不能为空"):l.error("流程分类不能为空")}function C(){(0,f.default)("input[name='typeName']").attr("disabled","disabled").attr("readonly","readonly"),(0,f.default)("input[name='defKey']").attr("disabled","disabled").attr("readonly","readonly"),(0,f.default)("input[name='name']").attr("disabled","disabled").attr("readonly","readonly"),(0,f.default)(".model_save").empty().html("保存"),(0,f.default)(".model_publish2").empty().html("发布新版")}o.create=function(e){(0,f.default)(".selectType").unbind().bind("click",function(){var i;i={view:{selectedMulti:!1},data:{key:{name:"title"},simpleData:{enable:!0,idKey:"id",pIdKey:"parentId",rootPId:null}},check:{enable:!1},callback:{onClick:function(e,t,n){(0,f.default)("input[name='typeIdHidden']").val(n.id),(0,f.default)("input[name='typeNameHidden']").val(n.title)}}},layer.open({type:2,title:"选择分类",closeBtn:!1,shift:2,area:["300px","340px"],shadeClose:!0,btn:["确认","取消"],btnAlign:"c",content:"./ztree.html",end:function(){},success:function(e,t){var n=layer.getChildFrame("body",t),t=c.ajax("get","a1bpmn/sys/sysType/v1/getTypesByKey");0==t.code&&(t=t.data,f.default.fn.zTree.init(n.contents().find("#org_user_group_tree"),i,t))},yes:function(e,t){var n=(0,f.default)("input[name='typeNameHidden']").val();null!=n?((0,f.default)("input[name='typeName']").val(n),layer.close(e)):l.error("请选择分类！")}})}),(0,f.default)(".model_save").unbind().bind("click",function(){E()}),(0,f.default)(".model_publish2").unbind().bind("click",function(){var e,t,n=p(h.bpmnModeler)[0],i=b(h.bpmnModeler,n);x(i)&&(x(n=(e=i.businessObject.$parent).typeKey)?"发布新版"==(0,f.default)(".model_publish2").html()&&(t=(0,f.default)("#desc").val(),t=h.bpmnModeler.get("bpmnFactory").create("bpmn:Documentation",{text:t}),h.bpmnModeler.get("modeling").updateProperties(i,{documentation:[t]}),t={xml:encodeURIComponent(a.default.getXml()),thumbnail:encodeURIComponent(s.default.getImg()),modelId:n},"0"==(t=c.ajaxPost("a1bpmn/api/models/copy",t)).code&&(n=t.primaryId)):(E(),n=e.typeKey),"0"==(t=c.ajax("get","a1bpmn/api/repository/process-definitions/publish?modelId="+n+"&resourceName="+e.targetNamespace+".bpmn20.xml")).code?((0,f.default)("input[name='version']").val(t.data.version),e.typeKey=n,l.success("发布成功")):l.error(t.msg))}),w(e),B(e)};function S(t){var e,n,i=p(h.bpmnModeler)[0],i=(b(h.bpmnModeler,i).businessObject.$parent.rootElements,m.getCustomerElementBySingleType("extA1:UserRules")),o=[];if(t&&(n=[],i&&i.child&&i.child.forEach(function(e){e.nodeId==t.id&&(o=m.getButtonElementByChildTypeAndId("extA1:UserRules",e.nodeId),n.push(o))})),0==o.length||(e=!0),i='<div class="slimScrollDiv" >\n    <div   name=\'dynamicHeightBasicSetting\'\n         class="ng-pristine ng-untouched ng-valid ng-scope ng-empty ">\n        <div class="table-nest " style="display: inline-block;">\n        </div>\n        <div  class="table-ch ng-scope">\n            <div class="btn-group" >\n                <button type="button" class="btn btn-link fa ng-binding"> '+m.getElementDispalyName(t)+'</button>                <button type="button" class="btn btn-default fa fa-plus property_user_div_class_addUsers">\n                </button>\n            </div>\n            <div class="alert alert-danger show-grid ng-scope refreshNodeDiv"  >\n                尚未配置节点人员，请添加人员设置\n            </div>\n        </div>\n    </div>\n</div>',!e)return i;A(n.length)}const T=".node_user_context",_="#layui-layer-user",N=".property_user_div_class_addUsers";function A(e){(0,f.default)(T).empty();e='<div class="slimScrollDiv" >\n    <div   name=\'dynamicHeightBasicSetting\'\n         class="ng-pristine ng-untouched ng-valid ng-scope ng-empty ">\n        <div class="table-nest " style="display: inline-block;">\n        </div>\n        <div  class="table-ch ng-scope">\n            <div class="btn-group" >\n                <button type="button" class="btn btn-link fa ng-binding"> '+m.getElementDispalyName(m.getSelectElement())+'</button>                <button type="button" class="btn btn-default fa fa-plus property_user_div_class_addUsers">\n                </button>\n            </div>\n            <div class="alert alert-danger show-grid ng-scope refreshNodeDiv"  >        已定义规则 &nbsp <span  class="layui-badge event_node_count">'+e+'</span><div class="pull-right" style="border: none;"><a  class="btn btn-success btn-sm fa fa-edit addNodeUserCondition"></a>        <a  class="btn btn-sm btn-default fa fa-trash-o nodeUsersDel"></a></div>            </div>        </div>    </div></div>';(0,f.default)(T).html(e),R(),P()}function P(){(0,f.default)(".nodeUsersDel").unbind().bind("click",function(){var t=m.getSelectElement().id,e=m.getButtonElementByChildTypeAndId("extA1:UserRules",t);if(e&&0<e.length&&e){var n=m.getCustomerElementBySingleType("extA1:UserRules").child;for(let e=n.length-1;0<=e;e--)n[e].nodeId==t&&n.splice(e,1)}!function(){(0,f.default)(".refreshNodeDiv").empty();(0,f.default)(".refreshNodeDiv").html("尚未配置节点人员，请添加人员设置")}()})}function I(){(0,f.default)(".add-user").unbind().bind("click",function(){(0,f.default)(this).parent().parent().parent().find("tr").index((0,f.default)(this).parent().parent()[0]);var e,s,t=(0,f.default)(this).parent().parent().attr("data-id");e="用户选择器",s=t,layer.open({type:1,title:e,shadeClose:!1,area:["900px","700px"],skin:"layui-layer-user",btn:["保存","取消"],content:(0,f.default)("#layui-table-user-select"),end:function(){var e=(0,f.default)("#layui-table-user-select").find("input:radio:checked");e.val(),e.prop("checked",!1);(0,f.default)("#layui-table-user-select").hide(),(0,f.default)("#source_spec_div_textarea").val("").attr("data-id",""),(0,f.default)(".tags-ul-user-ul").empty()},success:function(e,t){!function(r){(0,f.default)(".clear-selected-arr").unbind().bind("click",function(){(0,f.default)(".tags-ul-user-ul").empty()}),j(),(0,f.default)(".userDialog").unbind().bind("click",function(){!function(){var e=(0,f.default)("#source_spec_div_textarea").val(),t=(0,f.default)("#source_spec_div_textarea").attr("data-id");if(e){var n,i=e.split(","),o=t.split(",");for(n in(0,f.default)(".tags-ul-user-ul").empty(),i){var r=[];r.id=o[n],r.name=i[n],F(r)}}}();var n=[],i=(new Array,layui.table);i.on("checkbox(table)",function(e){var t;1==e.checked?"one"==e.type?(F(e.data),n.push(e.data)):(t=layui.table.checkStatus("userTreelistReload").data,(0,f.default)(t).each(function(e,t){F(t)}),n=t):"one"==e.type?D(e.data):(0,f.default)(n).each(function(e,t){D(t)})});layui.table.on("row(table)",function(e){console.log(e.tr),console.log(e.data)}),layer.open({type:1,title:"选择用户",shadeClose:!1,area:["1000px","700px"],btn:["保存","取消"],skin:"layui-layer-user",content:(0,f.default)(".container-fluid"),end:function(){(0,f.default)(".container-fluid").hide()},success:function(e,t){layui.use("table",function(){u=layui.table,u=i.render({id:"userTreelistReload",elem:"#table",width:570,url:h.prefixUrl+"mcp-bpms-admin/a1bpmn/user/v1/listIdmUser",limit:5,page:{layout:["count","prev","page","next","limit","skip"],limits:[5,10,15],first:!1,last:!1},request:{},where:{},cols:[[{type:"checkbox"},{field:"id",title:"ID",sort:!0},{field:"name",title:"姓名"},{field:"account",title:"账号"}]],data:[]})})},yes:function(e,t){for(var o,n,i="",r="",a=(o=[],n=(0,f.default)(".tags-ul-user-ul li"),(0,f.default)(n).each(function(e,t){var n=(0,f.default)(t).attr("data-id"),i=(0,f.default)(t).attr("data-name"),t=[];t.data_id=n,t.data_name=i,o.push(t)}),o),s=0;s<a.length;s++)i+=a[s].data_id+",",r+=a[s].data_name+",";0<i.length&&(i=i.substr(0,i.length-1)),0<r.length&&(r=r.substr(0,r.length-1)),(0,f.default)("#source_spec_div_textarea").val(r).attr("data-id",i),layer.close(e)},btn2:function(e,t){},cancel:function(){}})});var e=(0,f.default)("#layui-table-user-select").find("input:radio:checked");e.val(),e.prop("checked",!1);e=(0,f.default)("#layui-table-user-select").find("input:radio:checked"),e.val();e=(0,f.default)(".layui-table-ui-user");(0,f.default)(e).each(function(e,t){var n,i,o;!t.hasChildNodes()||(o=(0,f.default)(t).attr("data-id"))==r&&((0,f.default)("#source_spec_div").hide(),n=(0,f.default)(t).find("td:eq(1)").find(".add-user-html").attr("users"),i=(0,f.default)(t).find("td:eq(1)").find(".add-user-html").attr("add_val"),o=(0,f.default)(t).find("td:eq(1)").find(".add-user-html").attr("data-id"),i&&(0,f.default)("#layui-table-user-select").find("input[name=userType][value="+i+"]").prop("checked",!0),n&&"spec"==i&&((0,f.default)("#source_spec_div").show(),(0,f.default)("#source_spec_div_textarea").val(n).attr("data-id",o)))}),(0,f.default)("#layui-table-user-select").find("input:radio").unbind().bind("click",function(){var e=(0,f.default)(this).val();(0,f.default)(this).next().html();"spec"!=e?(0,f.default)("#source_spec_div").hide():(0,f.default)("#source_spec_div").show()})}(s)},yes:function(e,t){var n=(0,f.default)("#layui-table-user-select").find("input:radio:checked"),i=n.val(),o=(0,f.default)("#source_spec_div_textarea").val(),r=(0,f.default)("#source_spec_div_textarea").attr("data-id"),a=n.next().html(),n=(0,f.default)("#layui-table-user tr");(0,f.default)(n).each(function(e,t){t.hasChildNodes()&&(0,f.default)(t).attr("data-id")==s&&(0,f.default)(t).find("td:eq(1)").find(".add-user-html").text(a).attr("add_val",i).attr("users",o).attr("data-id",r)}),layer.close(e)},btn2:function(e,t){(0,f.default)(".layui-table-user-select").empty()},cancel:function(){(0,f.default)(".layui-table-user-select").empty(),console.log(3)}})})}function R(){var e;m.getSelectElement()&&((e=m.getSelectElement().id)?(0,f.default)(".addNodeUserCondition").unbind().bind("click",function(){M("【"+e+"】节点人员设置",m.getSelectElement())}):l.error("请选择元素后再操作"))}function M(e,n){layer.open({type:1,title:e,shadeClose:!1,area:["900px","700px"],btn:["保存","取消"],skin:"layui-layer-user",content:(0,f.default)(_),end:function(){(0,f.default)("#layui-layer-user").hide()},success:function(e,t){L(),function(e){var t=p(h.bpmnModeler)[0];b(h.bpmnModeler,t).businessObject.$parent;e&&e.id&&((e=m.getButtonElementByChildTypeAndId("extA1:UserRules",e.id))&&0<e.length&&(0,f.default)(e).each(function(e,t){O(t)}))}(n)},yes:function(e,t){!function(e){var t=(0,f.default)(".layui-table-ui-user"),n=p(h.bpmnModeler)[0],n=(b(h.bpmnModeler,n).businessObject.$parent.rootElements,m.getSelectElement());if(null!=n){var c=n.id,u=m.getCustomerElementBySingleType("extA1:UserRules"),d=[],n=m.getButtonElementByChildTypeAndId("extA1:UserRules",c);if(n&&0<n.length&&n){var i=m.getCustomerElementBySingleType("extA1:UserRules").child;for(let e=i.length-1;0<=e;e--)i[e].nodeId==c&&i.splice(e,1)}(0,f.default)(t).each(function(e,t){var n,i,o,r,a,s,l;t.hasChildNodes()&&(l={},n=(0,f.default)(t).find("td:eq(0)").find("option:selected").val(),i=(0,f.default)(t).find("td:eq(1)").find(".add-user-html").attr("add_val"),o=(0,f.default)(t).find("td:eq(1)").find(".add-user-html").attr("users"),r=(0,f.default)(t).find("td:eq(1)").find(".add-user-html").attr("data-id"),a=(0,f.default)(t).find("td:eq(1)").find(".add-user-html").html(),s=(0,f.default)(t).find("td:eq(2)").find("option:selected").val(),n&&(l.pluginType=n,l.pluginType=n,l.nodeId=c,"users"==n?(l.pluginVal=o,l.specId=r):"sameNode"==n&&(t=(0,f.default)(t).find("td:eq(1)").find("option:selected").val(),l.pluginVal="-1"!=t?t:""),l.logicCal=s||"",l.ruleId=i||"",l.ruleVal=o||"",l.ruleDisplayName=a||"",l=m.createElement("extA1:UserRule",l,u,h.bpmnModeler.get("bpmnFactory")),d.push(l),A()))});var o=u.child;null==o&&(o=[]),0<d.length&&(f.default.each(d,function(e,t){o.push(t)}),u.child=o),H(e)}}(n);(0,f.default)(".layui-table-ui-user").empty(),layer.close(e)},btn2:function(e,t){(0,f.default)(".layui-table-ui-user").empty()},cancel:function(){(0,f.default)(".layui-table-ui-user").empty()}})}function L(){var e;e=(0,f.default)(".layui-table-ui-user").find(".btn-remove"),(0,f.default)(e).each(function(e,t){t.addEventListener("click",function(){(0,f.default)(t).parent().parent().remove()})}),e=(0,f.default)(".layui-table-ui-user").find(".fa-chevron-down"),(0,f.default)(e).each(function(e,n){n.addEventListener("click",function(){var e=(0,f.default)(n).parent().parent(),t=e.next();0<t.length&&e.insertAfter(t)})}),e=(0,f.default)(".layui-table-ui-user").find(".fa-chevron-up"),(0,f.default)(e).each(function(e,n){n.addEventListener("click",function(){var e=(0,f.default)(n).parent().parent(),t=e.next();0<t.length&&e.insertAfter(t)})}),R(),e=(0,f.default)(".layui-table-ui-user").find(".userTypeChange"),(0,f.default)(e).each(function(e,o){o.addEventListener("change",function(){var e=(0,f.default)(o).val(),t=(0,f.default)(o).parent().parent().find("td:eq(1)");if("sameNode"==e){t.empty();const i=h.bpmnModeler.get("elementRegistry");var e=i.filter(e=>"bpmn:UserTask"===e.type),n='<select  class="form-control btn_nodes_select" > ';n+='<option value="-1" class="" selected="selected">请选择</option>',(0,f.default)(e).each(function(e,t){t.businessObject.id!=m.getSelectElement().id&&(n+='<option label="'+t.businessObject.name+'" value="'+t.businessObject.id+'">'+t.businessObject.name+"</option>")}),n+="</select >",t.append(n)}else t.empty(),t.append('<a href="javascript:javaScript:void(0)" class="btn btn-xs btn-primary add-user" style="background-image: linear-gradient(to bottom, #1ab394 0%, #1ab394 100%);" >选择</a><span id="add-user-html" class="add-user-html"  ></span>');L()})}),P(),I()}function D(i){var e=(0,f.default)(".tags-ul-user-ul li");(0,f.default)(e).each(function(e,t){var n=(0,f.default)(t).attr("data-id");(0,f.default)(t).attr("data-name");i.id==n&&(0,f.default)(t).remove()})}function j(){(0,f.default)(".tags-li-remove").unbind().bind("click",function(){(0,f.default)(this).remove()})}function F(e){var t='<li class="tags-li ng-scope tags-li-remove"  data-id='+e.id+" data-name="+e.name+" >";t+='<div class="tags-pan">',t+=' <a class="tags-remove-btn" href="javascript:;"><i class="fa fa-close"></i></a>',t+='<span  class="ng-binding" data-id='+e.id+">"+e.name+"</span> ",t+="</div></li>",(0,f.default)(".tags-ul-user-ul").append(t),j()}function O(n){var e=v('<tr  class="layui-table-ui-user"></tr>'),t=v('<tr  class="layui-table-ui-user" data-id="'+g.getuuid()+'"></tr>'),i=v("<td ></td>"),o="";o+="<td>",o+='<a href="javascript:javaScript:void(0)" class="btn btn-xs btn-primary add-user" style="background-image: linear-gradient(to bottom, #1ab394 0%, #1ab394 100%);">选择</a>',o+=n?'<span  class="add-user-html" data-id="'+n.specId+'" add_val="'+n.ruleId+'" users="'+n.ruleVal+'">'+n.ruleDisplayName+"</span>":'<span  class="add-user-html" ></span>';var r=v(o+="</td>"),o=v('<td > <select  class="form-control rule-type ">\n    <option value="or" selected>或</option>\n    <option value="and">与</option>\n    <option value="exclude">排除</option>\n</select> </td>');if(n){var a='<td > <select  class="form-control rule-type">',s=[],l=function(e,t){this.name=t,this.value=e};if(s.push(new l("or","或")),s.push(new l("and","与")),s.push(new l("exclude","排除")),(0,f.default)(s).each(function(e,t){t.value==n.logicCal?a+='<option selected  value="'+t.value+'" >'+t.name+"</option>":a+='<option  value="'+t.value+'"  >'+t.name+"</option>"}),o=v(a+="</select>"),"sameNode"==n.pluginType){const p=h.bpmnModeler.get("elementRegistry");var c=p.filter(e=>"bpmn:UserTask"===e.type),u='<td><select  class="form-control btn_nodes_select" > ';u+='<option value="-1" class="" selected="selected">请选择</option>',(0,f.default)(c).each(function(e,t){t.businessObject.id!=m.getSelectElement().id&&t.businessObject.id!=m.getSelectElement().id&&(n.pluginVal==t.businessObject.id?u+='<option selected label="'+t.businessObject.name+'" value="'+t.businessObject.id+'">'+t.businessObject.name+"</option>":u+='<option label="'+t.businessObject.name+'" value="'+t.businessObject.id+'">'+t.businessObject.name+"</option>")}),r=v(u+="</select ></td>")}}var d,l=v('<td>\n        <a href="javascript:javaScript:void(0)"\n           class="btn btn-sm btn-default fa fa-chevron-up"></a>\n        <a href="javascript:javaScript:void(0)"\n           class="btn btn-sm btn-default fa fa-chevron-down"></a>\n        <a href="javascript:javaScript:void(0)"\n           class="btn btn-default fa fa-trash-o btn-remove"></a>\n    </td>'),s=v('<select  class="form-control  userTypeChange"></select> '),c=!n||"users"==n.pluginType?(d=v(' <option label="用户" selected value="users">用户</option>'),v(' <option label="相同节点执行人" value="sameNode">相同节点执行人</option>')):(d=v(' <option label="用户"  value="users">用户</option>'),v(' <option label="相同节点执行人" selected value="sameNode">相同节点执行人</option>'));s.appendChild(d),s.appendChild(c),i.appendChild(s),t.appendChild(i),t.appendChild(r),0<(0,f.default)(".layui-table-ui-user").find(".rule-type").length||(o=v("<td><span class='rule-type'></span></td>")),t.appendChild(o),t.appendChild(l),e.appendChild(t),(0,f.default)("#layui-table-user").find(".layui-table-ui-user:last").after(e.innerHTML),console.log(e.innerHTML),L()}function B(e){r(e,"bpmn:UserTask")&&H(e)}function H(e){(0,f.default)(T).html(S(e)),(0,f.default)(N).unbind().bind("click",function(){M("【"+m.getElementOnlyName(e)+"】节点人员设置",e),(0,f.default)("#layui-layer-user-addRow").unbind().bind("click",function(){O(null)})})}o.create1=function(){B(m.getSelectElement()),(0,f.default)("#layui-layer-user-addRow").unbind().bind("click",function(){O(null)})}},{"../../../index":23,"../ElementRegistryUtils":25,"./BindClickHelper":57,"./CanvsHelper":59,"./ElementHelper":66,"./HttpHelper":71,"./LayerHelper":74,"./UUIdHelper":78,"./XMLHelper":80,"bpmn-js/lib/util/ModelUtil":419,jquery:624,"min-dom":835,"ztree/js/jquery.ztree.core":855,"ztree/js/jquery.ztree.excheck":856,"ztree/js/jquery.ztree.exedit":857}],78:[function(e,t,n){"use strict";e("../../../index");e={};(t.exports=e).getuuid=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}},{"../../../index":23}],79:[function(e,t,n){"use strict";var p=e("../../../index"),a=i(e("jquery")),s=e("../../../../modules/bpmn-js/lib/util/ModelUtil"),h=i(e("./CanvsHelper")),f=i(e("./UUIdHelper"));function i(e){return e&&e.__esModule?e:{default:e}}e("../ElementRegistryUtils").getAllUserTask;var m=e("../ElementRegistryUtils").getElement,g=e("../ElementRegistryUtils").getMainProcessId,v=(e("../ElementRegistryUtils").getAllExtA1,e("../ElementRegistryUtils").getAllCustomerElement),o=e("../ElementRegistryUtils").removeCustomerElementById,y=e("../ElementRegistryUtils").getCustomerElementById,b=e("../helper/ElementHelper"),r={};(t.exports=r).add=function(e,t,d){var n="",n=d?"更新":"保存";layer.open({type:2,title:e,skin:"layui-layer-user",closeBtn:1,btn:[n,"取消"],shade:[0],area:["30%","90%"],offset:"rb",anim:2,content:"procesvar.html",success:function(e,t){var n=g(p.bpmnModeler)[0],i=m(p.bpmnModeler,n),n=layer.getChildFrame("body",t),t=n.find("#bpmVariableDef-nodeId");t.empty();var o="",r=[];o+='<option value="全局变量">全局变量</option>',(0,a.default)(i.children).each(function(e,t){var n;((0,s.is)(t,"bpmn:StartEvent")||(0,s.is)(t,"bpmn:Activity")||(0,s.is)(t,"bpmn:EndEvent"))&&(n=t.businessObject.id+"("+t.businessObject.name+")","-1"==a.default.inArray(t.businessObject.id,r)&&(d&&d.varType==n?o+="<option selected value="+n+">"+n+"</option>":o+="<option value="+n+">"+n+"</option>",r.push(t.businessObject.id)))}),t.append(o),d&&(t=d,(n=n).find("#data-bpmVariableDef-varKey").val(t.varKey),n.find("#data-bpmVariableDef-name").val(t.varName),n.find("#data-bpmVariableDef-description").val(t.description),t.required&&n.find("#data-bpmVariableDef-required").find("option[value="+t.required+"]").attr("selected",!0),t.dataType&&n.find("#data-bpmVariableDef-dataType").find("option[value="+t.dataType+"]").attr("selected",!0),n.find("#data-bpmVariableDef-defaultVal").val(t.defaultVal))},end:function(){},yes:function(e,t){var n,i,o=layer.getChildFrame("body",e),r=o.find("#bpmVariableDef-nodeId option:selected").val(),a=o.find("#data-bpmVariableDef-name").val(),s=o.find("#data-bpmVariableDef-varKey").val(),l=o.find("#data-bpmVariableDef-dataType option:selected").val(),c=o.find("#data-bpmVariableDef-description").val(),u=o.find("#data-bpmVariableDef-defaultVal").val(),o=o.find("#data-bpmVariableDef-required option:selected").val();0!=a.length&&0!=s.length?(d?(n=d.id,(i=y(p.bpmnModeler,"extA1:VariableDef",n)).varType=r,i.varName=a,i.varKey=s,i.description=c,i.defaultVal=u,i.required=o,i.dataType=l):(n=r,i=a,r=s,a=l,s=c,l=u,c=o,u=g(p.bpmnModeler)[0],u=(o=m(p.bpmnModeler,u).businessObject.$parent).rootElements,c={uniqueId:f.default.getuuid(),varType:n,varName:i,varKey:r,dataType:a,description:s,defaultVal:l,required:c},o=b.createElement("extA1:VariableDef",c,o,p.bpmnModeler.get("bpmnFactory")),u.push(o),h.default.excute()),layui.use("table",function(){var e=layui.table,t=v(p.bpmnModeler,"extA1:VariableDef");e.reload("varTreelistReload",{data:t})}),layer.close(e)):layer.msg("必填参数缺失",{icon:2})},btn2:function(e,t){},cancel:function(){}})},r.render=function(){layui.use("table",function(){var e=layui.table,t=v(p.bpmnModeler,"extA1:VariableDef");e.render({id:"varTreelistReload",elem:"#var-table",limit:10,page:{layout:["count","prev","page","next","limit","skip"],limits:[10,20,35],first:!1,last:!1},cols:[[{field:"varType",title:"变量类型"},{field:"varName",title:"名称"},{field:"varKey",title:"变量key"},{field:"dataType",title:"数据类型",templet:function(e){if(null!=e.dataType&&""!=e.dataType)return"string"==e.dataType?"字符串":"int"==e.dataType?"整形":"float"==e.dataType?"浮点型":"double"==e.dataType?"双精度":void 0}},{field:"defaultVal",title:"默认值"},{field:"required",title:"是否必需",templet:function(e){if(null!=e.required&&""!=e.required)return"true"==e.required?'<span class="badge badge-primary" >必填</span>':"false"==e.required?'<span class="badge badge-default ng-scope" >非必填</span>':void 0}},{fixed:"right",title:"操作",templet:function(e){return'<button class="btn btn-info btn-sm" lay-event="editVar"><i class="fa fa-edit"></i>编辑</button>\n\t\t\t\t\t\t\t\t<button class="btn btn-danger btn-sm" lay-event="deleteVar"><i class="fa fa-remove"></i>删除</button>'}}]],done:function(e,t,n){},data:t})}),layui.table.on("tool(var-table)",function(e){var t=e.event,n=(e.data.modelKey,e.data.id);"editVar"===t?r.add("编辑流程变量",1,e.data):"deleteVar"==t&&(o(p.bpmnModeler,"extA1:VariableDef",n),r.render())})}},{"../../../../modules/bpmn-js/lib/util/ModelUtil":222,"../../../index":23,"../ElementRegistryUtils":25,"../helper/ElementHelper":66,"./CanvsHelper":59,"./UUIdHelper":78,jquery:624}],80:[function(e,t,n){"use strict";var o=e("../../../index"),e={};(t.exports=e).getXml=function(){var n,i=new RegExp("bpmn:Definitions","g");return o.bpmnModeler.saveXML({format:!0},function(e,t){n=t.replace(i,"bpmn:definitions")}),n}},{"../../../index":23}],81:[function(e,t,n){"use strict";var i;(i=e("jquery"))&&i.__esModule,e("../../../index");e("./LayerHelper");var o=e("./HttpHelper"),r={};function a(e,t,n){"idm_user"==n.type&&0==o.ajax("get","a1bpmn/user/v1/listIdmUser?curr=1&limit=10").code&&(void 0).reload({page:{curr:1},where:{}}),n.type}(t.exports=r).setting=function(e){return{view:{selectedMulti:!1},check:{enable:!1},data:{simpleData:{enable:!0}},callback:{onClick:a}}}},{"../../../index":23,"./HttpHelper":71,"./LayerHelper":74,jquery:624}],82:[function(e,t,n){t.exports={__depends__:[e("./cmd"),e("diagram-js/lib/i18n/translate").default],__init__:["propertiesPanel"],propertiesPanel:["type",e("bpmn-js-properties-panel/lib/PropertiesPanel")]}},{"./cmd":34,"bpmn-js-properties-panel/lib/PropertiesPanel":225,"diagram-js/lib/i18n/translate":585}],83:[function(e,t,n){"use strict";var i,a=e("min-dom").query,o=e("min-dom").classes,r=e("min-dom").domify,s=e("lodash/bind");function l(e){this.template=(e=e||{}).template||this.template;e=this.el=r(this.template);this.header=a(".popup-header",e),this.body=a(".popup-body",e),this.footer=a(".popup-footer",e),document.body.appendChild(e),this._attachEvents()}l.prototype.template='<div class="bpp-properties-panel-popup"><div class="underlay"></div><div class="popup"><button class="popup-close"><span>Close</span></button><div class="popup-header"></div><div class="popup-body"></div><div class="popup-footer"></div></div></div>',l.prototype._attachEvents=function(){var i=this,o=this.events,r=this.el;Object.keys(o).forEach(function(e){var t=s(i[o[e]],i),n=e.split(" "),e=n.shift(),n=!!n.length&&n.shift();(n=n?a(n,r):r)&&n.addEventListener(e,t)})},l.prototype._detachEvents=function(){var i=this,o=this.events,r=this.el;Object.keys(o).forEach(function(e){var t=s(i[o[e]],i),n=e.split(" "),e=n.shift(),n=!!n.length&&n.shift();(n=n?a(n,r):r)&&n.removeEventListener(e,t)})},l.prototype.events={"click .underlay":"_handleClose","click .popup-close":"_handleClose"},l.prototype._handleClose=function(e){this.close()},l.prototype.open=function(e){o(this.el).add("open")},l.prototype.close=function(){o(this.el).remove("open")},l.prototype.remove=function(){this._detachEvents(),document.body.contains(this.el)&&document.body.removeChild(this.el)},t.exports=function(){return i=i||new l}},{"lodash/bind":793,"min-dom":835}],84:[function(e,t,n){"use strict";var i=e("inherits"),o=e("../../PropertiesActivator"),u=e("bpmn-js/lib/util/ModelUtil").is,d=e("../bpmn/parts/ProcessProps"),p=e("../bpmn/parts/EventProps"),h=e("../bpmn/parts/LinkProps"),f=e("../bpmn/parts/DocumentationProps"),m=e("../bpmn/parts/IdProps"),g=e("../bpmn/parts/initProps"),v=e("../bpmn/parts/NameProps"),y=(e("../bpmn/parts/ExecutableProps"),e("./parts/ServiceTaskDelegateProps")),b=(e("./parts/UserTaskProps"),e("./parts/CallActivityProps")),x=e("./parts/MultiInstanceLoopProps"),w=e("./parts/ScriptTaskProps"),k=e("./parts/FormProps"),E=e("./parts/StartEventInitiator"),C=e("./parts/VariableMappingProps"),l=e("./parts/ListenerProps"),c=e("./parts/ListenerDetailProps"),S=e("./parts/ListenerFieldInjectionProps"),T=e("./element-templates/parts/ChooserProps"),_=e("./element-templates/parts/CustomProps"),N=e("./parts/GlobalRestFulsProps"),A=e("./parts/LocalProps"),P=e("./parts/UsersProps"),I=e("./parts/UsersTaskNodeProps"),R=(e("./parts/CandidateStarterProps"),e("./parts/TasklistProps"),e("./parts/ExternalTaskConfigurationProps"),e("bpmn-js/lib/util/ModelUtil").getBusinessObject,e("../../helper/EventDefinitionHelper")),M=(e("../../helper/ImplementationTypeHelper"),function(e,t){return u(e,"activiti:ExecutionListener")?t("Execution Listener"):u(e,"activiti:TaskListener")?t("Task Listener"):""}),L="This maps to the process definition key.";function D(e,t,n,i){if(!u(e,"bpmn:SequenceFlow")){var o={id:"listeners",label:i("Listeners"),entries:[]},r=l(o,e,t,i),a={id:"listener-details",entries:[],enabled:function(e,t){return r.getSelectedListener(e,t)},label:function(e,t){t=r.getSelectedListener(e,t);return M(t,i)}};c(a,e,t,r,i);var s={id:"listener-fields",label:i("Field Injection"),entries:[],enabled:function(e,t){return r.getSelectedListener(e,t)}};return S(s,e,t,r,i),[o,a,s]}}function r(e,r,a,s,l,c){o.call(this,e),this.getTabs=function(e){var t,n,i,o;return[{id:"general",label:c("General"),groups:function(e,t,n,i,o,r){var a,s;e=e.labelTarget||e,a=u(e,"bpmn:Process")?(s={description:""},{id:"general",label:r("流程信息"),entries:[]}):{id:"general",label:r("节点信息"),entries:[]},u(e,"bpmn:UserTask")&&(s={description:""}),u(e,"bpmn:Participant")&&(l={processIdDescription:L}),m(a,e,r,s),v(a,e,n,t,r),d(a,e,r,l),T(a,e,o,r);var l=_(e,o,n,r),o={id:"details",label:r("Details"),entries:[]};y(o,e,n,r),w(o,e,n,r),h(o,e,r),b(o,e,n,r),p(o,e,n,i,r),i={id:"multiInstance",label:r("Multi Instance"),entries:[]},x(i,e,n,r),E(a,e,r,n),f(a,e,n,r),u(e,"bpmn:Process")&&g(a,e,r,s);var c=[];return c.push(a),l.forEach(function(e){c.push(e)}),c.push(o),c.push(i),c}(e,r,a,s,l,c)},{id:"variables",label:c("Variables"),groups:(t=e,n=a,o={id:"variables",label:(i=c)("Variables"),entries:[]},C(o,t,n,i),[o])},{id:"forms",label:c("Forms"),groups:(t=e,n=a,o={id:"forms",label:(i=c)("Forms"),entries:[]},k(o,t,n,i),[o])},{id:"listeners",label:c("Listeners"),groups:D(e,a,0,c),enabled:function(e){return!R.getLinkEventDefinition(e)||!u(e,"bpmn:IntermediateThrowEvent")&&R.getLinkEventDefinition(e)}},{id:"extensionElements2",label:"全局设置",groups:(N(o={id:"globalRestFuls-properties",label:"",entries:[]},e,a,c),[o])},{id:"localRestFuls",label:"节点事件",groups:(A(o={id:"localRestFuls",label:"",entries:[]},e,a,c),[o])},{id:"users",label:"节点人员",groups:(P(o={id:"createUsersGroups-properties",label:"",entries:[]},e,a,c),[o])},{id:"usersproperty",label:"节点属性",groups:(I(o={id:"createUsersPropertyGroups-properties",label:"",entries:[]},e,a,c),[o])}]}}r.$inject=["eventBus","canvas","bpmnFactory","elementRegistry","elementTemplates","translate"],i(r,o),t.exports=r},{"../../PropertiesActivator":27,"../../helper/EventDefinitionHelper":67,"../../helper/ImplementationTypeHelper":72,"../bpmn/parts/DocumentationProps":141,"../bpmn/parts/EventProps":142,"../bpmn/parts/ExecutableProps":143,"../bpmn/parts/IdProps":144,"../bpmn/parts/LinkProps":145,"../bpmn/parts/NameProps":146,"../bpmn/parts/ProcessProps":147,"../bpmn/parts/initProps":158,"./element-templates/parts/ChooserProps":95,"./element-templates/parts/CustomProps":96,"./parts/CallActivityProps":99,"./parts/CandidateStarterProps":100,"./parts/ExternalTaskConfigurationProps":102,"./parts/FormProps":103,"./parts/GlobalRestFulsProps":104,"./parts/ListenerDetailProps":107,"./parts/ListenerFieldInjectionProps":108,"./parts/ListenerProps":109,"./parts/LocalProps":110,"./parts/MultiInstanceLoopProps":111,"./parts/ScriptTaskProps":112,"./parts/ServiceTaskDelegateProps":113,"./parts/StartEventInitiator":114,"./parts/TasklistProps":115,"./parts/UserTaskProps":116,"./parts/UsersProps":117,"./parts/UsersTaskNodeProps":118,"./parts/VariableMappingProps":119,"bpmn-js/lib/util/ModelUtil":419,inherits:623}],85:[function(e,t,n){t.exports={name:"Activiti",uri:"http://activiti.org/bpmn",prefix:"activiti",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"BewitchedStartEvent",extends:["bpmn:StartEvent"],properties:[{name:"spell",isAttr:!0,type:"String"}]},{name:"InOutBinding",superClass:["Element"],isAbstract:!0,properties:[{name:"source",isAttr:!0,type:"String"},{name:"sourceExpression",isAttr:!0,type:"String"},{name:"target",isAttr:!0,type:"String"},{name:"businessKey",isAttr:!0,type:"String"},{name:"local",isAttr:!0,type:"Boolean",default:!1},{name:"variables",isAttr:!0,type:"String"}]},{name:"In",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"Out",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"AsyncCapable",isAbstract:!0,extends:["bpmn:Activity","bpmn:Gateway","bpmn:Event"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1},{name:"exclusive",isAttr:!0,type:"Boolean",default:!0}]},{name:"SignalEventDefinition",isAbstract:!0,extends:["bpmn:SignalEventDefinition"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1}]},{name:"ErrorEventDefinition",isAbstract:!0,extends:["bpmn:ErrorEventDefinition"],properties:[{name:"errorCodeVariable",isAttr:!0,type:"String"},{name:"errorMessageVariable",isAttr:!0,type:"String"}]},{name:"PotentialStarter",superClass:["Element"],properties:[{name:"resourceAssignmentExpression",type:"bpmn:ResourceAssignmentExpression"}]},{name:"FormSupported",isAbstract:!0,extends:["bpmn:StartEvent","bpmn:UserTask"],properties:[{name:"formHandlerClass",isAttr:!0,type:"String"},{name:"formKey",isAttr:!0,type:"String"}]},{name:"TemplateSupported",isAbstract:!0,extends:["bpmn:Process","bpmn:FlowElement"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"}]},{name:"Initiator",isAbstract:!0,extends:["bpmn:StartEvent"],properties:[{name:"initiator",isAttr:!0,type:"String"}]},{name:"ScriptTask",isAbstract:!0,extends:["bpmn:ScriptTask"],properties:[{name:"resultVariable",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"}]},{name:"Process",isAbstract:!0,extends:["bpmn:Process"],properties:[{name:"candidateStarterGroups",isAttr:!0,type:"String"},{name:"candidateStarterUsers",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"},{name:"isStartableInTasklist",isAttr:!0,type:"Boolean",default:!0}]},{name:"EscalationEventDefinition",isAbstract:!0,extends:["bpmn:EscalationEventDefinition"],properties:[{name:"escalationCodeVariable",isAttr:!0,type:"String"}]},{name:"FormalExpression",isAbstract:!0,extends:["bpmn:FormalExpression"],properties:[{name:"resource",isAttr:!0,type:"String"}]},{name:"Assignable",extends:["bpmn:UserTask"],properties:[{name:"assignee1",isAttr:!0,type:"String"},{name:"assignee",isAttr:!0,type:"String"},{name:"candidateUsers",isAttr:!0,type:"String"},{name:"candidateGroups",isAttr:!0,type:"String"},{name:"dueDate",isAttr:!0,type:"String"},{name:"followUpDate",isAttr:!0,type:"String"},{name:"priority",isAttr:!0,type:"String"}]},{name:"CallActivity",extends:["bpmn:CallActivity"],properties:[{name:"calledElementBinding",isAttr:!0,type:"String",default:"latest"},{name:"calledElementVersion",isAttr:!0,type:"String"},{name:"calledElementVersionTag",isAttr:!0,type:"String"},{name:"calledElementTenantId",isAttr:!0,type:"String"},{name:"caseRef",isAttr:!0,type:"String"},{name:"caseBinding",isAttr:!0,type:"String",default:"latest"},{name:"caseVersion",isAttr:!0,type:"String"},{name:"caseTenantId",isAttr:!0,type:"String"},{name:"variableMappingClass",isAttr:!0,type:"String"},{name:"variableMappingDelegateExpression",isAttr:!0,type:"String"}]},{name:"ServiceTaskLike",extends:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"resultVariable",isAttr:!0,type:"String"}]},{name:"DmnCapable",extends:["bpmn:BusinessRuleTask"],properties:[{name:"decisionRef",isAttr:!0,type:"String"},{name:"decisionRefBinding",isAttr:!0,type:"String",default:"latest"},{name:"decisionRefVersion",isAttr:!0,type:"String"},{name:"mapDecisionResult",isAttr:!0,type:"String",default:"resultList"},{name:"decisionRefTenantId",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"values",type:"Property",isMany:!0}]},{name:"Property",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"Connector",superClass:["Element"],meta:{allowedIn:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"}]},{name:"InputOutput",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:UserTask","bpmn:ServiceTask","bpmn:SendTask","bpmn:BusinessRuleTask","bpmn:ReceiveTask","bpmn:ScriptTask","bpmn:ManualTask","bpmn:GlobalUserTask","bpmn:GlobalScriptTask","bpmn:GlobalBusinessRuleTask","bpmn:GlobalTask","bpmn:GlobalManualTask","bpmn:SubProcess","bpmn:Transaction","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:ThrowEvent","bpmn:CatchEvent","bpmn:ImplicitThrowEvent","bpmn:CallActivity"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"},{name:"inputParameters",isMany:!0,type:"InputParameter"},{name:"outputParameters",isMany:!0,type:"OutputParameter"}]},{name:"InputOutputParameter",properties:[{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"InputOutputParameterDefinition",isAbstract:!0},{name:"List",superClass:["InputOutputParameterDefinition"],properties:[{name:"items",isMany:!0,type:"InputOutputParameterDefinition"}]},{name:"Map",superClass:["InputOutputParameterDefinition"],properties:[{name:"entries",isMany:!0,type:"Entry"}]},{name:"Entry",properties:[{name:"key",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"Value",superClass:["InputOutputParameterDefinition"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Script",superClass:["InputOutputParameterDefinition"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Field",superClass:["Element"],meta:{allowedIn:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask"]},properties:[{name:"name",isAttr:!0,type:"String"},{name:"expression",type:"String"},{name:"stringValue",isAttr:!0,type:"String"},{name:"string",type:"String"}]},{name:"InputParameter",superClass:["InputOutputParameter"]},{name:"OutputParameter",superClass:["InputOutputParameter"]},{name:"FailedJobRetryTimeCycle",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:ServiceTask","bpmn:SendTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:CallActivity","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:MultiInstanceLoopCharacteristics"]},properties:[{name:"body",isBody:!0,type:"String"}]},{name:"ExecutionListener",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"TaskListener",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"FormProperty",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"required",type:"String",isAttr:!0},{name:"readable",type:"String",isAttr:!0},{name:"writable",type:"String",isAttr:!0},{name:"variable",type:"String",isAttr:!0},{name:"expression",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"default",type:"String",isAttr:!0},{name:"values",type:"Value",isMany:!0}]},{name:"FormData",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"fields",type:"FormField",isMany:!0},{name:"businessKey",type:"String",isAttr:!0}]},{name:"FormField",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"label",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"defaultValue",type:"String",isAttr:!0},{name:"properties",type:"Properties"},{name:"values",type:"Value",isMany:!0}]},{name:"Validation",superClass:["Element"],properties:[{name:"constraints",type:"Constraint",isMany:!0}]},{name:"Constraint",superClass:["Element"],properties:[{name:"name",type:"String",isAttr:!0},{name:"config",type:"String",isAttr:!0}]},{name:"ConditionalEventDefinition",isAbstract:!0,extends:["bpmn:ConditionalEventDefinition"],properties:[{name:"variableName",isAttr:!0,type:"String"},{name:"variableEvent",isAttr:!0,type:"String"}]}],emumerations:[]}},{}],86:[function(e,t,n){"use strict";var o=e("lodash/assign");function i(t,e){var n={};return t.target?(n.target=t.target,t.expression?n.sourceExpression=e:n.source=e):t.variables?(n.variables="all","local"===t.variables&&(n.local=!0)):(n.target=e,["source","sourceExpression"].forEach(function(e){t[e]&&(n[e]=t[e])})),n}t.exports.createInputParameter=function(e,t,n){var i,o,r=e.scriptFormat;return r?o=n.create("activiti:Script",{scriptFormat:r,value:t}):i=t,n.create("activiti:InputParameter",{name:e.name,value:i,definition:o})},t.exports.createOutputParameter=function(e,t,n){var i,o,r=e.scriptFormat;return r?o=n.create("activiti:Script",{scriptFormat:r,value:e.source}):i=e.source,n.create("activiti:OutputParameter",{name:t,value:i,definition:o})},t.exports.createCamundaProperty=function(e,t,n){return n.create("activiti:Property",{name:e.name,value:t||""})},t.exports.createCamundaIn=function(e,t,n){return t=i(e,t),n.create("activiti:In",t)},t.exports.createCamundaInWithBusinessKey=function(e,t,n){return n.create("activiti:In",{businessKey:t})},t.exports.createCamundaOut=function(e,t,n){return t=i(e,t),n.create("activiti:Out",t)},t.exports.createCamundaExecutionListenerScript=function(e,t,n){var i,o,r=e.scriptFormat;return r?o=n.create("activiti:Script",{scriptFormat:r,value:t}):i=t,n.create("activiti:ExecutionListener",{event:e.event,value:i,script:o})},t.exports.createCamundaFieldInjection=function(e,t,n){var i=o({},{string:void 0,expression:void 0,name:void 0});return e.expression?i.expression=t:i.string=t,i.name=e.name,n.create("activiti:Field",i)}},{"lodash/assign":792}],87:[function(e,t,n){"use strict";var i=e("inherits"),o=e("./Helper").getTemplate,r=e("../../../PropertiesActivator");function a(e,i){r.call(this,e,1100),this.isEntryVisible=function(e,t){t=o(t,i);if(t&&!function(e,t){var n=e.id;if("elementTemplate-chooser"===n||c(e))return!0;e=t.entriesVisible||l;if("boolean"==typeof e)return e;t=e._all||!1,n=e[n];return!0===t&&!1!==n||!1===t&&!0===n}(e,t))return!1},this.isPropertyEditable=function(e,t,n){n=o(n,i);if(n&&!function(e,t){if(c(e))return(e=function(e,t){var n,i=t.id.replace("custom-"+e.id+"-","");if(-1!==i.indexOf("-")){var o=i.split("-");if(2==o.length){var r=o[0].replace(/_/g,":");if(n=parseInt(o[1],10),r&&!isNaN(n))return e.scopes[r].properties[n]}}else if(n=parseInt(i,10),!isNaN(n))return e.properties[n];throw new Error("cannot extract property index for entry <"+t.id+">")}(t,e))&&!1!==e.editable;return!0}(e,n))return!1}}a.$inject=["eventBus","elementTemplates"],i(a,r),t.exports=a;var s=/^custom-/,l={_all:!1,id:!0,name:!0};function c(e){return s.test(e.id)}},{"../../../PropertiesActivator":27,"./Helper":90,inherits:623}],88:[function(e,t,n){"use strict";var i=e("lodash/values");t.exports=function(){this._templates={},this.set=function(e){var t=this._templates={};return e.forEach(function(e){t[e.id]=e}),this},this.get=function(e){return this._templates[e]},this.getAll=function(){return i(this._templates)}}},{"lodash/values":831}],89:[function(e,t,n){"use strict";var i=e("./Validator");function o(e,t,n){this._loadTemplates=e,this._eventBus=t,this._elementTemplates=n;var i=this;t.on("diagram.init",function(){i.reload()})}(t.exports=o).$inject=["config.elementTemplates","eventBus","elementTemplates"],o.prototype.reload=function(){var n=this,e=this._loadTemplates;if(void 0!==e)return"function"==typeof e?e(function(e,t){return e?n.templateErrors([e]):void n.setTemplates(t)}):e.length?this.setTemplates(e):void 0},o.prototype.setTemplates=function(e){var t=this._elementTemplates,n=(new i).addAll(e),e=n.getErrors(),n=n.getValidTemplates();t.set(n),e.length&&this.templateErrors(e),this.templatesChanged()},o.prototype.templatesChanged=function(){this._eventBus.fire("elementTemplates.changed")},o.prototype.templateErrors=function(e){this._eventBus.fire("elementTemplates.errors",{errors:e})}},{"./Validator":91}],90:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,o=e("bpmn-js/lib/util/ModelUtil").is,r=e("bpmn-js/lib/features/modeling/util/ModelingUtil").isAny,a=e("lodash/find"),s="camunda:modelerTemplate";function l(e){e=i(e);if(e)return e.get(s)}function c(e){e=i(e);return o(e,"bpmn:ExtensionElements")?e:e.extensionElements}function u(e,t){if("camunda:in"===t.type&&t.target)return e.target===t.target;if("camunda:out"===t.type){if(t.source)return e.source===t.source;if(t.sourceExpression)return e.sourceExpression===t.sourceExpression}return t.variables?"all"===e.variables&&("local"!==t.variables||e.local):void 0}t.exports.TEMPLATE_ATTR=s,t.exports.getTemplateId=l,t.exports.getTemplate=function(e,t){return(e=l(e))&&t.get(e)},t.exports.getDefaultTemplate=function(t,e){return e.getAll().filter(function(e){return r(t,e.appliesTo)&&e.isDefault})[0]},t.exports.findExtension=function(e,t){return e=i(e),(e=o(e,"bpmn:ExtensionElements")?e:e.extensionElements)?a(e.get("values"),function(e){return o(e,t)}):null},t.exports.findExtensions=function(e,t){return(e=c(e))?e.get("values").filter(function(e){return r(e,t)}):[]},t.exports.findCamundaInOut=function(e,t){var n,e=c(e);if(e)return"camunda:in"===t.type?n=function(e){return o(e,"camunda:In")&&u(e,t)}:"camunda:out"===t.type?n=function(e){return o(e,"camunda:Out")&&u(e,t)}:"camunda:in:businessKey"===t.type&&(n=function(e){return o(e,"camunda:In")&&"businessKey"in e}),a(e.get("values"),n)},t.exports.findCamundaProperty=function(e,t){return a(e.get("values"),function(e){return e.name===t.name})},t.exports.findInputParameter=function(e,t){return e=e.get("inputParameters"),a(e,function(e){return e.name===t.name})},t.exports.findOutputParameter=function(e,n){return e=e.get("outputParameters"),a(e,function(e){var t=e.value;if(!n.scriptFormat)return t===n.source;e=e.definition;return!(!e||n.scriptFormat!==e.scriptFormat)&&e.value===n.source})}},{"bpmn-js/lib/features/modeling/util/ModelingUtil":390,"bpmn-js/lib/util/ModelUtil":419,"lodash/find":798}],91:[function(e,t,n){"use strict";var a=e("lodash/isArray"),r=e("lodash/isObject"),s="Dropdown",l=["String","Text","Boolean","Hidden",s],c="activiti:property",u="activiti:inputParameter",d="activiti:outputParameter",p="activiti:in",h="activiti:out",f="activiti:executionListener",m="activiti:field",g=["property",c,u,d,p,h,"activiti:in:businessKey",f,m];function v(e){return"name"in e&&"value"in e}t.exports=function(){this._templatesById={},this._validTemplates=[],this._errors=[],this.addAll=function(e){return a(e)?e.forEach(this.add,this):this._logError("templates must be []"),this},this.add=function(e){return this._validateTemplate(e)||(this._templatesById[e.id]=e,this._validTemplates.push(e)),this},this._validateTemplate=function(e){var t,n=e.id,i=e.appliesTo,o=e.properties,r=e.scopes;return n?n in this._templatesById?this._logError("template id <"+n+"> already used"):(a(i)||(t=this._logError("missing appliesTo=[]",e)),a(o)?this._validateProperties(o)||(t=new Error("invalid properties")):t=this._logError("missing properties=[]",e),r?this._validateScopes(e,r):t):this._logError("missing template id")},this._validateScopes=function(e,t){var n,i,o;if(!r(t)||a(t))return this._logError("invalid scopes, should be scopes={}",e);for(o in t)i=t[o],r(i)&&!a(i)||(n=this._logError("invalid scope, should be scope={}",e)),a(i.properties)?this._validateProperties(i.properties)||(n=new Error("invalid properties in scope <"+o+">")):n=this._logError("missing properties=[] in scope <"+o+">",e);return n},this._validateProperties=function(e){var t=e.filter(this._validateProperty,this);return e.length===t.length},this._validateProperty=function(e){var t,n=e.type,i=e.binding,o=i.type;return-1===l.indexOf(n)&&(t=this._logError("invalid property type <"+n+">; must be any of { "+l.join(", ")+" }")),n===s&&o!==f&&(a(e.choices)?e.choices.every(v)||(t=this._logError("{ name, value } must be specified for "+s+" choices")):t=this._logError("must provide choices=[] with "+s+" type")),i?(-1===g.indexOf(o)&&(t=this._logError("invalid property.binding type <"+o+">; must be any of { "+g.join(", ")+" }")),"property"!==o&&o!==c&&o!==u&&o!==m||i.name||(t=this._logError("property.binding <"+o+"> requires name")),o===d&&(i.source||(t=this._logError("property.binding <"+o+"> requires source"))),o===p&&(i.variables||i.target||(t=this._logError("property.binding <"+o+"> requires variables or target"))),o===h&&(i.variables||i.source||i.sourceExpression||(t=this._logError("property.binding <"+o+"> requires variables, sourceExpression or source"))),!(t=o===f&&"Hidden"!==n?this._logError("invalid property type <"+n+"> for "+f+"; must be <Hidden>"):t)):this._logError("property missing binding")},this._logError=function(e,t){return"string"==typeof e&&(t&&(e="template(id: "+t.id+") "+e),e=new Error(e)),this._errors.push(e),e},this.getErrors=function(){return this._errors},this.getValidTemplates=function(){return this._validTemplates}}},{"lodash/isArray":806,"lodash/isObject":813}],92:[function(e,t,n){"use strict";var m=e("../Helper").findExtension,g=e("../Helper").findExtensions,o=e("../CreateHelper").createCamundaProperty,v=e("../CreateHelper").createInputParameter,y=e("../CreateHelper").createOutputParameter,b=e("../CreateHelper").createCamundaIn,x=e("../CreateHelper").createCamundaOut,w=e("../CreateHelper").createCamundaInWithBusinessKey,k=e("../CreateHelper").createCamundaExecutionListenerScript,E=e("../CreateHelper").createCamundaFieldInjection,i=e("lodash/forEach"),C=["activiti:class","activiti:delegateExpression","activiti:expression"];function r(r,a,s){function l(e){var t=e.businessObject.extensionElements;return t||(t=s.create("bpmn:ExtensionElements",{values:[]}),r.updateProperties(e,{extensionElements:t})),t}function c(e,t,n){var i=function(e,i){var o=[],r=[];if(e.properties.forEach(function(e){var t=e.binding,n=t.type;"activiti:inputParameter"===n&&o.push(v(t,e.value,i)),"activiti:outputParameter"===n&&r.push(y(t,e.value,i))}),r.length||o.length)return i.create("activiti:InputOutput",{inputParameters:o,outputParameters:r})}(t,s);i&&(n?a.execute("properties-panel.update-businessobject",{element:e,businessObject:n,properties:{inputOutput:i}}):(n=l(e),t=m(e,"activiti:InputOutput"),a.execute("properties-panel.update-businessobject-list",{element:e,currentObject:n,propertyName:"values",objectsToAdd:[i],objectsToRemove:t?[t]:[]})))}function u(e,t,n){var i=function(e,n){var i=[];if(e.properties.forEach(function(e){var t=e.binding;"activiti:field"===t.type&&i.push(E(t,e.value,n))}),i.length)return i}(t,s);i&&(n?a.execute("properties-panel.update-businessobject",{element:e,businessObject:n,properties:{field:i}}):(n=l(e),t=g(e,["activiti:Field"]),a.execute("properties-panel.update-businessobject-list",{element:e,currentObject:n,propertyName:"values",objectsToAdd:i,objectsToRemove:t||[]})))}function d(e,t,n){var i=function(e,n){var i=[];if(e.properties.forEach(function(e){var t=e.binding;"activiti:property"===t.type&&i.push(o(t,e.value,n))}),i.length)return n.create("activiti:Properties",{values:i})}(t,s);i&&(n?a.execute("properties-panel.update-businessobject",{element:e,businessObject:n,properties:{properties:i}}):(n=l(e),t=m(e,"activiti:Properties"),a.execute("properties-panel.update-businessobject-list",{element:e,currentObject:n,propertyName:"values",objectsToAdd:[i],objectsToRemove:t?[t]:[]})))}function p(e,t,n){var i,o,t=(i=s,o={},t.properties.forEach(function(e){var t=e.binding,n=t.name;"property"===t.type&&(e="conditionExpression"===n?i.create("bpmn:FormalExpression",{body:e.value,language:t.scriptFormat}):e.value,o[n]=e,-1!==C.indexOf(n)&&C.forEach(function(e){e!==n&&(o[e]=void 0)}))}),o);Object.keys(t).length&&(n?a.execute("properties-panel.update-businessobject",{element:e,businessObject:n,properties:t}):r.updateProperties(e,t))}function h(e,t,n){var i,o,r=(i=s,o=[],t.properties.forEach(function(e){var t=e.binding,n=t.type;"activiti:in"===n?o.push(b(t,e.value,i)):"activiti:out"===n?o.push(x(t,e.value,i)):"activiti:in:businessKey"===n&&o.push(w(t,e.value,i))}),o);r&&(n?a.execute("properties-panel.update-businessobject",{element:e,businessObject:n,properties:{inout:r}}):(n=l(e),t=g(n,["activiti:In","activiti:Out"]),a.execute("properties-panel.update-businessobject-list",{element:e,currentObject:n,propertyName:"values",objectsToAdd:r,objectsToRemove:t})))}function f(e,t,n){var i,o,r=(i=s,o=[],t.properties.forEach(function(e){var t=e.binding;"activiti:executionListener"===t.type&&o.push(k(t,e.value,i))}),o);r.length&&(n?a.execute("properties-panel.update-businessobject",{element:e,businessObject:n,properties:{executionListener:r}}):(n=l(e),t=g(n,["activiti:ExecutionListener"]),a.execute("properties-panel.update-businessobject-list",{element:e,currentObject:n,propertyName:"values",objectsToAdd:r,objectsToRemove:t})))}this.preExecute=function(e){var o=e.element,t=e.newTemplate;e=t,r.updateProperties(o,{"activiti:modelerTemplate":e&&e.id}),t&&(c(o,t),u(o,t),d(o,t),p(o,t),h(o,t),f(o,t),i(t.scopes,function(e,t){var n,i;n=o,i=t,t=e,e=s.create(i),c(n,t,e),u(n,t,e),d(n,t,e),p(n,t,e),h(n,t,e),f(n,t,e),t=l(n),i=m(t,i),a.execute("properties-panel.update-businessobject-list",{element:n,currentObject:t,propertyName:"values",objectsToAdd:[e],objectsToRemove:i?[i]:[]})}))}}r.$inject=["modeling","commandStack","bpmnFactory"],t.exports=r},{"../CreateHelper":86,"../Helper":90,"lodash/forEach":801}],93:[function(e,t,n){"use strict";var o=e("./ChangeElementTemplateHandler"),i=e("../Helper").getTemplate,r=e("../Helper").getDefaultTemplate;function a(t,n,e,i){t.registerHandler("propertiesPanel.camunda.changeTemplate",o),e.on(["commandStack.shape.create.postExecuted"],function(e){s(e.context.shape,n,t)}),e.on(["commandStack.connection.create.postExecuted"],function(e){s(e.context.connection,n,t)})}function s(e,t,n){!i(e,t)&&r(e,t)&&(t={element:e,newTemplate:r(e,t)},n.execute("propertiesPanel.camunda.changeTemplate",t))}a.$inject=["commandStack","elementTemplates","eventBus","elementRegistry"],t.exports={__init__:[a]}},{"../Helper":90,"./ChangeElementTemplateHandler":92}],94:[function(e,t,n){t.exports={__depends__:[e("./cmd"),e("diagram-js/lib/i18n/translate").default],__init__:["customElementsPropertiesActivator","elementTemplatesLoader"],customElementsPropertiesActivator:["type",e("./CustomElementsPropertiesActivator")],elementTemplates:["type",e("./ElementTemplates")],elementTemplatesLoader:["type",e("./ElementTemplatesLoader")]}},{"./CustomElementsPropertiesActivator":87,"./ElementTemplates":88,"./ElementTemplatesLoader":89,"./cmd":93,"diagram-js/lib/i18n/translate":585}],95:[function(e,t,n){"use strict";var r=e("../../../../factory/EntryFactory"),a=e("bpmn-js/lib/util/ModelUtil").is,s=e("../Helper").getTemplate,l=e("../Helper").getTemplateId,c=e("lodash/find"),u=e("../Helper").TEMPLATE_ATTR;function d(e){return e.isDefault}t.exports=function(e,t,n,i){var o=function(i,e,o){var t=l(i),n=e.getAll().reduce(function(e,t){return n=i,t.appliesTo.reduce(function(e,t){return e||a(n,t)},!1)?e.concat({name:o(t.name),value:t.id,isDefault:t.isDefault}):e;var n},[{name:"",value:""}]),r=c(n,d),e=c(n,function(e){return e.value===t});t&&!e&&(e=function(e,t){return{name:t("[unknown template: {templateId}]",{templateId:e}),value:e}}(t,o),n.push(e));if(!r)return n;n=[];t||n.push({name:"",value:""});e&&e!==r&&n.push(e);return n.push(r),n}(t,n,i);1===o.length&&!o[0].isDefault||e.entries.push(r.selectBox({id:"elementTemplate-chooser",label:i("Element Template"),modelProperty:"camunda:modelerTemplate",selectOptions:o,set:function(e,t){return function(e,t,n){var i=s(e,n),t=n.get(t);if(i!==t)return{cmd:"propertiesPanel.camunda.changeTemplate",context:{element:e,oldTemplate:i,newTemplate:t}}}(e,t[u],n)},disabled:function(){var e=s(t,n);return e&&d(e)}}))}},{"../../../../factory/EntryFactory":37,"../Helper":90,"bpmn-js/lib/util/ModelUtil":419,"lodash/find":798}],96:[function(e,t,n){"use strict";var p=e("lodash/assign"),m=e("../../../../factory/EntryFactory"),v=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,g=e("../Helper").getTemplate,y=e("../../../../helper/CmdHelper"),b=e("../../../../helper/ElementHelper"),x=e("../Helper").findExtension,w=e("../Helper").findExtensions,k=e("../Helper").findInputParameter,E=e("../Helper").findOutputParameter,C=e("../Helper").findCamundaProperty,S=e("../Helper").findCamundaInOut,T=e("../CreateHelper").createCamundaProperty,_=e("../CreateHelper").createInputParameter,N=e("../CreateHelper").createOutputParameter,A=e("../CreateHelper").createCamundaIn,P=e("../CreateHelper").createCamundaOut,I=e("../CreateHelper").createCamundaInWithBusinessKey,R=e("../CreateHelper").createCamundaFieldInjection,M="activiti:property",L="activiti:inputParameter",D="activiti:outputParameter",j="activiti:in",F="activiti:out",h="activiti:in:businessKey",f="activiti:executionListener",O="activiti:field",B=["Boolean","Integer","String"],H=[M,L,D,j,F,h,O],$=[L,D],z=[j,F,h];function U(e,t){var n,i,o,r,a=v(e),s=t.binding,l=t.scope,c=s.type,u=s.name,e=t.value||"";if(l&&!(a=x(a,l.name)))return e;if("property"===c){var d=a.get(u);return"conditionExpression"===u?d?d.body:e:void 0!==d?d:e}if(c===M)return(d=l?a.get("properties"):x(a,"activiti:Properties"))&&(n=C(d,s))?n.value:e;if(-1!==$.indexOf(c)&&!(i=l?a.get("inputOutput"):x(a,"activiti:InputOutput")))return e;if(c===L){if(o=k(i,s)){if(!s.scriptFormat)return o.value||"";if(o.definition)return o.definition.value}return e}if(s.type===D)return(o=E(i,s))?o.name:e;if(-1!=z.indexOf(c)){if(o=S(a,s)){if(c===h)return o.businessKey;if(c===F)return o.target;if(c===j)return o[s.expression?"sourceExpression":"source"]}return e}if(c===f){l=l?a.get("executionListener"):x(a,"activiti:ExecutionListener");return l.script.value}if(O!==c)throw function(e){e=e.binding;return new Error("unknown binding: <"+e.type+">")}(t);return w(a,["activiti:Field"]).forEach(function(e){e.name===s.name&&(r=e)}),r?r.string||r.expression:""}function V(e,t,n,i){var o,r,a,s,l,c,u=v(e),d=t.binding,p=t.scope,h=d.type,f=d.name,m=[];if(-1!==H.indexOf(h)&&((o=u.get("extensionElements"))||(o=b.createElement("bpmn:ExtensionElements",null,e,i),m.push(y.updateBusinessObject(e,u,q("extensionElements",o))))),p&&((u=x(u,p.name))||(u=b.createElement(p.name,null,e,i),m.push(y.addElementsTolist(u,o,"values",[u])))),"property"===h){if("conditionExpression"===f)r=b.createElement("bpmn:FormalExpression",{body:n,language:d.scriptFormat},u,i);else{var g=u.$descriptor.propertiesByName[f].type;if(-1===B.indexOf(g))throw new Error("cannot set moddle type <"+g+">");"Boolean"===g?r=!!n:"Integer"===g?(r=parseInt(n,10),isNaN(r)&&(r=void 0)):r=n}void 0!==r&&m.push(y.updateBusinessObject(e,u,q(f,r)))}if(h===M&&((g=p?u.get("properties"):x(o,"activiti:Properties"))||(g=b.createElement("activiti:Properties",null,u,i),p?m.push(y.updateBusinessObject(e,u,{properties:g})):m.push(y.addElementsTolist(e,o,"values",[g]))),f=C(g,d),r=T(d,n,i),m.push(y.addAndRemoveElementsFromList(e,g,"values",null,[r],f?[f]:[]))),-1!==$.indexOf(h)&&((a=p?u.get("inputOutput"):x(o,"activiti:InputOutput"))||(a=b.createElement("activiti:InputOutput",null,u,i),p?m.push(y.updateBusinessObject(e,u,{inputOutput:a})):m.push(y.addElementsTolist(e,o,"values",a)))),h===L&&(l=k(a,d),s=_(d,n,i),m.push(y.addAndRemoveElementsFromList(e,a,"inputParameters",null,[s],l?[l]:[]))),h===D&&(l=E(a,d),s=N(d,n,i),m.push(y.addAndRemoveElementsFromList(e,a,"outputParameters",null,[s],l?[l]:[]))),-1!==z.indexOf(h)&&(s=S(u,d),l=(h===j?A:h===F?P:I)(d,n,i),m.push(y.addAndRemoveElementsFromList(e,o,"values",null,[l],s?[s]:[]))),h===O&&(u=w(u,["activiti:Field"]),c=[],0<u.length?u.forEach(function(e){e.name===d.name?c.push(R(d,n,i)):c.push(e)}):c.push(R(d,n,i)),m.push(y.addAndRemoveElementsFromList(e,o,"values",null,c,u||[]))),m.length)return m;console.warn("no update",e,t,n)}function q(e,t){var n={};return n[e]=t,n}t.exports=function(e,t,h,f){var i=g(e,t);if(!i)return[];function o(e,t,n){var i,o,r,a,s,l,c,u,d,p=t.type,e={id:e,description:t.description,label:t.label&&f(t.label),modelProperty:e,get:function(e){e=U(e,u);return q(c,e)},set:(l=h,function(e,t){t=t[a];return V(e,s,t,l)}),validate:(i=a=c=e,o=s=u=t,r=f,function(e,t){t=function(e,t,n){t=t.constraints||{};if(t.notEmpty&&function(e){return!e||/^\s*$/.test(e)}(e))return n("Must not be empty");if(t.maxLength&&e.length>t.maxLength)return n("Must have max length {length}",{length:t.maxLength});if(t.minLength&&e.length<t.minLength)return n("Must have min length {length}",{length:t.minLength});var i,t=t.pattern;if(t&&("string"!=typeof t&&(i=t.message,t=t.value),!function(e,t){return new RegExp(t).test(e)}(e,t)))return i||n("Must match pattern {pattern}",{pattern:t})}(t[i],o,r);if(t)return q(i,t)})};return"Boolean"===p&&(d=m.checkbox(e)),"String"===p&&(d=m.textField(e)),"Text"===p&&(d=m.textBox(e)),"Dropdown"===p&&(e.selectOptions=t.choices,d=m.selectBox(e)),d}var n,r,a=[],s={id:"customField",label:f("Custom Fields"),entries:[]};if(i.properties.forEach(function(e,t){n="custom-"+i.id+"-"+t,(r=o(n,e))&&s.entries.push(r)}),0<s.entries.length&&a.push(s),i.scopes)for(var l in i.scopes){var c=i.scopes[l],u=l.replace(/:/g,"_"),d={id:"customField-"+u,label:f("Custom Fields for scope: ")+l,entries:[]};c.properties.forEach(function(e,t){var n="custom-"+i.id+"-"+u+"-"+t,t=(t=e,(e=l)?p({},t,{scope:{name:e}}):t);(r=o(n,t))&&d.entries.push(r)}),0<d.entries.length&&a.push(d)}return a},t.exports.getPropertyValue=U,t.exports.setPropertyValue=V},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../CreateHelper":86,"../Helper":90,"bpmn-js/lib/util/ModelUtil":419,"lodash/assign":792}],97:[function(e,t,n){"use strict";var i=e("../Validator");t.exports=function(e){return(new i).addAll(e).getErrors()}},{"../Validator":91}],98:[function(e,t,n){t.exports={__depends__:[e("./element-templates"),e("diagram-js/lib/i18n/translate").default],__init__:["propertiesProvider"],propertiesProvider:["type",e("./ActivitiPropertiesProvider")]}},{"./ActivitiPropertiesProvider":84,"./element-templates":94,"diagram-js/lib/i18n/translate":585}],99:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,o=e("bpmn-js/lib/util/ModelUtil").is,r=e("../../../factory/EntryFactory"),a=e("./implementation/Callable"),s=e("../../../helper/CmdHelper"),l=e("lodash/flattenDeep"),c=e("lodash/assign");function u(e){var t=i(e),n=t.get("calledElement"),e=t.get("activiti:caseRef"),t="";return void 0!==n?t="bpmn":void 0!==e&&(t="cmmn"),t}var d={calledElement:void 0,"activiti:calledElementBinding":"latest","activiti:calledElementVersion":void 0,"activiti:calledElementTenantId":void 0,"activiti:variableMappingClass":void 0,"activiti:variableMappingDelegateExpression":void 0,"activiti:caseRef":void 0,"activiti:caseBinding":"latest","activiti:caseVersion":void 0,"activiti:caseTenantId":void 0};t.exports=function(e,t,n,i){o(t,"activiti:CallActivity")&&(e.entries.push(r.selectBox({id:"callActivity",label:i("CallActivity Type"),selectOptions:[{name:"BPMN",value:"bpmn"},{name:"CMMN",value:"cmmn"}],emptyParameter:!0,modelProperty:"callActivityType",get:function(e,t){return{callActivityType:u(e)}},set:function(e,t,n){var i=t.callActivityType,t=c({},d);return"bpmn"===i?t.calledElement="":"cmmn"===i&&(t["activiti:caseRef"]=""),s.updateProperties(e,t)}})),e.entries.push(a(t,n,{getCallableType:u},i)),e.entries=l(e.entries))}},{"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"./implementation/Callable":121,"bpmn-js/lib/util/ModelUtil":419,"lodash/assign":792,"lodash/flattenDeep":800}],100:[function(e,t,n){"use strict";var r=e("bpmn-js/lib/util/ModelUtil").is,a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,s=e("./implementation/CandidateStarter");t.exports=function(e,t,n,i){var o=a(t);(r(t,"activiti:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(s(t,n,{getBusinessObject:function(e){e=a(e);return r(e,"bpmn:Participant")?e.get("processRef"):e}},i)))}},{"./implementation/CandidateStarter":122,"bpmn-js/lib/util/ModelUtil":419}],101:[function(e,t,n){"use strict";var o=e("bpmn-js/lib/util/ModelUtil").is,r=e("bpmn-js/lib/features/modeling/util/ModelingUtil").isAny,a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,d=e("../../../Utils").escapeHTML,p=e("min-dom").query,h=e("../../../helper/CmdHelper"),f=e("../../../helper/ElementHelper"),m=e("../../../helper/EventDefinitionHelper"),g=e("./implementation/Script");t.exports=function(e,t,s,i){var l,c,u=a(t);u&&(l=m.getConditionalEventDefinition(t),(o(t,"bpmn:SequenceFlow")&&(t=t.source,r(t,v))||l)&&(c=g("language","body",!0,i),e.entries.push({id:"condition",label:i("Condition"),html:'<div class="bpp-row"><label for="cam-condition-type">'+d(i("Condition Type"))+'</label><div class="bpp-field-wrapper"><select id="cam-condition-type" name="conditionType" data-value><option value="expression">'+d(i("Expression"))+'</option><option value="script">'+d(i("Script"))+'</option><option value="" selected></option></select></div></div><div class="bpp-row"><label for="cam-condition" data-show="isExpression">'+d(i("Expression"))+'</label><div class="bpp-field-wrapper" data-show="isExpression"><input id="cam-condition" type="text" name="condition" /><button class="clear" data-action="clear" data-show="canClear"><span>X</span></button></div><div data-show="isScript">'+c.template+"</div></div>",get:function(e,t){var n=m.getConditionalEventDefinition(e),i=n?n.condition:u.conditionExpression,o={},n="";return i&&(void 0!==i.language?(n="script",o=c.get(e,i)):(n="expression",o.condition=i.get("body"))),o.conditionType=n,o},set:function(e,t,n){var i,o=t.conditionType,r=[],a={body:void 0};return"script"===o?a=c.set(e,t,n):(t=t.condition,a.body=t),o&&(i=f.createElement("bpmn:FormalExpression",a,l||u,s),(a=e.source)&&a.businessObject.default===u&&r.push(h.updateProperties(a,{default:void 0}))),r.push(h.updateBusinessObject(e,l||u,l?{condition:i}:{conditionExpression:i})),r},validate:function(e,t){var n={};return t.condition||"expression"!==t.conditionType?"script"===t.conditionType&&(n=c.validate(e,t)):n.condition=i("Must provide a value"),n},isExpression:function(e,t){t=p("select[name=conditionType]",t);if(0<=t.selectedIndex)return"expression"===t.options[t.selectedIndex].value},isScript:function(e,t){t=p("select[name=conditionType]",t);if(0<=t.selectedIndex)return"script"===t.options[t.selectedIndex].value},clear:function(e,t){return!(p("input[name=condition]",t).value="")},canClear:function(e,t){return""!==p("input[name=condition]",t).value},script:c,cssClasses:["bpp-textfield"]})))};var v=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ComplexGateway"]},{"../../../Utils":28,"../../../helper/CmdHelper":61,"../../../helper/ElementHelper":66,"../../../helper/EventDefinitionHelper":67,"./implementation/Script":137,"bpmn-js/lib/features/modeling/util/ModelingUtil":390,"bpmn-js/lib/util/ModelUtil":419,"min-dom":835}],102:[function(e,t,n){"use strict";var a=e("bpmn-js/lib/util/ModelUtil").is,s=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,l=e("../../../helper/ImplementationTypeHelper"),c=e("./implementation/ExternalTaskPriority");t.exports=function(e,t,n,i){var o,r=(o=t,l.getServiceTaskLikeBusinessObject(o)||s(o));r&&(a(r,"camunda:TaskPriorized")||a(r,"bpmn:Participant")&&r.get("processRef"))&&(e.entries=e.entries.concat(c(t,n,{getBusinessObject:function(e){return a(r,"bpmn:Participant")?r.get("processRef"):r}},i)))}},{"../../../helper/ImplementationTypeHelper":72,"./implementation/ExternalTaskPriority":126,"bpmn-js/lib/util/ModelUtil":419}],103:[function(e,t,n){"use strict";var s=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,l=e("../../../helper/ExtensionElementsHelper").getExtensionElements,c=e("../../../helper/ExtensionElementsHelper").removeEntry,u=e("./implementation/ExtensionElements"),d=(e("./implementation/Properties"),e("../../../factory/EntryFactory")),p=e("../../../helper/ElementHelper"),h=e("../../../helper/CmdHelper"),f=e("../../../helper/FormHelper"),m=e("../../../Utils"),g=e("bpmn-js/lib/util/ModelUtil").is,v=e("lodash/find");e("lodash/forEach");function y(r,a){var e=r.id,t=r.label,s=r.modelProperty,n=r.validate;return d.textField({id:e,label:t,modelProperty:s,get:function(e,t){e=a(e,t)||{},t={};return t[s]=e[s],t},set:function(e,t,n){var i=[];"function"!=typeof r.set||(o=r.set(e,t,n))&&i.push(o);var o=a(e,n),n={};return n[s]=t[s]||void 0,i.push(h.updateBusinessObject(e,o,n)),i},hidden:function(e,t){return!a(e,t)},validate:n})}t.exports=function(e,t,r,o){var n,i;function a(e,t){t=i.getSelected(e,t.parentNode);if(-1!==t.idx)return f.getFormField(e,t.idx)}(g(n=t,"bpmn:StartEvent")&&!g(n.parent,"bpmn:SubProcess")||g(n,"bpmn:UserTask"))&&(e.entries.push(d.textField({id:"form-key",label:o("Form Key"),modelProperty:"formKey",get:function(e,t){return{formKey:s(e).get("activiti:formKey")}},set:function(e,t,n){var i=s(e),t=t.formKey||void 0;return h.updateBusinessObject(e,i,{"activiti:formKey":t})}})),i=u(t,r,{id:"form-fields",label:o("Form Fields"),modelProperty:"id",prefix:"FormField",createExtensionElement:function(e,t,n){var i=s(e),o=[];t||(t=p.createElement("bpmn:ExtensionElements",{values:[]},i,r),o.push(h.updateProperties(e,{extensionElements:t})));i=f.getFormData(e);i||(i=p.createElement("activiti:FormData",{fields:[]},t,r),o.push(h.addAndRemoveElementsFromList(e,t,"values","extensionElements",[i],[])));n=p.createElement("activiti:FormField",{id:n},i,r);return void 0!==i.fields?o.push(h.addElementsTolist(e,i,"fields",[n])):o.push(h.updateBusinessObject(e,i,{fields:[n]})),o},removeExtensionElement:function(e,t,n,i){var o=l(s(e),"activiti:FormData")[0],r=o.fields[i],i=[];return o.fields.length<2?i.push(c(s(e),e,o)):(i.push(h.removeElementsFromList(e,o,"fields",null,[r])),r.id===o.get("businessKey")&&i.push(h.updateBusinessObject(e,o,{businessKey:void 0}))),i},getExtensionElements:function(e){return f.getFormFields(e)},hideExtensionElements:function(e,t){return!1}}),e.entries.push(i),e.entries.push(d.label({id:"form-field-header",labelText:o("Form Field"),showLabel:function(e,t){return!!a(e,t)}})),e.entries.push(d.validationAwareTextField({id:"form-field-id",label:o("ID"),modelProperty:"id",getProperty:function(e,t){return(a(e,t)||{}).id},setProperty:function(e,t,n){n=a(e,n);return h.updateBusinessObject(e,n,t)},hidden:function(e,t){return!a(e,t)},validate:function(e,t,n){var i=a(e,n);if(i){var o=t.id;if(!o||""===o.trim())return{id:"Form field id must not be empty"};e=f.getFormFields(e);return v(e,function(e){return e!==i&&e.id===o})?{id:"Form field id already used in form data."}:void 0}}})),e.entries.push(d.comboBox({id:"form-field-type",label:o("Type"),selectOptions:[{name:"string",value:"string"},{name:"long",value:"long"},{name:"boolean",value:"boolean"},{name:"date",value:"date"},{name:"enum",value:"enum"}],modelProperty:"type",emptyParameter:!0,get:function(e,t){t=a(e,t);return t?{type:t.type}:{}},set:function(e,t,n){var i=a(e,n),o=l(s(e),"activiti:FormData")[0],n=[];return"enum"===i.type&&"enum"!==t.type&&n.push(h.updateBusinessObject(e,i,{values:void 0})),"boolean"===t.type&&i.get("id")===o.get("businessKey")&&n.push(h.updateBusinessObject(e,o,{businessKey:void 0})),n.push(h.updateBusinessObject(e,i,t)),n},hidden:function(e,t){return!a(e,t)}})),e.entries.push(y({id:"form-field-label",label:o("Label"),modelProperty:"label"},a)),e.entries.push(y({id:"form-field-defaultValue",label:o("Default Value"),modelProperty:"defaultValue"},a)),e.entries.push(d.label({id:"form-field-enum-values-header",labelText:o("Values"),divider:!0,showLabel:function(e,t){t=a(e,t);return t&&"enum"===t.type}})),e.entries.push(d.table({id:"form-field-enum-values",labels:[o("Id"),o("Name")],modelProperties:["id","name"],show:function(e,t){t=a(e,t);return t&&"enum"===t.type},getElements:function(e,t){t=a(e,t);return f.getEnumValues(t)},addElement:function(e,t){var n=a(e,t),t=m.nextId("Value_"),t=p.createElement("activiti:Value",{id:t,name:void 0},s(e),r);return h.addElementsTolist(e,n,"values",[t])},removeElement:function(e,t,n){t=a(e,t),n=t.values[n];return h.removeElementsFromList(e,t,"values",null,[n])},updateElement:function(e,t,n,i){i=a(e,n).values[i];return t.name=t.name||void 0,h.updateBusinessObject(e,i,t)},validate:function(e,t,n,i){i=a(e,n).values[i];if(i){t=m.isIdValid(i,t.id,o);if(t)return{id:t}}}})))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"../../../helper/ElementHelper":66,"../../../helper/ExtensionElementsHelper":69,"../../../helper/FormHelper":70,"./implementation/ExtensionElements":124,"./implementation/Properties":135,"bpmn-js/lib/util/ModelUtil":419,"lodash/find":798,"lodash/forEach":801}],104:[function(e,t,n){"use strict";var o=e("../../../factory/EntryFactory"),r=(e("bpmn-js/lib/util/ModelUtil").getBusinessObject,e("../../../Utils"),e("../../../helper/CmdHelper"),e("bpmn-js/lib/util/ModelUtil").is);t.exports=function(e,t,n,i){"bpmn:Process"==t.type&&(t=r(t,"bpmn:Process")?"KEY":"节点ID",e.entries.push(o.htmlField({id:"id",label:t,description:"",modelProperty:"id",bpmnFactory:n,html:'<div class="well">\n\t\t\t\t\t\t\t\t<div class="form-group form-inline">\n\t\t\t\t\t\t\t\t\t<label class="control-label left-label"> 全局事件： </label> <a href="javascript:void(0);" class="layui-btn layui-btn-sm"  id="setRestFul"> 设置接口事件 </a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>'})))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419}],105:[function(e,t,n){"use strict";var r=e("./implementation/InputOutputParameter"),a=e("lodash/assign");t.exports=function(e,t,n,i,o){e.entries=e.entries.concat(r(t,n,a({},i),o))}},{"./implementation/InputOutputParameter":130,"lodash/assign":792}],106:[function(e,t,n){"use strict";var o=e("./implementation/InputOutput");t.exports=function(e,t,n,i){i=o(t,n,{},i);return e.entries=e.entries.concat(i.entries),{getSelectedParameter:i.getSelectedParameter}}},{"./implementation/InputOutput":129}],107:[function(e,t,n){"use strict";var f=e("../../../factory/EntryFactory"),m=e("../../../helper/CmdHelper"),g=e("../../../helper/ImplementationTypeHelper"),v=e("./implementation/Script");t.exports=function(e,t,o,n,i){function r(e,t){return s(e,t)}var a={class:i("Java Class"),expression:i("Expression"),delegateExpression:i("Delegate Expression"),script:i("Script")},s=(n=n||{}).getSelectedListener,l="expression",c="delegateExpression",u="script",d=g.isSequenceFlow(t)?[{name:i("take"),value:"take"}]:[{name:i("start"),value:"start"},{name:i("end"),value:"end"}],p=[{name:i("create"),value:"create"},{name:i("assignment"),value:"assignment"},{name:i("complete"),value:"complete"},{name:i("delete"),value:"delete"}];e.entries.push(f.selectBox({id:"listener-event-type",label:i("Event Type"),modelProperty:"eventType",emptyParameter:!1,get:function(e,t){t=s(e,t);return{eventType:t&&t.get("event")}},set:function(e,t,n){t=t.eventType;return m.updateBusinessObject(e,s(e,n),{event:t})},selectOptions:function(e,t){var n,t=s(e,t);return g.isTaskListener(t)?n=p:g.isExecutionListener(t)&&(n=d),n},hidden:function(e,t){return!r(e,t)}})),e.entries.push(f.selectBox({id:"listener-type",label:i("Listener Type"),selectOptions:[{value:"class",name:i("Java Class")},{value:l,name:i("Expression")},{value:c,name:i("Delegate Expression")},{value:u,name:i("Script")}],modelProperty:"listenerType",emptyParameter:!1,get:function(e,t){t=s(e,t);return{listenerType:g.getImplementationType(t)}},set:function(e,t,n){var i=s(e,n),n=t.listenerType||void 0,t={};return t.class="class"===n?"":void 0,t[l]=n===l?"":void 0,t[c]=n===c?"":void 0,t[u]=n===u?o.create("activiti:Script"):void 0,m.updateBusinessObject(e,i,t)},hidden:function(e,t){return!r(e,t)}})),e.entries.push(f.textField({id:"listener-value",dataValueLabel:"listenerValueLabel",modelProperty:"listenerValue",get:function(e,t){var n={},e=s(e,t),t=g.getImplementationType(e);return n.listenerValueLabel=a[t]||"",n.listenerValue=e&&e.get(t)||void 0,n},set:function(e,t,n){var i={},n=s(e,n);return i[g.getImplementationType(n)]=t.listenerValue||"",m.updateBusinessObject(e,n,i)},hidden:function(e,t){t=s(e,t);return!t||t.script},validate:function(e,t){var n={};return t.listenerValue||(n.listenerValue=i("Must provide a value")),n}}));var h=v("scriptFormat","value",!0,i);e.entries.push({id:"listener-script-value",html:'<div data-show="isScript">'+h.template+"</div>",get:function(e,t){t=s(e,t);return t&&t.script?h.get(e,t.script):{}},set:function(e,t,n){n=s(e,n),t=h.set(e,t,n);return m.updateBusinessObject(e,n.script,t)},validate:function(e,t,n){n=s(e,n);return n&&n.script?h.validate(e,t):{}},isScript:function(e,t){t=s(e,t);return t&&t.script},script:h})}},{"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"../../../helper/ImplementationTypeHelper":72,"./implementation/Script":137}],108:[function(e,t,n){"use strict";var r=e("lodash/assign"),a=e("./implementation/FieldInjection");t.exports=function(e,t,n,i,o){i=r({idPrefix:"listener-",insideListener:!0},i);i=a(t,n,o,i);i&&0<i.length&&(e.entries=e.entries.concat(i))}},{"./implementation/FieldInjection":127,"lodash/assign":792}],109:[function(e,t,n){"use strict";var o=e("./implementation/Listener");t.exports=function(e,t,n,i){i=o(t,n,{},i);return e.entries=e.entries.concat(i.entries),{getSelectedListener:i.getSelectedListener}}},{"./implementation/Listener":133}],110:[function(e,t,n){"use strict";e("bpmn-js/lib/util/ModelUtil").getBusinessObject,e("../../../helper/ExtensionElementsHelper").getExtensionElements,e("../../../helper/ExtensionElementsHelper").removeEntry,e("./implementation/ExtensionElements"),e("./implementation/Properties");var o=e("../../../factory/EntryFactory"),r=(e("../../../helper/ElementHelper"),e("../../../helper/CmdHelper"),e("../../../helper/FormHelper"),e("../../../Utils"),e("bpmn-js/lib/util/ModelUtil").is);e("lodash/find"),e("lodash/forEach");t.exports=function(e,t,n,i){"bpmn:UserTask"==t.type&&(t=r(t,"bpmn:Process")?"KEY":"节点ID",e.entries.push(o.htmlField({id:"id",label:t,description:"",modelProperty:"id",bpmnFactory:n,html:'<div class="well">\n\t\t\t\t\t\t\t\t<div class="form-group form-inline">\n\t\t\t\t\t\t\t\t\t<label class="control-label left-label"> 节点事件： </label> <a href="javascript:void(0);" class="layui-btn layui-btn-sm"  id="setLocalRestFul"> 设置接口事件 </a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>'})))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"../../../helper/ElementHelper":66,"../../../helper/ExtensionElementsHelper":69,"../../../helper/FormHelper":70,"./implementation/ExtensionElements":124,"./implementation/Properties":135,"bpmn-js/lib/util/ModelUtil":419,"lodash/find":798,"lodash/forEach":801}],111:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,r=e("bpmn-js/lib/util/ModelUtil").is,a=e("./implementation/MultiInstanceLoopCharacteristics"),s=e("./implementation/JobRetryTimeCycle"),l=e("./implementation/AsyncContinuation");function c(e){return i(e).loopCharacteristics}t.exports=function(e,t,n,i){var o;(o=c(o=t))&&r(o,"activiti:Collectable")&&(e.entries=e.entries.concat(a(t,n,i)),e.entries=e.entries.concat(l(t,n,{getBusinessObject:c,idPrefix:"multiInstance-",labelPrefix:i("Multi Instance ")},i)),e.entries=e.entries.concat(s(t,n,{getBusinessObject:c,idPrefix:"multiInstance-",labelPrefix:i("Multi Instance ")},i)))}},{"./implementation/AsyncContinuation":120,"./implementation/JobRetryTimeCycle":132,"./implementation/MultiInstanceLoopCharacteristics":134,"bpmn-js/lib/util/ModelUtil":419}],112:[function(e,t,n){"use strict";var a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,s=e("bpmn-js/lib/util/ModelUtil").is,l=e("../../../factory/EntryFactory"),c=e("../../../helper/CmdHelper"),u=e("./implementation/Script");t.exports=function(e,t,n,i){var o,r;(o=s(t,"bpmn:ScriptTask")?a(t):o)&&(r=u("scriptFormat","script",!1,i),e.entries.push({id:"script-implementation",label:i("Script"),html:r.template,get:function(e){return r.get(e,o)},set:function(e,t,n){n=r.set(e,t,n);return c.updateProperties(e,n)},validate:function(e,t){return r.validate(e,t)},script:r,cssClasses:["bpp-textfield"]}),e.entries.push(l.textField({id:"scriptResultVariable",label:i("Result Variable"),modelProperty:"scriptResultVariable",get:function(e,t){return{scriptResultVariable:o.get("activiti:resultVariable")}},set:function(e,t,n){return c.updateProperties(e,{"activiti:resultVariable":t.scriptResultVariable.length?t.scriptResultVariable:void 0})}})))}},{"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"./implementation/Script":137,"bpmn-js/lib/util/ModelUtil":419}],113:[function(e,t,n){"use strict";var a=e("../../../helper/ImplementationTypeHelper"),s=e("../../../helper/InputOutputHelper"),i=e("../../../Utils"),l=i.escapeHTML,c=i.triggerClickEvent,u=e("./implementation/ImplementationType"),d=e("./implementation/Delegate"),p=e("./implementation/External"),h=e("./implementation/Callable"),f=e("./implementation/ResultVariable"),m=e("../../../factory/EntryFactory"),g=e("min-dom").query,v=e("min-dom").closest,y=e("min-dom").classes;function b(e){return a.getImplementationType(e)}function x(e){return a.getServiceTaskLikeBusinessObject(e)}t.exports=function(e,t,n,i){var o,r;r=x(t),a.isServiceTaskLike(r)&&(o=a.isDmnCapable(t),r=x(t),r=a.isExternalCapable(r),e.entries=e.entries.concat(u(t,n,{getBusinessObject:x,getImplementationType:b,hasDmnSupport:o,hasExternalSupport:r,hasServiceTaskLikeSupport:!0},i)),e.entries=e.entries.concat(d(t,n,{getBusinessObject:x,getImplementationType:b},i)),e.entries=e.entries.concat(f(t,n,{getBusinessObject:x,getImplementationType:b,hideResultVariable:function(e,t){return"expression"!==b(e)}},i)),r&&(e.entries=e.entries.concat(p(t,n,{getBusinessObject:x,getImplementationType:b},i))),o&&(e.entries=e.entries.concat(h(t,n,{getCallableType:b},i))),e.entries.push(m.link({id:"configureConnectorLink",label:i("Configure Connector"),handleClick:function(e,t,n){t=function(e,t){e=v(e,".bpp-properties-panel");return g('a[data-tab-target="'+t+'"]',e)}(t,"connector");return t&&c(t),!1},showLink:function(e,t){t=g("a",t);return t.textContent="",y(t).remove("bpp-error-message"),"connector"===b(e)&&(s.getConnector(e).get("connectorId")?t.textContent=i("Configure Connector"):(t.innerHTML='<span class="bpp-icon-warning"></span> '+l(i("Must configure Connector")),y(t).add("bpp-error-message")),!0)}})))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/ImplementationTypeHelper":72,"../../../helper/InputOutputHelper":73,"./implementation/Callable":121,"./implementation/Delegate":123,"./implementation/External":125,"./implementation/ImplementationType":128,"./implementation/ResultVariable":136,"min-dom":835}],114:[function(e,t,n){"use strict";var o=e("../../../factory/EntryFactory"),r=e("bpmn-js/lib/util/ModelUtil").is,a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject;t.exports=function(e,t,n,i){a(t)&&r(t,"activiti:Initiator")&&!r(t.parent,"bpmn:SubProcess")&&e.entries.push(o.textInputDisplayNoneField({id:"initiator",label:n("Initiator"),modelProperty:"initiator",bpmnFactory:i}))}},{"../../../factory/EntryFactory":37,"bpmn-js/lib/util/ModelUtil":419}],115:[function(e,t,n){"use strict";var r=e("bpmn-js/lib/util/ModelUtil").is,a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,s=e("./implementation/Tasklist");t.exports=function(e,t,n,i){var o=a(t);(r(t,"activiti:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(s(t,n,{getBusinessObject:function(e){e=a(e);return r(e,"bpmn:Participant")?e.get("processRef"):e}},i)))}},{"./implementation/Tasklist":138,"bpmn-js/lib/util/ModelUtil":419}],116:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").is,o=e("../../../factory/EntryFactory");t.exports=function(e,t,n){i(t,"activiti:Assignable")&&(e.entries.push(o.textButtonField({id:"assignee1",label:"Assignee1",modelProperty:"assignee1"})),e.entries.push(o.textField({id:"assignee",label:n("Assignee"),modelProperty:"assignee"})),e.entries.push(o.textField({id:"candidateUsers",label:n("Candidate Users"),modelProperty:"candidateUsers"})),e.entries.push(o.textField({id:"candidateGroups",label:n("Candidate Groups"),modelProperty:"candidateGroups"})),e.entries.push(o.textDateField({id:"dueDate",label:n("Due Date"),modelProperty:"dueDate"})),e.entries.push(o.textField({id:"priority",label:n("Priority"),modelProperty:"priority"})))}},{"../../../factory/EntryFactory":37,"bpmn-js/lib/util/ModelUtil":419}],117:[function(e,t,n){"use strict";var o=e("../../../factory/EntryFactory");e("bpmn-js/lib/util/ModelUtil").getBusinessObject,e("../../../Utils"),e("../../../helper/CmdHelper"),e("bpmn-js/lib/util/ModelUtil").is;t.exports=function(e,t,n,i){"bpmn:UserTask"==t.type&&e.entries.push(o.usersField({id:"id",label:"",description:"",modelProperty:"id",bpmnFactory:n,element:t,html:""}))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419}],118:[function(e,t,n){"use strict";var o=e("../../../factory/EntryFactory");e("bpmn-js/lib/util/ModelUtil").getBusinessObject,e("../../../Utils"),e("../../../helper/CmdHelper"),e("bpmn-js/lib/util/ModelUtil").is;t.exports=function(e,t,n,i){"bpmn:UserTask"==t.type&&e.entries.push(o.usersTaskNodeField({id:"id",label:"",description:"",modelProperty:"id",bpmnFactory:n,element:t,html:""}))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419}],119:[function(e,t,n){"use strict";var h=e("bpmn-js/lib/util/ModelUtil").is,f=e("bpmn-js/lib/features/modeling/util/ModelingUtil").isAny,m=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,i=e("lodash/filter"),g=e("../../../helper/ExtensionElementsHelper"),v=e("../../../helper/CmdHelper"),y=e("../../../helper/ElementHelper"),b=e("../../../helper/EventDefinitionHelper"),x=e("./implementation/ExtensionElements"),w=e("../../../factory/EntryFactory");function k(e,t){var n,n=(n=t,e=m(t=e),t=b.getSignalEventDefinition(e),g.getExtensionElements(t||e,n)||[]);return i(n,function(e){return!e.businessKey})}function E(e){var t="source";return"all"===e.variables?t="variables":void 0!==e.source?t="source":void 0!==e.sourceExpression&&(t="sourceExpression"),t}var C="activiti:In",S="activiti:Out",T=/\s/;t.exports=function(e,t,r,i){var n,o,a,s,l,c,u,d=[{name:i("Source"),value:"source"},{name:i("Source Expression"),value:"sourceExpression"},{name:i("All"),value:"variables"}],p=b.getSignalEventDefinition(t);(h(t,"activiti:CallActivity")||p)&&(p&&!f(t,["bpmn:IntermediateThrowEvent","bpmn:EndEvent"])||(n=function(e,t){return!!o(e,t)},o=function(e,t){var n=t.parentNode,i=c.getSelected(e,n),t=k(e,C)[i.idx];return!t&&u&&(i=u.getSelected(e,n),t=k(e,S)[i.idx]),t},a=function(s){return function(e,t,n,i,o,r){var a=k(e,s)[r],e=(a.target||"<undefined>")+" := ",r=E(a);"variables"===r?e="all":e+="source"===r?a.source||"<empty>":"sourceExpression"===r&&a.sourceExpression||"<empty>",n.text=e}},s=function(o){return function(e,t,n){var i=y.createElement(o,{source:""},t,r);return v.addElementsTolist(e,t,"values",[i])}},l=function(o){return function(e,t,n,i){i=k(e,o)[i];if(i)return g.removeEntry(p||m(e),e,i)}},c=x(t,r,{id:"variableMapping-in",label:i("In Mapping"),modelProperty:"source",prefix:"In",idGeneration:!1,resizable:!0,businessObject:p||m(t),createExtensionElement:s(C),removeExtensionElement:l(C),getExtensionElements:function(e){return k(e,C)},onSelectionChange:function(e,t,n,i){u&&u.deselect(e,t.parentNode)},setOptionLabelValue:a(C)}),e.entries.push(c),p||(u=x(t,r,{id:"variableMapping-out",label:i("Out Mapping"),modelProperty:"source",prefix:"Out",idGeneration:!1,resizable:!0,createExtensionElement:s(S),removeExtensionElement:l(S),getExtensionElements:function(e){return k(e,S)},onSelectionChange:function(e,t,n,i){c.deselect(e,t.parentNode)},setOptionLabelValue:a(S)}),e.entries.push(u)),e.entries.push(w.label({id:"variableMapping-typeLabel",get:function(e,t){e=o(e,t),t="";return h(e,C)?t=i("In Mapping"):h(e,S)&&(t=i("Out Mapping")),{label:t}},showLabel:n})),e.entries.push(w.selectBox({id:"variableMapping-inOutType",label:i("Type"),selectOptions:d,modelProperty:"inOutType",get:function(e,t){return{inOutType:E(o(e,t)||{})}},set:function(e,t,n){var i=t.inOutType,t={source:void 0,sourceExpression:void 0,variables:void 0};"source"===i?t.source="":"sourceExpression"===i?t.sourceExpression="":"variables"===i&&(t.variables="all",t.target=void 0);n=o(e,n);return v.updateBusinessObject(e,n,t)},hidden:function(e,t){return!n(e,t)}})),e.entries.push(w.textField({id:"variableMapping-source",dataValueLabel:"sourceLabel",modelProperty:"source",get:function(e,t){var n=o(e,t)||{},e="",t=E(n);return"source"===t?e=i("Source"):"sourceExpression"===t&&(e=i("Source Expression")),{source:n[t],sourceLabel:e}},set:function(e,t,n){t.source=t.source||void 0;var i=o(e,n),n={};return n[E(i)]=t.source||"",v.updateBusinessObject(e,i,n)},validate:function(e,t,n){e=o(e,n),n={};return e&&(t.source||(n.source=n.source=t.sourceLabel?i("Mapping must have a {value}",{value:t.sourceLabel.toLowerCase()}):i("Mapping must have a value")),e=E(e),T.test(t.source)&&"sourceExpression"!==e&&(n.source=i("{label} must not contain whitespace",{label:t.sourceLabel}))),n},hidden:function(e,t){t=o(e,t);return!t||t.variables}})),e.entries.push(w.textField({id:"variableMapping-target",label:i("Target"),modelProperty:"target",get:function(e,t){return{target:(o(e,t)||{}).target}},set:function(e,t,n){t.target=t.target||void 0;n=o(e,n);return v.updateBusinessObject(e,n,t)},validate:function(e,t,n){e=o(e,n),n={};return e&&(e=E(e),t.target||"variables"===e||(n.target=i("Mapping must have a target")),t.target&&T.test(t.target)&&"variables"!==e&&(n.target=i("Target must not contain whitespace"))),n},hidden:function(e,t){t=o(e,t);return!t||t.variables}})),e.entries.push(w.checkbox({id:"variableMapping-local",label:i("Local"),modelProperty:"local",get:function(e,t){return{local:(o(e,t)||{}).local}},set:function(e,t,n){t.local=t.local||!1;n=o(e,n);return v.updateBusinessObject(e,n,t)},hidden:function(e,t){return!n(e,t)}}))))}},{"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"../../../helper/ElementHelper":66,"../../../helper/EventDefinitionHelper":67,"../../../helper/ExtensionElementsHelper":69,"./implementation/ExtensionElements":124,"bpmn-js/lib/features/modeling/util/ModelingUtil":390,"bpmn-js/lib/util/ModelUtil":419,"lodash/filter":797}],120:[function(e,t,n){"use strict";var a=e("lodash/assign"),s=e("../../../../factory/EntryFactory"),l=e("../../../../helper/AsyncCapableHelper"),c=e("../../../../helper/EventDefinitionHelper"),u=e("../../../../helper/CmdHelper");t.exports=function(e,t,n,i){var r=n.getBusinessObject,o=n.idPrefix||"",n=n.labelPrefix||"";return[s.checkbox({id:o+"async",label:n+i("async"),modelProperty:"async",get:function(e,t){e=r(e);return{asyncBefore:l.isAsyncBefore(e)}},set:function(e,t){var n=r(e),i=!!t.asyncBefore,o={"activiti:asyncBefore":i,"activiti:async":!1},t=[];return i||(o=a({"activiti:exclusive":!0},o),c.getTimerEventDefinition(e)||t.push(l.removeFailedJobRetryTimeCycle(n,e))),t.push(u.updateBusinessObject(e,n,o)),t}}),s.checkbox({id:o+"exclusive",label:n+i("Exclusive"),modelProperty:"exclusive",get:function(e,t){e=r(e);return{exclusive:l.isExclusive(e)}},set:function(e,t){var n=r(e);return u.updateBusinessObject(e,n,{"activiti:exclusive":!!t.exclusive})}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/AsyncCapableHelper":56,"../../../../helper/CmdHelper":61,"../../../../helper/EventDefinitionHelper":67,"lodash/assign":792}],121:[function(e,t,n){"use strict";var c=e("../../../../helper/CmdHelper"),u=e("../../../../factory/EntryFactory"),a=e("../../../../helper/ElementHelper"),d=e("../../../../helper/ExtensionElementsHelper"),p=e("./ResultVariable"),h=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,f=e("bpmn-js/lib/util/ModelUtil").is,m=e("lodash/forEach"),g={bpmn:{element:"calledElement",binding:"activiti:calledElementBinding",version:"activiti:calledElementVersion",versionTag:"activiti:calledElementVersionTag",tenantId:"activiti:calledElementTenantId"},cmmn:{element:"activiti:caseRef",binding:"activiti:caseBinding",version:"activiti:caseVersion",tenantId:"activiti:caseTenantId"},dmn:{element:"activiti:decisionRef",binding:"activiti:decisionRefBinding",version:"activiti:decisionRefVersion",versionTag:"activiti:decisionRefVersionTag",tenantId:"activiti:decisionRefTenantId"}},v=[{name:"singleEntry (TypedValue)",value:"singleEntry"},{name:"singleResult (Map<String, Object>)",value:"singleResult"},{name:"collectEntries (List<Object>)",value:"collectEntries"},{name:"resultList (List<Map<String, Object>>)",value:"resultList"}],y=[{name:"variableMappingClass",value:"variableMappingClass"},{name:"variableMappingDelegateExpression",value:"variableMappingDelegateExpression"}];function b(e){var t=[],e=h(e),e=d.getExtensionElements(e,"activiti:In");return e&&m(e,function(e){void 0!==e.businessKey&&t.push(e)}),t}function x(e,t,n){var i,o=[],r=b(e);return r.length?o.push(c.updateBusinessObject(e,r[0],{businessKey:t})):((r=(i=h(e)).extensionElements)||(r=a.createElement("bpmn:ExtensionElements",{values:[]},i,n),o.push(c.updateProperties(e,{extensionElements:r}))),n=a.createElement("activiti:In",{businessKey:t},r,n),o.push(c.addAndRemoveElementsFromList(e,r,"values","extensionElements",[n],[]))),o}function w(e){return-1!==["bpmn","cmmn","dmn"].indexOf(e)}t.exports=function(e,r,t,a){var n=[{name:a("latest"),value:"latest"},{name:a("deployment"),value:"deployment"},{name:a("version"),value:"version"},{name:a("versionTag"),value:"versionTag"}],o=t.getCallableType,t=[];function s(e,t){e=o(e);return(g[e]||{})[t]}function i(e){var t=o(e),e=h(e),t=(g[t]||{}).binding;return e.get(t)}function l(e){var t=h(e),n=t.get("activiti:variableMappingClass"),e=t.get("activiti:variableMappingDelegateExpression"),t="";return void 0!==n?t="variableMappingClass":void 0!==e&&(t="variableMappingDelegateExpression"),t}return t.push(u.textField({id:"callable-element-ref",dataValueLabel:"callableElementLabel",modelProperty:"callableElementRef",get:function(e,t){var n,i=s(e,"element");i&&(n=h(e).get(i));i="",e=o(e);return"bpmn"===e?i=a("Called Element"):"cmmn"===e?i=a("Case Ref"):"dmn"===e&&(i=a("Decision Ref")),{callableElementRef:n,callableElementLabel:i}},set:function(e,t,n){var i=t.callableElementRef,t={};return t[s(e,"element")]=i||"",c.updateProperties(e,t)},validate:function(e,t,n){t=t.callableElementRef;return w(o(e))&&!t?{callableElementRef:a("Must provide a value")}:{}},hidden:function(e,t){return!w(o(e))}})),t.push(u.selectBox({id:"callable-binding",label:a("Binding"),selectOptions:function(e){e="cmmn"===o(e)?n.filter(function(e){return"versionTag"!==e.value}):n;return e},modelProperty:"callableBinding",get:function(e,t){var n,i=s(e,"binding");return{callableBinding:n=i?h(e).get(i)||"latest":n}},set:function(e,t,n){var i=t.callableBinding,o=s(e,"binding"),r=s(e,"version"),a=s(e,"versionTag"),t={};return t[o]=i,t[r]=void 0,t[a]=void 0,c.updateProperties(e,t)},hidden:function(e,t){return!w(o(e))}})),t.push(u.textField({id:"callable-version",label:a("Version"),modelProperty:"callableVersion",get:function(e,t){var n,i=s(e,"version");return{callableVersion:n=i?h(e).get(i):n}},set:function(e,t,n){var i=t.callableVersion,t={};return t[s(e,"version")]=i||void 0,c.updateProperties(e,t)},validate:function(e,t,n){t=t.callableVersion;return w(o(e))&&"version"===i(e)&&(t?{}:{callableVersion:a("Must provide a value")})},hidden:function(e,t){return!w(o(e))||"version"!==i(e)}})),t.push(u.textField({id:"callable-version-tag",label:a("Version Tag"),modelProperty:"versionTag",get:function(e,t){var n,i=s(e,"versionTag");return{versionTag:n=i?h(e).get(i):n}},set:function(e,t,n){var i=t.versionTag,t={};return t[s(e,"versionTag")]=i||void 0,c.updateProperties(e,t)},validate:function(e,t,n){t=t.versionTag;return w(o(e))&&"versionTag"===i(e)&&(t?{}:{versionTag:a("Must provide a value")})},hidden:function(e,t){return!w(o(e))||"versionTag"!==i(e)}})),t.push(u.textField({id:"tenant-id",label:a("Tenant Id"),modelProperty:"tenantId",get:function(e,t){var n,i=s(e,"tenantId");return{tenantId:n=i?h(e).get(i):n}},set:function(e,t,n){var i=t.tenantId,t={};return t[s(e,"tenantId")]=i||void 0,c.updateProperties(e,t)},hidden:function(e,t){return!w(o(e))}})),f(h(e),"bpmn:CallActivity")&&t.push(u.checkbox({id:"callable-business-key",label:a("Business Key"),modelProperty:"callableBusinessKey",get:function(e,t){e=b(e);return{callableBusinessKey:!!(e&&0<e.length)}},set:function(e,t,n){return t.callableBusinessKey?x(e,"#{execution.processBusinessKey}",r):(e=b(i=e),o=[],m(e,function(e){o.push(d.removeEntry(h(i),i,e))}),o);var i,o}})),t.push(u.textField({id:"business-key-expression",label:a("Business Key Expression"),modelProperty:"businessKey",get:function(e,t){e=b(e);return{businessKey:e.length?e[0].get("activiti:businessKey"):void 0}},set:function(e,t,n){return x(e,t.businessKey,r)},validate:function(e,t,n){return""===t.businessKey?{businessKey:a("Must provide a value")}:{}},hidden:function(e,t){return!b(e).length}})),(t=t.concat(p(e,r,{id:"dmn-resultVariable",getBusinessObject:h,getImplementationType:o,hideResultVariable:function(e,t){return"dmn"!==o(e)}},a))).push(u.selectBox({id:"dmn-map-decision-result",label:a("Map Decision Result"),selectOptions:v,modelProperty:"mapDecisionResult",get:function(e,t){return{mapDecisionResult:h(e).get("activiti:mapDecisionResult")||"resultList"}},set:function(e,t,n){return c.updateProperties(e,{"activiti:mapDecisionResult":t.mapDecisionResult||"resultList"})},hidden:function(e,t){var n=h(e).get("activiti:resultVariable");return!("dmn"===o(e)&&void 0!==n)}})),t.push(u.selectBox({id:"delegateVariableMappingType",label:a("Delegate Variable Mapping"),selectOptions:y,emptyParameter:!0,modelProperty:"delegateVariableMappingType",get:function(e,t){return{delegateVariableMappingType:l(e)}},set:function(e,t,n){var i=t.delegateVariableMappingType,t={"activiti:variableMappingClass":void 0,"activiti:variableMappingDelegateExpression":void 0};return"variableMappingClass"===i?t["activiti:variableMappingClass"]="":"variableMappingDelegateExpression"===i&&(t["activiti:variableMappingDelegateExpression"]=""),c.updateProperties(e,t)},hidden:function(e,t){return"bpmn"!==o(e)}})),t.push(u.textField({id:"delegateVariableMapping",dataValueLabel:"delegateVariableMappingLabel",modelProperty:"delegateVariableMapping",get:function(e,t){var n=h(e),i="",o=void 0,e=l(e);return"variableMappingClass"===e?(i=a("Class"),o=n.get("activiti:variableMappingClass")):"variableMappingDelegateExpression"===e&&(i=a("Delegate Expression"),o=n.get("activiti:variableMappingDelegateExpression")),{delegateVariableMapping:o,delegateVariableMappingLabel:i}},set:function(e,t,n){var i=t.delegateVariableMapping,t={};return t["activiti:"+l(e)]=i||void 0,c.updateProperties(e,t)},validate:function(e,t,n){t=t.delegateVariableMapping;return"bpmn"===o(e)&&(t?{}:{delegateVariableMapping:a("Must provide a value")})},hidden:function(e,t){return!("bpmn"===o(e)&&""!==l(e))}})),t}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/ExtensionElementsHelper":69,"./ResultVariable":136,"bpmn-js/lib/util/ModelUtil":419,"lodash/forEach":801}],122:[function(e,t,n){"use strict";var r=e("../../../../factory/EntryFactory"),a=e("../../../../helper/CmdHelper");t.exports=function(e,t,n,i){var o=n.getBusinessObject;return[r.textField({id:"candidateStarterGroups",label:i("Candidate Starter Groups"),modelProperty:"candidateStarterGroups",description:i("Specify more than one group as a comma separated list."),get:function(e,t){e=o(e).get("activiti:candidateStarterGroups");return{candidateStarterGroups:e||""}},set:function(e,t){var n=o(e);return a.updateBusinessObject(e,n,{"activiti:candidateStarterGroups":t.candidateStarterGroups||void 0})}}),r.textField({id:"candidateStarterUsers",label:i("Candidate Starter Users"),modelProperty:"candidateStarterUsers",description:i("Specify more than one user as a comma separated list."),get:function(e,t){e=o(e).get("activiti:candidateStarterUsers");return{candidateStarterUsers:e||""}},set:function(e,t){var n=o(e);return a.updateBusinessObject(e,n,{"activiti:candidateStarterUsers":t.candidateStarterUsers||void 0})}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61}],123:[function(e,t,n){"use strict";var i=e("../../../../factory/EntryFactory"),l=e("../../../../helper/CmdHelper"),o=["class","expression","delegateExpression"],c={class:"activiti:class",expression:"activiti:expression",delegateExpression:"activiti:delegateExpression"};function r(e){return-1!==o.indexOf(e)}t.exports=function(e,t,n,o){var a=n.getImplementationType,s=n.getBusinessObject;return[i.textField({id:"delegate",label:o("Value"),dataValueLabel:"delegationLabel",modelProperty:"delegate",get:function(e,t){var n=s(e),i=a(e),e=c[i],i=function(e){switch(e){case"class":return o("Java Class");case"expression":return o("Expression");case"delegateExpression":return o("Delegate Expression");default:return""}}(i);return{delegate:n.get(e),delegationLabel:i}},set:function(e,t,n){var i=s(e),o=a(e),r={};return r[c[o]]=t.delegate||"",l.updateBusinessObject(e,i,r)},validate:function(e,t,n){return r(a(e))&&!t.delegate?{delegate:o("Must provide a value")}:{}},hidden:function(e,t){return!r(a(e))}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61}],124:[function(e,t,n){"use strict";var E=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,i=e("min-dom").query,o=e("min-dom").closest,C=e("min-dom").domify,S=e("lodash/forEach"),T=e("../../../../helper/ElementHelper"),_=e("../../../../helper/CmdHelper"),N=e("../../../../Utils"),A=N.escapeHTML;function P(e,t){e=o(e,"div.bpp-properties-tab");return i("select[name=selectedExtensionElement]"+(t?"[id=cam-extensionElements-"+t+"]":""),e)}function I(e,t){t=P(e,t);return{value:(t||{}).value,idx:(t||{}).selectedIndex}}var R="create-extension-element",M="remove-extension-element";t.exports=function(e,s,t,n){function r(e,t,n,i){if("function"==typeof v)return v(e,t,n,i)}function a(e){return'<option value="'+A(e)+'" data-value data-name="extensionElementValue">'+A(e)+"</option>"}function l(e,t){w&&(e.size=x<t?t:x)}var c=t.id,u=t.prefix||"elem",i=t.label||c,d=!1!==t.idGeneration||t.idGeneration,p=t.businessObject||E(e),o=t.modelProperty||"id",h=t.getExtensionElements,f=t.createExtensionElement,m="function"==typeof f,g=t.removeExtensionElement,e="function"==typeof g,v=t.onSelectionChange,y=t.hideExtensionElements,b=t.setOptionLabelValue,x=t.size||5,w=t.resizable,k=t.reference||void 0;return{id:c,html:'<div class="bpp-row bpp-element-list" '+("function"==typeof y?'data-show="hideElements"':"")+'><label for="cam-extensionElements-'+A(c)+'">'+A(i)+'</label><div class="bpp-field-wrapper"><select id="cam-extensionElements-'+A(c)+'"name="selectedExtensionElement" size="'+A(x)+'" data-list-entry-container data-on-change="selectElement"></select>'+(m?'<button class="add" id="cam-extensionElements-create-'+A(c)+'" data-action="createElement"><span>+</span></button>':"")+(e?'<button class="clear" id="cam-extensionElements-remove-'+A(c)+'" data-action="removeElement" data-disable="disableRemove"><span>-</span></button>':"")+"</div></div>",get:function(e,t){var e=h(e,t),n=[];S(e,function(e){n.push({extensionElementValue:e.get(o)})});t=P(t.parentNode,c);return l(t,n.length),n},set:function(e,t,n){var i=this.__action;delete this.__action,p=p||E(e);var o=k&&p.get(k)?p.get(k):p,r=o.get("extensionElements");if(i.id===R){var a=[];return r||(r=T.createElement("bpmn:ExtensionElements",{values:[]},o,s),a.push(_.updateBusinessObject(e,o,{extensionElements:r}))),a.push(f(e,r,i.value,n)),a}if(i.id===M)return g(e,r,i.value,i.idx,n)},createListEntryTemplate:function(e,t,n){return l(n,n.options.length+1),a(e.extensionElementValue)},deselect:function(e,t){P(t,c).selectedIndex=-1},getSelected:function(e,t){return I(t,c)},setControlValue:function(e,t,n,i,o,r){t.value=o,b?b(e,t,n,i,o,r):t.text=o},createElement:function(e,t){var n;d&&(o=u,n=N.nextId(o+="_"));var i=P(t,c),o=C(a(n));return i.appendChild(o),i.lastChild.selected="selected",r(e,t),l(i,i.options.length),this.__action={id:R,value:n},!0},removeElement:function(e,t){var n=I(t,c),t=P(t,c);return t.removeChild(t.options[n.idx]),l(t,t.options.length),this.__action={id:M,value:n.value,idx:n.idx},!0},hideElements:function(e,t,n,i){return!y(e,t,n,i)},disableRemove:function(e,t,n,i){return(I(t,c)||{}).idx<0},selectElement:r}}},{"../../../../Utils":28,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"bpmn-js/lib/util/ModelUtil":419,"lodash/forEach":801,"min-dom":835}],125:[function(e,t,n){"use strict";var s=e("../../../../factory/EntryFactory"),l=e("../../../../helper/CmdHelper");t.exports=function(e,t,n,i){var o=n.getImplementationType,r=n.getBusinessObject;function a(e){return"external"===o(e)}return[s.textField({id:"externalTopic",label:i("Topic"),modelProperty:"externalTopic",get:function(e,t){return{externalTopic:r(e).get("activiti:topic")}},set:function(e,t,n){var i=r(e);return l.updateBusinessObject(e,i,{"activiti:topic":t.externalTopic})},validate:function(e,t,n){return a(e)&&!t.externalTopic?{externalTopic:i("Must provide a value")}:{}},hidden:function(e,t){return!a(e)}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61}],126:[function(e,t,n){"use strict";var r=e("../../../../factory/EntryFactory"),a=e("../../../../helper/CmdHelper");t.exports=function(e,t,n,i){var o=n.getBusinessObject;return[r.textField({id:"externalTaskPriority",label:i("Task Priority"),modelProperty:"taskPriority",get:function(e,t){return{taskPriority:o(e).get("activiti:taskPriority")}},set:function(e,t){var n=o(e);return a.updateBusinessObject(e,n,{"activiti:taskPriority":t.taskPriority||void 0})}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61}],127:[function(e,t,n){"use strict";var h=e("../../../../helper/ExtensionElementsHelper"),f=e("../../../../helper/ElementHelper"),m=e("../../../../helper/CmdHelper"),g=e("../../../../Utils"),v=e("../../../../factory/EntryFactory"),y=e("./ExtensionElements"),b=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,x=e("lodash/assign"),w={stringValue:void 0,string:void 0,expression:void 0},k="activiti:Field";t.exports=function(e,a,o,t){var s=!!(t=t||{}).insideListener,n=t.idPrefix||"",l=t.getSelectedListener,r=t.businessObject||b(e),t=[],i=c;function c(e,t){var n=p.getSelected(e,t.parentNode);if(-1!==n.idx)return u(e,t)[n.idx]}function u(e,t){return s?function(e,t){t=l(e,t);return t&&t.fields||[]}(e,t):r&&h.getExtensionElements(r,k)||[]}function d(e){var t="string",n=e&&e.expression;return void 0!==(e&&(e.string||e.stringValue))?t="string":void 0!==n&&(t="expression"),t}var p=y(e,a,{id:n+"fields",label:o("Fields"),modelProperty:"fieldName",idGeneration:"false",businessObject:r,createExtensionElement:function(e,t,n,i){var o={name:"",string:""};if(s){var i=l(e,i),r=f.createElement(k,o,i,a);return m.addElementsTolist(e,i,"fields",[r])}return r=f.createElement(k,o,t,a),m.addElementsTolist(e,t,"values",[r])},removeExtensionElement:function(e,t,n,i,o){i=u(e,o)[i];if(i){if(!s)return h.removeEntry(r,e,i);o=l(e,o);return m.removeElementsFromList(e,o,"fields",null,[i])}},getExtensionElements:u,setOptionLabelValue:function(e,t,n,i,o,r){t=u(e,t)[r];o=t.name||"<empty>",n.text=r+" : "+o}});t.push(p),t.push(v.validationAwareTextField({id:n+"field-name",label:o("Name"),modelProperty:"fieldName",getProperty:function(e,t){return(c(e,t)||{}).name},setProperty:function(e,t,n){n=c(e,n);return m.updateBusinessObject(e,n,{name:t.fieldName})},validate:function(e,t,n){var i={};return c(e,n)&&((t=t.fieldName)?g.containsSpace(t)&&(i.fieldName=o("Name must not contain spaces")):i.fieldName=o("Parameter must have a name")),i},hidden:function(e,t){return!i(e,t)}}));e=[{name:o("String"),value:"string"},{name:o("Expression"),value:"expression"}];return t.push(v.selectBox({id:n+"field-type",label:o("Type"),selectOptions:e,modelProperty:"fieldType",get:function(e,t){return{fieldType:d(c(e,t))}},set:function(e,t,n){var i=x({},w),t=t.fieldType;return"string"===t?i.string="":"expression"===t&&(i.expression=""),m.updateBusinessObject(e,c(e,n),i)},hidden:function(e,t){return!i(e,t)}})),t.push(v.textBox({id:n+"field-value",label:o("Value"),modelProperty:"fieldValue",get:function(e,t){var n,e=c(e,t),t=d(e);return"string"===t?n=e&&(e.string||e.stringValue):"expression"===t&&(n=e&&e.expression),{fieldValue:n}},set:function(e,t,n){var i=c(e,n),o=d(i),n=x({},w),t=t.fieldValue||void 0;return"string"===o?n.string=t:"expression"===o&&(n.expression=t),m.updateBusinessObject(e,i,n)},validate:function(e,t,n){var i={};return c(e,n)&&(t.fieldValue||(i.fieldValue=o("Must provide a value"))),i},show:function(e,t){return i(e,t)}})),t}},{"../../../../Utils":28,"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/ExtensionElementsHelper":69,"./ExtensionElements":124,"bpmn-js/lib/util/ModelUtil":419,"lodash/assign":792}],128:[function(e,t,n){"use strict";var m=e("../../../../factory/EntryFactory"),g=e("../../../../helper/CmdHelper"),v=e("../../../../helper/ExtensionElementsHelper"),y=e("../../../../helper/ElementHelper"),b=e("lodash/assign"),x=e("lodash/map"),w=["class","expression","delegateExpression"],k={"activiti:class":void 0,"activiti:expression":void 0,"activiti:delegateExpression":void 0,"activiti:resultVariable":void 0},E={"activiti:decisionRef":void 0,"activiti:decisionRefBinding":"latest","activiti:decisionRefVersion":void 0,"activiti:mapDecisionResult":"resultList","activiti:decisionRefTenantId":void 0},C={"activiti:type":void 0,"activiti:topic":void 0};t.exports=function(e,s,t,n){var i=[{value:"class",name:n("Java Class")},{value:"expression",name:n("Expression")},{value:"delegateExpression",name:n("Delegate Expression")}],o=[{value:"dmn",name:n("DMN")}],r=[{value:"external",name:n("External")}],a=[{value:"connector",name:n("Connector")}],l=[{value:"script",name:n("Script")}],c=t.getImplementationType,u=t.getBusinessObject,d=t.hasDmnSupport,p=t.hasExternalSupport,h=t.hasServiceTaskLikeSupport,f=t.hasScriptSupport,t=[],i=i.concat([]);return d&&(i=i.concat(o)),p&&(i=i.concat(r)),h&&(i=i.concat(a)),(i=f?i.concat(l):i).push({value:""}),t.push(m.selectBox({id:"implementation",label:n("Implementation"),selectOptions:i,modelProperty:"implType",get:function(e,t){return{implType:c(e)||""}},set:function(t,e,n){var i=u(t),o=c(t),r=e.implType,e=b({},k);-1!==w.indexOf(r)&&(a="",-1!==w.indexOf(o)&&(a=i.get("activiti:"+o)),e["activiti:"+r]=a),d&&(e=b(e,E),"dmn"===r&&(e["activiti:decisionRef"]="")),p&&(e=b(e,C),"external"===r&&(e["activiti:type"]="external",e["activiti:topic"]="")),f&&(e["activiti:script"]=void 0,"script"===r&&(e["activiti:script"]=y.createElement("activiti:Script",{},i,s)));var a=[];return a.push(g.updateBusinessObject(t,i,e)),h&&(e=v.getExtensionElements(i,"activiti:Connector"),a.push(x(e,function(e){return v.removeEntry(i,t,e)})),"connector"===r&&((e=i.get("extensionElements"))||(e=y.createElement("bpmn:ExtensionElements",{values:[]},i,s),a.push(g.updateBusinessObject(t,i,{extensionElements:e}))),r=y.createElement("activiti:Connector",{},e,s),a.push(g.addAndRemoveElementsFromList(t,e,"values","extensionElements",[r],[])))),a}})),t}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/ExtensionElementsHelper":69,"lodash/assign":792,"lodash/map":819}],129:[function(e,t,n){"use strict";var h=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,o=e("../../../../helper/ElementHelper"),f=e("../../../../helper/ExtensionElementsHelper"),m=e("../../../../helper/InputOutputHelper"),g=e("../../../../helper/CmdHelper"),v=e("./ExtensionElements");function y(e,t){return m.getInputOutput(e,t)}function b(e){return m.getConnector(e)}function x(e,t,n){return m.getInputParameter(e,t,n)}function w(e,t,n){return m.getOutputParameter(e,t,n)}function k(e,t,n,i){return o.createElement(e,i,t,n)}t.exports=function(e,l,t,n){var c={"activiti:Map":n("Map"),"activiti:List":n("List"),"activiti:Script":n("Script")},u=!!(t=t||{}).insideConnector,i=t.idPrefix||"",o={getSelectedParameter:function(e,t){var n=p&&p.getSelected(e,t)||{idx:-1},i=x(e,u,n.idx);return!i&&s&&(n=s.getSelected(e,t),i=w(e,u,n.idx)),i}},r=o.entries=[];if(!m.isInputOutputSupported(e,d))return o;function a(a,s,e){return function(e,t,n){var i,o=[],r=y(e,u);r||(r=k("activiti:InputOutput",i=u?b(e):t,l,{inputParameters:[],outputParameters:[]}),u?o.push(g.updateBusinessObject(e,i,{inputOutput:r})):o.push(g.addAndRemoveElementsFromList(e,t,"values","extensionElements",[r],[])));n=k(a,r,l,{name:n});return o.push(g.addElementsTolist(e,r,s,[n])),o}}var s,t=function(s,l,c){return function(e,t,n,i){var o=y(e,u),r=s(e,u,i),a=[];a.push(g.removeElementsFromList(e,o,l,null,[r]));i=o.get(l).length-1,r=(o.get(c)||[]).length;return i||r||(u?(r=b(e),a.push(g.updateBusinessObject(e,r,{inputOutput:void 0}))):a.push(f.removeEntry(h(e),e,o))),a}},d=function(s){return function(e,t,n,i,o,r){var a="Text",r=s(e,u,r).get("definition");void 0!==r&&(r=r.$type,a=c[r]),n.text=(o||"")+" : "+a}},p=v(e,l,{id:i+"inputs",label:n("Input Parameters"),modelProperty:"name",prefix:"Input",resizable:!0,createExtensionElement:a("activiti:InputParameter","inputParameters"),removeExtensionElement:t(x,"inputParameters","outputParameters"),getExtensionElements:function(e){return m.getInputParameters(e,u)},onSelectionChange:function(e,t,n,i){s&&s.deselect(e,t)},setOptionLabelValue:d(x)});return r.push(p),m.areOutputParametersSupported(e,u)&&(s=v(e,l,{id:i+"outputs",label:n("Output Parameters"),modelProperty:"name",prefix:"Output",resizable:!0,createExtensionElement:a("activiti:OutputParameter","outputParameters"),removeExtensionElement:t(w,"outputParameters","inputParameters"),getExtensionElements:function(e){return m.getOutputParameters(e,u)},onSelectionChange:function(e,t,n,i){p.deselect(e,t)},setOptionLabelValue:d(w)}),r.push(s)),o}},{"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/ExtensionElementsHelper":69,"../../../../helper/InputOutputHelper":73,"./ExtensionElements":124,"bpmn-js/lib/util/ModelUtil":419}],130:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").is,o=e("../../../../helper/ElementHelper"),u=e("../../../../helper/InputOutputHelper"),d=e("../../../../helper/CmdHelper"),p=e("../../../../Utils"),h=e("../../../../factory/EntryFactory"),f=e("./Script");function m(e,t,n,i){return o.createElement(e,i,t,n)}function g(e){return i(e,"activiti:Script")}function v(e){return i(e,"activiti:List")}function y(e){return i(e,"activiti:Map")}t.exports=function(e,r,t,o){var a={"activiti:Map":{value:"map",label:o("Map")},"activiti:List":{value:"list",label:o("List")},"activiti:Script":{value:"script",label:o("Script")}},n=!!(t=t||{}).insideConnector,i=t.idPrefix||"",s=t.getSelectedParameter;if(!u.isInputOutputSupported(e,n))return[];function l(e,t){return s(e,t)}e=[];e.push(h.validationAwareTextField({id:i+"parameterName",label:o("Name"),modelProperty:"name",getProperty:function(e,t){return(s(e,t)||{}).name},setProperty:function(e,t,n){n=s(e,n);return d.updateBusinessObject(e,n,t)},validate:function(e,t,n){var i={};return s(e,n)&&((t=t.name)?p.containsSpace(t)&&(i.name=o("Name must not contain spaces")):i.name=o("Parameter must have a name")),i},hidden:function(e,t){return!l(e,t)}}));n=[{value:"text",name:o("Text")},{value:"script",name:o("Script")},{value:"list",name:o("List")},{value:"map",name:o("Map")}];e.push(h.selectBox({id:i+"parameterType",label:o("Type"),selectOptions:n,modelProperty:"parameterType",get:function(e,t){e=s(e,t),t="text";return void 0===e||void 0!==(e=e.get("definition"))&&(e=e.$type,t=a[e].value),{parameterType:t}},set:function(e,t,n){var i=s(e,n),o={value:void 0,definition:void 0},n=function(e){return m(e,i,r)},t=t.parameterType;return"script"===t?o.definition=n("activiti:Script"):"list"===t?o.definition=n("activiti:List"):"map"===t&&(o.definition=n("activiti:Map")),d.updateBusinessObject(e,i,o)},show:l})),e.push(h.textBox({id:i+"parameterType-text",label:o("Value"),modelProperty:"value",get:function(e,t){return{value:(s(e,t)||{}).value}},set:function(e,t,n){n=s(e,n);return t.value=t.value||void 0,d.updateBusinessObject(e,n,t)},show:function(e,t){t=s(e,t);return t&&!t.definition}}));var c=f("scriptFormat","value",!0,o);return e.push({id:i+"parameterType-script",html:'<div data-show="isScript">'+c.template+"</div>",get:function(e,t){t=s(e,t);return t&&g(t.definition)?c.get(e,t.definition):{}},set:function(e,t,n){n=s(e,n),t=c.set(e,t);return d.updateBusinessObject(e,n.definition,t)},validate:function(e,t,n){n=s(e,n);return n&&g(n.definition)?c.validate(e,n.definition):{}},isScript:function(e,t){t=s(e,t);return t&&g(t.definition)},script:c}),e.push(h.table({id:i+"parameterType-list",modelProperties:["value"],labels:[o("Value")],addLabel:o("Add Value"),getElements:function(e,t){t=s(e,t);return t&&v(t.definition)?t.definition.items:[]},updateElement:function(e,t,n,i){i=s(e,n).definition.items[i];return d.updateBusinessObject(e,i,t)},addElement:function(e,t){var n=s(e,t),t=m("activiti:Value",n.definition,r,{value:void 0});return d.addElementsTolist(e,n.definition,"items",[t])},removeElement:function(e,t,n){t=s(e,t);return d.removeElementsFromList(e,t.definition,"items",null,[t.definition.items[n]])},editable:function(e,t,n,i){i=s(e,t).definition.items[i];return!y(i)&&!v(i)&&!g(i)},setControlValue:function(e,t,n,i,o,r){r=s(e,t).definition.items[r];y(r)||v(r)||g(r)?n.value=a[r.$type].label:n.value=o},show:function(e,t){t=s(e,t);return t&&t.definition&&v(t.definition)}})),e.push(h.table({id:i+"parameterType-map",modelProperties:["key","value"],labels:[o("Key"),o("Value")],addLabel:o("Add Entry"),getElements:function(e,t){t=s(e,t);return t&&y(t.definition)?t.definition.entries:[]},updateElement:function(e,t,n,i){i=s(e,n).definition.entries[i];return(y(i.definition)||v(i.definition)||g(i.definition))&&(t={key:t.key}),d.updateBusinessObject(e,i,t)},addElement:function(e,t){var n=s(e,t),t=m("activiti:Entry",n.definition,r,{key:void 0,value:void 0});return d.addElementsTolist(e,n.definition,"entries",[t])},removeElement:function(e,t,n){t=s(e,t);return d.removeElementsFromList(e,t.definition,"entries",null,[t.definition.entries[n]])},editable:function(e,t,n,i){i=s(e,t).definition.entries[i];return"key"===n||!y(i.definition)&&!v(i.definition)&&!g(i.definition)},setControlValue:function(e,t,n,i,o,r){r=s(e,t).definition.entries[r];"key"!==i&&(y(r.definition)||v(r.definition)||g(r.definition))?n.value=a[r.definition.$type].label:n.value=o},show:function(e,t){t=s(e,t);return t&&t.definition&&y(t.definition)}})),e}},{"../../../../Utils":28,"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/InputOutputHelper":73,"./Script":137,"bpmn-js/lib/util/ModelUtil":419}],131:[function(e,t,n){"use strict";var r=e("../../../../factory/EntryFactory"),a=e("../../../../helper/CmdHelper");t.exports=function(e,t,n,i){var o=n.getBusinessObject;return[r.textField({id:"jobPriority",label:i("Job Priority"),modelProperty:"jobPriority",get:function(e,t){return{jobPriority:o(e).get("activiti:jobPriority")}},set:function(e,t){var n=o(e);return a.updateBusinessObject(e,n,{"activiti:jobPriority":t.jobPriority||void 0})}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61}],132:[function(e,t,n){"use strict";var o=e("bpmn-js/lib/util/ModelUtil").is,r=e("../../../../factory/EntryFactory"),c=e("../../../../helper/AsyncCapableHelper"),u=e("../../../../helper/ElementHelper"),a=e("../../../../helper/EventDefinitionHelper"),d=e("../../../../helper/CmdHelper");function p(e){return c.getFailedJobRetryTimeCycle(e)}t.exports=function(e,s,t,n){var l=t.getBusinessObject,i=t.idPrefix||"",t=t.labelPrefix||"";return[r.textField({id:i+"retryTimeCycle",label:t+n("Retry Time Cycle"),modelProperty:"cycle",get:function(e,t){e=p(l(e));return{cycle:e&&e.get("body")}},set:function(e,t,n){var i=t.cycle,o=l(e);if(""===i||void 0===i)return c.removeFailedJobRetryTimeCycle(o,e);var r=p(o);if(r)return d.updateBusinessObject(e,r,{body:i});var a=[],t=o.get("extensionElements");return t||(t=u.createElement("bpmn:ExtensionElements",{values:[]},o,s),a.push(d.updateBusinessObject(e,o,{extensionElements:t}))),o=t,r=u.createElement("activiti:FailedJobRetryTimeCycle",{body:i},o,s),a.push(d.addAndRemoveElementsFromList(e,t,"values","extensionElements",[r],[])),a},hidden:function(e){var t=l(e);return(!t||!c.isAsyncBefore(t))&&(!o(e,"bpmn:Event")||!a.getTimerEventDefinition(e))}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/AsyncCapableHelper":56,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/EventDefinitionHelper":67,"bpmn-js/lib/util/ModelUtil":419}],133:[function(e,t,n){"use strict";var f=e("bpmn-js/lib/util/ModelUtil").is,m=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,g=e("./ExtensionElements"),v=e("../../../../helper/ExtensionElementsHelper"),y=e("../../../../helper/CmdHelper"),b=e("../../../../helper/ElementHelper"),x=e("../../../../helper/ImplementationTypeHelper");function w(e,t){return e&&v.getExtensionElements(e,t)||[]}var k="activiti:ExecutionListener",E="activiti:TaskListener";t.exports=function(e,a,t,n){var l={class:n("Java Class"),expression:n("Expression"),delegateExpression:n("Delegate Expression"),script:n("Script")},i={getSelectedListener:function(e,t){var n=d&&d.getSelected(e,t)||{idx:-1},i=w(p,k)[n.idx];!i&&h&&(n=h.getSelected(e,t),i=w(p,E)[n.idx]);return i}},o=i.entries=[],r=x.isSequenceFlow(e);function s(s){return function(e,t,n,i,o,r){var a=w(p,s)[r],r=x.getImplementationType(a),a=a.get("event")?a.get("event"):"<empty>";n.text=(a||"*")+" : "+(l[r]||"")}}function c(e,o,r){return function(e,t,n){var i=b.createElement(o,{event:r,class:""},t,a);return y.addElementsTolist(e,t,"values",[i])}}function u(e,o){return function(e,t,n,i){i=w(p,o)[i];if(i)return v.removeEntry(p,e,i)}}var d,p,h;return(f(e,"bpmn:FlowElement")||f(e,"bpmn:Process")||f(e,"bpmn:Participant"))&&(p=m(e),f(e,"bpmn:Participant")&&(e=e.processRef,p=p.get("processRef")),p&&(d=g(e,a,{id:"executionListeners",label:n("Execution Listener"),modelProperty:"name",idGeneration:"false",reference:"processRef",createExtensionElement:c(0,k,r?"take":"start"),removeExtensionElement:u(0,k),getExtensionElements:function(e){return w(p,k)},onSelectionChange:function(e,t,n,i){h&&h.deselect(e,t)},setOptionLabelValue:s(k)}),o.push(d))),f(e,"bpmn:UserTask")&&(p=m(e),h=g(e,a,{id:"taskListeners",label:n("Task Listener"),modelProperty:"name",idGeneration:"false",createExtensionElement:c(0,E,"create"),removeExtensionElement:u(0,E),getExtensionElements:function(e){return w(p,E)},onSelectionChange:function(e,t,n,i){d.deselect(e,t)},setOptionLabelValue:s(E)}),o.push(h)),i}},{"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/ExtensionElementsHelper":69,"../../../../helper/ImplementationTypeHelper":72,"./ExtensionElements":124,"bpmn-js/lib/util/ModelUtil":419}],134:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,o=e("../../../../Utils").escapeHTML,r=e("../../../../factory/EntryFactory"),s=e("../../../../helper/ElementHelper"),l=e("../../../../helper/CmdHelper"),a=e("min-dom").classes;function c(e,t){e=d(e);return e&&e.get(t)}function u(e){return e&&e.get("body")}function d(e){return i(e).loopCharacteristics}function p(e){return u(c(e,"loopCardinality"))}function h(e){return u(c(e,"completionCondition"))}function f(e){return c(e,"activiti:collection")}function m(e){return c(e,"activiti:elementVariable")}function g(e,t,n,i){var o=d(e),r={};if(!n)return r[t]=void 0,l.updateBusinessObject(e,o,r);var a=o.get(t);return a?l.updateBusinessObject(e,a,{body:n}):(r[t]=s.createElement("bpmn:FormalExpression",{body:n},o,i),l.updateBusinessObject(e,o,r))}t.exports=function(e,n,t){var i=[];return i.push({id:"multiInstance-errorMessage",html:'<div data-show="isValid"><span class="bpp-icon-warning"></span> '+o(t("Must provide either loop cardinality or collection"))+"</div>",isValid:function(e,t,n,i){var o,r=!0;return d(e)&&(o=p(e),e=f(e),r=!o&&!e),a(t).toggle("bpp-hidden",!r),a(n).toggle("bpp-error-message",r),r}}),i.push(r.textField({id:"multiInstance-loopCardinality",label:t("Loop Cardinality"),modelProperty:"loopCardinality",get:function(e,t){return{loopCardinality:p(e)}},set:function(e,t){return g(e,"loopCardinality",t.loopCardinality,n)}})),i.push(r.textField({id:"multiInstance-collection",label:t("Collection"),modelProperty:"collection",get:function(e,t){return{collection:f(e)}},set:function(e,t){var n=d(e);return l.updateBusinessObject(e,n,{"activiti:collection":t.collection||void 0})},validate:function(e,t,n){var i=f(e),e=m(e);if(!i&&e)return{collection:"Must provide a value"}}})),i.push(r.textField({id:"multiInstance-elementVariable",label:t("Element Variable"),modelProperty:"elementVariable",get:function(e,t){return{elementVariable:m(e)}},set:function(e,t){var n=d(e);return l.updateBusinessObject(e,n,{"activiti:elementVariable":t.elementVariable||void 0})}})),i.push(r.textField({id:"multiInstance-completionCondition",label:t("Completion Condition"),modelProperty:"completionCondition",get:function(e){return{completionCondition:h(e)}},set:function(e,t){return g(e,"completionCondition",t.completionCondition,n)}})),i}},{"../../../../Utils":28,"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"bpmn-js/lib/util/ModelUtil":419,"min-dom":835}],135:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,u=e("bpmn-js/lib/util/ModelUtil").is,d=e("../../../../factory/EntryFactory"),p=e("../../../../helper/ElementHelper"),h=e("../../../../helper/ExtensionElementsHelper"),f=e("../../../../helper/CmdHelper"),m=e("../../../../Utils"),g=e("lodash/assign"),v=e("lodash/forEach"),o=e("lodash/find");function y(e){e=e&&b(e);return e&&e.values?e.values:[]}function b(e){return x(e)?o(e.values,function(e){return u(e,"activiti:Properties")}):e.properties}function x(e){return u(e,"bpmn:ExtensionElements")}t.exports=function(e,r,t,o){var a=t.getParent,s=t.modelProperties,l=t.createParent,c=i(e);if(c=u(e,"bpmn:Participant")?c.get("processRef"):c)return g(t,{addLabel:o("Add Property"),getElements:function(e,t){return y(a(e,t,c))},addElement:function(e,t){var n=[],i=a(e,t,c);i||"function"!=typeof l||(i=(t=l(e,c)).parent,n.push(t.cmd)),properties||(properties=p.createElement("activiti:Properties",{},i,r),x(i)?n.push(f.addAndRemoveElementsFromList(e,i,"values","extensionElements",[properties],[])):n.push(f.updateBusinessObject(e,i,{properties:properties})));var o={};v(s,function(e){o[e]=void 0}),0<=s.indexOf("id")&&(o.id=m.nextId("Property_"));i=p.createElement("activiti:Property",o,properties,r);return n.push(f.addElementsTolist(e,properties,"values",[i])),n},updateElement:function(e,t,n,i){i=y(a(e,n,c))[i];return v(s,function(e){t[e]=t[e]||void 0}),f.updateBusinessObject(e,i,t)},validate:function(e,t,n,i){if(0<=s.indexOf("id")){i=y(a(e,n,c))[i];if(i){t=m.isIdValid(i,t.id,o);if(t)return{id:t}}}},removeElement:function(t,e,n){var i=[],o=a(t,e,c),r=b(o),e=y(o),n=e[n];return i.push(f.removeElementsFromList(t,r,"values",null,[n])),1===e.length&&(x(o)?v(o.values,function(e){u(e,"activiti:Properties")&&i.push(h.removeEntry(c,t,e))}):i.push(f.updateBusinessObject(t,o,{properties:void 0}))),i}}),d.table(t)}},{"../../../../Utils":28,"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"../../../../helper/ExtensionElementsHelper":69,"bpmn-js/lib/util/ModelUtil":419,"lodash/assign":792,"lodash/find":798,"lodash/forEach":801}],136:[function(e,t,n){"use strict";var s=e("bpmn-js/lib/util/ModelUtil").is,l=e("lodash/assign"),c=e("../../../../factory/EntryFactory"),u=e("../../../../helper/CmdHelper");t.exports=function(e,t,n,i){var r=n.getBusinessObject,o=n.hideResultVariable,n=n.id||"resultVariable",a=c.textField({id:n,label:i("Result Variable"),modelProperty:"resultVariable",get:function(e,t){return{resultVariable:r(e).get("activiti:resultVariable")}},set:function(e,t,n){var i=r(e),o=t.resultVariable||void 0,t={"activiti:resultVariable":o};return s(i,"activiti:DmnCapable")&&!o&&(t=l({"activiti:mapDecisionResult":"resultList"},t)),u.updateBusinessObject(e,i,t)},hidden:function(e,t){if("function"==typeof o)return o.apply(a,arguments)}});return[a]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419,"lodash/assign":792}],137:[function(e,t,n){"use strict";var o=e("min-dom").query,r=e("../../../../Utils").escapeHTML,i=e("../../../../Utils");function a(e){return i.selectedType("select[name=scriptType]",e.parentElement)}t.exports=function(s,l,c,i){return{template:'<div class="bpp-row bpp-textfield"><label for="cam-script-format">'+r(i("Script Format"))+'</label><div class="bpp-field-wrapper"><input id="cam-script-format" type="text" name="scriptFormat" /><button class="clear" data-action="script.clearScriptFormat" data-show="script.canClearScriptFormat"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-type">'+r(i("Script Type"))+'</label><div class="bpp-field-wrapper"><select id="cam-script-type" name="scriptType" data-value><option value="script" selected>'+r(i("Inline Script"))+'</option><option value="scriptResource">'+r(i("External Resource"))+'</option></select></div></div><div class="bpp-row bpp-textfield"><label for="cam-script-resource-val" data-show="script.isScriptResource">'+r(i("Resource"))+'</label><div class="bpp-field-wrapper" data-show="script.isScriptResource"><input id="cam-script-resource-val" type="text" name="scriptResourceValue" /><button class="clear" data-action="script.clearScriptResource" data-show="script.canClearScriptResource"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-val" data-show="script.isScript">'+r(i("Script"))+'</label><div class="bpp-field-wrapper" data-show="script.isScript"><textarea id="cam-script-val" type="text" name="scriptValue"></textarea></div></div>',get:function(e,t){var n={},i=t.get("activiti:resource"),o=t.get(l),t=t.get(s);return void 0!==i?(n.scriptResourceValue=i,n.scriptType="scriptResource"):(n.scriptValue=o,n.scriptType="script"),n.scriptFormat=t,n},set:function(e,t,n){var i=t.scriptFormat,o=t.scriptType,r=t.scriptResourceValue,a=t.scriptValue,t={"activiti:resource":void 0};return t[l]=void 0,t[s]=void 0,c?t[s]=i||"":""!==i&&(t[s]=i),"scriptResource"===o?t["activiti:resource"]=r||"":t[l]=a||"",t},validate:function(e,t){var n={};return"script"!==t.scriptType||t.scriptValue||(n.scriptValue=i("Must provide a value")),"scriptResource"!==t.scriptType||t.scriptResourceValue||(n.scriptResourceValue=i("Must provide a value")),!c||t.scriptFormat&&0!==t.scriptFormat.length||(n.scriptFormat=i("Must provide a value")),n},clearScriptFormat:function(e,t,n,i){return!(o("input[name=scriptFormat]",i).value="")},canClearScriptFormat:function(e,t,n,i){return""!==o("input[name=scriptFormat]",i).value},clearScriptResource:function(e,t,n,i){return!(o("input[name=scriptResourceValue]",i).value="")},canClearScriptResource:function(e,t,n,i){return""!==o("input[name=scriptResourceValue]",i).value},clearScript:function(e,t,n,i){return!(o("textarea[name=scriptValue]",i).value="")},canClearScript:function(e,t,n,i){return""!==o("textarea[name=scriptValue]",i).value},isScriptResource:function(e,t,n,i){return"scriptResource"===a(i)},isScript:function(e,t,n,i){return"script"===a(i)}}}},{"../../../../Utils":28,"min-dom":835}],138:[function(e,t,n){"use strict";var r=e("../../../../factory/EntryFactory"),a=e("../../../../helper/CmdHelper");t.exports=function(e,t,n,i){var o=n.getBusinessObject;return[r.checkbox({id:"isStartableInTasklist",label:i("Startable"),modelProperty:"isStartableInTasklist",get:function(e,t){e=o(e).get("activiti:isStartableInTasklist");return{isStartableInTasklist:e||""}},set:function(e,t){var n=o(e);return a.updateBusinessObject(e,n,{"activiti:isStartableInTasklist":!!t.isStartableInTasklist})}})]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61}],139:[function(e,t,n){"use strict";var i=e("inherits"),o=e("../../PropertiesActivator"),u=e("./parts/ProcessProps"),d=e("./parts/EventProps"),p=e("./parts/LinkProps"),h=e("./parts/DocumentationProps"),f=e("./parts/IdProps"),m=e("./parts/NameProps"),g=e("./parts/ExecutableProps");function r(e,a,s,l,c){o.call(this,e),this.getTabs=function(e){var t,n,i,o,r;return[{id:"general",label:c("General"),groups:(t=e,n=a,i=s,o=l,e={id:"general",label:(r=c)("General"),entries:[]},f(e,t,r),m(e,t,i,n,r),u(e,t,r),g(e,t,r),n={id:"details",label:r("Details"),entries:[]},p(n,t,r),d(n,t,i,o,r),o={id:"documentation",label:r("Documentation"),entries:[]},h(o,t,i,r),[e,n,o])}]}}r.$inject=["eventBus","canvas","bpmnFactory","elementRegistry","translate"],i(r,o),t.exports=r},{"../../PropertiesActivator":27,"./parts/DocumentationProps":141,"./parts/EventProps":142,"./parts/ExecutableProps":143,"./parts/IdProps":144,"./parts/LinkProps":145,"./parts/NameProps":146,"./parts/ProcessProps":147,inherits:623}],140:[function(e,t,n){t.exports={__init__:["propertiesProvider"],propertiesProvider:["type",e("./BpmnPropertiesProvider")]}},{"./BpmnPropertiesProvider":139}],141:[function(e,t,n){"use strict";var l=e("../../../factory/EntryFactory"),c=e("../../../helper/CmdHelper"),e=e("bpmn-js/lib/util/ModelUtil"),u=e.is,d=e.getBusinessObject;t.exports=function(e,t,o,n){function i(n){return function(e){var t=n&&n.get("documentation");return{documentation:t&&0<t.length?t[0].text:""}}}function r(i){return function(e,t){var n=[];return void 0!==t.documentation&&""!==t.documentation&&n.push(o.create("bpmn:Documentation",{text:t.documentation})),c.setList(e,i,"documentation",n)}}var a,s=l.textBox({id:"documentation",label:n("Element Documentation"),modelProperty:"documentation"});s.set=r(d(t)),s.get=i(d(t)),e.entries.push(s),u(t,"bpmn:Participant")&&(a=d(t).processRef)&&((n=l.textBox({id:"process-documentation",label:n("Process Documentation"),modelProperty:"documentation"})).set=r(a),n.get=i(a),e.entries.push(n))}},{"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419}],142:[function(e,t,n){"use strict";var a=e("bpmn-js/lib/util/ModelUtil").is,s=e("bpmn-js/lib/features/modeling/util/ModelingUtil").isAny,l=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,c=e("../../../helper/EventDefinitionHelper"),u=e("lodash/forEach"),d=e("./implementation/MessageEventDefinition"),p=e("./implementation/SignalEventDefinition"),h=e("./implementation/ErrorEventDefinition"),f=e("./implementation/EscalationEventDefinition"),m=e("./implementation/TimerEventDefinition"),g=e("./implementation/CompensateEventDefinition"),v=e("./implementation/ConditionalEventDefinition");t.exports=function(n,i,o,t,r){u(["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"],function(e){var t;a(i,e)&&(t=c.getMessageEventDefinition(i),e=c.getSignalEventDefinition(i),t&&d(n,i,o,t,r),e&&p(n,i,o,e,r))}),a(i,"bpmn:ReceiveTask")&&d(n,i,o,l(i),r);u(["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"],function(e){var t;!a(i,e)||(t=c.getErrorEventDefinition(i))&&(e=a(i,"bpmn:StartEvent")||a(i,"bpmn:BoundaryEvent"),h(n,i,o,t,e,e,r))});u(["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent"],function(e){var t;a(i,e)&&(t=a(i,"bpmn:StartEvent")||a(i,"bpmn:BoundaryEvent"),(e=c.getEscalationEventDefinition(i))&&f(n,i,o,e,t,r))});u(["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"],function(e){!a(i,e)||(e=c.getTimerEventDefinition(i))&&m(n,i,o,e,r)});u(["bpmn:EndEvent","bpmn:IntermediateThrowEvent"],function(e){!a(i,e)||(e=c.getCompensateEventDefinition(i))&&g(n,i,o,e,t,r)});var e;!s(i,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])||(e=c.getConditionalEventDefinition(i))&&v(n,i,o,e,t,r)}},{"../../../helper/EventDefinitionHelper":67,"./implementation/CompensateEventDefinition":148,"./implementation/ConditionalEventDefinition":149,"./implementation/ErrorEventDefinition":151,"./implementation/EscalationEventDefinition":152,"./implementation/MessageEventDefinition":154,"./implementation/SignalEventDefinition":156,"./implementation/TimerEventDefinition":157,"bpmn-js/lib/features/modeling/util/ModelingUtil":390,"bpmn-js/lib/util/ModelUtil":419,"lodash/forEach":801}],143:[function(e,t,n){"use strict";var o=e("bpmn-js/lib/util/ModelUtil").is,r=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,a=e("../../../factory/EntryFactory"),s=e("../../../helper/ParticipantHelper");t.exports=function(e,t,n){var i=r(t);i&&(o(t,"bpmn:Process")||o(t,"bpmn:Participant")&&i.get("processRef"))&&(n=a.checkbox({id:"process-is-executable",label:n("Executable"),modelProperty:"isExecutable"}),o(t,"bpmn:Participant")&&(n.get=function(e){return s.getProcessBusinessObject(e,"isExecutable")},n.set=function(e,t){return s.modifyProcessBusinessObject(e,"isExecutable",t)}),e.entries.push(n))}},{"../../../factory/EntryFactory":37,"../../../helper/ParticipantHelper":75,"bpmn-js/lib/util/ModelUtil":419}],144:[function(e,t,n){"use strict";var r=e("../../../factory/EntryFactory"),a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,s=e("../../../Utils"),l=e("../../../helper/CmdHelper"),c=e("bpmn-js/lib/util/ModelUtil").is;t.exports=function(e,t,n,i,o){i=i&&i.description,t=c(t,"bpmn:Process")?"KEY":"节点ID";e.entries.push(r.validationAwareTextField({id:"id",label:t,description:i&&n(i),modelProperty:"id",getProperty:function(e){return a(e).id},setProperty:function(e,t){return e=e.labelTarget||e,l.updateProperties(e,t)},validate:function(e,t){t=t.id,e=a(e),t=s.isIdValid(e,t,n);return t?{id:t}:{}}}))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419}],145:[function(e,t,n){"use strict";var a=e("bpmn-js/lib/util/ModelUtil").is,s=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,l=e("../../../factory/EntryFactory"),c=e("../../../helper/CmdHelper"),u=e("lodash/forEach");t.exports=function(i,o,r){u(["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"],function(e){var n,t;a(o,e)&&(e=s(e=o),t=null,e.eventDefinitions&&u(e.eventDefinitions,function(e){a(e,"bpmn:LinkEventDefinition")&&(t=e)}),(n=t)&&((e=l.textField({id:"link-event",label:r("Link Name"),modelProperty:"link-name"})).get=function(){return{"link-name":n.get("name")}},e.set=function(e,t){t={name:t["link-name"]};return c.updateBusinessObject(e,n,t)},i.entries.push(e)))})}},{"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419,"lodash/forEach":801}],146:[function(e,t,n){"use strict";var s=e("./implementation/Name"),l=e("../../../helper/CategoryHelper").createCategoryValue,c=e("bpmn-js/lib/util/ModelUtil").is,u=e("bpmn-js/lib/util/ModelUtil").getBusinessObject;t.exports=function(e,t,o,r,n){function i(e,t){var n,i=u(e);return i.categoryValueRef||(n=i,i=r.getRootElement(),i=u(i).$parent,i=l(i,o),n.categoryValueRef=i),{cmd:"element.updateLabel",context:{element:e,newLabel:t.categoryValue}}}var a;c(t,"bpmn:Collaboration")||(c(t,"bpmn:TextAnnotation")?a={modelProperty:"text",label:n("Text")}:c(t,"bpmn:Group")&&(a={modelProperty:"categoryValue",label:n("Category Value"),get:function(e){return{categoryValue:(u(e).categoryValueRef||{}).value}},set:i}),e.entries=e.entries.concat(s(t,a,n)))}},{"../../../helper/CategoryHelper":60,"./implementation/Name":155,"bpmn-js/lib/util/ModelUtil":419}],147:[function(e,t,n){"use strict";var r=e("bpmn-js/lib/util/ModelUtil").is,a=e("../../../factory/EntryFactory"),s=e("../../../helper/ParticipantHelper"),l=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,c=e("./implementation/Name"),u=e("../../../Utils");t.exports=function(e,t,n,i){var o=l(t),i=i&&i.processIdDescription;(r(t,"bpmn:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&r(t,"bpmn:Participant")&&((i=a.validationAwareTextField({id:"process-id",label:n("Process Id"),description:i&&n(i),modelProperty:"processId"})).get=function(e){return{processId:s.getProcessBusinessObject(e,"id").id}},i.set=function(e,t){return s.modifyProcessBusinessObject(e,"id",{id:t.processId})},i.validate=function(e,t){t=t.processId,e=l(e),t=u.isIdValid(e.processRef,t,n);return t?{processId:t}:{}},e.entries.push(i),(t=c(t,{id:"process-name",label:n("Process Name")})[0]).get=function(e){return s.getProcessBusinessObject(e,"name")},t.set=function(e,t){return s.modifyProcessBusinessObject(e,"name",t)},e.entries.push(t))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/ParticipantHelper":75,"./implementation/Name":155,"bpmn-js/lib/util/ModelUtil":419}],148:[function(e,t,n){"use strict";var a=e("../../../../factory/EntryFactory"),s=e("../../../../helper/CmdHelper"),i=e("../../../../helper/EventDefinitionHelper"),o=e("../../../../Utils"),l=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,r=e("bpmn-js/lib/util/ModelUtil").is,c=e("lodash/forEach"),u=e("lodash/find"),d=e("lodash/filter");function p(e,t){return o.filterElementsByType(e.flowElements,t)}function h(e,t){return r(e,"bpmn:SubProcess")&&!e.triggeredByEvent||r(e,"bpmn:CallActivity")||(n=e.id,!!u(t,function(e){var t=i.getCompensateEventDefinition(e),e=e.attachedToRef;return t&&e&&e.id===n}));var n}function f(e){var t=p(e,"bpmn:BoundaryEvent");return d(p(e,"bpmn:Activity"),function(e){return h(e,t)})}function m(e){var t,n=[{value:""}],t=(t=f(e=l(t=e).$parent),t=r(e,"bpmn:SubProcess")&&e.triggeredByEvent&&(e=e.$parent)?t.concat(f(e)):t);return c(t,function(e){var t=e.id,e=(e.name?e.name+" ":"")+"(id="+t+")";n.push({value:t,name:e})}),n}t.exports=function(e,t,n,i,o,r){e.entries.push(a.checkbox({id:"wait-for-completion",label:r("Wait for Completion"),modelProperty:"waitForCompletion",get:function(e,t){return{waitForCompletion:i.waitForCompletion}},set:function(e,t){return t.waitForCompletion=t.waitForCompletion||!1,s.updateBusinessObject(e,i,t)}})),e.entries.push(a.selectBox({id:"activity-ref",label:r("Activity Ref"),selectOptions:m(t),modelProperty:"activityRef",get:function(e,t){var n=i.activityRef;return{activityRef:(n=n&&n.id)||""}},set:function(e,t){t=(t=t.activityRef||void 0)&&l(o.get(t));return s.updateBusinessObject(e,i,{activityRef:t})}}))}},{"../../../../Utils":28,"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/EventDefinitionHelper":67,"bpmn-js/lib/util/ModelUtil":419,"lodash/filter":797,"lodash/find":798,"lodash/forEach":801}],149:[function(e,t,n){"use strict";var l=e("../../../../factory/EntryFactory"),c=e("../../../../helper/CmdHelper"),u=e("bpmn-js/lib/util/ModelUtil").is,d=e("bpmn-js/lib/util/DiUtil").isEventSubProcess;t.exports=function(e,t,n,o,i,r){function a(i){return function(e){var t=o.get("activiti:"+i),n={};return n[i]=t,n}}function s(i){return function(e,t){var n={};return n["activiti:"+i]=t[i]||void 0,c.updateBusinessObject(e,o,n)}}e.entries.push(l.textField({id:"variableName",label:r("Variable Name"),modelProperty:"variableName",get:a("variableName"),set:s("variableName")})),u(t,"bpmn:StartEvent")&&!d(t.parent)||e.entries.push(l.textField({id:"variableEvent",label:r("Variable Event"),description:r("Specify more than one variable change event as a comma separated list."),modelProperty:"variableEvent",get:a("variableEvent"),set:s("variableEvent")}))}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"bpmn-js/lib/util/DiUtil":417,"bpmn-js/lib/util/ModelUtil":419}],150:[function(e,t,n){"use strict";var l=e("../../../../factory/EntryFactory"),c=e("../../../../helper/CmdHelper");t.exports=function(e,r,t,n){var i=n.id||"element-property",o=n.label,a=n.referenceProperty,s=n.modelProperty||"name",n=n.shouldValidate||!1,o=l.textField({id:i,label:o,modelProperty:s,get:function(e,t){var n=r.get(a),i={};return i[s]=n&&n.get(s),i},set:function(e,t,n){var i=r.get(a),o={};return o[s]=t[s]||void 0,c.updateBusinessObject(e,i,o)},hidden:function(e,t){return!r.get(a)}});return n&&(o.validate=function(e,t,n){if(r.get(a)&&!t[s]){t={};return t[s]="Must provide a value",t}}),[o]}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61}],151:[function(e,t,n){"use strict";var c=e("../../../../factory/EntryFactory"),u=e("../../../../helper/CmdHelper"),d=e("./EventDefinitionReference"),p=e("./ElementReferenceProperty");t.exports=function(e,t,n,o,i,r,a){function s(i){return function(e){var t=o.get("activiti:"+i),n={};return n[i]=t,n}}function l(i){return function(e,t){var n={};return n["activiti:"+i]=t[i]||void 0,u.updateBusinessObject(e,o,n)}}e.entries=e.entries.concat(d(t,o,n,{label:a("Error"),elementName:"error",elementType:"bpmn:Error",referenceProperty:"errorRef",newElementIdPrefix:"Error_"})),e.entries=e.entries.concat(p(t,o,n,{id:"error-element-name",label:a("Error Name"),referenceProperty:"errorRef",modelProperty:"name",shouldValidate:!0})),e.entries=e.entries.concat(p(t,o,n,{id:"error-element-code",label:a("Error Code"),referenceProperty:"errorRef",modelProperty:"errorCode"})),i&&e.entries.push(c.textField({id:"errorCodeVariable",label:a("Error Code Variable"),modelProperty:"errorCodeVariable",get:s("errorCodeVariable"),set:l("errorCodeVariable")})),r&&e.entries.push(c.textField({id:"errorMessageVariable",label:a("Error Message Variable"),modelProperty:"errorMessageVariable",get:s("errorMessageVariable"),set:l("errorMessageVariable")}))}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"./ElementReferenceProperty":150,"./EventDefinitionReference":153}],152:[function(e,t,n){"use strict";var a=e("../../../../factory/EntryFactory"),s=e("../../../../helper/CmdHelper"),l=e("./EventDefinitionReference"),c=e("./ElementReferenceProperty");t.exports=function(e,t,n,i,o,r){e.entries=e.entries.concat(l(t,i,n,{label:r("Escalation"),elementName:"escalation",elementType:"bpmn:Escalation",referenceProperty:"escalationRef",newElementIdPrefix:"Escalation_"})),e.entries=e.entries.concat(c(t,i,n,{id:"escalation-element-name",label:r("Escalation Name"),referenceProperty:"escalationRef",modelProperty:"name",shouldValidate:!0})),e.entries=e.entries.concat(c(t,i,n,{id:"escalation-element-code",label:r("Escalation Code"),referenceProperty:"escalationRef",modelProperty:"escalationCode"})),o&&e.entries.push(a.textField({id:"escalationCodeVariable",label:r("Escalation Code Variable"),modelProperty:"escalationCodeVariable",get:function(e){return{escalationCodeVariable:i.get("activiti:escalationCodeVariable")}},set:function(e,t){return s.updateBusinessObject(e,i,{"activiti:escalationCodeVariable":t.escalationCodeVariable||void 0})}}))}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"./ElementReferenceProperty":150,"./EventDefinitionReference":153}],153:[function(e,t,n){"use strict";var d=e("../../../../helper/CmdHelper"),a=e("min-dom").query,p=e("min-dom").domify,h=e("min-dom").attr,f=e("lodash/forEach"),m=e("lodash/find"),g=e("../../../../helper/ElementHelper"),v=e("../../../../Utils"),y=v.escapeHTML,b="select[name=selectedElement]";t.exports=function(e,s,l,t){var n=t.elementName||"",c=t.elementType,u=t.referenceProperty,o=t.newElementIdPrefix||"elem_",i=t.label||"",r=t.description||"",t=[];return t.push({id:"event-definitions-"+n,description:r,html:'<div class="bpp-row bpp-select"><label for="camunda-'+y(n)+'">'+y(i)+'</label><div class="bpp-field-wrapper"><select id="camunda-'+y(n)+'" name="selectedElement" data-value></select><button class="add" id="addElement" data-action="addElement"><span>+</span></button></div></div>',get:function(e,t){v.updateOptionsDropDown(b,s,c,t);t=s.get(u);return{selectedElement:t&&t.id||""}},set:function(e,t){var n=t.selectedElement,i={};if(!n||void 0===n)return i[u]=void 0,d.updateBusinessObject(e,s,i);var o,r,a=[],t=(r=c,o=n,r=v.findRootElementsByType(s,c),m(r,function(e){return e.id===o}));return t||(r=v.getRoot(s),t=g.createElement(c,{name:n},r,l),a.push(d.addAndRemoveElementsFromList(e,r,"rootElements",null,[t]))),i[u]=t,a.push(d.updateBusinessObject(e,s,i)),a},addElement:function(e,t){var n=v.nextId(o),i=p('<option value="'+y(n)+'"> (id='+y(n)+")</option>"),t=a(b,t.parentElement);return t.insertBefore(i,t.firstChild),f(t,function(e){e.value===n?h(e,"selected","selected"):h(e,"selected",null)}),!0}}),t}},{"../../../../Utils":28,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66,"lodash/find":798,"lodash/forEach":801,"min-dom":835}],154:[function(e,t,n){"use strict";var r=e("./EventDefinitionReference"),a=e("./ElementReferenceProperty");t.exports=function(e,t,n,i,o){e.entries=e.entries.concat(r(t,i,n,{label:o("Message"),elementName:"message",elementType:"bpmn:Message",referenceProperty:"messageRef",newElementIdPrefix:"Message_"})),e.entries=e.entries.concat(a(t,i,n,{id:"message-element-name",label:o("Message Name"),referenceProperty:"messageRef",modelProperty:"name",shouldValidate:!0}))}},{"./ElementReferenceProperty":150,"./EventDefinitionReference":153}],155:[function(e,t,n){"use strict";var r=e("../../../../factory/EntryFactory"),a=e("bpmn-js/lib/util/ModelUtil").is;t.exports=function(e,t,n){o=a(e,"bpmn:Process")?"流程名称":"节点名称";var i=(t=t||{}).id||"name",o=t.label||o,e=t.modelProperty||"name";return[r.textBox({id:i,label:o,modelProperty:e,get:t.get,set:t.set})]}},{"../../../../factory/EntryFactory":37,"bpmn-js/lib/util/ModelUtil":419}],156:[function(e,t,n){"use strict";var r=e("./EventDefinitionReference"),a=e("./ElementReferenceProperty");t.exports=function(e,t,n,i,o){e.entries=e.entries.concat(r(t,i,n,{label:o("Signal"),elementName:"signal",elementType:"bpmn:Signal",referenceProperty:"signalRef",newElementIdPrefix:"Signal_"})),e.entries=e.entries.concat(a(t,i,n,{id:"signal-element-name",label:o("Signal Name"),referenceProperty:"signalRef",modelProperty:"name",shouldValidate:!0}))}},{"./ElementReferenceProperty":150,"./EventDefinitionReference":153}],157:[function(e,t,n){"use strict";var s=e("../../../../helper/ElementHelper"),l=e("../../../../helper/CmdHelper"),o=e("../../../../factory/EntryFactory");function c(e){return void 0!==e.get("timeDate")?"timeDate":void 0!==e.get("timeCycle")?"timeCycle":void 0!==e.get("timeDuration")?"timeDuration":void 0}t.exports=function(e,t,r,a,n){var i=[{value:"timeDate",name:n("Date")},{value:"timeDuration",name:n("Duration")},{value:"timeCycle",name:n("Cycle")}];e.entries.push(o.selectBox({id:"timer-event-definition-type",label:n("Timer Definition Type"),selectOptions:i,emptyParameter:!0,modelProperty:"timerDefinitionType",get:function(e,t){return{timerDefinitionType:c(a)||""}},set:function(e,t){var n,i={timeDuration:void 0,timeDate:void 0,timeCycle:void 0},o=t.timerDefinitionType;return t.timerDefinitionType&&((t=c(a))&&(n=a.get(t).get("body")),i[o]=(n=n,s.createElement("bpmn:FormalExpression",{body:n=n||void 0},a,r))),l.updateBusinessObject(e,a,i)}})),e.entries.push(o.textField({id:"timer-event-definition",label:n("Timer Definition"),modelProperty:"timerDefinition",get:function(e,t){var n=c(a),n=n&&a.get(n);return{timerDefinition:n&&n.get("body")}},set:function(e,t){var n=c(a),n=n&&a.get(n);if(n)return l.updateBusinessObject(e,n,{body:t.timerDefinition||void 0})},validate:function(e){var t=c(a),t=t&&a.get(t);if(t&&!t.get("body"))return{timerDefinition:n("Must provide a value")}},hidden:function(e){return!c(a)}}))}},{"../../../../factory/EntryFactory":37,"../../../../helper/CmdHelper":61,"../../../../helper/ElementHelper":66}],158:[function(e,t,n){"use strict";var r=e("../../../factory/EntryFactory"),a=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,s=e("../../../Utils"),l=e("../../../helper/CmdHelper"),c=e("bpmn-js/lib/util/ModelUtil").is;t.exports=function(e,t,n,i,o){i=i&&i.description,t=c(t,"bpmn:Process")?"KEY":"节点ID";e.entries.push(r.inputAndButtonField({id:"id",label:t,description:i&&n(i),modelProperty:"id",getProperty:function(e){return a(e).id},setProperty:function(e,t){return e=e.labelTarget||e,l.updateProperties(e,t)},validate:function(e,t){t=t.id,e=a(e),t=s.isIdValid(e,t,n);return t?{id:t}:{}}}))}},{"../../../Utils":28,"../../../factory/EntryFactory":37,"../../../helper/CmdHelper":61,"bpmn-js/lib/util/ModelUtil":419}],159:[function(e,t,n){t.exports={name:"a1bpm.category for BPMN",uri:"http://a1bpm.category/schema/bpmn/ExtCategory/1.0",prefix:"A1Category",types:[{name:"CategoryDefinitions",extends:["bpmn:Definitions"],properties:[{name:"categoryId",isAttr:!0,type:"String"},{name:"title",isAttr:!0,type:"String"},{name:"typeKey",isAttr:!0,type:"String"},{name:"modelId",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}},{}],160:[function(e,t,n){t.exports={name:"a1bpm.ext for BPMN",uri:"http://www.a1bpm.com/schema/1.0/A1",prefix:"extA1",types:[{name:"VariableDef",superClass:["bpmn:RootElement"],properties:[{name:"uniqueId",isAttr:!0,type:"String"},{name:"varType",isAttr:!0,type:"String"},{name:"varName",isAttr:!0,type:"String"},{name:"varKey",isAttr:!0,type:"String"},{name:"dataType",isAttr:!0,type:"String"},{name:"description",isAttr:!0,type:"String"},{name:"defaultVal",isAttr:!0,type:"String"},{name:"required",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["bpmn:RootElement"],properties:[{name:"subjectRule",isAttr:!0,type:"String"},{name:"description",isAttr:!0,type:"String"},{name:"propNotifyType",isAttr:!0,type:"String"},{name:"parameterUserAssign",isAttr:!0,type:"String"},{name:"propSkipRules",isAttr:!0,type:"String"},{name:"propDateType",isAttr:!0,type:"String"},{name:"dateTypeDay",isAttr:!0,type:"String"},{name:"dateTypeHour",isAttr:!0,type:"String"},{name:"dateTypeMinute",isAttr:!0,type:"String"},{name:"startMethod",isAttr:!0,type:"String"}]},{name:"GlobalForm",superClass:["bpmn:RootElement"],properties:[{name:"formValue",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"},{name:"parentFlowKey",isAttr:!0,type:"String"},{name:"nodeId",isAttr:!0,type:"String"}]},{name:"ExtProperties",superClass:["bpmn:RootElement"],properties:[{name:"child",type:"PropertiesDef",isMany:!0}]},{name:"PropertiesDef",superClass:["extA1:ExtProperties"],properties:[{name:"subjectRule",isAttr:!0,type:"String"},{name:"description",isAttr:!0,type:"String"},{name:"propNotifyType",isAttr:!0,type:"String"},{name:"parameterUserAssign",isAttr:!0,type:"String"},{name:"propSkipRules",isAttr:!0,type:"String"},{name:"propDateType",isAttr:!0,type:"String"},{name:"dateTypeDay",isAttr:!0,type:"String"},{name:"dateTypeHour",isAttr:!0,type:"String"},{name:"dateTypeMinute",isAttr:!0,type:"String"},{name:"uniqueId",isAttr:!0,type:"String"}]},{name:"Buttons",superClass:["bpmn:RootElement"],properties:[{name:"child",type:"Button",isMany:!0}]},{name:"Button",superClass:["extA1:ExtProperties"],properties:[{name:"alias",isAttr:!0,type:"String"},{name:"btnName",isAttr:!0,type:"String"},{name:"cssName",isAttr:!0,type:"String"},{name:"beforeScript",isAttr:!0,type:"String"},{name:"afterScript",isAttr:!0,type:"String"},{name:"groovyScript",isAttr:!0,type:"String"},{name:"urlForm",isAttr:!0,type:"String"},{name:"nodeId",isAttr:!0,type:"String"}]},{name:"UserRules",superClass:["bpmn:RootElement"],properties:[{name:"child",type:"UserRule",isMany:!0}]},{name:"UserRule",superClass:["extA1:UserRules"],properties:[{name:"nodeId",isAttr:!0,type:"String"},{name:"pluginType",isAttr:!0,type:"String"},{name:"pluginVal",isAttr:!0,type:"String"},{name:"logicCal",isAttr:!0,type:"String"},{name:"ruleId",isAttr:!0,type:"String"},{name:"ruleVal",isAttr:!0,type:"String"},{name:"ruleDisplayName",isAttr:!0,type:"String"},{name:"specId",isAttr:!0,type:"String"}]}],associations:[]}},{}],161:[function(e,t,n){t.exports={name:"RESTFUL",uri:"http://www.shareniu.com/RESTFUL/spec/BPMN/20100524/restful",types:[{name:"Global",superClass:["bpmn:RootElement"],properties:[{name:"url",isAttr:!0,type:"String"},{name:"desc",isAttr:!0,type:"String"},{name:"header",isAttr:!0,type:"String"},{name:"invokeMode",isAttr:!0,type:"String"},{name:"callTime",isAttr:!0,type:"String"},{name:"callNodes",isAttr:!0,type:"String"},{name:"scope",isAttr:!0,type:"String"},{name:"callNode",isAttr:!0,type:"String"}]}],associations:[],prefix:"restful"}},{}],162:[function(e,t,n){t.exports={name:"USERASSIGN",uri:"http://www.shareniu.com/NODEUSERS/spec//USERASSIGN",types:[{name:"UserRule",superClass:["bpmn:RootElement"],properties:[{name:"nodeId",isAttr:!0,type:"String"},{name:"pluginType",isAttr:!0,type:"String"},{name:"pluginVal",isAttr:!0,type:"String"},{name:"logicCal",isAttr:!0,type:"String"},{name:"ruleId",isAttr:!0,type:"String"},{name:"ruleVal",isAttr:!0,type:"String"},{name:"ruleDisplayName",isAttr:!0,type:"String"},{name:"specId",isAttr:!0,type:"String"}]},{name:"UserStrategy",superClass:["userassign:UserRule"],properties:[{name:"pluginType",isAttr:!0,type:"String"},{name:"pluginVal",isAttr:!0,type:"String"},{name:"logicCal",isAttr:!0,type:"String"}]}],associations:[],prefix:"userAssign"}},{}],163:[function(e,t,n){t.exports={name:"NODE",uri:"http://www.shareniu.com/NODE/spec//NODE",types:[{name:"UserProperty",superClass:["bpmn:RootElement"],properties:[{name:"nodeId",isAttr:!0,type:"String"},{name:"backNode",isAttr:!0,type:"String"},{name:"backUserMode",isAttr:!0,type:"String"},{name:"dateType",isAttr:!0,type:"String"},{name:"jumpType",isAttr:!0,type:"String"},{name:"nodePropertiesDay",isAttr:!0,type:"String"},{name:"notifyType",isAttr:!0,type:"String"},{name:"postHandler",isAttr:!0,type:"String"},{name:"prevHand",isAttr:!0,type:"String"},{name:"nodePropertiesHour",isAttr:!0,type:"String"},{name:"nodePropertiesMinute",isAttr:!0,type:"String"}]}],associations:[],prefix:"node"}},{}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.restFulForm=function(){}},{}],165:[function(e,t,n){var i,o;i=this,o=function(){var n,o,r,e,t;return n=null,o={dataAttribute:"data-qtip",id:"qtip",visibleClass:"visible"},r=function(e){var t=e.hasAttribute("title"),n=e.hasAttribute(o.dataAttribute),i=e.parentNode;return t&&n?e:i&&"hasAttribute"in i&&"getBoundingClientRect"in i?r(i):void 0},e=function(e){if(r(e.target))return n.classList.remove(o.visibleClass)},t=function(e){var t=r(e.target);if(t)return e.preventDefault(),e=t.getBoundingClientRect(),n.innerHTML=t.getAttribute("title"),t=e.left+(t.offsetWidth-n.offsetWidth)/2,e=e.top-n.offsetHeight-10,n.style.cssText="left: "+t+"px;\ntop: "+e+"px;",n.classList.add(o.visibleClass)},(n=document.createElement("div")).id=o.id,document.body.appendChild(n),document.addEventListener("touchstart",t),document.addEventListener("touchend",e),document.addEventListener("mousedown",t),document.addEventListener("mouseup",e)},"object"==typeof n?t.exports=o():"function"==typeof define&&define.amd?define("qtip",[],o):i.qtip=o()},{}],166:[function(e,t,n){var i,o;i=this,o=function(){var n,o,r,e,t;return n=null,o={dataAttribute:"data-qtip",id:"qtip",visibleClass:"visible"},r=function(e){var t=e.hasAttribute("title"),n=e.hasAttribute(o.dataAttribute),i=e.parentNode;return t&&n?e:i&&"hasAttribute"in i&&"getBoundingClientRect"in i?r(i):void 0},e=function(e){return r(e.target)?n.classList.remove(o.visibleClass):void 0},t=function(e){var t=r(e.target);return t?(e.preventDefault(),e=t.getBoundingClientRect(),n.innerHTML=t.getAttribute("title"),t=e.left+(t.offsetWidth-n.offsetWidth)/2,e=e.top-n.offsetHeight-10,n.style.cssText="left: "+t+"px;\ntop: "+e+"px;",n.classList.add(o.visibleClass)):void 0},(n=document.createElement("div")).id=o.id,document.body.appendChild(n),document.addEventListener("touchstart",t),document.addEventListener("touchend",e),document.addEventListener("mousedown",t),document.addEventListener("mouseup",e)},"object"==typeof n?t.exports=o():"function"==typeof define&&define.amd?define("qtip",[],o):i.qtip=o()},{}],167:[function(e,t,n){!function(e){var t,n,i,o,r,a,s,l='<svg><symbol id="icon-jinlingyingcaiwangtubiao69" viewBox="0 0 1024 1024"><path d="M479.1552 707.2c-10.5984 0-19.2 8.6016-19.2 19.2s8.6016 19.2 19.2 19.2l359.3472 0c10.5984 0 19.2-8.6016 19.2-19.2s-8.6016-19.2-19.2-19.2L479.1552 707.2z"  ></path><path d="M838.5024 809.2672 479.1552 809.2672c-10.5984 0-19.2 8.6016-19.2 19.2s8.6016 19.2 19.2 19.2l359.3472 0c10.5984 0 19.2-8.6016 19.2-19.2S849.1008 809.2672 838.5024 809.2672z"  ></path><path d="M966.4768 249.4208l-185.7792-187.8784c-3.6096-3.6608-8.5248-5.7088-13.6448-5.7088l-20.4544 0L284.3392 55.8336 136.5248 55.8336c-46.6176 0-84.5568 37.9136-84.5568 84.5568l0 743.1936c0 46.6176 37.9136 84.5568 84.5568 84.5568l750.9504 0c46.6176 0 84.5568-37.9136 84.5568-84.5568L972.032 262.9376C972.032 257.8688 970.0352 253.0304 966.4768 249.4208zM727.3984 94.2592l0 357.7344L303.5392 451.9936 303.5392 94.2592 727.3984 94.2592zM933.632 883.6096c0 25.4464-20.7104 46.1568-46.1568 46.1568L136.5248 929.7664c-25.4464 0-46.1568-20.7104-46.1568-46.1568L90.368 140.3904c0-25.4464 20.7104-46.1568 46.1568-46.1568l128.6144 0 0 376.9344c0 10.5984 8.6016 19.2 19.2 19.2l462.2592 0c10.5984 0 19.2-8.6016 19.2-19.2L765.7984 101.0944l167.8336 169.728L933.632 883.6096z"  ></path><path d="M603.6736 394.3936l75.5456 0c10.5984 0 19.2-8.6016 19.2-19.2L698.4192 150.6048c0-10.5984-8.6016-19.2-19.2-19.2l-75.5456 0c-10.5984 0-19.2 8.6016-19.2 19.2l0 224.5888C584.4736 385.792 593.0752 394.3936 603.6736 394.3936zM622.8736 169.8048l37.1456 0 0 186.1888-37.1456 0L622.8736 169.8048z"  ></path></symbol><symbol id="icon-alignmiddle" viewBox="0 0 1024 1024"><path d="M658.285714 731.428571 658.285714 219.428571 804.571429 219.428571 804.571429 731.428571 658.285714 731.428571ZM219.428571 658.285714 219.428571 292.571429 365.714286 292.571429 365.714286 658.285714 219.428571 658.285714ZM438.857143 512 585.142857 512 585.142857 804.571429 877.714286 804.571429 877.714286 512 1024 512 1024 438.857143 877.714286 438.857143 877.714286 146.285714 585.142857 146.285714 585.142857 438.857143 438.857143 438.857143 438.857143 219.428571 146.285714 219.428571 146.285714 438.857143 0 438.857143 0 512 146.285714 512 146.285714 731.428571 438.857143 731.428571 438.857143 512Z"  ></path></symbol><symbol id="icon-ss" viewBox="0 0 1024 1024"><path d="M855.424 0 168.554667 0C75.605333 0 0 75.605333 0 168.554667L0 855.466667C0 948.373333 75.605333 1024 168.554667 1024L855.466667 1024c92.906667 0 168.533333-75.626667 168.533333-168.533333L1024 168.554667C1024 75.605333 948.373333 0 855.424 0zM213.802667 42.730667l596.373333 0c-0.170667 1.066667-0.64 2.048-0.64 3.157333L809.536 340.266667c0 28.778667-23.424 52.224-52.202667 52.224l-490.666667 0c-28.778667 0-52.224-23.424-52.224-52.224L214.442667 45.888C214.442667 44.778667 213.973333 43.797333 213.802667 42.730667zM981.248 855.466667c0 69.376-56.448 125.802667-125.824 125.802667L168.554667 981.269333c-69.376 0-125.824-56.448-125.824-125.802667L42.730667 168.554667c0-69.376 56.448-125.824 125.824-125.824l3.797333 0c-0.170667 1.066667-0.64 2.048-0.64 3.157333l0 294.4c0 52.330667 42.602667 94.954667 94.976 94.954667l490.602667 0c52.373333 0 94.976-42.602667 94.976-94.976L852.266667 45.888c0-1.109333-0.469333-2.090667-0.64-3.157333l3.797333 0c69.376 0 125.824 56.469333 125.824 125.824L981.248 855.466667z"  ></path><path d="M659.157333 312.576c11.84 0 21.376-9.557333 21.376-21.354667l0-147.2c0-11.776-9.536-21.354667-21.376-21.354667-11.797333 0-21.376 9.578667-21.376 21.354667l0 147.2C637.781333 303.018667 647.381333 312.576 659.157333 312.576z"  ></path></symbol><symbol id="icon-xml" viewBox="0 0 1024 1024"><path d="M636.928 575.488H168.96c-11.264 0-21.504 10.24-21.504 23.552v153.6c0 13.312 9.216 23.552 21.504 23.552h467.968c11.264 0 21.504-10.24 21.504-23.552v-153.6c-1.024-12.288-10.24-23.552-21.504-23.552zM331.776 743.424c-4.096 2.048-6.144 3.072-9.216 2.048-2.048-1.024-4.096-2.048-6.144-5.12l-35.84-49.152-34.816 49.152c-4.096 6.144-9.216 7.168-15.36 2.048-3.072-2.048-4.096-4.096-5.12-7.168-1.024-3.072 0-6.144 2.048-9.216l39.936-55.296-34.816-48.128c-1.024-2.048-2.048-5.12-1.024-8.192 1.024-3.072 2.048-5.12 5.12-7.168 3.072-2.048 6.144-3.072 8.192-3.072 2.048 0 5.12 2.048 7.168 5.12l29.696 41.984 27.648-38.912c2.048-3.072 5.12-6.144 8.192-7.168 3.072-1.024 6.144 0 9.216 2.048 3.072 2.048 5.12 4.096 6.144 7.168 0 3.072 0 5.12-2.048 8.192l-34.816 48.128 41.984 58.368c1.024 2.048 2.048 4.096 1.024 6.144-2.048 3.072-4.096 6.144-7.168 8.192z m158.72-2.048c-1.024 1.024-2.048 2.048-4.096 3.072-2.048 1.024-4.096 1.024-7.168 1.024-4.096 0-7.168-1.024-8.192-3.072-1.024-2.048-3.072-5.12-3.072-10.24l-9.216-70.656c-1.024-3.072-1.024-4.096-2.048-4.096s-2.048 1.024-3.072 4.096L432.128 737.28l-3.072 6.144c-1.024 1.024-4.096 2.048-8.192 2.048h-5.12c-1.024 0-3.072-1.024-3.072-2.048l-2.048-2.048c0-1.024-1.024-2.048-1.024-4.096-4.096-12.288-7.168-24.576-11.264-36.864-4.096-12.288-7.168-24.576-11.264-36.864-1.024-3.072-2.048-5.12-3.072-5.12-1.024 0-2.048 2.048-2.048 5.12l-9.216 68.608c-1.024 5.12-2.048 8.192-4.096 10.24-2.048 2.048-5.12 3.072-10.24 3.072-4.096 0-7.168-1.024-8.192-3.072-2.048-2.048-2.048-6.144-1.024-11.264l16.384-110.592c1.024-4.096 2.048-8.192 5.12-10.24 3.072-2.048 6.144-4.096 10.24-4.096s7.168 1.024 10.24 3.072 5.12 6.144 7.168 12.288l22.528 81.92 21.504-81.92c2.048-6.144 4.096-10.24 7.168-12.288 3.072-2.048 6.144-3.072 10.24-3.072s7.168 1.024 10.24 4.096c3.072 2.048 5.12 6.144 6.144 11.264L491.52 731.136v6.144c0 1.024 0 3.072-1.024 4.096z m87.04 0c-2.048 2.048-4.096 2.048-7.168 2.048h-50.176c-4.096 0-7.168-1.024-10.24-4.096-2.048-3.072-4.096-6.144-4.096-10.24v-112.64c0-3.072 1.024-5.12 4.096-7.168 2.048-2.048 5.12-3.072 9.216-3.072s7.168 1.024 9.216 3.072c2.048 2.048 3.072 4.096 3.072 7.168v105.472h37.888c3.072 0 5.12 1.024 7.168 3.072 2.048 2.048 3.072 5.12 3.072 8.192 2.048 3.072 1.024 6.144-2.048 8.192zM661.504 446.464c-3.072-7.168-10.24-14.336-18.432-19.456-7.168-4.096-14.336-7.168-25.6-9.216-9.216-2.048-20.48-4.096-30.72-5.12-10.24-1.024-20.48-1.024-30.72 0l-18.432-21.504c-11.264-14.336-21.504-28.672-28.672-40.96-1.024-1.024-1.024-3.072-2.048-4.096 9.216-27.648 14.336-54.272 16.384-70.656l1.024-6.144c2.048-13.312 3.072-23.552-9.216-29.696-3.072-2.048-5.12-3.072-8.192-4.096-4.096-1.024-7.168-1.024-10.24 0-1.024 0-3.072 0-6.144 1.024-4.096 1.024-9.216 4.096-12.288 9.216-3.072 4.096-5.12 10.24-6.144 19.456-1.024 9.216-1.024 17.408 0 26.624 1.024 9.216 3.072 19.456 6.144 31.744 2.048 8.192 5.12 15.36 8.192 22.528-1.024 4.096-3.072 7.168-4.096 11.264-12.288 32.768-30.72 61.44-43.008 80.896-10.24 4.096-20.48 8.192-28.672 12.288-16.384 8.192-30.72 17.408-40.96 26.624-8.192 7.168-12.288 15.36-14.336 22.528-2.048 7.168-1.024 13.312 2.048 18.432 3.072 5.12 8.192 8.192 14.336 8.192h5.12c9.216-1.024 18.432-6.144 28.672-14.336 13.312-11.264 28.672-28.672 45.056-52.224l3.072-4.096c22.528-8.192 46.08-14.336 69.632-18.432 10.24-2.048 18.432-3.072 25.6-4.096 4.096 5.12 9.216 9.216 13.312 13.312 11.264 11.264 20.48 19.456 30.72 25.6 10.24 7.168 19.456 11.264 26.624 14.336 8.192 2.048 16.384 2.048 24.576 0 11.264-3.072 16.384-10.24 18.432-14.336 3.072-7.168 3.072-17.408-1.024-25.6z m-270.336 50.176c-6.144 5.12-12.288 8.192-17.408 10.24v-2.048c1.024-3.072 2.048-7.168 9.216-13.312 5.12-4.096 15.36-13.312 33.792-22.528-11.264 14.336-19.456 22.528-25.6 27.648zM491.52 269.312c1.024-7.168 2.048-9.216 3.072-10.24 1.024-1.024 2.048-2.048 3.072-2.048h4.096c1.024 1.024 3.072 1.024 4.096 2.048 0 2.048 0 6.144-1.024 9.216l-1.024 6.144c-1.024 10.24-4.096 24.576-7.168 40.96-2.048-9.216-4.096-16.384-4.096-23.552-2.048-8.192-2.048-15.36-1.024-22.528z m26.624 148.48c-16.384 3.072-31.744 6.144-47.104 10.24l-2.048 1.024c10.24-16.384 20.48-36.864 29.696-58.368 7.168 11.264 15.36 22.528 23.552 32.768 3.072 4.096 6.144 8.192 10.24 12.288-5.12 0-9.216 1.024-14.336 2.048z m125.952 46.08c-1.024 2.048-4.096 3.072-6.144 4.096-4.096 1.024-8.192 1.024-12.288 0-5.12-2.048-13.312-5.12-21.504-11.264-9.216-6.144-18.432-13.312-28.672-23.552l-1.024-1.024c4.096 0 7.168 0 10.24 1.024 9.216 1.024 18.432 2.048 27.648 4.096 8.192 2.048 14.336 4.096 19.456 7.168 5.12 3.072 9.216 7.168 11.264 11.264 2.048 3.072 2.048 6.144 1.024 8.192z"  ></path><path d="M872.448 323.584l-39.936-39.936-2.048-2.048-131.072-133.12-2.048-2.048-38.912-39.936c-2.048-2.048-6.144-4.096-9.216-4.096h-327.68c-46.08 0-82.944 37.888-82.944 83.968v372.736h64.512V186.368c0-10.24 8.192-18.432 18.432-18.432h286.72v121.856c0 46.08 36.864 83.968 82.944 83.968h119.808v463.872c0 10.24-8.192 18.432-18.432 18.432h-471.04c-10.24 0-18.432-8.192-18.432-18.432v-46.08h-64.512v46.08c0 46.08 36.864 83.968 82.944 83.968h471.04c46.08 0 82.944-37.888 82.944-83.968V332.8c1.024-3.072-1.024-7.168-3.072-9.216z m-98.304-15.36h-82.944c-10.24 0-18.432-8.192-18.432-18.432v-83.968c0-3.072 2.048-4.096 4.096-2.048l98.304 100.352c3.072 2.048 2.048 4.096-1.024 4.096z"  ></path></symbol><symbol id="icon-xml1" viewBox="0 0 1024 1024"><path d="M624.8 35.3v228.9h228.9z"  ></path><path d="M594.8 294.2V35.3H165.3v947.9h688.4v-689H594.8z m-139.2-219h22v96.5H520v17.2h-64.4V75.2z m-117.5 0h28.7l21.2 84.3h0.5l21.3-84.3h28.8v113.7h-21.9v-71.6l-0.5-0.1-20.5 71.7h-14.8l-20.4-71.1-0.5 0.1v71h-21.9V75.2z m-94.7 0h25.5l15.9 40.2h0.5l16.2-40.2H327l-28.3 56.4 30.1 57.3h-26.6l-16.7-41.1h-0.5l-16.6 41.1h-25.6l29-57.3-28.4-56.4zM807 936.5H212V423.1h595v513.4z"  ></path><path d="M567.8 492.6l-42.1-8.7-80.3 383.2 42.1 8.7zM592.4 540v61.7l77.1 78.1-77.1 78v61.6l137.9-139.6zM420.7 757.8l-77.1-78 77.1-78.1V540L282.9 679.8l137.8 139.6z"  ></path></symbol><symbol id="icon-open" viewBox="0 0 1280 1024"><path d="M1058.112 136.512h-391.936a72.96 72.96 0 0 1-35.2-8.96L432 17.92A146.304 146.304 0 0 0 361.6 0H106.304C47.616 0.064 0.064 45.888 0 102.4v819.2c0.064 56.512 47.616 102.336 106.304 102.4H941.44c58.688-0.064 64.512-30.08 100.544-102.4 132.864-289.856 205.568-449.408 218.048-478.72 18.752-44.096-29.12-98.688-93.696-99.072 0.512-31.872 0.512-71.68 0-119.36 0-56.576-40.448-87.616-108.224-87.936zM964.224 933.12c-19.008 22.592-29.824 22.592-61.504 22.592H106.304a34.816 34.816 0 0 1-35.392-34.112l254.208-512h820.992c39.68 0 53.184 17.92 40.768 53.76l-222.72 469.76zM70.912 341.312V102.4c0-18.88 15.872-34.112 35.392-34.176h255.36c12.288 0 24.384 3.136 35.136 8.96l199.04 109.568c21.44 11.84 45.696 18.048 70.4 18.048h404.864c19.52 0 31.552 9.856 31.552 28.672v107.84H70.912z m188.736 73.6l-191.232 394.816 1.536-394.88h189.696z" fill="#666666" ></path></symbol><symbol id="icon-wenjianjia" viewBox="0 0 1024 1024"><path d="M1017.6 318.4c-6.4-12.8-25.6-19.2-40-19.2H880v-40c0-25.6-25.6-52.8-52.8-52.8H348.8l-65.6-65.6c-6.4-12.8-19.2-19.2-33.6-19.2H52.8C25.6 121.6 0 147.2 0 172.8v702.4C0 902.4 25.6 928 52.8 928h780.8c19.2 0 40-12.8 46.4-40l144-531.2c0-12.8 0-25.6-6.4-38.4zM52.8 166.4H256l65.6 65.6c6.4 6.4 19.2 12.8 40 12.8h472c6.4 0 6.4 6.4 6.4 6.4v46.4H196.8c-19.2 0-40 12.8-46.4 40l-112 406.4V172.8c1.6-6.4 8-6.4 14.4-6.4z m931.2 184l-144 531.2-6.4 6.4H52.8v-6.4l144-531.2 6.4-6.4h774.4l6.4 6.4c0-6.4 0-6.4 0 0z" fill="" ></path></symbol><symbol id="icon-wenjianjia1" viewBox="0 0 1024 1024"><path d="M945.125 337.625c-5.625-11.25-22.5-16.875-33.75-16.875h-84.375V287c0-22.5-22.5-45-45-45H377h-5.625l-56.25-56.25c-5.625-11.25-16.875-16.875-28.125-16.875H118.25c-22.5 0-45 22.5-45 45v601.875c0 22.5 22.5 45 45 45h669.375c16.875 0 33.75-11.25 39.375-33.75l123.75-455.625c0-11.25 0-22.5-5.625-33.75zM118.25 208.25h174.375l56.25 56.25c5.625 5.625 16.875 11.25 33.75 11.25h405c5.625 0 5.625 5.625 5.625 5.625v39.375H242c-16.875 0-33.75 11.25-39.375 33.75L107 703.25V213.875c0-5.625 5.625-5.625 11.25-5.625z m798.75 157.5L793.25 821.375l-5.625 5.625H123.875 118.25v-5.625l123.75-455.625 5.625-5.625h663.75l5.625 5.625c0-5.625 0-5.625 0 0z"  ></path></symbol><symbol id="icon-dakaiwenjianjia" viewBox="0 0 1024 1024"><path d="M806.4 921.6H44.8c-12.8 0-25.6-12.8-25.6-25.6V128c0-12.8 12.8-25.6 25.6-25.6h294.4c6.4 0 19.2 6.4 19.2 12.8l83.2 115.2h371.2c12.8 0 19.2 12.8 19.2 25.6v166.4c0 12.8-6.4 25.6-25.6 25.6s-25.6-12.8-25.6-25.6V281.6H428.8c-6.4 0-19.2-6.4-19.2-12.8L320 153.6H70.4v710.4h736c12.8 0 25.6 12.8 25.6 25.6 0 19.2-6.4 32-25.6 32z"  ></path><path d="M806.4 921.6H44.8c-6.4 0-19.2-6.4-19.2-12.8-6.4-6.4-6.4-19.2 0-25.6l172.8-384c6.4-6.4 12.8-12.8 25.6-12.8h761.6c6.4 0 19.2 6.4 19.2 12.8 6.4 6.4 6.4 19.2 0 25.6l-172.8 384c-6.4 6.4-12.8 12.8-25.6 12.8z m-723.2-51.2h704l147.2-332.8h-704l-147.2 332.8z"  ></path></symbol><symbol id="icon-youduiqi" viewBox="0 0 1024 1024"><path d="M796.444444 170.666667v227.555555H455.111111V170.666667h341.333333m0-56.888889H455.111111c-34.133333 0-56.888889 22.755556-56.888889 56.888889v227.555555c0 34.133333 22.755556 56.888889 56.888889 56.888889h341.333333c34.133333 0 56.888889-22.755556 56.888889-56.888889V170.666667c0-34.133333-22.755556-56.888889-56.888889-56.888889zM796.444444 625.777778v227.555555H113.777778v-227.555555h682.666666m0-56.888889H113.777778c-34.133333 0-56.888889 22.755556-56.888889 56.888889v227.555555c0 34.133333 22.755556 56.888889 56.888889 56.888889h682.666666c34.133333 0 56.888889-22.755556 56.888889-56.888889v-227.555555c0-34.133333-22.755556-56.888889-56.888889-56.888889zM966.428444 0h56.888889l1.365334 1024h-56.888889z"  ></path></symbol><symbol id="icon-juzhongduiqi" viewBox="0 0 1026 1024"><path d="M839.517 837.817H187.881c-25.705 0-46.545 20.84-46.545 46.545v93.091c0 25.705 20.84 46.546 46.545 46.546h651.636c25.704 0 46.546-20.84 46.546-46.546v-93.09c0-25.706-20.842-46.546-46.546-46.546z m0 139.635H187.881v-93.09h651.636v93.09z m139.636-418.907H48.246c-25.705 0-46.546 20.84-46.546 46.545v93.091c0 25.728 20.84 46.546 46.546 46.546h930.908c25.704 0 46.545-20.817 46.545-46.546v-93.09c0-25.706-20.841-46.546-46.546-46.546z m0 139.635H48.246V605.09h930.908v93.091z m0-698.18H48.246C22.54 0 1.7 20.84 1.7 46.546v93.09c0 25.706 20.84 46.546 46.546 46.546h930.908c25.704 0 46.545-20.84 46.545-46.545V46.546C1025.7 20.84 1004.858 0 979.153 0z m0 139.636H48.246v-93.09h930.908v93.09zM839.517 465.453c25.704 0 46.546-20.84 46.546-46.545v-93.091c0-25.705-20.841-46.546-46.546-46.546H187.881c-25.705 0-46.545 20.84-46.545 46.546v93.09c0 25.706 20.84 46.546 46.545 46.546h651.636zM187.881 325.818h651.636v93.09H187.881v-93.09z" fill="#333333" ></path></symbol><symbol id="icon-wenjianjia2" viewBox="0 0 1024 1024"><path d="M998.6816 435.2a59.8784 59.8784 0 0 0-60.7488-58.88H238.3616A59.8272 59.8272 0 0 0 177.664 435.2L71.2192 921.984h760.32a59.9296 59.9296 0 0 0 60.8512-58.88zM131.9424 390.9888L25.6 863.0016V161.536a59.9296 59.9296 0 0 1 60.8-58.88h304.1536a59.9552 59.9552 0 0 1 60.8 58.88V215.04h364.928a59.9552 59.9552 0 0 1 60.8 58.88v57.9328H192.7936a59.9808 59.9808 0 0 0-60.8512 59.136z"  ></path></symbol><symbol id="icon-json" viewBox="0 0 1024 1024"><path d="M213.333333 192h264.533334l140.8 140.8V768c0 34.133333-29.866667 64-64 64H213.333333c-34.133333 0-64-29.866667-64-64V256c0-34.133333 29.866667-64 64-64z" fill="#FFFFFF" ></path><path d="M554.666667 853.333333H213.333333c-46.933333 0-85.333333-38.4-85.333333-85.333333V256c0-46.933333 38.4-85.333333 85.333333-85.333333h273.066667L640 324.266667V768c0 46.933333-38.4 85.333333-85.333333 85.333333zM213.333333 213.333333c-12.8 0-21.333333 4.266667-29.866666 12.8-8.533333 8.533333-12.8 17.066667-12.8 29.866667v512c0 25.6 17.066667 42.666667 42.666666 42.666667h341.333334c25.6 0 42.666667-17.066667 42.666666-42.666667V341.333333l-128-128H213.333333z" fill="#979797" ></path><path d="M597.333333 341.333333h-128V213.333333l128 128z" fill="#D8D8D8" ></path><path d="M256 384h640v256H256z" fill="#2ACFAE" ></path><path d="M388.266667 443.733333v102.4c0 17.066667-4.266667 29.866667-8.533334 38.4-12.8 12.8-25.6 17.066667-42.666666 17.066667-12.8 0-25.6-4.266667-34.133334-12.8-8.533333-8.533333-12.8-21.333333-12.8-34.133333v-8.533334h21.333334v4.266667c0 17.066667 8.533333 25.6 25.6 25.6 8.533333 0 17.066667-4.266667 21.333333-8.533333 4.266667-4.266667 4.266667-12.8 4.266667-25.6v-98.133334h25.6zM512 452.266667c8.533333 8.533333 17.066667 21.333333 17.066667 38.4h-21.333334c-4.266667-8.533333-8.533333-17.066667-12.8-21.333334-4.266667-4.266667-12.8-8.533333-25.6-8.533333-8.533333 0-17.066667 0-21.333333 4.266667-8.533333 4.266667-12.8 8.533333-12.8 17.066666s4.266667 12.8 12.8 17.066667c4.266667 0 12.8 4.266667 25.6 8.533333 21.333333 8.533333 34.133333 12.8 38.4 17.066667 17.066667 8.533333 21.333333 17.066667 21.333333 29.866667 0 12.8-4.266667 25.6-17.066666 34.133333-8.533333 8.533333-25.6 12.8-42.666667 12.8s-34.133333-4.266667-42.666667-12.8c-12.8-8.533333-21.333333-21.333333-21.333333-42.666667h21.333333c0 12.8 4.266667 21.333333 12.8 25.6 4.266667 4.266667 17.066667 8.533333 29.866667 8.533334 12.8 0 21.333333-4.266667 25.6-4.266667s12.8-12.8 12.8-17.066667c0-8.533333-4.266667-17.066667-12.8-21.333333-4.266667 0-12.8-4.266667-29.866667-8.533333-21.333333-8.533333-34.133333-12.8-38.4-12.8-12.8-8.533333-17.066667-17.066667-17.066666-29.866667 0-12.8 4.266667-25.6 17.066666-29.866667 8.533333-12.8 21.333333-12.8 38.4-12.8s34.133333 0 42.666667 8.533334zM678.4 465.066667c12.8 12.8 21.333333 34.133333 21.333333 55.466666s-4.266667 42.666667-21.333333 55.466667c-12.8 12.8-29.866667 21.333333-55.466667 21.333333-21.333333 0-42.666667-8.533333-55.466666-21.333333-12.8-12.8-17.066667-29.866667-17.066667-55.466667 0-21.333333 4.266667-42.666667 17.066667-55.466666 12.8-17.066667 29.866667-21.333333 55.466666-21.333334 21.333333 0 42.666667 4.266667 55.466667 21.333334z m-93.866667 12.8c-8.533333 8.533333-12.8 25.6-12.8 42.666666s4.266667 29.866667 12.8 42.666667c8.533333 8.533333 21.333333 17.066667 38.4 17.066667s29.866667-4.266667 38.4-17.066667c8.533333-8.533333 12.8-25.6 12.8-42.666667s-4.266667-34.133333-12.8-42.666666c-8.533333-8.533333-21.333333-17.066667-38.4-17.066667s-29.866667 8.533333-38.4 17.066667zM742.4 443.733333l76.8 115.2v-115.2h21.333333V597.333333h-21.333333l-76.8-115.2V597.333333h-21.333333v-153.6h21.333333z" fill="#FFFFFF" ></path></symbol><symbol id="icon-baocun" viewBox="0 0 1024 1024"><path d="M296.896 774.406h116.672v189.319H296.896V774.406z"  ></path><path d="M940.888 0.038H22.875C10.725 0.038 0.877 9.888 0.877 22.037v794.821L147.983 962.05h67.18V681.556h442.481v280.369h-0.69v0.124h283.934c12.15 0 21.999-9.849 21.999-21.998V22.037c0-12.15-9.848-21.999-21.999-21.999zM809.34 484.168H154.424V52.695H809.34V484.17z"  ></path><path d="M296.896 961.926h116.672v6.4H296.896z"  ></path></symbol><symbol id="icon-align-middle" viewBox="0 0 1024 1024"><path d="M563.2 460.8V256h204.8v204.8h102.4v51.2h-102.4v204.8h-204.8v-204.8H460.8v307.2H256v-307.2H153.6V460.8h102.4V153.6h204.8v307.2h102.4z m-153.6 51.2V204.8H307.2v563.2h102.4v-256z m204.8-204.8v358.4h102.4V307.2h-102.4z"  ></path></symbol><symbol id="icon-yanse" viewBox="0 0 1024 1024"><path d="M874.213089 699.344191s-97.841477 173.446254-97.841477 226.814332c0 53.368078 44.473398 97.841477 97.841477 97.841477 53.368078 0 97.841477-44.473398 97.841476-97.841477 0-53.368078-97.841477-226.814332-97.841476-226.814332zM807.502991 574.818675c17.789359-17.789359 17.789359-48.920738 0-71.157437L420.584424 125.637351 304.953588 10.006515c-13.34202-13.34202-35.578719-13.34202-44.473398 0-13.34202 13.34202-13.34202 35.578719 0 44.473398l115.630836 115.630836-337.997829 333.550489c-17.789359 17.789359-17.789359 48.920738 0 71.157437l351.339848 346.892508c17.789359 17.789359 48.920738 17.789359 71.157438 0l346.892508-346.892508c0 4.44734 0 4.44734 0 0zM131.507334 503.661238l289.07709-284.62975 289.07709 284.62975h-578.15418z"  ></path></symbol><symbol id="icon-dibuduiqi" viewBox="0 0 1024 1024"><path d="M0 992c0-19.2 12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32H32c-19.2 0-32-12.8-32-32zM192 832h192V320H192v512z m-64 0V320c0-38.4 25.6-64 64-64h192c38.4 0 64 25.6 64 64v512c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64z m512 0h192V64h-192v768z m-64 0V64c0-38.4 25.6-64 64-64h192c38.4 0 64 25.6 64 64v768c0 38.4-25.6 64-64 64h-192c-38.4 0-64-25.6-64-64z" fill="#242A2E" ></path></symbol><symbol id="icon-dingbuduiqi" viewBox="0 0 1024 1024"><path d="M1024 32c0 19.2-12.8 32-32 32H32C12.8 64 0 51.2 0 32S12.8 0 32 0h960c19.2 0 32 12.8 32 32zM832 192h-192v512h192V192z m64 0v512c0 38.4-25.6 64-64 64h-192c-38.4 0-64-25.6-64-64V192c0-38.4 25.6-64 64-64h192c38.4 0 64 25.6 64 64zM384 192H192v768h192V192z m64 0v768c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V192c0-38.4 25.6-64 64-64h192c38.4 0 64 25.6 64 64z" fill="#242A2E" ></path></symbol><symbol id="icon-json1" viewBox="0 0 1024 1024"><path d="M921.6 179.2L798.72 51.2c-30.72-30.72-76.8-51.2-117.76-51.2H256c-40.96 0-71.68 35.84-71.68 71.68v353.28h56.32V71.68c0-10.24 5.12-15.36 15.36-15.36h435.2v235.52h225.28v660.48c0 10.24-5.12 15.36-15.36 15.36H256c-10.24 0-15.36-5.12-15.36-15.36v-107.52H184.32v102.4c0 40.96 30.72 76.8 71.68 76.8h645.12c40.96 0 71.68-35.84 71.68-71.68V327.68c-5.12-51.2-20.48-102.4-51.2-148.48z m-174.08 61.44V92.16c5.12 0 5.12 5.12 10.24 10.24l128 128 10.24 10.24h-148.48z"  ></path><path d="M798.72 440.32H92.16c-20.48 0-35.84 20.48-35.84 40.96v276.48c0 20.48 15.36 40.96 40.96 40.96h701.44c20.48 0 40.96-15.36 40.96-40.96V481.28c-5.12-20.48-20.48-40.96-40.96-40.96zM225.28 527.36v133.12c0 15.36-5.12 30.72-15.36 40.96-10.24 10.24-25.6 15.36-40.96 15.36-10.24 0-20.48 0-30.72-5.12v-35.84h20.48c5.12 0 10.24 0 15.36-5.12 5.12 0 5.12-5.12 5.12-5.12v-143.36h46.08z m168.96 40.96l-35.84 10.24c-5.12-15.36-15.36-25.6-30.72-20.48-15.36 0-25.6 5.12-25.6 15.36 0 5.12 0 10.24 5.12 10.24 5.12 5.12 15.36 5.12 20.48 10.24 15.36 0 30.72 5.12 40.96 10.24 10.24 5.12 15.36 10.24 20.48 20.48 5.12 10.24 10.24 20.48 10.24 30.72 0 15.36-5.12 30.72-20.48 46.08-15.36 10.24-35.84 15.36-56.32 15.36-20.48 0-35.84-5.12-51.2-15.36-15.36-5.12-25.6-20.48-25.6-35.84l40.96-10.24c5.12 15.36 20.48 30.72 40.96 25.6 10.24 0 15.36 0 20.48-5.12 5.12-5.12 5.12-10.24 5.12-15.36 0-5.12 0-10.24-5.12-15.36-10.24-5.12-15.36-5.12-25.6-10.24-20.48-5.12-35.84-10.24-51.2-20.48-10.24-5.12-15.36-15.36-15.36-30.72s5.12-30.72 20.48-40.96c15.36-10.24 30.72-20.48 51.2-15.36 25.6-5.12 56.32 10.24 66.56 40.96z m102.4 148.48c-25.6 0-46.08-10.24-56.32-30.72-15.36-20.48-20.48-46.08-20.48-71.68 0-25.6 5.12-51.2 20.48-66.56 15.36-20.48 35.84-30.72 61.44-25.6 25.6 0 46.08 10.24 61.44 30.72 15.36 20.48 20.48 40.96 20.48 66.56s-5.12 51.2-20.48 71.68c-20.48 15.36-40.96 25.6-66.56 25.6z m0-158.72c-20.48 0-30.72 20.48-30.72 61.44s10.24 61.44 35.84 61.44c20.48 0 30.72-20.48 30.72-61.44s-10.24-61.44-35.84-61.44z m250.88-30.72V716.8h-35.84l-71.68-128V716.8h-30.72v-189.44h46.08l66.56 112.64v-107.52l25.6-5.12z"  ></path></symbol><symbol id="icon-zuoduiqi" viewBox="0 0 1024 1024"><path d="M30.151111 0C13.425778 0 0 11.320889 0 25.031111v973.937778c0 13.824 13.653333 25.031111 30.151111 25.031111 16.497778 0 30.094222-11.320889 30.094222-25.031111V25.031111C60.245333 11.264 46.762667 0 30.094222 0z m146.773333 398.222222h549.660445c31.175111 0 56.490667-21.276444 56.490667-47.445333V161.223111c0-26.168889-25.315556-47.445333-56.490667-47.445333H176.924444c-31.232 0-56.490667 21.276444-56.490666 47.445333v189.44c0 26.168889 25.258667 47.559111 56.490666 47.559111z m3.754667-227.555555h542.037333s0.113778 0.113778 0.113778 0v170.552889s-0.113778 0.113778 0 0.113777H180.679111V170.666667c0 0.113778 0 0 0 0z m786.204445 341.333333H177.550222c-31.516444 0-57.059556 21.447111-57.059555 47.900444v302.421334c0 26.453333 25.6 47.900444 57.059555 47.900444h789.333334c31.516444 0 57.116444-21.447111 57.116444-47.900444V559.900444C1024 533.447111 998.286222 512 966.883556 512z m-3.128889 341.333333H180.679111v-284.330666s0.113778-0.113778 0-0.113778H963.697778s0.113778 0.113778 0.113778 0v284.444444c0-0.113778-0.113778 0 0 0z" fill="#000000" ></path></symbol><symbol id="icon-dingbuduiqi1" viewBox="0 0 1024 1024"><path d="M861.364706 210.823529a12.047059 12.047059 0 0 0-12.047059-12.047058h-180.705882a12.047059 12.047059 0 0 0-12.047059 12.047058v481.882353c0 6.625882 5.421176 12.047059 12.047059 12.047059h180.705882a12.047059 12.047059 0 0 0 12.047059-12.047059v-481.882353z m48.188235 0v481.882353a60.235294 60.235294 0 0 1-60.235294 60.235294h-180.705882a60.235294 60.235294 0 0 1-60.235294-60.235294v-481.882353a60.235294 60.235294 0 0 1 60.235294-60.235294h180.705882a60.235294 60.235294 0 0 1 60.235294 60.235294zM1005.929412 54.211765c0-13.251765-10.661647-24.094118-23.491765-24.094118H65.656471C52.766118 30.117647 42.164706 40.96 42.164706 54.211765c0 13.251765 10.661647 24.094118 23.491765 24.094117h916.781176c12.830118 0 23.491765-10.842353 23.491765-24.094117zM439.717647 210.823529a12.047059 12.047059 0 0 0-12.047059-12.047058h-240.941176a12.047059 12.047059 0 0 0-12.047059 12.047058v722.82353c0 6.625882 5.421176 12.047059 12.047059 12.047059h240.941176a12.047059 12.047059 0 0 0 12.047059-12.047059v-722.82353z m48.188235 0v722.82353a60.235294 60.235294 0 0 1-60.235294 60.235294h-240.941176a60.235294 60.235294 0 0 1-60.235294-60.235294v-722.82353a60.235294 60.235294 0 0 1 60.235294-60.235294h240.941176a60.235294 60.235294 0 0 1 60.235294 60.235294z" fill="#4D4D4D" ></path></symbol><symbol id="icon-duiqi1" viewBox="0 0 1024 1024"><path d="M97.032258 67.096774c-12.903226 0-23.741935 10.83871-23.741935 23.741936v842.838709c0 12.903226 10.83871 23.741935 23.741935 23.741936s23.741935-10.83871 23.741936-23.741936V90.83871c-0.516129-12.903226-10.83871-23.741935-23.741936-23.741936zM250.83871 429.419355h473.806451c25.290323 0 45.935484-20.645161 45.935484-45.935484v-201.290323c0-25.290323-20.645161-45.935484-45.935484-45.935483H250.83871c-25.290323 0-45.935484 20.645161-45.935484 45.935483v201.290323c0 25.290323 20.645161 45.935484 45.935484 45.935484z m472.774193-247.225807V381.935484l-471.225806 1.548387-1.032258-199.741936 472.258064-1.548387zM904.774194 594.580645H250.83871c-25.290323 0-45.935484 20.645161-45.935484 45.935484v201.290323c0 25.290323 20.645161 45.935484 45.935484 45.935483h653.935484c25.290323 0 45.935484-20.645161 45.935483-45.935483v-201.290323c0.516129-25.290323-20.129032-45.935484-45.935483-45.935484z m-1.032259 245.67742l-651.354838 1.548387-1.032258-199.741936 652.903226-1.548387v199.741936z"  ></path></symbol><symbol id="icon-shuipingduiqi1" viewBox="0 0 1024 1024"><path d="M413.6 872.8H280c-32 0-57.6-25.6-57.6-57.6V213.6c0-32 25.6-57.6 57.6-57.6h133.6c32 0 57.6 25.6 57.6 56.8v602.4c0 32-25.6 57.6-57.6 57.6zM280 204c-4.8 0-9.6 4.8-9.6 9.6v601.6c0 4.8 4.8 9.6 9.6 9.6h133.6c4.8 0 9.6-4.8 9.6-9.6V212.8c0-4.8-4-8.8-9.6-8.8H280z m468 535.2H614.4c-32 0-57.6-25.6-57.6-57.6V347.2c0-32 25.6-57.6 57.6-57.6h133.6c31.2 0 56 24.8 57.6 56v336c0 32-25.6 57.6-57.6 57.6zM614.4 337.6c-4.8 0-9.6 4.8-9.6 9.6v334.4c0 4.8 4.8 9.6 9.6 9.6h133.6c4.8 0 9.6-4.8 9.6-9.6V347.2c-0.8-5.6-4-9.6-9.6-9.6H614.4z" fill="#999999" ></path><path d="M896 537.6H780.8c-13.6 0-24-10.4-24-24s10.4-24 24-24H896c13.6 0 24 10.4 24 24s-10.4 24-24 24zM576.8 537.6H462.4c-13.6 0-24-10.4-24-24s10.4-24 24-24h114.4c13.6 0 24 10.4 24 24s-10.4 24-24 24zM243.2 537.6H128c-13.6 0-24-10.4-24-24s10.4-24 24-24h115.2c13.6 0 24 10.4 24 24s-10.4 24-24 24z" fill="#999999" ></path></symbol><symbol id="icon-baocun1" viewBox="0 0 1024 1024"><path d="M227.555556 142.222222a85.333333 85.333333 0 0 0-85.333334 85.333334v568.888888a85.333333 85.333333 0 0 0 85.333334 85.333334h568.888888a85.333333 85.333333 0 0 0 85.333334-85.333334V227.555556a85.333333 85.333333 0 0 0-85.333334-85.333334H227.555556z m0-56.888889h568.888888a142.222222 142.222222 0 0 1 142.222223 142.222223v568.888888a142.222222 142.222222 0 0 1-142.222223 142.222223H227.555556a142.222222 142.222222 0 0 1-142.222223-142.222223V227.555556a142.222222 142.222222 0 0 1 142.222223-142.222223z" fill="#333333" ></path><path d="M284.444444 142.222222v256h455.111112V142.222222h56.888888v264.760889c0 26.567111-25.457778 48.128-56.888888 48.128H284.444444c-31.431111 0-56.888889-21.560889-56.888888-48.128V142.222222h56.888888z" fill="#333333" ></path><path d="M625.777778 199.111111m28.444444 0l0 0q28.444444 0 28.444445 28.444445l0 85.333333q0 28.444444-28.444445 28.444444l0 0q-28.444444 0-28.444444-28.444444l0-85.333333q0-28.444444 28.444444-28.444445Z" fill="#333333" ></path></symbol><symbol id="icon-align-bottom-tool" viewBox="0 0 1592 1024"><path d="M212.84738 165.372437v491.627563h764.753987V165.372437h-218.501139v437.002278h-54.625285V329.248292H485.973804v273.126423H431.348519V165.372437H212.84738z m54.625285 54.625285h109.25057v382.376993H267.472665V219.997722z m546.252848 0h109.250569v382.376993h-109.250569V219.997722z m-273.126424 163.875854h109.250569v218.501139H540.599089v-218.501139z"  ></path></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}function c(){a||(a=!0,o())}n=function(){var e,t,n;(t=document.createElement("div")).innerHTML=l,l=null,(n=t.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",e=n,(t=document.body).firstChild?(n=t.firstChild).parentNode.insertBefore(e,n):t.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(n,0):(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),n()},document.addEventListener("DOMContentLoaded",i,!1)):document.attachEvent&&(o=n,r=e.document,a=!1,(s=function(){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(s,50)}c()})(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,c())})}(window)},{}],168:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"ar-AR":{font:{bold:"عريض",italic:"مائل",underline:"تحته خط",clear:"مسح التنسيق",height:"إرتفاع السطر",name:"الخط",strikethrough:"فى وسطه خط",subscript:"مخطوطة",superscript:"حرف فوقي",size:"الحجم"},image:{image:"صورة",insert:"إضافة صورة",resizeFull:"الحجم بالكامل",resizeHalf:"تصغير للنصف",resizeQuarter:"تصغير للربع",floatLeft:"تطيير لليسار",floatRight:"تطيير لليمين",floatNone:"ثابته",shapeRounded:"الشكل: تقريب",shapeCircle:"الشكل: دائرة",shapeThumbnail:"الشكل: صورة مصغرة",shapeNone:"الشكل: لا شيء",dragImageHere:"إدرج الصورة هنا",dropImage:"إسقاط صورة أو نص",selectFromFiles:"حدد ملف",maximumFileSize:"الحد الأقصى لحجم الملف",maximumFileSizeError:"تم تجاوز الحد الأقصى لحجم الملف",url:"رابط الصورة",remove:"حذف الصورة",original:"Original"},video:{video:"فيديو",videoLink:"رابط الفيديو",insert:"إدراج الفيديو",url:"رابط الفيديو",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"رابط رابط",insert:"إدراج",unlink:"حذف الرابط",edit:"تعديل",textToDisplay:"النص",url:"مسار الرابط",openInNewWindow:"فتح في نافذة جديدة"},table:{table:"جدول",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"إدراج خط أفقي"},style:{style:"تنسيق",p:"عادي",blockquote:"إقتباس",pre:"شفيرة",h1:"عنوان رئيسي 1",h2:"عنوان رئيسي 2",h3:"عنوان رئيسي 3",h4:"عنوان رئيسي 4",h5:"عنوان رئيسي 5",h6:"عنوان رئيسي 6"},lists:{unordered:"قائمة مُنقطة",ordered:"قائمة مُرقمة"},options:{help:"مساعدة",fullscreen:"حجم الشاشة بالكامل",codeview:"شفيرة المصدر"},paragraph:{paragraph:"فقرة",outdent:"محاذاة للخارج",indent:"محاذاة للداخل",left:"محاذاة لليسار",center:"توسيط",right:"محاذاة لليمين",justify:"ملئ السطر"},color:{recent:"تم إستخدامه",more:"المزيد",background:"لون الخلفية",foreground:"لون النص",transparent:"شفاف",setTransparent:"بدون خلفية",reset:"إعادة الضبط",resetToDefault:"إعادة الضبط",cpSelect:"اختار"},shortcut:{shortcuts:"إختصارات",close:"غلق",textFormatting:"تنسيق النص",action:"Action",paragraphFormatting:"تنسيق الفقرة",documentStyle:"تنسيق المستند",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"تراجع",redo:"إعادة"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],169:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"bg-BG":{font:{bold:"Удебелен",italic:"Наклонен",underline:"Подчертан",clear:"Изчисти стиловете",height:"Височина",name:"Шрифт",strikethrough:"Задраскано",subscript:"Долен индекс",superscript:"Горен индекс",size:"Размер на шрифта"},image:{image:"Изображение",insert:"Постави картинка",resizeFull:"Цял размер",resizeHalf:"Размер на 50%",resizeQuarter:"Размер на 25%",floatLeft:"Подравни в ляво",floatRight:"Подравни в дясно",floatNone:"Без подравняване",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Пуснете изображението тук",dropImage:"Drop image or Text",selectFromFiles:"Изберете файл",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL адрес на изображение",remove:"Премахни изображение",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Връзка",insert:"Добави връзка",unlink:"Премахни връзка",edit:"Промени",textToDisplay:"Текст за показване",url:"URL адрес",openInNewWindow:"Отвори в нов прозорец"},table:{table:"Таблица",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Добави хоризонтална линия"},style:{style:"Стил",p:"Нормален",blockquote:"Цитат",pre:"Код",h1:"Заглавие 1",h2:"Заглавие 2",h3:"Заглавие 3",h4:"Заглавие 4",h5:"Заглавие 5",h6:"Заглавие 6"},lists:{unordered:"Символен списък",ordered:"Цифров списък"},options:{help:"Помощ",fullscreen:"На цял екран",codeview:"Преглед на код"},paragraph:{paragraph:"Параграф",outdent:"Намаляване на отстъпа",indent:"Абзац",left:"Подравняване в ляво",center:"Център",right:"Подравняване в дясно",justify:"Разтягане по ширина"},color:{recent:"Последния избран цвят",more:"Още цветове",background:"Цвят на фона",foreground:"Цвят на шрифта",transparent:"Прозрачен",setTransparent:"Направете прозрачен",reset:"Възстанови",resetToDefault:"Възстанови оригиналните",cpSelect:"Изберете"},shortcut:{shortcuts:"Клавишни комбинации",close:"Затвори",textFormatting:"Форматиране на текста",action:"Действие",paragraphFormatting:"Форматиране на параграф",documentStyle:"Стил на документа",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Назад",redo:"Напред"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],170:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"ca-ES":{font:{bold:"Negreta",italic:"Cursiva",underline:"Subratllat",clear:"Treure estil de lletra",height:"Alçada de línia",name:"Font",strikethrough:"Ratllat",subscript:"Subíndex",superscript:"Superíndex",size:"Mida de lletra"},image:{image:"Imatge",insert:"Inserir imatge",resizeFull:"Redimensionar a mida completa",resizeHalf:"Redimensionar a la meitat",resizeQuarter:"Redimensionar a un quart",floatLeft:"Alinear a l'esquerra",floatRight:"Alinear a la dreta",floatNone:"No alinear",shapeRounded:"Forma: Arrodonit",shapeCircle:"Forma: Cercle",shapeThumbnail:"Forma: Marc",shapeNone:"Forma: Cap",dragImageHere:"Arrossegueu una imatge o text aquí",dropImage:"Deixa anar aquí una imatge o un text",selectFromFiles:"Seleccioneu des dels arxius",maximumFileSize:"Mida màxima de l'arxiu",maximumFileSizeError:"La mida màxima de l'arxiu s'ha superat.",url:"URL de la imatge",remove:"Eliminar imatge",original:"Original"},video:{video:"Vídeo",videoLink:"Enllaç del vídeo",insert:"Inserir vídeo",url:"URL del vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Enllaç",insert:"Inserir enllaç",unlink:"Treure enllaç",edit:"Editar",textToDisplay:"Text per mostrar",url:"Cap a quina URL porta l'enllaç?",openInNewWindow:"Obrir en una finestra nova"},table:{table:"Taula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserir línia horitzontal"},style:{style:"Estil",p:"p",blockquote:"Cita",pre:"Codi",h1:"Títol 1",h2:"Títol 2",h3:"Títol 3",h4:"Títol 4",h5:"Títol 5",h6:"Títol 6"},lists:{unordered:"Llista desendreçada",ordered:"Llista endreçada"},options:{help:"Ajut",fullscreen:"Pantalla sencera",codeview:"Veure codi font"},paragraph:{paragraph:"Paràgraf",outdent:"Menys tabulació",indent:"Més tabulació",left:"Alinear a l'esquerra",center:"Alinear al mig",right:"Alinear a la dreta",justify:"Justificar"},color:{recent:"Últim color",more:"Més colors",background:"Color de fons",foreground:"Color de lletra",transparent:"Transparent",setTransparent:"Establir transparent",reset:"Restablir",resetToDefault:"Restablir per defecte"},shortcut:{shortcuts:"Dreceres de teclat",close:"Tancar",textFormatting:"Format de text",action:"Acció",paragraphFormatting:"Format de paràgraf",documentStyle:"Estil del document",extraKeys:"Tecles adicionals"},help:{insertParagraph:"Inserir paràgraf",undo:"Desfer l'última acció",redo:"Refer l'última acció",tab:"Tabular",untab:"Eliminar tabulació",bold:"Establir estil negreta",italic:"Establir estil cursiva",underline:"Establir estil subratllat",strikethrough:"Establir estil ratllat",removeFormat:"Netejar estil",justifyLeft:"Alinear a l'esquerra",justifyCenter:"Alinear al centre",justifyRight:"Alinear a la dreta",justifyFull:"Justificar",insertUnorderedList:"Inserir llista desendreçada",insertOrderedList:"Inserir llista endreçada",outdent:"Reduïr tabulació del paràgraf",indent:"Augmentar tabulació del paràgraf",formatPara:"Canviar l'estil del bloc com a un paràgraf (etiqueta P)",formatH1:"Canviar l'estil del bloc com a un H1",formatH2:"Canviar l'estil del bloc com a un H2",formatH3:"Canviar l'estil del bloc com a un H3",formatH4:"Canviar l'estil del bloc com a un H4",formatH5:"Canviar l'estil del bloc com a un H5",formatH6:"Canviar l'estil del bloc com a un H6",insertHorizontalRule:"Inserir una línia horitzontal","linkDialog.show":"Mostrar panel d'enllaços"},history:{undo:"Desfer",redo:"Refer"},specialChar:{specialChar:"CARÀCTERS ESPECIALS",select:"Selecciona caràcters especials"}}})},{}],171:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"cs-CZ":{font:{bold:"Tučné",italic:"Kurzíva",underline:"Podtržené",clear:"Odstranit styl písma",height:"Výška řádku",strikethrough:"Přeškrtnuté",size:"Velikost písma"},image:{image:"Obrázek",insert:"Vložit obrázek",resizeFull:"Původní velikost",resizeHalf:"Poloviční velikost",resizeQuarter:"Čtvrteční velikost",floatLeft:"Umístit doleva",floatRight:"Umístit doprava",floatNone:"Neobtékat textem",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Přetáhnout sem obrázek",dropImage:"Drop image or Text",selectFromFiles:"Vybrat soubor",url:"URL obrázku",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Odkaz videa",insert:"Vložit video",url:"URL videa?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion nebo Youku)"},link:{link:"Odkaz",insert:"Vytvořit odkaz",unlink:"Zrušit odkaz",edit:"Upravit",textToDisplay:"Zobrazovaný text",url:"Na jaké URL má tento odkaz vést?",openInNewWindow:"Otevřít v novém okně"},table:{table:"Tabulka",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Vložit vodorovnou čáru"},style:{style:"Styl",p:"Normální",blockquote:"Citace",pre:"Kód",h1:"Nadpis 1",h2:"Nadpis 2",h3:"Nadpis 3",h4:"Nadpis 4",h5:"Nadpis 5",h6:"Nadpis 6"},lists:{unordered:"Odrážkový seznam",ordered:"Číselný seznam"},options:{help:"Nápověda",fullscreen:"Celá obrazovka",codeview:"HTML kód"},paragraph:{paragraph:"Odstavec",outdent:"Zvětšit odsazení",indent:"Zmenšit odsazení",left:"Zarovnat doleva",center:"Zarovnat na střed",right:"Zarovnat doprava",justify:"Zarovnat oboustranně"},color:{recent:"Aktuální barva",more:"Další barvy",background:"Barva pozadí",foreground:"Barva písma",transparent:"Průhlednost",setTransparent:"Nastavit průhlednost",reset:"Obnovit",resetToDefault:"Obnovit výchozí",cpSelect:"Vybrat"},shortcut:{shortcuts:"Klávesové zkratky",close:"Zavřít",textFormatting:"Formátování textu",action:"Akce",paragraphFormatting:"Formátování odstavce",documentStyle:"Styl dokumentu"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Krok vzad",redo:"Krok vpřed"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],172:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"da-DK":{font:{bold:"Fed",italic:"Kursiv",underline:"Understreget",clear:"Fjern formatering",height:"Højde",name:"Skrifttype",strikethrough:"Gennemstreget",subscript:"Sænket skrift",superscript:"Hævet skrift",size:"Skriftstørrelse"},image:{image:"Billede",insert:"Indsæt billede",resizeFull:"Original størrelse",resizeHalf:"Halv størrelse",resizeQuarter:"Kvart størrelse",floatLeft:"Venstrestillet",floatRight:"Højrestillet",floatNone:"Fjern formatering",shapeRounded:"Form: Runde kanter",shapeCircle:"Form: Cirkel",shapeThumbnail:"Form: Miniature",shapeNone:"Form: Ingen",dragImageHere:"Træk billede hertil",dropImage:"Slip billede",selectFromFiles:"Vælg billed-fil",maximumFileSize:"Maks fil størrelse",maximumFileSizeError:"Filen er større end maks tilladte fil størrelse!",url:"Billede URL",remove:"Fjern billede",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Indsæt Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion eller Youku)"},link:{link:"Link",insert:"Indsæt link",unlink:"Fjern link",edit:"Rediger",textToDisplay:"Visningstekst",url:"Hvor skal linket pege hen?",openInNewWindow:"Åbn i nyt vindue"},table:{table:"Tabel",addRowAbove:"Tilføj række over",addRowBelow:"Tilføj række under",addColLeft:"Tilføj venstre kolonne",addColRight:"Tilføj højre kolonne",delRow:"Slet række",delCol:"Slet kolonne",delTable:"Slet tabel"},hr:{insert:"Indsæt horisontal linje"},style:{style:"Stil",p:"p",blockquote:"Citat",pre:"Kode",h1:"Overskrift 1",h2:"Overskrift 2",h3:"Overskrift 3",h4:"Overskrift 4",h5:"Overskrift 5",h6:"Overskrift 6"},lists:{unordered:"Punktopstillet liste",ordered:"Nummereret liste"},options:{help:"Hjælp",fullscreen:"Fuld skærm",codeview:"HTML-Visning"},paragraph:{paragraph:"Afsnit",outdent:"Formindsk indryk",indent:"Forøg indryk",left:"Venstrestillet",center:"Centreret",right:"Højrestillet",justify:"Blokjuster"},color:{recent:"Nyligt valgt farve",more:"Flere farver",background:"Baggrund",foreground:"Forgrund",transparent:"Transparent",setTransparent:"Sæt transparent",reset:"Nulstil",resetToDefault:"Gendan standardindstillinger"},shortcut:{shortcuts:"Genveje",close:"Luk",textFormatting:"Tekstformatering",action:"Handling",paragraphFormatting:"Afsnitsformatering",documentStyle:"Dokumentstil",extraKeys:"Extra keys"},help:{insertParagraph:"Indsæt paragraf",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Vis Link Dialog"},history:{undo:"Fortryd",redo:"Annuller fortryd"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Vælg special karakterer"}}})},{}],173:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"de-DE":{font:{bold:"Fett",italic:"Kursiv",underline:"Unterstreichen",clear:"Zurücksetzen",height:"Zeilenhöhe",name:"Schriftart",strikethrough:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",size:"Schriftgröße"},image:{image:"Bild",insert:"Bild einfügen",resizeFull:"Originalgröße",resizeHalf:"1/2 Größe",resizeQuarter:"1/4 Größe",floatLeft:"Linksbündig",floatRight:"Rechtsbündig",floatNone:"Kein Textfluss",shapeRounded:"Abgerundeter Rahmen",shapeCircle:"Kreisförmiger Rahmen",shapeThumbnail:"Rahmenvorschau",shapeNone:"Kein Rahmen",dragImageHere:"Bild hierher ziehen",dropImage:"Bild oder Text nehmen",selectFromFiles:"Datei auswählen",maximumFileSize:"Maximale Dateigröße",maximumFileSizeError:"Maximale Dateigröße überschritten",url:"Bild URL",remove:"Bild entfernen",original:"Original"},video:{video:"Video",videoLink:"Videolink",insert:"Video einfügen",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion oder Youku)"},link:{link:"Link",insert:"Link einfügen",unlink:"Link entfernen",edit:"Bearbeiten",textToDisplay:"Anzeigetext",url:"Link URL",openInNewWindow:"In neuem Fenster öffnen"},table:{table:"Tabelle",addRowAbove:"+ Zeile oberhalb",addRowBelow:"+ Zeile unterhalb",addColLeft:"+ Spalte links",addColRight:"+ Spalte rechts",delRow:"Reihe löschen",delCol:"Spalte löschen",delTable:"Tabelle löschen"},hr:{insert:"Horizontale Linie einfügen"},style:{style:"Stil",normal:"Normal",p:"Normal",blockquote:"Zitat",pre:"Quellcode",h1:"Überschrift 1",h2:"Überschrift 2",h3:"Überschrift 3",h4:"Überschrift 4",h5:"Überschrift 5",h6:"Überschrift 6"},lists:{unordered:"Unnummerierte Liste",ordered:"Nummerierte Liste"},options:{help:"Hilfe",fullscreen:"Vollbild",codeview:"Quellcode anzeigen"},paragraph:{paragraph:"Absatz",outdent:"Einzug verkleinern",indent:"Einzug vergrößern",left:"Links ausrichten",center:"Zentriert ausrichten",right:"Rechts ausrichten",justify:"Blocksatz"},color:{recent:"Letzte Farbe",more:"Weitere Farben",background:"Hintergrundfarbe",foreground:"Schriftfarbe",transparent:"Transparenz",setTransparent:"Transparenz setzen",reset:"Zurücksetzen",resetToDefault:"Auf Standard zurücksetzen"},shortcut:{shortcuts:"Tastenkürzel",close:"Schließen",textFormatting:"Textformatierung",action:"Aktion",paragraphFormatting:"Absatzformatierung",documentStyle:"Dokumentenstil",extraKeys:"Weitere Tasten"},help:{insertParagraph:"Absatz einfügen",undo:"Letzte Anweisung rückgängig",redo:"Letzte Anweisung wiederholen",tab:"Einzug hinzufügen",untab:"Einzug entfernen",bold:"Schrift Fett",italic:"Schrift Kursiv",underline:"Unterstreichen",strikethrough:"Durchstreichen",removeFormat:"Entfernt Format",justifyLeft:"Linksbündig",justifyCenter:"Mittig",justifyRight:"Rechtsbündig",justifyFull:"Blocksatz",insertUnorderedList:"Unnummerierte Liste",insertOrderedList:"Nummerierte Liste",outdent:"Aktuellen Absatz ausrücken",indent:"Aktuellen Absatz einrücken",formatPara:"Formatiert aktuellen Block als Absatz (P-Tag)",formatH1:"Formatiert aktuellen Block als H1",formatH2:"Formatiert aktuellen Block als H2",formatH3:"Formatiert aktuellen Block als H3",formatH4:"Formatiert aktuellen Block als H4",formatH5:"Formatiert aktuellen Block als H5",formatH6:"Formatiert aktuellen Block als H6",insertHorizontalRule:"Fügt eine horizontale Linie ein","linkDialog.show":"Zeigt Linkdialog"},history:{undo:"Rückgängig",redo:"Wiederholen"},specialChar:{specialChar:"Sonderzeichen",select:"Zeichen auswählen"}}})},{}],174:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"el-GR":{font:{bold:"Έντονα",italic:"Πλάγια",underline:"Υπογραμμισμένα",clear:"Καθαρισμός",height:"Ύψος",name:"Γραμματοσειρά",strikethrough:"Διεγραμμένα",subscript:"Δείκτης",superscript:"Εκθέτης",size:"Μέγεθος"},image:{image:"εικόνα",insert:"Εισαγωγή",resizeFull:"Πλήρες μέγεθος",resizeHalf:"Μισό μέγεθος",resizeQuarter:"1/4 μέγεθος",floatLeft:"Μετατόπιση αριστερά",floatRight:"Μετατόπιση δεξιά",floatNone:"Χωρίς μετατόπιση",shapeRounded:"Σχήμα: Στρογγυλεμένο",shapeCircle:"Σχήμα: Κύκλος",shapeThumbnail:"Σχήμα: Thumbnail",shapeNone:"Σχήμα: Κανένα",dragImageHere:"Σύρτε την εικόνα εδώ",dropImage:"Αφήστε την εικόνα",selectFromFiles:"Επιλογή από αρχεία",maximumFileSize:"Μέγιστο μέγεθος αρχείου",maximumFileSizeError:"Το μέγεθος είναι μεγαλύτερο από το μέγιστο επιτρεπτό.",url:"URL",remove:"Αφαίρεση",original:"Original"},link:{link:"Σύνδεσμος",insert:"Εισαγωγή συνδέσμου",unlink:"Αφαίρεση συνδέσμου",edit:"Επεξεργασία συνδέσμου",textToDisplay:"Κείμενο συνδέσμου",url:"URL",openInNewWindow:"Άνοιγμα σε νέο παράθυρο"},video:{video:"Βίντεο",videoLink:"Σύνδεσμος Βίντεο",insert:"Εισαγωγή",url:"URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Πίνακας",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Εισαγωγή οριζόντιας γραμμής"},style:{style:"Στυλ",normal:"Κανονικό",blockquote:"Παράθεση",pre:"Ως έχει",h1:"Κεφαλίδα 1",h2:"συνδέσμου 2",h3:"συνδέσμου 3",h4:"συνδέσμου 4",h5:"συνδέσμου 5",h6:"συνδέσμου 6"},lists:{unordered:"Αταξινόμητη λίστα",ordered:"Ταξινομημένη λίστα"},options:{help:"Βοήθεια",fullscreen:"Πλήρης οθόνη",codeview:"Προβολή HTML"},paragraph:{paragraph:"Παράγραφος",outdent:"Μείωση εσοχής",indent:"Άυξηση εσοχής",left:"Αριστερή στοίχιση",center:"Στοίχιση στο κέντρο",right:"Δεξιά στοίχιση",justify:"Πλήρης στοίχιση"},color:{recent:"Πρόσφατη επιλογή",more:"Περισσότερα",background:"Υπόβαθρο",foreground:"Μπροστά",transparent:"Διαφανές",setTransparent:"Επιλογή διαφάνειας",reset:"Επαναφορά",resetToDefault:"Επαναφορά στις προκαθορισμένες τιμές"},shortcut:{shortcuts:"Συντομεύσεις",close:"Κλείσιμο",textFormatting:"Διαμόρφωση κειμένου",action:"Ενέργεια",paragraphFormatting:"Διαμόρφωση παραγράφου",documentStyle:"Στυλ κειμένου",extraKeys:"Επιπλέον συντομεύσεις"},help:{insertParagraph:"Εισαγωγή παραγράφου",undo:"Αναιρεί την προηγούμενη εντολή",redo:"Επαναλαμβάνει την προηγούμενη εντολή",tab:"Εσοχή",untab:"Αναίρεση εσοχής",bold:"Ορισμός έντονου στυλ",italic:"Ορισμός πλάγιου στυλ",underline:"Ορισμός υπογεγραμμένου στυλ",strikethrough:"Ορισμός διεγραμμένου στυλ",removeFormat:"Αφαίρεση στυλ",justifyLeft:"Ορισμός αριστερής στοίχισης",justifyCenter:"Ορισμός κεντρικής στοίχισης",justifyRight:"Ορισμός δεξιάς στοίχισης",justifyFull:"Ορισμός πλήρους στοίχισης",insertUnorderedList:"Ορισμός μη-ταξινομημένης λίστας",insertOrderedList:"Ορισμός ταξινομημένης λίστας",outdent:"Προεξοχή παραγράφου",indent:"Εσοχή παραγράφου",formatPara:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε παράγραφο (P tag)",formatH1:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H1",formatH2:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H2",formatH3:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H3",formatH4:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H4",formatH5:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H5",formatH6:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H6",insertHorizontalRule:"Εισαγωγή οριζόντιας γραμμής","linkDialog.show":"Εμφάνιση διαλόγου συνδέσμου"},history:{undo:"Αναίρεση",redo:"Επαναληψη"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Επιλέξτε ειδικούς χαρακτήρες"}}})},{}],175:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"es-ES":{font:{bold:"Negrita",italic:"Cursiva",underline:"Subrayado",clear:"Quitar estilo de fuente",height:"Altura de línea",name:"Fuente",strikethrough:"Tachado",superscript:"Superíndice",subscript:"Subíndice",size:"Tamaño de la fuente"},image:{image:"Imagen",insert:"Insertar imagen",resizeFull:"Redimensionar a tamaño completo",resizeHalf:"Redimensionar a la mitad",resizeQuarter:"Redimensionar a un cuarto",floatLeft:"Flotar a la izquierda",floatRight:"Flotar a la derecha",floatNone:"No flotar",shapeRounded:"Forma: Redondeado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Marco",shapeNone:"Forma: Ninguna",dragImageHere:"Arrastrar una imagen o texto aquí",dropImage:"Suelta la imagen o texto",selectFromFiles:"Seleccionar desde los archivos",maximumFileSize:"Tamaño máximo del archivo",maximumFileSizeError:"Has superado el tamaño máximo del archivo.",url:"URL de la imagen",remove:"Eliminar imagen",original:"Original"},video:{video:"Vídeo",videoLink:"Link del vídeo",insert:"Insertar vídeo",url:"¿URL del vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Link",insert:"Insertar link",unlink:"Quitar link",edit:"Editar",textToDisplay:"Texto para mostrar",url:"¿Hacia que URL lleva el link?",openInNewWindow:"Abrir en una nueva ventana"},table:{table:"Tabla",addRowAbove:"Añadir fila encima",addRowBelow:"Añadir fila debajo",addColLeft:"Añadir columna izquierda",addColRight:"Añadir columna derecha",delRow:"Borrar fila",delCol:"Eliminar columna",delTable:"Eliminar tabla"},hr:{insert:"Insertar línea horizontal"},style:{style:"Estilo",p:"p",blockquote:"Cita",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista desordenada",ordered:"Lista ordenada"},options:{help:"Ayuda",fullscreen:"Pantalla completa",codeview:"Ver código fuente"},paragraph:{paragraph:"Párrafo",outdent:"Menos tabulación",indent:"Más tabulación",left:"Alinear a la izquierda",center:"Alinear al centro",right:"Alinear a la derecha",justify:"Justificar"},color:{recent:"Último color",more:"Más colores",background:"Color de fondo",foreground:"Color de fuente",transparent:"Transparente",setTransparent:"Establecer transparente",reset:"Restaurar",resetToDefault:"Restaurar por defecto"},shortcut:{shortcuts:"Atajos de teclado",close:"Cerrar",textFormatting:"Formato de texto",action:"Acción",paragraphFormatting:"Formato de párrafo",documentStyle:"Estilo de documento",extraKeys:"Teclas adicionales"},help:{insertParagraph:"Insertar párrafo",undo:"Deshacer última acción",redo:"Rehacer última acción",tab:"Tabular",untab:"Eliminar tabulación",bold:"Establecer estilo negrita",italic:"Establecer estilo cursiva",underline:"Establecer estilo subrayado",strikethrough:"Establecer estilo tachado",removeFormat:"Limpiar estilo",justifyLeft:"Alinear a la izquierda",justifyCenter:"Alinear al centro",justifyRight:"Alinear a la derecha",justifyFull:"Justificar",insertUnorderedList:"Insertar lista desordenada",insertOrderedList:"Insertar lista ordenada",outdent:"Reducir tabulación del párrafo",indent:"Aumentar tabulación del párrafo",formatPara:"Cambiar estilo del bloque a párrafo (etiqueta P)",formatH1:"Cambiar estilo del bloque a H1",formatH2:"Cambiar estilo del bloque a H2",formatH3:"Cambiar estilo del bloque a H3",formatH4:"Cambiar estilo del bloque a H4",formatH5:"Cambiar estilo del bloque a H5",formatH6:"Cambiar estilo del bloque a H6",insertHorizontalRule:"Insertar línea horizontal","linkDialog.show":"Mostrar panel enlaces"},history:{undo:"Deshacer",redo:"Rehacer"},specialChar:{specialChar:"CARACTERES ESPECIALES",select:"Selecciona Caracteres especiales"}}})},{}],176:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"es-EU":{font:{bold:"Lodia",italic:"Etzana",underline:"Azpimarratua",clear:"Estiloa kendu",height:"Lerro altuera",name:"Tipografia",strikethrough:"Marratua",subscript:"Subscript",superscript:"Superscript",size:"Letren neurria"},image:{image:"Irudia",insert:"Irudi bat txertatu",resizeFull:"Jatorrizko neurrira aldatu",resizeHalf:"Neurria erdira aldatu",resizeQuarter:"Neurria laurdenera aldatu",floatLeft:"Ezkerrean kokatu",floatRight:"Eskuinean kokatu",floatNone:"Kokapenik ez ezarri",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Irudi bat ezarri hemen",dropImage:"Drop image or Text",selectFromFiles:"Zure fitxategi bat aukeratu",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Irudiaren URL helbidea",remove:"Remove Image",original:"Original"},video:{video:"Bideoa",videoLink:"Bideorako esteka",insert:"Bideo berri bat txertatu",url:"Bideoaren URL helbidea",providers:"(YouTube, Vimeo, Vine, Instagram edo DailyMotion)"},link:{link:"Esteka",insert:"Esteka bat txertatu",unlink:"Esteka ezabatu",edit:"Editatu",textToDisplay:"Estekaren testua",url:"Estekaren URL helbidea",openInNewWindow:"Leiho berri batean ireki"},table:{table:"Taula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Marra horizontala txertatu"},style:{style:"Estiloa",p:"p",blockquote:"Aipamena",pre:"Kodea",h1:"1. izenburua",h2:"2. izenburua",h3:"3. izenburua",h4:"4. izenburua",h5:"5. izenburua",h6:"6. izenburua"},lists:{unordered:"Ordenatu gabeko zerrenda",ordered:"Zerrenda ordenatua"},options:{help:"Laguntza",fullscreen:"Pantaila osoa",codeview:"Kodea ikusi"},paragraph:{paragraph:"Paragrafoa",outdent:"Koska txikiagoa",indent:"Koska handiagoa",left:"Ezkerrean kokatu",center:"Erdian kokatu",right:"Eskuinean kokatu",justify:"Justifikatu"},color:{recent:"Azken kolorea",more:"Kolore gehiago",background:"Atzeko planoa",foreground:"Aurreko planoa",transparent:"Gardena",setTransparent:"Gardendu",reset:"Lehengoratu",resetToDefault:"Berrezarri lehenetsia"},shortcut:{shortcuts:"Lasterbideak",close:"Itxi",textFormatting:"Testuaren formatua",action:"Ekintza",paragraphFormatting:"Paragrafoaren formatua",documentStyle:"Dokumentuaren estiloa"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Desegin",redo:"Berregin"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],177:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"fa-IR":{font:{bold:"درشت",italic:"خمیده",underline:"میان خط",clear:"پاک کردن فرمت فونت",height:"فاصله ی خطی",name:"اسم فونت",strikethrough:"Strike",subscript:"Subscript",superscript:"Superscript",size:"اندازه ی فونت"},image:{image:"تصویر",insert:"وارد کردن تصویر",resizeFull:"تغییر به اندازه ی کامل",resizeHalf:"تغییر به اندازه نصف",resizeQuarter:"تغییر به اندازه یک چهارم",floatLeft:"چسباندن به چپ",floatRight:"چسباندن به راست",floatNone:"بدون چسبندگی",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"یک تصویر را اینجا بکشید",dropImage:"Drop image or Text",selectFromFiles:"فایل ها را انتخاب کنید",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"آدرس تصویر",remove:"حذف تصویر",original:"Original"},video:{video:"ویدیو",videoLink:"لینک ویدیو",insert:"افزودن ویدیو",url:"آدرس ویدیو ؟",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion یا Youku)"},link:{link:"لینک",insert:"اضافه کردن لینک",unlink:"حذف لینک",edit:"ویرایش",textToDisplay:"متن جهت نمایش",url:"این لینک به چه آدرسی باید برود ؟",openInNewWindow:"در یک پنجره ی جدید باز شود"},table:{table:"جدول",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"افزودن خط افقی"},style:{style:"استیل",p:"نرمال",blockquote:"نقل قول",pre:"کد",h1:"سرتیتر 1",h2:"سرتیتر 2",h3:"سرتیتر 3",h4:"سرتیتر 4",h5:"سرتیتر 5",h6:"سرتیتر 6"},lists:{unordered:"لیست غیر ترتیبی",ordered:"لیست ترتیبی"},options:{help:"راهنما",fullscreen:"نمایش تمام صفحه",codeview:"مشاهده ی کد"},paragraph:{paragraph:"پاراگراف",outdent:"کاهش تو رفتگی",indent:"افزایش تو رفتگی",left:"چپ چین",center:"میان چین",right:"راست چین",justify:"بلوک چین"},color:{recent:"رنگ اخیرا استفاده شده",more:"رنگ بیشتر",background:"رنگ پس زمینه",foreground:"رنگ متن",transparent:"بی رنگ",setTransparent:"تنظیم حالت بی رنگ",reset:"بازنشاندن",resetToDefault:"حالت پیش فرض"},shortcut:{shortcuts:"دکمه های میان بر",close:"بستن",textFormatting:"فرمت متن",action:"عملیات",paragraphFormatting:"فرمت پاراگراف",documentStyle:"استیل سند",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"واچیدن",redo:"بازچیدن"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],178:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"fi-FI":{font:{bold:"Lihavointi",italic:"Kursivointi",underline:"Alleviivaus",clear:"Tyhjennä muotoilu",height:"Riviväli",name:"Kirjasintyyppi",strikethrough:"Yliviivaus",subscript:"Alaindeksi",superscript:"Yläindeksi",size:"Kirjasinkoko"},image:{image:"Kuva",insert:"Lisää kuva",resizeFull:"Koko leveys",resizeHalf:"Puolikas leveys",resizeQuarter:"Neljäsosa leveys",floatLeft:"Sijoita vasemmalle",floatRight:"Sijoita oikealle",floatNone:"Ei sijoitusta",shapeRounded:"Muoto: Pyöristetty",shapeCircle:"Muoto: Ympyrä",shapeThumbnail:"Muoto: Esikatselukuva",shapeNone:"Muoto: Ei muotoilua",dragImageHere:"Vedä kuva tähän",selectFromFiles:"Valitse tiedostoista",maximumFileSize:"Maksimi tiedosto koko",maximumFileSizeError:"Maksimi tiedosto koko ylitetty.",url:"URL-osoitteen mukaan",remove:"Poista kuva",original:"Alkuperäinen"},video:{video:"Video",videoLink:"Linkki videoon",insert:"Lisää video",url:"Videon URL-osoite",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion tai Youku)"},link:{link:"Linkki",insert:"Lisää linkki",unlink:"Poista linkki",edit:"Muokkaa",textToDisplay:"Näytettävä teksti",url:"Linkin URL-osoite",openInNewWindow:"Avaa uudessa ikkunassa"},table:{table:"Taulukko",addRowAbove:"Lisää rivi yläpuolelle",addRowBelow:"Lisää rivi alapuolelle",addColLeft:"Lisää sarake vasemmalle puolelle",addColRight:"Lisää sarake oikealle puolelle",delRow:"Poista rivi",delCol:"Poista sarake",delTable:"Poista taulukko"},hr:{insert:"Lisää vaakaviiva"},style:{style:"Tyyli",p:"Normaali",blockquote:"Lainaus",pre:"Koodi",h1:"Otsikko 1",h2:"Otsikko 2",h3:"Otsikko 3",h4:"Otsikko 4",h5:"Otsikko 5",h6:"Otsikko 6"},lists:{unordered:"Luettelomerkitty luettelo",ordered:"Numeroitu luettelo"},options:{help:"Ohje",fullscreen:"Koko näyttö",codeview:"HTML-näkymä"},paragraph:{paragraph:"Kappale",outdent:"Pienennä sisennystä",indent:"Suurenna sisennystä",left:"Tasaa vasemmalle",center:"Keskitä",right:"Tasaa oikealle",justify:"Tasaa"},color:{recent:"Viimeisin väri",more:"Lisää värejä",background:"Korostusväri",foreground:"Tekstin väri",transparent:"Läpinäkyvä",setTransparent:"Aseta läpinäkyväksi",reset:"Palauta",resetToDefault:"Palauta oletusarvoksi"},shortcut:{shortcuts:"Pikanäppäimet",close:"Sulje",textFormatting:"Tekstin muotoilu",action:"Toiminto",paragraphFormatting:"Kappaleen muotoilu",documentStyle:"Asiakirjan tyyli"},help:{insertParagraph:"Lisää kappale",undo:"Kumoa viimeisin komento",redo:"Tee uudelleen kumottu komento",tab:"Sarkain",untab:"Sarkainmerkin poisto",bold:"Lihavointi",italic:"Kursiivi",underline:"Alleviivaus",strikethrough:"Yliviivaus",removeFormat:"Poista asetetut tyylit",justifyLeft:"Tasaa vasemmalle",justifyCenter:"Keskitä",justifyRight:"Tasaa oikealle",justifyFull:"Tasaa",insertUnorderedList:"Luettelomerkillä varustettu lista",insertOrderedList:"Numeroitu lista",outdent:"Pienennä sisennystä",indent:"Suurenna sisennystä",formatPara:"Muuta kappaleen formaatti p",formatH1:"Muuta kappaleen formaatti H1",formatH2:"Muuta kappaleen formaatti H2",formatH3:"Muuta kappaleen formaatti H3",formatH4:"Muuta kappaleen formaatti H4",formatH5:"Muuta kappaleen formaatti H5",formatH6:"Muuta kappaleen formaatti H6",insertHorizontalRule:"Lisää vaakaviiva","linkDialog.show":"Lisää linkki"},history:{undo:"Kumoa",redo:"Toista"},specialChar:{specialChar:"ERIKOISMERKIT",select:"Valitse erikoismerkit"}}})},{}],179:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"fr-FR":{font:{bold:"Gras",italic:"Italique",underline:"Souligné",clear:"Effacer la mise en forme",height:"Interligne",name:"Famille de police",strikethrough:"Barré",superscript:"Exposant",subscript:"Indice",size:"Taille de police"},image:{image:"Image",insert:"Insérer une image",resizeFull:"Taille originale",resizeHalf:"Redimensionner à 50 %",resizeQuarter:"Redimensionner à 25 %",floatLeft:"Aligné à gauche",floatRight:"Aligné à droite",floatNone:"Pas d'alignement",shapeRounded:"Forme: Rectangle arrondi",shapeCircle:"Forme: Cercle",shapeThumbnail:"Forme: Vignette",shapeNone:"Forme: Aucune",dragImageHere:"Faites glisser une image ou un texte dans ce cadre",dropImage:"Lachez l'image ou le texte",selectFromFiles:"Choisir un fichier",maximumFileSize:"Taille de fichier maximale",maximumFileSizeError:"Taille maximale du fichier dépassée",url:"URL de l'image",remove:"Supprimer l'image",original:"Original"},video:{video:"Vidéo",videoLink:"Lien vidéo",insert:"Insérer une vidéo",url:"URL de la vidéo",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Lien",insert:"Insérer un lien",unlink:"Supprimer un lien",edit:"Modifier",textToDisplay:"Texte à afficher",url:"URL du lien",openInNewWindow:"Ouvrir dans une nouvelle fenêtre"},table:{table:"Tableau",addRowAbove:"Ajouter une ligne au-dessus",addRowBelow:"Ajouter une ligne en dessous",addColLeft:"Ajouter une colonne à gauche",addColRight:"Ajouter une colonne à droite",delRow:"Supprimer la ligne",delCol:"Supprimer la colonne",delTable:"Supprimer le tableau"},hr:{insert:"Insérer une ligne horizontale"},style:{style:"Style",p:"Normal",blockquote:"Citation",pre:"Code source",h1:"Titre 1",h2:"Titre 2",h3:"Titre 3",h4:"Titre 4",h5:"Titre 5",h6:"Titre 6"},lists:{unordered:"Liste à puces",ordered:"Liste numérotée"},options:{help:"Aide",fullscreen:"Plein écran",codeview:"Afficher le code HTML"},paragraph:{paragraph:"Paragraphe",outdent:"Diminuer le retrait",indent:"Augmenter le retrait",left:"Aligner à gauche",center:"Centrer",right:"Aligner à droite",justify:"Justifier"},color:{recent:"Dernière couleur sélectionnée",more:"Plus de couleurs",background:"Couleur de fond",foreground:"Couleur de police",transparent:"Transparent",setTransparent:"Définir la transparence",reset:"Restaurer",resetToDefault:"Restaurer la couleur par défaut"},shortcut:{shortcuts:"Raccourcis",close:"Fermer",textFormatting:"Mise en forme du texte",action:"Action",paragraphFormatting:"Mise en forme des paragraphes",documentStyle:"Style du document",extraKeys:"Touches supplémentaires"},help:{insertParagraph:"Insérer paragraphe",undo:"Défaire la dernière commande",redo:"Refaire la dernière commande",tab:"Tabulation",untab:"Tabulation arrière",bold:"Mettre en caractère gras",italic:"Mettre en italique",underline:"Mettre en souligné",strikethrough:"Mettre en texte barré",removeFormat:"Nettoyer les styles",justifyLeft:"Aligner à gauche",justifyCenter:"Centrer",justifyRight:"Aligner à droite",justifyFull:"Justifier à gauche et à droite",insertUnorderedList:"Basculer liste à puces",insertOrderedList:"Basculer liste ordonnée",outdent:"Diminuer le retrait du paragraphe",indent:"Augmenter le retrait du paragraphe",formatPara:"Changer le paragraphe en cours en normal (P)",formatH1:"Changer le paragraphe en cours en entête H1",formatH2:"Changer le paragraphe en cours en entête H2",formatH3:"Changer le paragraphe en cours en entête H3",formatH4:"Changer le paragraphe en cours en entête H4",formatH5:"Changer le paragraphe en cours en entête H5",formatH6:"Changer le paragraphe en cours en entête H6",insertHorizontalRule:"Insérer séparation horizontale","linkDialog.show":"Afficher fenêtre d'hyperlien"},history:{undo:"Annuler la dernière action",redo:"Restaurer la dernière action annulée"},specialChar:{specialChar:"Caractères spéciaux",select:"Choisir des caractères spéciaux"}}})},{}],180:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"gl-ES":{font:{bold:"Negrita",italic:"Cursiva",underline:"Subliñado",clear:"Quitar estilo de fonte",height:"Altura de liña",name:"Fonte",strikethrough:"Riscado",superscript:"Superíndice",subscript:"Subíndice",size:"Tamaño da fonte"},image:{image:"Imaxe",insert:"Inserir imaxe",resizeFull:"Redimensionar a tamaño completo",resizeHalf:"Redimensionar á metade",resizeQuarter:"Redimensionar a un cuarto",floatLeft:"Flotar á esquerda",floatRight:"Flotar á dereita",floatNone:"Non flotar",shapeRounded:"Forma: Redondeado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Marco",shapeNone:"Forma: Ningunha",dragImageHere:"Arrastrar unha imaxe ou texto aquí",dropImage:"Solta a imaxe ou texto",selectFromFiles:"Seleccionar desde os arquivos",maximumFileSize:"Tamaño máximo do arquivo",maximumFileSizeError:"Superaches o tamaño máximo do arquivo.",url:"URL da imaxe",remove:"Eliminar imaxe",original:"Original"},video:{video:"Vídeo",videoLink:"Ligazón do vídeo",insert:"Insertar vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, o Youku)"},link:{link:"Ligazón",insert:"Inserir Ligazón",unlink:"Quitar Ligazón",edit:"Editar",textToDisplay:"Texto para amosar",url:"Cara a que URL leva a ligazón?",openInNewWindow:"Abrir nunha nova xanela"},table:{table:"Táboa",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserir liña horizontal"},style:{style:"Estilo",p:"Normal",blockquote:"Cita",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista desordenada",ordered:"Lista ordenada"},options:{help:"Axuda",fullscreen:"Pantalla completa",codeview:"Ver código fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menos tabulación",indent:"Máis tabulación",left:"Aliñar á esquerda",center:"Aliñar ao centro",right:"Aliñar á dereita",justify:"Xustificar"},color:{recent:"Última cor",more:"Máis cores",background:"Cor de fondo",foreground:"Cor de fuente",transparent:"Transparente",setTransparent:"Establecer transparente",reset:"Restaurar",resetToDefault:"Restaurar por defecto"},shortcut:{shortcuts:"Atallos de teclado",close:"Pechar",textFormatting:"Formato de texto",action:"Acción",paragraphFormatting:"Formato de parágrafo",documentStyle:"Estilo de documento",extraKeys:"Teclas adicionais"},help:{insertParagraph:"Inserir parágrafo",undo:"Desfacer última acción",redo:"Refacer última acción",tab:"Tabular",untab:"Eliminar tabulación",bold:"Establecer estilo negrita",italic:"Establecer estilo cursiva",underline:"Establecer estilo subliñado",strikethrough:"Establecer estilo riscado",removeFormat:"Limpar estilo",justifyLeft:"Aliñar á esquerda",justifyCenter:"Aliñar ao centro",justifyRight:"Aliñar á dereita",justifyFull:"Xustificar",insertUnorderedList:"Inserir lista desordenada",insertOrderedList:"Inserir lista ordenada",outdent:"Reducir tabulación do parágrafo",indent:"Aumentar tabulación do parágrafo",formatPara:"Mudar estilo do bloque a parágrafo (etiqueta P)",formatH1:"Mudar estilo do bloque a H1",formatH2:"Mudar estilo do bloque a H2",formatH3:"Mudar estilo do bloque a H3",formatH4:"Mudar estilo do bloque a H4",formatH5:"Mudar estilo do bloque a H5",formatH6:"Mudar estilo do bloque a H6",insertHorizontalRule:"Inserir liña horizontal","linkDialog.show":"Amosar panel ligazóns"},history:{undo:"Desfacer",redo:"Refacer"},specialChar:{specialChar:"CARACTERES ESPECIAIS",select:"Selecciona Caracteres especiais"}}})},{}],181:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"he-IL":{font:{bold:"מודגש",italic:"נטוי",underline:"קו תחתון",clear:"נקה עיצוב",height:"גובה",name:"גופן",strikethrough:"קו חוצה",subscript:"כתב תחתי",superscript:"כתב עילי",size:"גודל גופן"},image:{image:"תמונה",insert:"הוסף תמונה",resizeFull:"גודל מלא",resizeHalf:"להקטין לחצי",resizeQuarter:"להקטין לרבע",floatLeft:"יישור לשמאל",floatRight:"יישור לימין",floatNone:"ישר",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"גרור תמונה לכאן",dropImage:"Drop image or Text",selectFromFiles:"בחר מתוך קבצים",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"נתיב לתמונה",remove:"הסר תמונה",original:"Original"},video:{video:"סרטון",videoLink:"קישור לסרטון",insert:"הוסף סרטון",url:"קישור לסרטון",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion או Youku)"},link:{link:"קישור",insert:"הוסף קישור",unlink:"הסר קישור",edit:"ערוך",textToDisplay:"טקסט להציג",url:"קישור",openInNewWindow:"פתח בחלון חדש"},table:{table:"טבלה",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"הוסף קו"},style:{style:"עיצוב",p:"טקסט רגיל",blockquote:"ציטוט",pre:"קוד",h1:"כותרת 1",h2:"כותרת 2",h3:"כותרת 3",h4:"כותרת 4",h5:"כותרת 5",h6:"כותרת 6"},lists:{unordered:"רשימת תבליטים",ordered:"רשימה ממוספרת"},options:{help:"עזרה",fullscreen:"מסך מלא",codeview:"תצוגת קוד"},paragraph:{paragraph:"פסקה",outdent:"הקטן כניסה",indent:"הגדל כניסה",left:"יישור לשמאל",center:"יישור למרכז",right:"יישור לימין",justify:"מיושר"},color:{recent:"צבע טקסט אחרון",more:"עוד צבעים",background:"צבע רקע",foreground:"צבע טקסט",transparent:"שקוף",setTransparent:"קבע כשקוף",reset:"איפוס",resetToDefault:"אפס לברירת מחדל"},shortcut:{shortcuts:"קיצורי מקלדת",close:"סגור",textFormatting:"עיצוב הטקסט",action:"פעולה",paragraphFormatting:"סגנונות פסקה",documentStyle:"עיצוב המסמך",extraKeys:"קיצורים נוספים"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"בטל פעולה",redo:"בצע שוב"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],182:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"hr-HR":{font:{bold:"Podebljano",italic:"Kurziv",underline:"Podvučeno",clear:"Ukloni stilove fonta",height:"Visina linije",name:"Font Family",strikethrough:"Precrtano",subscript:"Subscript",superscript:"Superscript",size:"Veličina fonta"},image:{image:"Slika",insert:"Ubaci sliku",resizeFull:"Puna veličina",resizeHalf:"Umanji na 50%",resizeQuarter:"Umanji na 25%",floatLeft:"Poravnaj lijevo",floatRight:"Poravnaj desno",floatNone:"Bez poravnanja",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Povuci sliku ovdje",dropImage:"Drop image or Text",selectFromFiles:"Izaberi iz datoteke",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Adresa slike",remove:"Ukloni sliku",original:"Original"},video:{video:"Video",videoLink:"Veza na video",insert:"Ubaci video",url:"URL video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ili Youku)"},link:{link:"Veza",insert:"Ubaci vezu",unlink:"Ukloni vezu",edit:"Uredi",textToDisplay:"Tekst za prikaz",url:"Internet adresa",openInNewWindow:"Otvori u novom prozoru"},table:{table:"Tablica",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Ubaci horizontalnu liniju"},style:{style:"Stil",p:"pni",blockquote:"Citat",pre:"Kôd",h1:"Naslov 1",h2:"Naslov 2",h3:"Naslov 3",h4:"Naslov 4",h5:"Naslov 5",h6:"Naslov 6"},lists:{unordered:"Obična lista",ordered:"Numerirana lista"},options:{help:"Pomoć",fullscreen:"Preko cijelog ekrana",codeview:"Izvorni kôd"},paragraph:{paragraph:"Paragraf",outdent:"Smanji uvlačenje",indent:"Povećaj uvlačenje",left:"Poravnaj lijevo",center:"Centrirano",right:"Poravnaj desno",justify:"Poravnaj obostrano"},color:{recent:"Posljednja boja",more:"Više boja",background:"Boja pozadine",foreground:"Boja teksta",transparent:"Prozirna",setTransparent:"Prozirna",reset:"Poništi",resetToDefault:"Podrazumijevana"},shortcut:{shortcuts:"Prečice s tipkovnice",close:"Zatvori",textFormatting:"Formatiranje teksta",action:"Akcija",paragraphFormatting:"Formatiranje paragrafa",documentStyle:"Stil dokumenta",extraKeys:"Dodatne kombinacije"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Poništi",redo:"Ponovi"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],183:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"hu-HU":{font:{bold:"Félkövér",italic:"Dőlt",underline:"Aláhúzott",clear:"Formázás törlése",height:"Sorköz",name:"Betűtípus",strikethrough:"Áthúzott",subscript:"Subscript",superscript:"Superscript",size:"Betűméret"},image:{image:"Kép",insert:"Kép beszúrása",resizeFull:"Átméretezés teljes méretre",resizeHalf:"Átméretezés felére",resizeQuarter:"Átméretezés negyedére",floatLeft:"Igazítás balra",floatRight:"Igazítás jobbra",floatNone:"Igazítás törlése",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Ide húzhat képet vagy szöveget",dropImage:"Engedje el a képet vagy szöveget",selectFromFiles:"Fájlok kiválasztása",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Kép URL címe",remove:"Kép törlése",original:"Original"},video:{video:"Videó",videoLink:"Videó hivatkozás",insert:"Videó beszúrása",url:"Videó URL címe",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion vagy Youku)"},link:{link:"Hivatkozás",insert:"Hivatkozás beszúrása",unlink:"Hivatkozás megszüntetése",edit:"Szerkesztés",textToDisplay:"Megjelenítendő szöveg",url:"Milyen URL címre hivatkozzon?",openInNewWindow:"Megnyitás új ablakban"},table:{table:"Táblázat",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Elválasztó vonal beszúrása"},style:{style:"Stílus",p:"Normál",blockquote:"Idézet",pre:"Kód",h1:"Fejléc 1",h2:"Fejléc 2",h3:"Fejléc 3",h4:"Fejléc 4",h5:"Fejléc 5",h6:"Fejléc 6"},lists:{unordered:"Listajeles lista",ordered:"Számozott lista"},options:{help:"Súgó",fullscreen:"Teljes képernyő",codeview:"Kód nézet"},paragraph:{paragraph:"Bekezdés",outdent:"Behúzás csökkentése",indent:"Behúzás növelése",left:"Igazítás balra",center:"Igazítás középre",right:"Igazítás jobbra",justify:"Sorkizárt"},color:{recent:"Jelenlegi szín",more:"További színek",background:"Háttérszín",foreground:"Betűszín",transparent:"Átlátszó",setTransparent:"Átlászóság beállítása",reset:"Visszaállítás",resetToDefault:"Alaphelyzetbe állítás"},shortcut:{shortcuts:"Gyorsbillentyű",close:"Bezárás",textFormatting:"Szöveg formázása",action:"Művelet",paragraphFormatting:"Bekezdés formázása",documentStyle:"Dokumentumstílus",extraKeys:"Extra keys"},help:{insertParagraph:"Új bekezdés",undo:"Visszavonás",redo:"Újra",tab:"Behúzás növelése",untab:"Behúzás csökkentése",bold:"Félkövérre állítás",italic:"Dőltre állítás",underline:"Aláhúzás",strikethrough:"Áthúzás",removeFormat:"Formázás törlése",justifyLeft:"Balra igazítás",justifyCenter:"Középre igazítás",justifyRight:"Jobbra igazítás",justifyFull:"Sorkizárt",insertUnorderedList:"Számozatlan lista be/ki",insertOrderedList:"Számozott lista be/ki",outdent:"Jelenlegi bekezdés behúzásának megszüntetése",indent:"Jelenlegi bekezdés behúzása",formatPara:"Blokk formázása bekezdésként (P tag)",formatH1:"Blokk formázása, mint Fejléc 1",formatH2:"Blokk formázása, mint Fejléc 2",formatH3:"Blokk formázása, mint Fejléc 3",formatH4:"Blokk formázása, mint Fejléc 4",formatH5:"Blokk formázása, mint Fejléc 5",formatH6:"Blokk formázása, mint Fejléc 6",insertHorizontalRule:"Vízszintes vonal beszúrása","linkDialog.show":"Link párbeszédablak megjelenítése"},history:{undo:"Visszavonás",redo:"Újra"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],184:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"id-ID":{font:{bold:"Tebal",italic:"Miring",underline:"Garis bawah",clear:"Bersihkan gaya",height:"Jarak baris",name:"Jenis Tulisan",strikethrough:"Coret",subscript:"Subscript",superscript:"Superscript",size:"Ukuran font"},image:{image:"Gambar",insert:"Sisipkan gambar",resizeFull:"Ukuran penuh",resizeHalf:"Ukuran 50%",resizeQuarter:"Ukuran 25%",floatLeft:"Rata kiri",floatRight:"Rata kanan",floatNone:"Tanpa perataan",shapeRounded:"Bentuk: Membundar",shapeCircle:"Bentuk: Bundar",shapeThumbnail:"Bentuk: Thumbnail",shapeNone:"Bentuk: Tidak ada",dragImageHere:"Tarik gambar ke area ini",dropImage:"Letakkan gambar atau teks",selectFromFiles:"Pilih gambar dari berkas",maximumFileSize:"Ukuran maksimal berkas",maximumFileSizeError:"Ukuran maksimal berkas terlampaui.",url:"URL gambar",remove:"Hapus Gambar",original:"Original"},video:{video:"Video",videoLink:"Link video",insert:"Sisipkan video",url:"Tautan video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion atau Youku)"},link:{link:"Tautan",insert:"Tambah tautan",unlink:"Hapus tautan",edit:"Edit",textToDisplay:"Tampilan teks",url:"Tautan tujuan",openInNewWindow:"Buka di jendela baru"},table:{table:"Tabel",addRowAbove:"Tambahkan baris ke atas",addRowBelow:"Tambahkan baris ke bawah",addColLeft:"Tambahkan kolom ke kiri",addColRight:"Tambahkan kolom ke kanan",delRow:"Hapus baris",delCol:"Hapus kolom",delTable:"Hapus tabel"},hr:{insert:"Masukkan garis horizontal"},style:{style:"Gaya",p:"p",blockquote:"Kutipan",pre:"Kode",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},lists:{unordered:"Pencacahan",ordered:"Penomoran"},options:{help:"Bantuan",fullscreen:"Layar penuh",codeview:"Kode HTML"},paragraph:{paragraph:"Paragraf",outdent:"Outdent",indent:"Indent",left:"Rata kiri",center:"Rata tengah",right:"Rata kanan",justify:"Rata kanan kiri"},color:{recent:"Warna sekarang",more:"Selengkapnya",background:"Warna latar",foreground:"Warna font",transparent:"Transparan",setTransparent:"Atur transparansi",reset:"Atur ulang",resetToDefault:"Kembalikan kesemula"},shortcut:{shortcuts:"Jalan pintas",close:"Tutup",textFormatting:"Format teks",action:"Aksi",paragraphFormatting:"Format paragraf",documentStyle:"Gaya dokumen",extraKeys:"Shortcut tambahan"},help:{insertParagraph:"Tambahkan paragraf",undo:"Urungkan perintah terakhir",redo:"Kembalikan perintah terakhir",tab:"Tab",untab:"Untab",bold:"Mengaktifkan gaya tebal",italic:"Mengaktifkan gaya italic",underline:"Mengaktifkan gaya underline",strikethrough:"Mengaktifkan gaya strikethrough",removeFormat:"Hapus semua gaya",justifyLeft:"Atur rata kiri",justifyCenter:"Atur rata tengah",justifyRight:"Atur rata kanan",justifyFull:"Atur rata kiri-kanan",insertUnorderedList:"Nyalakan urutan tanpa nomor",insertOrderedList:"Nyalakan urutan bernomor",outdent:"Outdent di paragraf terpilih",indent:"Indent di paragraf terpilih",formatPara:"Ubah format gaya tulisan terpilih menjadi paragraf",formatH1:"Ubah format gaya tulisan terpilih menjadi Heading 1",formatH2:"Ubah format gaya tulisan terpilih menjadi Heading 2",formatH3:"Ubah format gaya tulisan terpilih menjadi Heading 3",formatH4:"Ubah format gaya tulisan terpilih menjadi Heading 4",formatH5:"Ubah format gaya tulisan terpilih menjadi Heading 5",formatH6:"Ubah format gaya tulisan terpilih menjadi Heading 6",insertHorizontalRule:"Masukkan garis horizontal","linkDialog.show":"Tampilkan Link Dialog"},history:{undo:"Kembali",redo:"Ulang"},specialChar:{specialChar:"KARAKTER KHUSUS",select:"Pilih karakter khusus"}}})},{}],185:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"it-IT":{font:{bold:"Testo in grassetto",italic:"Testo in corsivo",underline:"Testo sottolineato",clear:"Elimina la formattazione del testo",height:"Altezza della linea di testo",name:"Famiglia Font",strikethrough:"Testo barrato",subscript:"Subscript",superscript:"Superscript",size:"Dimensione del carattere"},image:{image:"Immagine",insert:"Inserisci Immagine",resizeFull:"Dimensioni originali",resizeHalf:"Ridimensiona al 50%",resizeQuarter:"Ridimensiona al 25%",floatLeft:"Posiziona a sinistra",floatRight:"Posiziona a destra",floatNone:"Nessun posizionamento",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Trascina qui un'immagine",dropImage:"Drop image or Text",selectFromFiles:"Scegli dai Documenti",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL dell'immagine",remove:"Rimuovi immagine",original:"Original"},video:{video:"Video",videoLink:"Collegamento ad un Video",insert:"Inserisci Video",url:"URL del Video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Collegamento",insert:"Inserisci Collegamento",unlink:"Elimina collegamento",edit:"Modifica collegamento",textToDisplay:"Testo del collegamento",url:"URL del collegamento",openInNewWindow:"Apri in una nuova finestra"},table:{table:"Tabella",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserisce una linea di separazione"},style:{style:"Stili",p:"pe",blockquote:"Citazione",pre:"Codice",h1:"Titolo 1",h2:"Titolo 2",h3:"Titolo 3",h4:"Titolo 4",h5:"Titolo 5",h6:"Titolo 6"},lists:{unordered:"Elenco non ordinato",ordered:"Elenco ordinato"},options:{help:"Aiuto",fullscreen:"Modalità a tutto schermo",codeview:"Visualizza codice"},paragraph:{paragraph:"Paragrafo",outdent:"Diminuisce il livello di rientro",indent:"Aumenta il livello di rientro",left:"Allinea a sinistra",center:"Centra",right:"Allinea a destra",justify:"Giustifica (allinea a destra e sinistra)"},color:{recent:"Ultimo colore utilizzato",more:"Altri colori",background:"Colore di sfondo",foreground:"Colore",transparent:"Trasparente",setTransparent:"Trasparente",reset:"Reimposta",resetToDefault:"Reimposta i colori"},shortcut:{shortcuts:"Scorciatoie da tastiera",close:"Chiudi",textFormatting:"Formattazione testo",action:"Azioni",paragraphFormatting:"Formattazione paragrafo",documentStyle:"Stili",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Annulla",redo:"Ripristina"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],186:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"ja-JP":{font:{bold:"太字",italic:"斜体",underline:"下線",clear:"クリア",height:"文字高",name:"フォント",strikethrough:"取り消し線",subscript:"Subscript",superscript:"Superscript",size:"大きさ"},image:{image:"画像",insert:"画像挿入",resizeFull:"最大化",resizeHalf:"1/2",resizeQuarter:"1/4",floatLeft:"左寄せ",floatRight:"右寄せ",floatNone:"寄せ解除",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"ここに画像をドラッグしてください",dropImage:"Drop image or Text",selectFromFiles:"画像ファイルを選ぶ",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URLから画像を挿入する",remove:"画像を削除する",original:"Original"},video:{video:"動画",videoLink:"動画リンク",insert:"動画挿入",url:"動画のURL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku)"},link:{link:"リンク",insert:"リンク挿入",unlink:"リンク解除",edit:"編集",textToDisplay:"リンク文字列",url:"URLを入力してください",openInNewWindow:"新しいウィンドウで開く"},table:{table:"テーブル",addRowAbove:"行を上に追加",addRowBelow:"行を下に追加",addColLeft:"列を左に追加",addColRight:"列を右に追加",delRow:"行を削除",delCol:"列を削除",delTable:"テーブルを削除"},hr:{insert:"水平線の挿入"},style:{style:"スタイル",p:"標準",blockquote:"引用",pre:"コード",h1:"見出し1",h2:"見出し2",h3:"見出し3",h4:"見出し4",h5:"見出し5",h6:"見出し6"},lists:{unordered:"通常リスト",ordered:"番号リスト"},options:{help:"ヘルプ",fullscreen:"フルスクリーン",codeview:"コード表示"},paragraph:{paragraph:"文章",outdent:"字上げ",indent:"字下げ",left:"左寄せ",center:"中央寄せ",right:"右寄せ",justify:"均等割付"},color:{recent:"現在の色",more:"もっと見る",background:"背景色",foreground:"文字色",transparent:"透明",setTransparent:"透明にする",reset:"標準",resetToDefault:"標準に戻す"},shortcut:{shortcuts:"ショートカット",close:"閉じる",textFormatting:"文字フォーマット",action:"アクション",paragraphFormatting:"文章フォーマット",documentStyle:"ドキュメント形式",extraKeys:"Extra keys"},help:{insertParagraph:"改行挿入",undo:"一旦、行った操作を戻す",redo:"最後のコマンドをやり直す",tab:"Tab",untab:"タブ戻し",bold:"太文字",italic:"斜体",underline:"下線",strikethrough:"取り消し線",removeFormat:"装飾を戻す",justifyLeft:"左寄せ",justifyCenter:"真ん中寄せ",justifyRight:"右寄せ",justifyFull:"すべてを整列",insertUnorderedList:"行頭に●を挿入",insertOrderedList:"行頭に番号を挿入",outdent:"字下げを戻す（アウトデント）",indent:"字下げする（インデント）",formatPara:"段落(P tag)指定",formatH1:"H1指定",formatH2:"H2指定",formatH3:"H3指定",formatH4:"H4指定",formatH5:"H5指定",formatH6:"H6指定",insertHorizontalRule:"&lt;hr /&gt;を挿入","linkDialog.show":"リンク挿入"},history:{undo:"元に戻す",redo:"やり直す"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],187:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"ko-KR":{font:{bold:"굵게",italic:"기울임꼴",underline:"밑줄",clear:"서식 지우기",height:"줄 간격",name:"글꼴",superscript:"위 첨자",subscript:"아래 첨자",strikethrough:"취소선",size:"글자 크기"},image:{image:"그림",insert:"그림 삽입",resizeFull:"100% 크기로 변경",resizeHalf:"50% 크기로 변경",resizeQuarter:"25% 크기로 변경",resizeNone:"원본 크기",floatLeft:"왼쪽 정렬",floatRight:"오른쪽 정렬",floatNone:"정렬하지 않음",shapeRounded:"스타일: 둥근 모서리",shapeCircle:"스타일: 원형",shapeThumbnail:"스타일: 액자",shapeNone:"스타일: 없음",dragImageHere:"텍스트 혹은 사진을 이곳으로 끌어오세요",dropImage:"텍스트 혹은 사진을 내려놓으세요",selectFromFiles:"파일 선택",maximumFileSize:"최대 파일 크기",maximumFileSizeError:"최대 파일 크기를 초과했습니다.",url:"사진 URL",remove:"사진 삭제",original:"원본"},video:{video:"동영상",videoLink:"동영상 링크",insert:"동영상 삽입",url:"동영상 URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku 사용 가능)"},link:{link:"링크",insert:"링크 삽입",unlink:"링크 삭제",edit:"수정",textToDisplay:"링크에 표시할 내용",url:"이동할 URL",openInNewWindow:"새창으로 열기"},table:{table:"표",addRowAbove:"위에 행 삽입",addRowBelow:"아래에 행 삽입",addColLeft:"왼쪽에 열 삽입",addColRight:"오른쪽에 열 삽입",delRow:"행 지우기",delCol:"열 지우기",delTable:"표 삭제"},hr:{insert:"구분선 삽입"},style:{style:"스타일",p:"본문",blockquote:"인용구",pre:"코드",h1:"제목 1",h2:"제목 2",h3:"제목 3",h4:"제목 4",h5:"제목 5",h6:"제목 6"},lists:{unordered:"글머리 기호",ordered:"번호 매기기"},options:{help:"도움말",fullscreen:"전체 화면",codeview:"코드 보기"},paragraph:{paragraph:"문단 정렬",outdent:"내어쓰기",indent:"들여쓰기",left:"왼쪽 정렬",center:"가운데 정렬",right:"오른쪽 정렬",justify:"양쪽 정렬"},color:{recent:"마지막으로 사용한 색",more:"다른 색 선택",background:"배경색",foreground:"글자색",transparent:"투명",setTransparent:"투명으로 설정",reset:"취소",resetToDefault:"기본값으로 설정",cpSelect:"고르다"},shortcut:{shortcuts:"키보드 단축키",close:"닫기",textFormatting:"글자 스타일 적용",action:"기능",paragraphFormatting:"문단 스타일 적용",documentStyle:"문서 스타일 적용",extraKeys:"추가 키"},help:{insertParagraph:"문단 삽입",undo:"마지막 명령 취소",redo:"마지막 명령 재실행",tab:"탭",untab:"탭 제거",bold:"굵은 글자로 설정",italic:"기울임꼴 글자로 설정",underline:"밑줄 글자로 설정",strikethrough:"취소선 글자로 설정",removeFormat:"서식 삭제",justifyLeft:"왼쪽 정렬하기",justifyCenter:"가운데 정렬하기",justifyRight:"오른쪽 정렬하기",justifyFull:"좌우채움 정렬하기",insertUnorderedList:"글머리 기호 켜고 끄기",insertOrderedList:"번호 매기기 켜고 끄기",outdent:"현재 문단 내어쓰기",indent:"현재 문단 들여쓰기",formatPara:"현재 블록의 포맷을 문단(P)으로 변경",formatH1:"현재 블록의 포맷을 제목1(H1)로 변경",formatH2:"현재 블록의 포맷을 제목2(H2)로 변경",formatH3:"현재 블록의 포맷을 제목3(H3)로 변경",formatH4:"현재 블록의 포맷을 제목4(H4)로 변경",formatH5:"현재 블록의 포맷을 제목5(H5)로 변경",formatH6:"현재 블록의 포맷을 제목6(H6)로 변경",insertHorizontalRule:"구분선 삽입","linkDialog.show":"링크 대화상자 열기"},history:{undo:"실행 취소",redo:"재실행"},specialChar:{specialChar:"특수문자",select:"특수문자를 선택하세요"}}})},{}],188:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"lt-LT":{font:{bold:"Paryškintas",italic:"Kursyvas",underline:"Pabrėžtas",clear:"Be formatavimo",height:"Eilutės aukštis",name:"Šrifto pavadinimas",strikethrough:"Perbrauktas",superscript:"Viršutinis",subscript:"Indeksas",size:"Šrifto dydis"},image:{image:"Paveikslėlis",insert:"Įterpti paveikslėlį",resizeFull:"Pilnas dydis",resizeHalf:"Sumažinti dydį 50%",resizeQuarter:"Sumažinti dydį 25%",floatLeft:"Kairinis lygiavimas",floatRight:"Dešininis lygiavimas",floatNone:"Jokio lygiavimo",shapeRounded:"Forma: apvalūs kraštai",shapeCircle:"Forma: apskritimas",shapeThumbnail:"Forma: miniatiūra",shapeNone:"Forma: jokia",dragImageHere:"Vilkite paveikslėlį čia",dropImage:"Drop image or Text",selectFromFiles:"Pasirinkite failą",maximumFileSize:"Maskimalus failo dydis",maximumFileSizeError:"Maskimalus failo dydis viršytas!",url:"Paveikslėlio URL adresas",remove:"Ištrinti paveikslėlį",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Nuoroda",insert:"Įterpti nuorodą",unlink:"Pašalinti nuorodą",edit:"Redaguoti",textToDisplay:"Rodomas tekstas",url:"Koks URL adresas yra susietas?",openInNewWindow:"Atidaryti naujame lange"},table:{table:"Lentelė",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Įterpti horizontalią liniją"},style:{style:"Stilius",p:"pus",blockquote:"Citata",pre:"Kodas",h1:"Antraštė 1",h2:"Antraštė 2",h3:"Antraštė 3",h4:"Antraštė 4",h5:"Antraštė 5",h6:"Antraštė 6"},lists:{unordered:"Suženklintasis sąrašas",ordered:"Sunumeruotas sąrašas"},options:{help:"Pagalba",fullscreen:"Viso ekrano režimas",codeview:"HTML kodo peržiūra"},paragraph:{paragraph:"Pastraipa",outdent:"Sumažinti įtrauką",indent:"Padidinti įtrauką",left:"Kairinė lygiuotė",center:"Centrinė lygiuotė",right:"Dešininė lygiuotė",justify:"Abipusis išlyginimas"},color:{recent:"Paskutinė naudota spalva",more:"Daugiau spalvų",background:"Fono spalva",foreground:"Šrifto spalva",transparent:"Permatoma",setTransparent:"Nustatyti skaidrumo intensyvumą",reset:"Atkurti",resetToDefault:"Atstatyti numatytąją spalvą"},shortcut:{shortcuts:"Spartieji klavišai",close:"Uždaryti",textFormatting:"Teksto formatavimas",action:"Veiksmas",paragraphFormatting:"Pastraipos formatavimas",documentStyle:"Dokumento stilius",extraKeys:"Papildomi klavišų deriniai"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Anuliuoti veiksmą",redo:"Perdaryti veiksmą"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],189:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"lv-LV":{font:{bold:"Treknraksts",italic:"Kursīvs",underline:"Pasvītrots",clear:"Noņemt formatējumu",height:"Līnijas augstums",name:"Fonts",strikethrough:"Nosvītrots",superscript:"Augšraksts",subscript:"Apakšraksts",size:"Fonta lielums"},image:{image:"Attēls",insert:"Ievietot attēlu",resizeFull:"Pilns izmērts",resizeHalf:"Samazināt 50%",resizeQuarter:"Samazināt 25%",floatLeft:"Līdzināt pa kreisi",floatRight:"Līdzināt pa labi",floatNone:"Nelīdzināt",shapeRounded:"Forma: apaļām malām",shapeCircle:"Forma: aplis",shapeThumbnail:"Forma: rāmītis",shapeNone:"Forma: orģināla",dragImageHere:"Ievēlciet attēlu šeit",dropImage:"Drop image or Text",selectFromFiles:"Izvēlēties failu",maximumFileSize:"Maksimālais faila izmērs",maximumFileSizeError:"Faila izmērs pārāk liels!",url:"Attēla URL",remove:"Dzēst attēlu",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Saite",insert:"Ievietot saiti",unlink:"Noņemt saiti",edit:"Rediģēt",textToDisplay:"Saites saturs",url:"Koks URL adresas yra susietas?",openInNewWindow:"Atvērt jaunā logā"},table:{table:"Tabula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Ievietot līniju"},style:{style:"Stils",p:"Parasts",blockquote:"Citāts",pre:"Kods",h1:"Virsraksts h1",h2:"Virsraksts h2",h3:"Virsraksts h3",h4:"Virsraksts h4",h5:"Virsraksts h5",h6:"Virsraksts h6"},lists:{unordered:"Nenumurēts saraksts",ordered:"Numurēts saraksts"},options:{help:"Palīdzība",fullscreen:"Pa visu ekrānu",codeview:"HTML kods"},paragraph:{paragraph:"Paragrāfs",outdent:"Samazināt atkāpi",indent:"Palielināt atkāpi",left:"Līdzināt pa kreisi",center:"Centrēt",right:"Līdzināt pa labi",justify:"Līdzināt gar abām malām"},color:{recent:"Nesen izmantotās",more:"Citas krāsas",background:"Fona krāsa",foreground:"Fonta krāsa",transparent:"Caurspīdīgs",setTransparent:"Iestatīt caurspīdīgumu",reset:"Atjaunot",resetToDefault:"Atjaunot noklusējumu"},shortcut:{shortcuts:"Saīsnes",close:"Aizvērt",textFormatting:"Teksta formatēšana",action:"Darbība",paragraphFormatting:"Paragrāfa formatēšana",documentStyle:"Dokumenta stils",extraKeys:"Citas taustiņu kombinācijas"},help:{insertParagraph:"Ievietot Paragrāfu",undo:"Atcelt iepriekšējo darbību",redo:"Atkārtot atcelto darbību",tab:"Atkāpe",untab:"Samazināt atkāpi",bold:"Pārvērst tekstu treknrakstā",italic:"Pārvērst tekstu slīprakstā (kursīvā)",underline:"Pasvītrot tekstu",strikethrough:"Nosvītrot tekstu",removeFormat:"Notīrīt stilu no teksta",justifyLeft:"Līdzīnāt saturu pa kreisi",justifyCenter:"Centrēt saturu",justifyRight:"Līdzīnāt saturu pa labi",justifyFull:"Izlīdzināt saturu gar abām malām",insertUnorderedList:"Ievietot nenumurētu sarakstu",insertOrderedList:"Ievietot numurētu sarakstu",outdent:"Samazināt/noņemt atkāpi paragrāfam",indent:"Uzlikt atkāpi paragrāfam",formatPara:"Mainīt bloka tipu uz (p) Paragrāfu",formatH1:"Mainīt bloka tipu uz virsrakstu H1",formatH2:"Mainīt bloka tipu uz virsrakstu H2",formatH3:"Mainīt bloka tipu uz virsrakstu H3",formatH4:"Mainīt bloka tipu uz virsrakstu H4",formatH5:"Mainīt bloka tipu uz virsrakstu H5",formatH6:"Mainīt bloka tipu uz virsrakstu H6",insertHorizontalRule:"Ievietot horizontālu līniju","linkDialog.show":"Parādīt saites logu"},history:{undo:"Atsauks (undo)",redo:"Atkārtot (redo)"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],190:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"mn-MN":{font:{bold:"Тод",italic:"Налуу",underline:"Доогуур зураас",clear:"Цэвэрлэх",height:"Өндөр",name:"Фонт",superscript:"Дээд илтгэгч",subscript:"Доод илтгэгч",strikethrough:"Дарах",size:"Хэмжээ"},image:{image:"Зураг",insert:"Оруулах",resizeFull:"Хэмжээ бүтэн",resizeHalf:"Хэмжээ 1/2",resizeQuarter:"Хэмжээ 1/4",floatLeft:"Зүүн талд байрлуулах",floatRight:"Баруун талд байрлуулах",floatNone:"Анхдагч байрлалд аваачих",shapeRounded:"Хүрээ: Дугуй",shapeCircle:"Хүрээ: Тойрог",shapeThumbnail:"Хүрээ: Хураангуй",shapeNone:"Хүрээгүй",dragImageHere:"Зургийг энд чирч авчирна уу",dropImage:"Drop image or Text",selectFromFiles:"Файлуудаас сонгоно уу",maximumFileSize:"Файлын дээд хэмжээ",maximumFileSizeError:"Файлын дээд хэмжээ хэтэрсэн",url:"Зургийн URL",remove:"Зургийг устгах",original:"Original"},video:{video:"Видео",videoLink:"Видео холбоос",insert:"Видео оруулах",url:"Видео URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion болон Youku)"},link:{link:"Холбоос",insert:"Холбоос оруулах",unlink:"Холбоос арилгах",edit:"Засварлах",textToDisplay:"Харуулах бичвэр",url:"Энэ холбоос хаашаа очих вэ?",openInNewWindow:"Шинэ цонхонд нээх"},table:{table:"Хүснэгт",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Хэвтээ шугам оруулах"},style:{style:"Хэв маяг",p:"p",blockquote:"Иш татах",pre:"Эх сурвалж",h1:"Гарчиг 1",h2:"Гарчиг 2",h3:"Гарчиг 3",h4:"Гарчиг 4",h5:"Гарчиг 5",h6:"Гарчиг 6"},lists:{unordered:"Эрэмбэлэгдээгүй",ordered:"Эрэмбэлэгдсэн"},options:{help:"Тусламж",fullscreen:"Дэлгэцийг дүүргэх",codeview:"HTML-Code харуулах"},paragraph:{paragraph:"Хэсэг",outdent:"Догол мөр хасах",indent:"Догол мөр нэмэх",left:"Зүүн тийш эгнүүлэх",center:"Төвд эгнүүлэх",right:"Баруун тийш эгнүүлэх",justify:"Мөрийг тэгшлэх"},color:{recent:"Сүүлд хэрэглэсэн өнгө",more:"Өөр өнгөнүүд",background:"Дэвсгэр өнгө",foreground:"Үсгийн өнгө",transparent:"Тунгалаг",setTransparent:"Тунгалаг болгох",reset:"Анхдагч өнгөөр тохируулах",resetToDefault:"Хэвд нь оруулах"},shortcut:{shortcuts:"Богино холбоос",close:"Хаалт",textFormatting:"Бичвэрийг хэлбэржүүлэх",action:"Үйлдэл",paragraphFormatting:"Догол мөрийг хэлбэржүүлэх",documentStyle:"Бичиг баримтын хэв загвар",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Буцаах",redo:"Дахин хийх"},specialChar:{specialChar:"Тусгай тэмдэгт",select:"Тусгай тэмдэгт сонгох"}}})},{}],191:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"nb-NO":{font:{bold:"Fet",italic:"Kursiv",underline:"Understrek",clear:"Fjern formatering",height:"Linjehøyde",name:"Skrifttype",strikethrough:"Gjennomstrek",subscript:"Subscript",superscript:"Superscript",size:"Skriftstørrelse"},image:{image:"Bilde",insert:"Sett inn bilde",resizeFull:"Sett full størrelse",resizeHalf:"Sett halv størrelse",resizeQuarter:"Sett kvart størrelse",floatLeft:"Flyt til venstre",floatRight:"Flyt til høyre",floatNone:"Fjern flyt",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Dra et bilde hit",dropImage:"Drop image or Text",selectFromFiles:"Velg fra filer",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Bilde-URL",remove:"Fjern bilde",original:"Original"},video:{video:"Video",videoLink:"Videolenke",insert:"Sett inn video",url:"Video-URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion eller Youku)"},link:{link:"Lenke",insert:"Sett inn lenke",unlink:"Fjern lenke",edit:"Rediger",textToDisplay:"Visningstekst",url:"Til hvilken URL skal denne lenken peke?",openInNewWindow:"Åpne i nytt vindu"},table:{table:"Tabell",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Sett inn horisontal linje"},style:{style:"Stil",p:"p",blockquote:"Sitat",pre:"Kode",h1:"Overskrift 1",h2:"Overskrift 2",h3:"Overskrift 3",h4:"Overskrift 4",h5:"Overskrift 5",h6:"Overskrift 6"},lists:{unordered:"Punktliste",ordered:"Nummerert liste"},options:{help:"Hjelp",fullscreen:"Fullskjerm",codeview:"HTML-visning"},paragraph:{paragraph:"Avsnitt",outdent:"Tilbakerykk",indent:"Innrykk",left:"Venstrejustert",center:"Midtstilt",right:"Høyrejustert",justify:"Blokkjustert"},color:{recent:"Nylig valgt farge",more:"Flere farger",background:"Bakgrunnsfarge",foreground:"Skriftfarge",transparent:"Gjennomsiktig",setTransparent:"Sett gjennomsiktig",reset:"Nullstill",resetToDefault:"Nullstill til standard"},shortcut:{shortcuts:"Hurtigtaster",close:"Lukk",textFormatting:"Tekstformatering",action:"Handling",paragraphFormatting:"Avsnittsformatering",documentStyle:"Dokumentstil"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Angre",redo:"Gjør om"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],192:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"nl-NL":{font:{bold:"Vet",italic:"Cursief",underline:"Onderstrepen",clear:"Stijl verwijderen",height:"Regelhoogte",name:"Lettertype",strikethrough:"Doorhalen",subscript:"Subscript",superscript:"Superscript",size:"Tekstgrootte"},image:{image:"Afbeelding",insert:"Afbeelding invoegen",resizeFull:"Volledige breedte",resizeHalf:"Halve breedte",resizeQuarter:"Kwart breedte",floatLeft:"Links uitlijnen",floatRight:"Rechts uitlijnen",floatNone:"Geen uitlijning",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Sleep hier een afbeelding naar toe",dropImage:"Drop image or Text",selectFromFiles:"Selecteer een bestand",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL van de afbeelding",remove:"Verwijder afbeelding",original:"Original"},video:{video:"Video",videoLink:"Video link",insert:"Video invoegen",url:"URL van de video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion of Youku)"},link:{link:"Link",insert:"Link invoegen",unlink:"Link verwijderen",edit:"Wijzigen",textToDisplay:"Tekst van link",url:"Naar welke URL moet deze link verwijzen?",openInNewWindow:"Open in nieuw venster"},table:{table:"Tabel",addRowAbove:"Rij hierboven invoegen",addRowBelow:"Rij hieronder invoegen",addColLeft:"Kolom links toevoegen",addColRight:"Kolom rechts toevoegen",delRow:"Verwijder rij",delCol:"Verwijder kolom",delTable:"Verwijder tabel"},hr:{insert:"Horizontale lijn invoegen"},style:{style:"Stijl",p:"Normaal",blockquote:"Quote",pre:"Code",h1:"Kop 1",h2:"Kop 2",h3:"Kop 3",h4:"Kop 4",h5:"Kop 5",h6:"Kop 6"},lists:{unordered:"Ongeordende lijst",ordered:"Geordende lijst"},options:{help:"Help",fullscreen:"Volledig scherm",codeview:"Bekijk Code"},paragraph:{paragraph:"Paragraaf",outdent:"Inspringen verkleinen",indent:"Inspringen vergroten",left:"Links uitlijnen",center:"Centreren",right:"Rechts uitlijnen",justify:"Uitvullen"},color:{recent:"Recente kleur",more:"Meer kleuren",background:"Achtergrond kleur",foreground:"Tekst kleur",transparent:"Transparant",setTransparent:"Transparant",reset:"Standaard",resetToDefault:"Standaard kleur"},shortcut:{shortcuts:"Toetsencombinaties",close:"sluiten",textFormatting:"Tekststijlen",action:"Acties",paragraphFormatting:"Paragraafstijlen",documentStyle:"Documentstijlen",extraKeys:"Extra keys"},help:{insertParagraph:"Alinea invoegen",undo:"Laatste handeling ongedaan maken",redo:"Laatste handeling opnieuw uitvoeren",tab:"Tab",untab:"Herstel tab",bold:"Stel stijl in als vet",italic:"Stel stijl in als cursief",underline:"Stel stijl in als onderstreept",strikethrough:"Stel stijl in als doorgestreept",removeFormat:"Verwijder stijl",justifyLeft:"Lijn links uit",justifyCenter:"Set center align",justifyRight:"Lijn rechts uit",justifyFull:"Lijn uit op volledige breedte",insertUnorderedList:"Zet ongeordende lijstweergave aan",insertOrderedList:"Zet geordende lijstweergave aan",outdent:"Verwijder inspringing huidige alinea",indent:"Inspringen op huidige alinea",formatPara:"Wijzig formattering huidig blok in alinea(P tag)",formatH1:"Formatteer huidig blok als H1",formatH2:"Formatteer huidig blok als H2",formatH3:"Formatteer huidig blok als H3",formatH4:"Formatteer huidig blok als H4",formatH5:"Formatteer huidig blok als H5",formatH6:"Formatteer huidig blok als H6",insertHorizontalRule:"Invoegen horizontale lijn","linkDialog.show":"Toon Link Dialoogvenster"},history:{undo:"Ongedaan maken",redo:"Opnieuw doorvoeren"},specialChar:{specialChar:"SPECIALE TEKENS",select:"Selecteer Speciale Tekens"}}})},{}],193:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"pl-PL":{font:{bold:"Pogrubienie",italic:"Pochylenie",underline:"Podkreślenie",clear:"Usuń formatowanie",height:"Interlinia",name:"Czcionka",strikethrough:"Przekreślenie",subscript:"Indeks dolny",superscript:"Indeks górny",size:"Rozmiar"},image:{image:"Grafika",insert:"Wstaw grafikę",resizeFull:"Zmień rozmiar na 100%",resizeHalf:"Zmień rozmiar na 50%",resizeQuarter:"Zmień rozmiar na 25%",floatLeft:"Po lewej",floatRight:"Po prawej",floatNone:"Równo z tekstem",shapeRounded:"Kształt: zaokrąglone",shapeCircle:"Kształt: okrąg",shapeThumbnail:"Kształt: miniatura",shapeNone:"Kształt: brak",dragImageHere:"Przeciągnij grafikę lub tekst tutaj",dropImage:"Przeciągnij grafikę lub tekst",selectFromFiles:"Wybierz z dysku",maximumFileSize:"Limit wielkości pliku",maximumFileSizeError:"Przekroczono limit wielkości pliku.",url:"Adres URL grafiki",remove:"Usuń grafikę",original:"Oryginał"},video:{video:"Wideo",videoLink:"Adres wideo",insert:"Wstaw wideo",url:"Adres wideo",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion lub Youku)"},link:{link:"Odnośnik",insert:"Wstaw odnośnik",unlink:"Usuń odnośnik",edit:"Edytuj",textToDisplay:"Tekst do wyświetlenia",url:"Na jaki adres URL powinien przenosić ten odnośnik?",openInNewWindow:"Otwórz w nowym oknie"},table:{table:"Tabela",addRowAbove:"Dodaj wiersz powyżej",addRowBelow:"Dodaj wiersz poniżej",addColLeft:"Dodaj kolumnę po lewej",addColRight:"Dodaj kolumnę po prawej",delRow:"Usuń wiersz",delCol:"Usuń kolumnę",delTable:"Usuń tabelę"},hr:{insert:"Wstaw poziomą linię"},style:{style:"Styl",p:"pny",blockquote:"Cytat",pre:"Kod",h1:"Nagłówek 1",h2:"Nagłówek 2",h3:"Nagłówek 3",h4:"Nagłówek 4",h5:"Nagłówek 5",h6:"Nagłówek 6"},lists:{unordered:"Lista wypunktowana",ordered:"Lista numerowana"},options:{help:"Pomoc",fullscreen:"Pełny ekran",codeview:"Źródło"},paragraph:{paragraph:"Akapit",outdent:"Zmniejsz wcięcie",indent:"Zwiększ wcięcie",left:"Wyrównaj do lewej",center:"Wyrównaj do środka",right:"Wyrównaj do prawej",justify:"Wyrównaj do lewej i prawej"},color:{recent:"Ostani kolor",more:"Więcej kolorów",background:"Tło",foreground:"Czcionka",transparent:"Przeźroczysty",setTransparent:"Przeźroczyste",reset:"Zresetuj",resetToDefault:"Domyślne"},shortcut:{shortcuts:"Skróty klawiaturowe",close:"Zamknij",textFormatting:"Formatowanie tekstu",action:"Akcja",paragraphFormatting:"Formatowanie akapitu",documentStyle:"Styl dokumentu",extraKeys:"Dodatkowe klawisze"},help:{insertParagraph:"Wstaw paragraf",undo:"Cofnij poprzednią operację",redo:"Przywróć poprzednią operację",tab:"Tabulacja",untab:"Usuń tabulację",bold:"Pogrubienie",italic:"Kursywa",underline:"Podkreślenie",strikethrough:"Przekreślenie",removeFormat:"Usuń formatowanie",justifyLeft:"Wyrównaj do lewej",justifyCenter:"Wyrównaj do środka",justifyRight:"Wyrównaj do prawej",justifyFull:"Justyfikacja",insertUnorderedList:"Nienumerowana lista",insertOrderedList:"Wypunktowana lista",outdent:"Zmniejsz wcięcie paragrafu",indent:"Zwiększ wcięcie paragrafu",formatPara:"Zamień format bloku na paragraf (tag P)",formatH1:"Zamień format bloku na H1",formatH2:"Zamień format bloku na H2",formatH3:"Zamień format bloku na H3",formatH4:"Zamień format bloku na H4",formatH5:"Zamień format bloku na H5",formatH6:"Zamień format bloku na H6",insertHorizontalRule:"Wstaw poziomą linię","linkDialog.show":"Pokaż dialog linkowania"},history:{undo:"Cofnij",redo:"Ponów"},specialChar:{specialChar:"ZNAKI SPECJALNE",select:"Wybierz Znak specjalny"}}})},{}],194:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"pt-BR":{font:{bold:"Negrito",italic:"Itálico",underline:"Sublinhado",clear:"Remover estilo da fonte",height:"Altura da linha",name:"Fonte",strikethrough:"Riscado",subscript:"Subscrito",superscript:"Sobrescrito",size:"Tamanho da fonte"},image:{image:"Imagem",insert:"Inserir imagem",resizeFull:"Redimensionar Completamente",resizeHalf:"Redimensionar pela Metade",resizeQuarter:"Redimensionar a um Quarto",floatLeft:"Flutuar para Esquerda",floatRight:"Flutuar para Direita",floatNone:"Não Flutuar",shapeRounded:"Forma: Arredondado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Miniatura",shapeNone:"Forma: Nenhum",dragImageHere:"Arraste Imagem ou Texto para cá",dropImage:"Solte Imagem ou Texto",selectFromFiles:"Selecione a partir dos arquivos",maximumFileSize:"Tamanho máximo do arquivo",maximumFileSizeError:"Tamanho máximo do arquivo excedido.",url:"URL da imagem",remove:"Remover Imagem",original:"Original"},video:{video:"Vídeo",videoLink:"Link para vídeo",insert:"Inserir vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Link",insert:"Inserir link",unlink:"Remover link",edit:"Editar",textToDisplay:"Texto para exibir",url:"Para qual URL este link leva?",openInNewWindow:"Abrir em uma nova janela"},table:{table:"Tabela",addRowAbove:"Adicionar linha acima",addRowBelow:"Adicionar linha abaixo",addColLeft:"Adicionar coluna à esquerda",addColRight:"Adicionar coluna à direita",delRow:"Excluir linha",delCol:"Excluir coluna",delTable:"Excluir tabela"},hr:{insert:"Linha horizontal"},style:{style:"Estilo",p:"Normal",blockquote:"Citação",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista com marcadores",ordered:"Lista numerada"},options:{help:"Ajuda",fullscreen:"Tela cheia",codeview:"Ver código-fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menor tabulação",indent:"Maior tabulação",left:"Alinhar à esquerda",center:"Alinhar ao centro",right:"Alinha à direita",justify:"Justificado"},color:{recent:"Cor recente",more:"Mais cores",background:"Fundo",foreground:"Fonte",transparent:"Transparente",setTransparent:"Fundo transparente",reset:"Restaurar",resetToDefault:"Restaurar padrão",cpSelect:"Selecionar"},shortcut:{shortcuts:"Atalhos do teclado",close:"Fechar",textFormatting:"Formatação de texto",action:"Ação",paragraphFormatting:"Formatação de parágrafo",documentStyle:"Estilo de documento",extraKeys:"Extra keys"},help:{insertParagraph:"Inserir Parágrafo",undo:"Desfazer o último comando",redo:"Refazer o último comando",tab:"Tab",untab:"Desfazer tab",bold:"Colocar em negrito",italic:"Colocar em itálico",underline:"Sublinhado",strikethrough:"Tachado",removeFormat:"Remover estilo",justifyLeft:"Alinhar à esquerda",justifyCenter:"Centralizar",justifyRight:"Alinhar à esquerda",justifyFull:"Justificar",insertUnorderedList:"Lista não ordenada",insertOrderedList:"Lista ordenada",outdent:"Recuar parágrafo atual",indent:"Avançar parágrafo atual",formatPara:"Alterar formato do bloco para parágrafo(tag P)",formatH1:"Alterar formato do bloco para H1",formatH2:"Alterar formato do bloco para H2",formatH3:"Alterar formato do bloco para H3",formatH4:"Alterar formato do bloco para H4",formatH5:"Alterar formato do bloco para H5",formatH6:"Alterar formato do bloco para H6",insertHorizontalRule:"Inserir Régua horizontal","linkDialog.show":"Inserir um Hiperlink"},history:{undo:"Desfazer",redo:"Refazer"},specialChar:{specialChar:"CARACTERES ESPECIAIS",select:"Selecionar Caracteres Especiais"}}})},{}],195:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"pt-PT":{font:{bold:"Negrito",italic:"Itálico",underline:"Sublinhado",clear:"Remover estilo da fonte",height:"Altura da linha",name:"Fonte",strikethrough:"Riscado",subscript:"Subscript",superscript:"Superscript",size:"Tamanho da fonte"},image:{image:"Imagem",insert:"Inserir imagem",resizeFull:"Redimensionar Completo",resizeHalf:"Redimensionar Metade",resizeQuarter:"Redimensionar Um Quarto",floatLeft:"Float Esquerda",floatRight:"Float Direita",floatNone:"Sem Float",shapeRounded:"Forma: Arredondado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Minhatura",shapeNone:"Forma: Nenhum",dragImageHere:"Arraste uma imagem para aqui",dropImage:"Arraste uma imagem ou texto",selectFromFiles:"Selecione a partir dos arquivos",maximumFileSize:"Tamanho máximo do fixeiro",maximumFileSizeError:"Tamanho máximo do fixeiro é maior que o permitido.",url:"Endereço da imagem",remove:"Remover Imagem",original:"Original"},video:{video:"Vídeo",videoLink:"Link para vídeo",insert:"Inserir vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Link",insert:"Inserir ligação",unlink:"Remover ligação",edit:"Editar",textToDisplay:"Texto para exibir",url:"Que endereço esta licação leva?",openInNewWindow:"Abrir numa nova janela"},table:{table:"Tabela",addRowAbove:"Adicionar linha acima",addRowBelow:"Adicionar linha abaixo",addColLeft:"Adicionar coluna à Esquerda",addColRight:"Adicionar coluna à Esquerda",delRow:"Excluir linha",delCol:"Excluir coluna",delTable:"Excluir tabela"},hr:{insert:"Inserir linha horizontal"},style:{style:"Estilo",p:"Parágrafo",blockquote:"Citação",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista com marcadores",ordered:"Lista numerada"},options:{help:"Ajuda",fullscreen:"Janela Completa",codeview:"Ver código-fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menor tabulação",indent:"Maior tabulação",left:"Alinhar à esquerda",center:"Alinhar ao centro",right:"Alinha à direita",justify:"Justificado"},color:{recent:"Cor recente",more:"Mais cores",background:"Fundo",foreground:"Fonte",transparent:"Transparente",setTransparent:"Fundo transparente",reset:"Restaurar",resetToDefault:"Restaurar padrão",cpSelect:"Selecionar"},shortcut:{shortcuts:"Atalhos do teclado",close:"Fechar",textFormatting:"Formatação de texto",action:"Ação",paragraphFormatting:"Formatação de parágrafo",documentStyle:"Estilo de documento"},help:{insertParagraph:"Inserir Parágrafo",undo:"Desfazer o último comando",redo:"Refazer o último comando",tab:"Maior tabulação",untab:"Menor tabulação",bold:"Colocar em negrito",italic:"Colocar em itálico",underline:"Colocar em sublinhado",strikethrough:"Colocar em riscado",removeFormat:"Limpar o estilo",justifyLeft:"Definir alinhado à esquerda",justifyCenter:"Definir alinhado ao centro",justifyRight:"Definir alinhado à direita",justifyFull:"Definir justificado",insertUnorderedList:"Alternar lista não ordenada",insertOrderedList:"Alternar lista ordenada",outdent:"Recuar parágrafo atual",indent:"Avançar parágrafo atual",formatPara:"Alterar formato do bloco para parágrafo",formatH1:"Alterar formato do bloco para Título 1",formatH2:"Alterar formato do bloco para Título 2",formatH3:"Alterar formato do bloco para Título 3",formatH4:"Alterar formato do bloco para Título 4",formatH5:"Alterar formato do bloco para Título 5",formatH6:"Alterar formato do bloco para Título 6",insertHorizontalRule:"Inserir linha horizontal","linkDialog.show":"Inserir uma ligração"},history:{undo:"Desfazer",redo:"Refazer"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],196:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"ro-RO":{font:{bold:"Îngroșat",italic:"Înclinat",underline:"Subliniat",clear:"Înlătură formatare font",height:"Înălțime rând",name:"Familie de fonturi",strikethrough:"Tăiat",subscript:"Indice",superscript:"Exponent",size:"Dimensiune font"},image:{image:"Imagine",insert:"Inserează imagine",resizeFull:"Redimensionează complet",resizeHalf:"Redimensionează 1/2",resizeQuarter:"Redimensionează 1/4",floatLeft:"Aliniere la stânga",floatRight:"Aliniere la dreapta",floatNone:"Fară aliniere",shapeRounded:"Formă: Rotund",shapeCircle:"Formă: Cerc",shapeThumbnail:"Formă: Pictogramă",shapeNone:"Formă: Nici una",dragImageHere:"Trage o imagine sau un text aici",dropImage:"Eliberează imaginea sau textul",selectFromFiles:"Alege din fişiere",maximumFileSize:"Dimensiune maximă fișier",maximumFileSizeError:"Dimensiune maximă fișier depășită.",url:"URL imagine",remove:"Șterge imagine",original:"Original"},video:{video:"Video",videoLink:"Link video",insert:"Inserează video",url:"URL video?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion sau Youku)"},link:{link:"Link",insert:"Inserează link",unlink:"Înlătură link",edit:"Editează",textToDisplay:"Text ce va fi afişat",url:"La ce adresă URL trebuie să conducă acest link?",openInNewWindow:"Deschidere în fereastră nouă"},table:{table:"Tabel",addRowAbove:"Adaugă rând deasupra",addRowBelow:"Adaugă rând dedesubt",addColLeft:"Adaugă coloană stânga",addColRight:"Adaugă coloană dreapta",delRow:"Șterge rând",delCol:"Șterge coloană",delTable:"Șterge tabel"},hr:{insert:"Inserează o linie orizontală"},style:{style:"Stil",p:"p",blockquote:"Citat",pre:"Preformatat",h1:"Titlu 1",h2:"Titlu 2",h3:"Titlu 3",h4:"Titlu 4",h5:"Titlu 5",h6:"Titlu 6"},lists:{unordered:"Listă neordonată",ordered:"Listă ordonată"},options:{help:"Ajutor",fullscreen:"Măreşte",codeview:"Sursă"},paragraph:{paragraph:"Paragraf",outdent:"Creşte identarea",indent:"Scade identarea",left:"Aliniere la stânga",center:"Aliniere centrală",right:"Aliniere la dreapta",justify:"Aliniere în bloc"},color:{recent:"Culoare recentă",more:"Mai multe  culori",background:"Culoarea fundalului",foreground:"Culoarea textului",transparent:"Transparent",setTransparent:"Setează transparent",reset:"Resetează",resetToDefault:"Revino la iniţial"},shortcut:{shortcuts:"Scurtături tastatură",close:"Închide",textFormatting:"Formatare text",action:"Acţiuni",paragraphFormatting:"Formatare paragraf",documentStyle:"Stil paragraf",extraKeys:"Taste extra"},help:{insertParagraph:"Inserează paragraf",undo:"Revine la starea anterioară",redo:"Revine la starea ulterioară",tab:"Tab",untab:"Untab",bold:"Setează stil îngroșat",italic:"Setează stil înclinat",underline:"Setează stil subliniat",strikethrough:"Setează stil tăiat",removeFormat:"Înlătură formatare",justifyLeft:"Setează aliniere stânga",justifyCenter:"Setează aliniere centru",justifyRight:"Setează aliniere dreapta",justifyFull:"Setează aliniere bloc",insertUnorderedList:"Comutare listă neordinată",insertOrderedList:"Comutare listă ordonată",outdent:"Înlătură indentare paragraf curent",indent:"Adaugă indentare paragraf curent",formatPara:"Schimbă formatarea selecției în paragraf",formatH1:"Schimbă formatarea selecției în H1",formatH2:"Schimbă formatarea selecției în H2",formatH3:"Schimbă formatarea selecției în H3",formatH4:"Schimbă formatarea selecției în H4",formatH5:"Schimbă formatarea selecției în H5",formatH6:"Schimbă formatarea selecției în H6",insertHorizontalRule:"Adaugă linie orizontală","linkDialog.show":"Inserează link"},history:{undo:"Starea anterioară",redo:"Starea ulterioară"},specialChar:{specialChar:"CARACTERE SPECIALE",select:"Alege caractere speciale"}}})},{}],197:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"ru-RU":{font:{bold:"Полужирный",italic:"Курсив",underline:"Подчёркнутый",clear:"Убрать стили шрифта",height:"Высота линии",name:"Шрифт",strikethrough:"Зачёркнутый",subscript:"Нижний индекс",superscript:"Верхний индекс",size:"Размер шрифта"},image:{image:"Картинка",insert:"Вставить картинку",resizeFull:"Восстановить размер",resizeHalf:"Уменьшить до 50%",resizeQuarter:"Уменьшить до 25%",floatLeft:"Расположить слева",floatRight:"Расположить справа",floatNone:"Расположение по-умолчанию",shapeRounded:"Форма: Закругленная",shapeCircle:"Форма: Круг",shapeThumbnail:"Форма: Миниатюра",shapeNone:"Форма: Нет",dragImageHere:"Перетащите сюда картинку",dropImage:"Перетащите картинку",selectFromFiles:"Выбрать из файлов",maximumFileSize:"Максимальный размер файла",maximumFileSizeError:"Превышен максимальный размер файла",url:"URL картинки",remove:"Удалить картинку",original:"Оригинал"},video:{video:"Видео",videoLink:"Ссылка на видео",insert:"Вставить видео",url:"URL видео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)"},link:{link:"Ссылка",insert:"Вставить ссылку",unlink:"Убрать ссылку",edit:"Редактировать",textToDisplay:"Отображаемый текст",url:"URL для перехода",openInNewWindow:"Открывать в новом окне"},table:{table:"Таблица",addRowAbove:"Добавить строку выше",addRowBelow:"Добавить строку ниже",addColLeft:"Добавить столбец слева",addColRight:"Добавить столбец справа",delRow:"Удалить строку",delCol:"Удалить столбец",delTable:"Удалить таблицу"},hr:{insert:"Вставить горизонтальную линию"},style:{style:"Стиль",p:"Нормальный",blockquote:"Цитата",pre:"Код",h1:"Заголовок 1",h2:"Заголовок 2",h3:"Заголовок 3",h4:"Заголовок 4",h5:"Заголовок 5",h6:"Заголовок 6"},lists:{unordered:"Маркированный список",ordered:"Нумерованный список"},options:{help:"Помощь",fullscreen:"На весь экран",codeview:"Исходный код"},paragraph:{paragraph:"Параграф",outdent:"Уменьшить отступ",indent:"Увеличить отступ",left:"Выровнять по левому краю",center:"Выровнять по центру",right:"Выровнять по правому краю",justify:"Растянуть по ширине"},color:{recent:"Последний цвет",more:"Еще цвета",background:"Цвет фона",foreground:"Цвет шрифта",transparent:"Прозрачный",setTransparent:"Сделать прозрачным",reset:"Сброс",resetToDefault:"Восстановить умолчания"},shortcut:{shortcuts:"Сочетания клавиш",close:"Закрыть",textFormatting:"Форматирование текста",action:"Действие",paragraphFormatting:"Форматирование параграфа",documentStyle:"Стиль документа",extraKeys:"Дополнительные комбинации"},help:{insertParagraph:"Новый параграф",undo:"Отменить последнюю команду",redo:"Повторить последнюю команду",tab:"Tab",untab:"Untab",bold:'Установить стиль "Жирный"',italic:'Установить стиль "Наклонный"',underline:'Установить стиль "Подчеркнутый"',strikethrough:'Установить стиль "Зачеркнутый"',removeFormat:"Сборсить стили",justifyLeft:"Выровнять по левому краю",justifyCenter:"Выровнять по центру",justifyRight:"Выровнять по правому краю",justifyFull:"Растянуть на всю ширину",insertUnorderedList:"Включить/отключить маркированный список",insertOrderedList:"Включить/отключить нумерованный список",outdent:"Убрать отступ в текущем параграфе",indent:"Вставить отступ в текущем параграфе",formatPara:"Форматировать текущий блок как параграф (тег P)",formatH1:"Форматировать текущий блок как H1",formatH2:"Форматировать текущий блок как H2",formatH3:"Форматировать текущий блок как H3",formatH4:"Форматировать текущий блок как H4",formatH5:"Форматировать текущий блок как H5",formatH6:"Форматировать текущий блок как H6",insertHorizontalRule:"Вставить горизонтальную черту","linkDialog.show":'Показать диалог "Ссылка"'},history:{undo:"Отменить",redo:"Повтор"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],198:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"sk-SK":{font:{bold:"Tučné",italic:"Kurzíva",underline:"Podčiarknutie",clear:"Odstrániť štýl písma",height:"Výška riadku",strikethrough:"Prečiarknuté",subscript:"Subscript",superscript:"Superscript",size:"Veľkosť písma"},image:{image:"Obrázok",insert:"Vložiť obrázok",resizeFull:"Pôvodná veľkosť",resizeHalf:"Polovičná veľkosť",resizeQuarter:"Štvrtinová veľkosť",floatLeft:"Umiestniť doľava",floatRight:"Umiestniť doprava",floatNone:"Bez zarovnania",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Pretiahnuť sem obrázok",dropImage:"Drop image or Text",selectFromFiles:"Vybrať súbor",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL obrázku",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Odkaz videa",insert:"Vložiť video",url:"URL videa?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion alebo Youku)"},link:{link:"Odkaz",insert:"Vytvoriť odkaz",unlink:"Zrušiť odkaz",edit:"Upraviť",textToDisplay:"Zobrazovaný text",url:"Na akú URL adresu má tento odkaz viesť?",openInNewWindow:"Otvoriť v novom okne"},table:{table:"Tabuľka",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Vložit vodorovnú čiaru"},style:{style:"Štýl",p:"Normálny",blockquote:"Citácia",pre:"Kód",h1:"Nadpis 1",h2:"Nadpis 2",h3:"Nadpis 3",h4:"Nadpis 4",h5:"Nadpis 5",h6:"Nadpis 6"},lists:{unordered:"Odrážkový zoznam",ordered:"Číselný zoznam"},options:{help:"Pomoc",fullscreen:"Celá obrazovka",codeview:"HTML kód"},paragraph:{paragraph:"Odsek",outdent:"Zväčšiť odsadenie",indent:"Zmenšiť odsadenie",left:"Zarovnať doľava",center:"Zarovnať na stred",right:"Zarovnať doprava",justify:"Zarovnať obojstranne"},color:{recent:"Aktuálna farba",more:"Dalšie farby",background:"Farba pozadia",foreground:"Farba písma",transparent:"Priehľadnosť",setTransparent:"Nastaviť priehľadnosť",reset:"Obnoviť",resetToDefault:"Obnoviť prednastavené"},shortcut:{shortcuts:"Klávesové skratky",close:"Zavrieť",textFormatting:"Formátovanie textu",action:"Akcia",paragraphFormatting:"Formátovanie odseku",documentStyle:"Štýl dokumentu"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Krok vzad",redo:"Krok dopredu"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],199:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"sl-SI":{font:{bold:"Krepko",italic:"Ležeče",underline:"Podčrtano",clear:"Počisti oblikovanje izbire",height:"Razmik med vrsticami",name:"Pisava",strikethrough:"Prečrtano",subscript:"Podpisano",superscript:"Nadpisano",size:"Velikost pisave"},image:{image:"Slika",insert:"Vstavi sliko",resizeFull:"Razširi na polno velikost",resizeHalf:"Razširi na polovico velikosti",resizeQuarter:"Razširi na četrtino velikosti",floatLeft:"Leva poravnava",floatRight:"Desna poravnava",floatNone:"Brez poravnave",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Sem povlecite sliko",dropImage:"Drop image or Text",selectFromFiles:"Izberi sliko za nalaganje",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL naslov slike",remove:"Odstrani sliko",original:"Original"},video:{video:"Video",videoLink:"Video povezava",insert:"Vstavi video",url:"Povezava do videa",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ali Youku)"},link:{link:"Povezava",insert:"Vstavi povezavo",unlink:"Odstrani povezavo",edit:"Uredi",textToDisplay:"Prikazano besedilo",url:"Povezava",openInNewWindow:"Odpri v novem oknu"},table:{table:"Tabela",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Vstavi horizontalno črto"},style:{style:"Slogi",p:"Navadno besedilo",blockquote:"Citat",pre:"Koda",h1:"Naslov 1",h2:"Naslov 2",h3:"Naslov 3",h4:"Naslov 4",h5:"Naslov 5",h6:"Naslov 6"},lists:{unordered:"Označen seznam",ordered:"Oštevilčen seznam"},options:{help:"Pomoč",fullscreen:"Celozaslonski način",codeview:"Pregled HTML kode"},paragraph:{paragraph:"Slogi odstavka",outdent:"Zmanjšaj odmik",indent:"Povečaj odmik",left:"Leva poravnava",center:"Desna poravnava",right:"Sredinska poravnava",justify:"Obojestranska poravnava"},color:{recent:"Uporabi zadnjo barvo",more:"Več barv",background:"Barva ozadja",foreground:"Barva besedila",transparent:"Brez barve",setTransparent:"Brez barve",reset:"Ponastavi",resetToDefault:"Ponastavi na privzeto"},shortcut:{shortcuts:"Bljižnice",close:"Zapri",textFormatting:"Oblikovanje besedila",action:"Dejanja",paragraphFormatting:"Oblikovanje odstavka",documentStyle:"Oblikovanje naslova",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Razveljavi",redo:"Uveljavi"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],200:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"sr-RS":{font:{bold:"Podebljano",italic:"Kurziv",underline:"Podvučeno",clear:"Ukloni stilove fonta",height:"Visina linije",name:"Font Family",strikethrough:"Precrtano",subscript:"Subscript",superscript:"Superscript",size:"Veličina fonta"},image:{image:"Slika",insert:"Umetni sliku",resizeFull:"Puna veličina",resizeHalf:"Umanji na 50%",resizeQuarter:"Umanji na 25%",floatLeft:"Uz levu ivicu",floatRight:"Uz desnu ivicu",floatNone:"Bez ravnanja",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Prevuci sliku ovde",dropImage:"Drop image or Text",selectFromFiles:"Izaberi iz datoteke",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Adresa slike",remove:"Ukloni sliku",original:"Original"},video:{video:"Video",videoLink:"Veza ka videu",insert:"Umetni video",url:"URL video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ili Youku)"},link:{link:"Veza",insert:"Umetni vezu",unlink:"Ukloni vezu",edit:"Uredi",textToDisplay:"Tekst za prikaz",url:"Internet adresa",openInNewWindow:"Otvori u novom prozoru"},table:{table:"Tabela",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Umetni horizontalnu liniju"},style:{style:"Stil",p:"pni",blockquote:"Citat",pre:"Kod",h1:"Zaglavlje 1",h2:"Zaglavlje 2",h3:"Zaglavlje 3",h4:"Zaglavlje 4",h5:"Zaglavlje 5",h6:"Zaglavlje 6"},lists:{unordered:"Obična lista",ordered:"Numerisana lista"},options:{help:"Pomoć",fullscreen:"Preko celog ekrana",codeview:"Izvorni kod"},paragraph:{paragraph:"Paragraf",outdent:"Smanji uvlačenje",indent:"Povečaj uvlačenje",left:"Poravnaj u levo",center:"Centrirano",right:"Poravnaj u desno",justify:"Poravnaj obostrano"},color:{recent:"Poslednja boja",more:"Više boja",background:"Boja pozadine",foreground:"Boja teksta",transparent:"Providna",setTransparent:"Providna",reset:"Opoziv",resetToDefault:"Podrazumevana"},shortcut:{shortcuts:"Prečice sa tastature",close:"Zatvori",textFormatting:"Formatiranje teksta",action:"Akcija",paragraphFormatting:"Formatiranje paragrafa",documentStyle:"Stil dokumenta",extraKeys:"Dodatne kombinacije"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Poništi",redo:"Ponovi"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],201:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"sr-RS":{font:{bold:"Подебљано",italic:"Курзив",underline:"Подвучено",clear:"Уклони стилове фонта",height:"Висина линије",name:"Font Family",strikethrough:"Прецртано",subscript:"Subscript",superscript:"Superscript",size:"Величина фонта"},image:{image:"Слика",insert:"Уметни слику",resizeFull:"Пуна величина",resizeHalf:"Умањи на 50%",resizeQuarter:"Умањи на 25%",floatLeft:"Уз леву ивицу",floatRight:"Уз десну ивицу",floatNone:"Без равнања",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Превуци слику овде",dropImage:"Drop image or Text",selectFromFiles:"Изабери из датотеке",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Адреса слике",remove:"Уклони слику",original:"Original"},video:{video:"Видео",videoLink:"Веза ка видеу",insert:"Уметни видео",url:"URL видео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)"},link:{link:"Веза",insert:"Уметни везу",unlink:"Уклони везу",edit:"Уреди",textToDisplay:"Текст за приказ",url:"Интернет адреса",openInNewWindow:"Отвори у новом прозору"},table:{table:"Табела",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Уметни хоризонталну линију"},style:{style:"Стил",p:"Нормални",blockquote:"Цитат",pre:"Код",h1:"Заглавље 1",h2:"Заглавље 2",h3:"Заглавље 3",h4:"Заглавље 4",h5:"Заглавље 5",h6:"Заглавље 6"},lists:{unordered:"Обична листа",ordered:"Нумерисана листа"},options:{help:"Помоћ",fullscreen:"Преко целог екрана",codeview:"Изворни код"},paragraph:{paragraph:"Параграф",outdent:"Смањи увлачење",indent:"Повечај увлачење",left:"Поравнај у лево",center:"Центрирано",right:"Поравнај у десно",justify:"Поравнај обострано"},color:{recent:"Последња боја",more:"Више боја",background:"Боја позадине",foreground:"Боја текста",transparent:"Провидна",setTransparent:"Провидна",reset:"Опозив",resetToDefault:"Подразумевана"},shortcut:{shortcuts:"Пречице са тастатуре",close:"Затвори",textFormatting:"Форматирање текста",action:"Акција",paragraphFormatting:"Форматирање параграфа",documentStyle:"Стил документа",extraKeys:"Додатне комбинације"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Поништи",redo:"Понови"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],202:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"sv-SE":{font:{bold:"Fet",italic:"Kursiv",underline:"Understruken",clear:"Radera formatering",height:"Radavstånd",name:"Teckensnitt",strikethrough:"Genomstruken",subscript:"Subscript",superscript:"Superscript",size:"Teckenstorlek"},image:{image:"Bild",insert:"Infoga bild",resizeFull:"Full storlek",resizeHalf:"Halv storlek",resizeQuarter:"En fjärdedel i storlek",floatLeft:"Vänsterjusterad",floatRight:"Högerjusterad",floatNone:"Ingen justering",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Dra en bild hit",dropImage:"Drop image or Text",selectFromFiles:"Välj från filer",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Länk till bild",remove:"Ta bort bild",original:"Original"},video:{video:"Filmklipp",videoLink:"Länk till filmklipp",insert:"Infoga filmklipp",url:"Länk till filmklipp",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion eller Youku)"},link:{link:"Länk",insert:"Infoga länk",unlink:"Ta bort länk",edit:"Redigera",textToDisplay:"Visningstext",url:"Till vilken URL ska denna länk peka?",openInNewWindow:"Öppna i ett nytt fönster"},table:{table:"Tabell",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Infoga horisontell linje"},style:{style:"Stil",p:"p",blockquote:"Citat",pre:"Kod",h1:"Rubrik 1",h2:"Rubrik 2",h3:"Rubrik 3",h4:"Rubrik 4",h5:"Rubrik 5",h6:"Rubrik 6"},lists:{unordered:"Punktlista",ordered:"Numrerad lista"},options:{help:"Hjälp",fullscreen:"Fullskärm",codeview:"HTML-visning"},paragraph:{paragraph:"Justera text",outdent:"Minska indrag",indent:"Öka indrag",left:"Vänsterjusterad",center:"Centrerad",right:"Högerjusterad",justify:"Justera text"},color:{recent:"Senast använda färg",more:"Fler färger",background:"Bakgrundsfärg",foreground:"Teckenfärg",transparent:"Genomskinlig",setTransparent:"Gör genomskinlig",reset:"Nollställ",resetToDefault:"Återställ till standard"},shortcut:{shortcuts:"Kortkommandon",close:"Stäng",textFormatting:"Textformatering",action:"Funktion",paragraphFormatting:"Avsnittsformatering",documentStyle:"Dokumentstil",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Ångra",redo:"Gör om"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],203:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"ta-IN":{font:{bold:"தடித்த",italic:"சாய்வு",underline:"அடிக்கோடு",clear:"நீக்கு",height:"வரி  உயரம்",name:"எழுத்துரு பெயர்",strikethrough:"குறுக்குக் கோடு",size:"எழுத்துரு அளவு",superscript:"மேல் ஒட்டு",subscript:"கீழ் ஒட்டு"},image:{image:"படம்",insert:"படத்தை செருகு",resizeFull:"முழு அளவை",resizeHalf:"அரை அளவை",resizeQuarter:"கால் அளவை",floatLeft:"இடப்பக்கமாக வை",floatRight:"வலப்பக்கமாக வை",floatNone:"இயல்புநிலையில் வை",shapeRounded:"வட்டமான வடிவம்",shapeCircle:"வட்ட வடிவம்",shapeThumbnail:"சிறு வடிவம்",shapeNone:"வடிவத்தை நீக்கு",dragImageHere:"படத்தை இங்கே இழுத்துவை",dropImage:"படத்தை விடு",selectFromFiles:"கோப்புகளை தேர்வு செய்",maximumFileSize:"அதிகபட்ச கோப்பு அளவு",maximumFileSizeError:"கோப்பு அதிகபட்ச அளவை மீறிவிட்டது",url:"இணையதள முகவரி",remove:"படத்தை நீக்கு",original:"Original"},video:{video:"காணொளி",videoLink:"காணொளி இணைப்பு",insert:"காணொளியை செருகு",url:"இணையதள முகவரி",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"இணைப்பு",insert:"இணைப்பை செருகு",unlink:"இணைப்பை நீக்கு",edit:"இணைப்பை தொகு",textToDisplay:"காட்சி வாசகம்",url:"இணையதள முகவரி",openInNewWindow:"புதிய சாளரத்தில் திறக்க"},table:{table:"அட்டவணை",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"கிடைமட்ட கோடு"},style:{style:"தொகுப்பு",p:"பத்தி",blockquote:"மேற்கோள்",pre:"குறியீடு",h1:"தலைப்பு 1",h2:"தலைப்பு 2",h3:"தலைப்பு 3",h4:"தலைப்பு 4",h5:"தலைப்பு 5",h6:"தலைப்பு 6"},lists:{unordered:"வரிசையிடாத",ordered:"வரிசையிட்ட"},options:{help:"உதவி",fullscreen:"முழுத்திரை",codeview:"நிரலாக்க காட்சி"},paragraph:{paragraph:"பத்தி",outdent:"வெளித்தள்ளு",indent:"உள்ளே தள்ளு",left:"இடது சீரமைப்பு",center:"நடு சீரமைப்பு",right:"வலது சீரமைப்பு",justify:"இருபுற சீரமைப்பு"},color:{recent:"அண்மை நிறம்",more:"மேலும்",background:"பின்புல நிறம்",foreground:"முன்புற நிறம்",transparent:"தெளிமையான",setTransparent:"தெளிமையாக்கு",reset:"மீட்டமைக்க",resetToDefault:"இயல்புநிலைக்கு மீட்டமை"},shortcut:{shortcuts:"குறுக்குவழி",close:"மூடு",textFormatting:"எழுத்து வடிவமைப்பு",action:"செயல்படுத்து",paragraphFormatting:"பத்தி வடிவமைப்பு",documentStyle:"ஆவண பாணி",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"மீளமை",redo:"மீண்டும்"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],204:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"th-TH":{font:{bold:"ตัวหนา",italic:"ตัวเอียง",underline:"ขีดเส้นใต้",clear:"ล้างรูปแบบตัวอักษร",height:"ความสูงบรรทัด",name:"แบบตัวอักษร",strikethrough:"ขีดฆ่า",subscript:"ตัวห้อย",superscript:"ตัวยก",size:"ขนาดตัวอักษร"},image:{image:"รูปภาพ",insert:"แทรกรูปภาพ",resizeFull:"ปรับขนาดเท่าจริง",resizeHalf:"ปรับขนาดลง 50%",resizeQuarter:"ปรับขนาดลง 25%",floatLeft:"ชิดซ้าย",floatRight:"ชิดขวา",floatNone:"ไม่จัดตำแหน่ง",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"ลากรูปภาพที่ต้องการไว้ที่นี่",dropImage:"วางรูปภาพหรือข้อความ",selectFromFiles:"เลือกไฟล์รูปภาพ",maximumFileSize:"ขนาดไฟล์ใหญ่สุด",maximumFileSizeError:"ไฟล์เกินขนาดที่กำหนด",url:"ที่อยู่ URL ของรูปภาพ",remove:"ลบรูปภาพ",original:"Original"},video:{video:"วีดีโอ",videoLink:"ลิงก์ของวีดีโอ",insert:"แทรกวีดีโอ",url:"ที่อยู่ URL ของวีดีโอ",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion หรือ Youku)"},link:{link:"ตัวเชื่อมโยง",insert:"แทรกตัวเชื่อมโยง",unlink:"ยกเลิกตัวเชื่อมโยง",edit:"แก้ไข",textToDisplay:"ข้อความที่ให้แสดง",url:"ที่อยู่เว็บไซต์ที่ต้องการให้เชื่อมโยงไปถึง?",openInNewWindow:"เปิดในหน้าต่างใหม่"},table:{table:"ตาราง",addRowAbove:"เพิ่มแถวด้านบน",addRowBelow:"เพิ่มแถวด้านล่าง",addColLeft:"เพิ่มคอลัมน์ด้านซ้าย",addColRight:"เพิ่มคอลัมน์ด้านขวา",delRow:"ลบแถว",delCol:"ลบคอลัมน์",delTable:"ลบตาราง"},hr:{insert:"แทรกเส้นคั่น"},style:{style:"รูปแบบ",p:"ปกติ",blockquote:"ข้อความ",pre:"โค้ด",h1:"หัวข้อ 1",h2:"หัวข้อ 2",h3:"หัวข้อ 3",h4:"หัวข้อ 4",h5:"หัวข้อ 5",h6:"หัวข้อ 6"},lists:{unordered:"รายการแบบไม่มีลำดับ",ordered:"รายการแบบมีลำดับ"},options:{help:"ช่วยเหลือ",fullscreen:"ขยายเต็มหน้าจอ",codeview:"ซอร์สโค้ด"},paragraph:{paragraph:"ย่อหน้า",outdent:"เยื้องซ้าย",indent:"เยื้องขวา",left:"จัดหน้าชิดซ้าย",center:"จัดหน้ากึ่งกลาง",right:"จัดหน้าชิดขวา",justify:"จัดบรรทัดเสมอกัน"},color:{recent:"สีที่ใช้ล่าสุด",more:"สีอื่นๆ",background:"สีพื้นหลัง",foreground:"สีพื้นหน้า",transparent:"โปร่งแสง",setTransparent:"ตั้งค่าความโปร่งแสง",reset:"คืนค่า",resetToDefault:"คืนค่ามาตรฐาน"},shortcut:{shortcuts:"แป้นลัด",close:"ปิด",textFormatting:"การจัดรูปแบบข้อความ",action:"การกระทำ",paragraphFormatting:"การจัดรูปแบบย่อหน้า",documentStyle:"รูปแบบของเอกสาร",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"ทำตัวหนา",italic:"ทำตัวเอียง",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H1",formatH2:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H2",formatH3:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H3",formatH4:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H4",formatH5:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H5",formatH6:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"เปิดหน้าแก้ไข Link"},history:{undo:"ยกเลิกการกระทำ",redo:"ทำซ้ำการกระทำ"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],205:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"tr-TR":{font:{bold:"Kalın",italic:"İtalik",underline:"Altı çizili",clear:"Temizle",height:"Satır yüksekliği",name:"Yazı Tipi",strikethrough:"Üstü çizili",subscript:"Alt Simge",superscript:"Üst Simge",size:"Yazı tipi boyutu"},image:{image:"Resim",insert:"Resim ekle",resizeFull:"Orjinal boyut",resizeHalf:"1/2 boyut",resizeQuarter:"1/4 boyut",floatLeft:"Sola hizala",floatRight:"Sağa hizala",floatNone:"Hizalamayı kaldır",shapeRounded:"Şekil: Yuvarlatılmış Köşe",shapeCircle:"Şekil: Daire",shapeThumbnail:"Şekil: K.Resim",shapeNone:"Şekil: Yok",dragImageHere:"Buraya sürükleyin",dropImage:"Resim veya metni bırakın",selectFromFiles:"Dosya seçin",maximumFileSize:"Maksimum dosya boyutu",maximumFileSizeError:"Maksimum dosya boyutu aşıldı.",url:"Resim bağlantısı",remove:"Resimi Kaldır",original:"Original"},video:{video:"Video",videoLink:"Video bağlantısı",insert:"Video ekle",url:"Video bağlantısı?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion veya Youku)"},link:{link:"Bağlantı",insert:"Bağlantı ekle",unlink:"Bağlantıyı kaldır",edit:"Bağlantıyı düzenle",textToDisplay:"Görüntülemek için",url:"Bağlantı adresi?",openInNewWindow:"Yeni pencerede aç"},table:{table:"Tablo",addRowAbove:"Yukarı satır ekle",addRowBelow:"Aşağı satır ekle",addColLeft:"Sola sütun ekle",addColRight:"Sağa sütun ekle",delRow:"Satırı sil",delCol:"Sütunu sil",delTable:"Tabloyu sil"},hr:{insert:"Yatay çizgi ekle"},style:{style:"Biçim",p:"p",blockquote:"Alıntı",pre:"Önbiçimli",h1:"Başlık 1",h2:"Başlık 2",h3:"Başlık 3",h4:"Başlık 4",h5:"Başlık 5",h6:"Başlık 6"},lists:{unordered:"Madde işaretli liste",ordered:"Numaralı liste"},options:{help:"Yardım",fullscreen:"Tam ekran",codeview:"HTML Kodu"},paragraph:{paragraph:"Paragraf",outdent:"Girintiyi artır",indent:"Girintiyi azalt",left:"Sola hizala",center:"Ortaya hizala",right:"Sağa hizala",justify:"Yasla"},color:{recent:"Son renk",more:"Daha fazla renk",background:"Arka plan rengi",foreground:"Yazı rengi",transparent:"Seffaflık",setTransparent:"Şeffaflığı ayarla",reset:"Sıfırla",resetToDefault:"Varsayılanlara sıfırla"},shortcut:{shortcuts:"Kısayollar",close:"Kapat",textFormatting:"Yazı biçimlendirme",action:"Eylem",paragraphFormatting:"Paragraf biçimlendirme",documentStyle:"Biçim",extraKeys:"İlave anahtarlar"},help:{insertParagraph:"Paragraf ekler",undo:"Son komudu geri alır",redo:"Son komudu yineler",tab:"Girintiyi artırır",untab:"Girintiyi azaltır",bold:"Kalın yazma stilini ayarlar",italic:"İtalik yazma stilini ayarlar",underline:"Altı çizgili yazma stilini ayarlar",strikethrough:"Üstü çizgili yazma stilini ayarlar",removeFormat:"Biçimlendirmeyi temizler",justifyLeft:"Yazıyı sola hizalar",justifyCenter:"Yazıyı ortalar",justifyRight:"Yazıyı sağa hizalar",justifyFull:"Yazıyı her iki tarafa yazlar",insertUnorderedList:"Madde işaretli liste ekler",insertOrderedList:"Numaralı liste ekler",outdent:"Aktif paragrafın girintisini azaltır",indent:"Aktif paragrafın girintisini artırır",formatPara:"Aktif bloğun biçimini paragraf (p) olarak değiştirir",formatH1:"Aktif bloğun biçimini başlık 1 (h1) olarak değiştirir",formatH2:"Aktif bloğun biçimini başlık 2 (h2) olarak değiştirir",formatH3:"Aktif bloğun biçimini başlık 3 (h3) olarak değiştirir",formatH4:"Aktif bloğun biçimini başlık 4 (h4) olarak değiştirir",formatH5:"Aktif bloğun biçimini başlık 5 (h5) olarak değiştirir",formatH6:"Aktif bloğun biçimini başlık 6 (h6) olarak değiştirir",insertHorizontalRule:"Yatay çizgi ekler","linkDialog.show":"Bağlantı ayar kutusunu gösterir"},history:{undo:"Geri al",redo:"Yinele"},specialChar:{specialChar:"ÖZEL KARAKTERLER",select:"Özel Karakterleri seçin"}}})},{}],206:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"uk-UA":{font:{bold:"Напівжирний",italic:"Курсив",underline:"Підкреслений",clear:"Прибрати стилі шрифту",height:"Висота лінії",name:"Шрифт",strikethrough:"Закреслений",subscript:"Нижній індекс",superscript:"Верхній індекс",size:"Розмір шрифту"},image:{image:"Картинка",insert:"Вставити картинку",resizeFull:"Відновити розмір",resizeHalf:"Зменшити до 50%",resizeQuarter:"Зменшити до 25%",floatLeft:"Розташувати ліворуч",floatRight:"Розташувати праворуч",floatNone:"Початкове розташування",shapeRounded:"Форма: Заокруглена",shapeCircle:"Форма: Коло",shapeThumbnail:"Форма: Мініатюра",shapeNone:"Форма: Немає",dragImageHere:"Перетягніть сюди картинку",dropImage:"Перетягніть картинку",selectFromFiles:"Вибрати з файлів",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL картинки",remove:"Видалити картинку",original:"Original"},video:{video:"Відео",videoLink:"Посилання на відео",insert:"Вставити відео",url:"URL відео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion чи Youku)"},link:{link:"Посилання",insert:"Вставити посилання",unlink:"Прибрати посилання",edit:"Редагувати",textToDisplay:"Текст, що відображається",url:"URL для переходу",openInNewWindow:"Відкривати у новому вікні"},table:{table:"Таблиця",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Вставити горизонтальну лінію"},style:{style:"Стиль",p:"Нормальний",blockquote:"Цитата",pre:"Код",h1:"Заголовок 1",h2:"Заголовок 2",h3:"Заголовок 3",h4:"Заголовок 4",h5:"Заголовок 5",h6:"Заголовок 6"},lists:{unordered:"Маркований список",ordered:"Нумерований список"},options:{help:"Допомога",fullscreen:"На весь екран",codeview:"Початковий код"},paragraph:{paragraph:"Параграф",outdent:"Зменшити відступ",indent:"Збільшити відступ",left:"Вирівняти по лівому краю",center:"Вирівняти по центру",right:"Вирівняти по правому краю",justify:"Розтягнути по ширині"},color:{recent:"Останній колір",more:"Ще кольори",background:"Колір фону",foreground:"Колір шрифту",transparent:"Прозорий",setTransparent:"Зробити прозорим",reset:"Відновити",resetToDefault:"Відновити початкові"},shortcut:{shortcuts:"Комбінації клавіш",close:"Закрити",textFormatting:"Форматування тексту",action:"Дія",paragraphFormatting:"Форматування параграфу",documentStyle:"Стиль документу",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Відмінити",redo:"Повторити"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],207:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"uz-UZ":{font:{bold:"қалин",italic:"Курсив",underline:"Белгиланган",clear:"Ҳарф турларини олиб ташлаш",height:"Чизиқ баландлиги",name:"Ҳарф",strikethrough:"Ўчирилган",subscript:"Пастки индекс",superscript:"Юқори индекс",size:"ҳарф ҳажми"},image:{image:"Расм",insert:"расмни қўйиш",resizeFull:"Ҳажмни тиклаш",resizeHalf:"50% гача кичрайтириш",resizeQuarter:"25% гача кичрайтириш",floatLeft:"Чапда жойлаштириш",floatRight:"Ўнгда жойлаштириш",floatNone:"Стандарт бўйича жойлашув",shapeRounded:"Шакли: Юмалоқ",shapeCircle:"Шакли: Доира",shapeThumbnail:"Шакли: Миниатюра",shapeNone:"Шакли: Йўқ",dragImageHere:"Суратни кўчириб ўтинг",dropImage:"Суратни кўчириб ўтинг",selectFromFiles:"Файллардан бирини танлаш",url:"суратлар URL и",remove:"Суратни ўчириш"},video:{video:"Видео",videoLink:"Видеога ҳавола",insert:"Видео",url:"URL видео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)"},link:{link:"Ҳавола",insert:"Ҳаволани қўйиш",unlink:"Ҳаволани олиб ташлаш",edit:"Таҳрир қилиш",textToDisplay:"Кўринадиган матн",url:"URL ўтиш учун",openInNewWindow:"Янги дарчада очиш"},table:{table:"Жадвал"},hr:{insert:"Горизонтал чизиқни қўйиш"},style:{style:"Услуб",p:"Яхши",blockquote:"Жумла",pre:"Код",h1:"Сарлавҳа 1",h2:"Сарлавҳа  2",h3:"Сарлавҳа  3",h4:"Сарлавҳа  4",h5:"Сарлавҳа  5",h6:"Сарлавҳа  6"},lists:{unordered:"Белгиланган рўйҳат",ordered:"Рақамланган рўйҳат"},options:{help:"Ёрдам",fullscreen:"Бутун экран бўйича",codeview:"Бошланғич код"},paragraph:{paragraph:"Параграф",outdent:"Орқага қайтишни камайтириш",indent:"Орқага қайтишни кўпайтириш",left:"Чап қирғоққа тўғрилаш",center:"Марказга тўғрилаш",right:"Ўнг қирғоққа тўғрилаш",justify:"Эни бўйлаб чўзиш"},color:{recent:"Охирги ранг",more:"Яна ранглар",background:"Фон  ранги",foreground:"Ҳарф ранги",transparent:"Шаффоф",setTransparent:"Шаффофдай қилиш",reset:"Бекор қилиш",resetToDefault:"Стандартга оид тиклаш"},shortcut:{shortcuts:"Клавишларнинг ҳамохҳанглиги",close:"Ёпиқ",textFormatting:"Матнни ",action:"Ҳаркат",paragraphFormatting:"Параграфни форматлаш",documentStyle:"Ҳужжатнинг тури",extraKeys:"Қўшимча имкониятлар"},history:{undo:"Бекор қилиш",redo:"Қайтариш"}}})},{}],208:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"vi-VN":{font:{bold:"In Đậm",italic:"In Nghiêng",underline:"Gạch dưới",clear:"Bỏ định dạng",height:"Chiều cao dòng",name:"Phông chữ",strikethrough:"Gạch ngang",subscript:"Subscript",superscript:"Superscript",size:"Cỡ chữ"},image:{image:"Hình ảnh",insert:"Chèn",resizeFull:"100%",resizeHalf:"50%",resizeQuarter:"25%",floatLeft:"Trôi về trái",floatRight:"Trôi về phải",floatNone:"Không trôi",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Thả Ảnh ở vùng này",dropImage:"Drop image or Text",selectFromFiles:"Chọn từ File",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL",remove:"Xóa",original:"Original"},video:{video:"Video",videoLink:"Link đến Video",insert:"Chèn Video",url:"URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion và Youku)"},link:{link:"Link",insert:"Chèn Link",unlink:"Gỡ Link",edit:"Sửa",textToDisplay:"Văn bản hiển thị",url:"URL",openInNewWindow:"Mở ở Cửa sổ mới"},table:{table:"Bảng",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Chèn"},style:{style:"Kiểu chữ",p:"Chữ thường",blockquote:"Đoạn trích",pre:"Mã Code",h1:"H1",h2:"H2",h3:"H3",h4:"H4",h5:"H5",h6:"H6"},lists:{unordered:"Liệt kê danh sách",ordered:"Liệt kê theo thứ tự"},options:{help:"Trợ giúp",fullscreen:"Toàn Màn hình",codeview:"Xem Code"},paragraph:{paragraph:"Canh lề",outdent:"Dịch sang trái",indent:"Dịch sang phải",left:"Canh trái",center:"Canh giữa",right:"Canh phải",justify:"Canh đều"},color:{recent:"Màu chữ",more:"Mở rộng",background:"Màu nền",foreground:"Màu chữ",transparent:"trong suốt",setTransparent:"Nền trong suốt",reset:"Thiết lập lại",resetToDefault:"Trở lại ban đầu"},shortcut:{shortcuts:"Phím tắt",close:"Đóng",textFormatting:"Định dạng Văn bản",action:"Hành động",paragraphFormatting:"Định dạng",documentStyle:"Kiểu văn bản",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Lùi lại",redo:"Làm lại"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],209:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"zh-CN":{font:{bold:"粗体",italic:"斜体",underline:"下划线",clear:"清除格式",height:"行高",name:"字体",strikethrough:"删除线",subscript:"下标",superscript:"上标",size:"字号"},image:{image:"图片",insert:"插入图片",resizeFull:"缩放至 100%",resizeHalf:"缩放至 50%",resizeQuarter:"缩放至 25%",floatLeft:"靠左浮动",floatRight:"靠右浮动",floatNone:"取消浮动",shapeRounded:"形状: 圆角",shapeCircle:"形状: 圆",shapeThumbnail:"形状: 缩略图",shapeNone:"形状: 无",dragImageHere:"将图片拖拽至此处",dropImage:"拖拽图片或文本",selectFromFiles:"从本地上传",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"图片地址",remove:"移除图片",original:"原始图片"},video:{video:"视频",videoLink:"视频链接",insert:"插入视频",url:"视频地址",providers:"(优酷, 腾讯, Instagram, DailyMotion, Youtube等)"},link:{link:"链接",insert:"插入链接",unlink:"去除链接",edit:"编辑链接",textToDisplay:"显示文本",url:"链接地址",openInNewWindow:"在新窗口打开"},table:{table:"表格",addRowAbove:"在上方插入行",addRowBelow:"在下方插入行",addColLeft:"在左侧插入列",addColRight:"在右侧插入列",delRow:"删除行",delCol:"删除列",delTable:"删除表格"},hr:{insert:"水平线"},style:{style:"样式",p:"普通",blockquote:"引用",pre:"代码",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},lists:{unordered:"无序列表",ordered:"有序列表"},options:{help:"帮助",fullscreen:"全屏",codeview:"源代码"},paragraph:{paragraph:"段落",outdent:"减少缩进",indent:"增加缩进",left:"左对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},color:{recent:"最近使用",more:"更多",background:"背景",foreground:"前景",transparent:"透明",setTransparent:"透明",reset:"重置",resetToDefault:"默认"},shortcut:{shortcuts:"快捷键",close:"关闭",textFormatting:"文本格式",action:"动作",paragraphFormatting:"段落格式",documentStyle:"文档样式",extraKeys:"额外按键"},help:{insertParagraph:"插入段落",undo:"撤销",redo:"重做",tab:"增加缩进",untab:"减少缩进",bold:"粗体",italic:"斜体",underline:"下划线",strikethrough:"删除线",removeFormat:"清除格式",justifyLeft:"左对齐",justifyCenter:"居中对齐",justifyRight:"右对齐",justifyFull:"两端对齐",insertUnorderedList:"无序列表",insertOrderedList:"有序列表",outdent:"减少缩进",indent:"增加缩进",formatPara:"设置选中内容样式为 普通",formatH1:"设置选中内容样式为 标题1",formatH2:"设置选中内容样式为 标题2",formatH3:"设置选中内容样式为 标题3",formatH4:"设置选中内容样式为 标题4",formatH5:"设置选中内容样式为 标题5",formatH6:"设置选中内容样式为 标题6",insertHorizontalRule:"插入水平线","linkDialog.show":"显示链接对话框"},history:{undo:"撤销",redo:"重做"},specialChar:{specialChar:"特殊字符",select:"选取特殊字符"}}})},{}],210:[function(e,t,n){var i;(i=jQuery).extend(i.summernote.lang,{"zh-TW":{font:{bold:"粗體",italic:"斜體",underline:"底線",clear:"清除格式",height:"行高",name:"字體",strikethrough:"刪除線",subscript:"下標",superscript:"上標",size:"字號"},image:{image:"圖片",insert:"插入圖片",resizeFull:"縮放至100%",resizeHalf:"縮放至 50%",resizeQuarter:"縮放至 25%",floatLeft:"靠左浮動",floatRight:"靠右浮動",floatNone:"取消浮動",shapeRounded:"形狀: 圓角",shapeCircle:"形狀: 圓",shapeThumbnail:"形狀: 縮略圖",shapeNone:"形狀: 無",dragImageHere:"將圖片拖曳至此處",dropImage:"Drop image or Text",selectFromFiles:"從本機上傳",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"圖片網址",remove:"移除圖片",original:"Original"},video:{video:"影片",videoLink:"影片連結",insert:"插入影片",url:"影片網址",providers:"(優酷, Instagram, DailyMotion, Youtube等)"},link:{link:"連結",insert:"插入連結",unlink:"取消連結",edit:"編輯連結",textToDisplay:"顯示文字",url:"連結網址",openInNewWindow:"在新視窗開啟"},table:{table:"表格",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"水平線"},style:{style:"樣式",p:"一般",blockquote:"引用區塊",pre:"程式碼區塊",h1:"標題 1",h2:"標題 2",h3:"標題 3",h4:"標題 4",h5:"標題 5",h6:"標題 6"},lists:{unordered:"項目清單",ordered:"編號清單"},options:{help:"幫助",fullscreen:"全螢幕",codeview:"原始碼"},paragraph:{paragraph:"段落",outdent:"取消縮排",indent:"增加縮排",left:"靠右對齊",center:"靠中對齊",right:"靠右對齊",justify:"左右對齊"},color:{recent:"字型顏色",more:"更多",background:"背景",foreground:"前景",transparent:"透明",setTransparent:"透明",reset:"重設",resetToDefault:"默認"},shortcut:{shortcuts:"快捷鍵",close:"關閉",textFormatting:"文字格式",action:"動作",paragraphFormatting:"段落格式",documentStyle:"文件格式",extraKeys:"額外按鍵"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"復原",redo:"取消復原"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})},{}],211:[function(e,t,n){var i;i=function(l){var c=l.summernote.ui,o=l.summernote.dom;l.extend(!0,l.summernote,{plugins:{databasic:function(r){var a=this,i=r.options,s=i.langInfo;a.icon='<i class="fa fa-object-group"/>',r.memo("button.databasic",function(){return c.button({contents:a.icon,tooltip:s.databasic.insert,click:r.createInvokeHandler("databasic.showDialog")}).render()}),r.memo("button.databasicDialog",function(){return c.button({contents:a.icon,tooltip:s.databasic.edit,click:r.createInvokeHandler("databasic.showDialog")}).render()}),r.memo("button.databasicSize100",function(){return c.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:s.image.resizeFull,click:r.createInvokeHandler("editor.resize","1")}).render()}),r.memo("button.databasicSize50",function(){return c.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:s.image.resizeHalf,click:r.createInvokeHandler("editor.resize","0.5")}).render()}),r.memo("button.databasicSize25",function(){return c.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:s.image.resizeQuarter,click:r.createInvokeHandler("editor.resize","0.25")}).render()}),a.events={"summernote.init":function(e,t){l("data.ext-databasic",t.editable).each(function(){a.setContent(l(this))})},"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){a.update()},"summernote.dialog.shown":function(){a.hidePopover()}},a.initialize=function(){var e=i.dialogsInBody?l(document.body):r.layoutInfo.editor,t='<div class="form-group row-fluid"><label>'+s.databasic.testLabel+'</label><input class="ext-databasic-test form-control" type="text" /></div>',n='<button href="#" class="btn btn-primary ext-databasic-save">'+s.databasic.insert+"</button>";a.$dialog=c.dialog({title:s.databasic.name,fade:i.dialogsFade,body:t,footer:n}).render().appendTo(e),a.$popover=c.popover({className:"ext-databasic-popover"}).render().appendTo("body");e=a.$popover.find(".popover-content");r.invoke("buttons.build",e,i.popover.databasic)},a.destroy=function(){a.$popover.remove(),a.$popover=null,a.$dialog.remove(),a.$dialog=null},a.update=function(){var e,t,n;r.invoke("editor.hasFocus")?(e=!1,!(n=r.invoke("editor.createRange")).isOnData()||(t=l(n.sc).closest("data.ext-databasic")).length&&(n=o.posFromPlaceholder(t[0]),a.$popover.css({display:"block",left:n.left,top:n.top}),r.invoke("editor.saveTarget",t[0]),e=!0),e||a.hidePopover()):a.hidePopover()},a.hidePopover=function(){a.$popover.hide()},a.getInfo=function(){var e=r.invoke("editor.createRange");if(e.isOnData()){e=l(e.sc).closest("data.ext-databasic");if(e.length)return{node:e,test:e.attr("data-test")}}return{}},a.setContent=function(e){e.html('<p contenteditable="false">'+a.icon+" "+s.databasic.name+": "+e.attr("data-test")+"</p>")},a.updateNode=function(e){a.setContent(e.node.attr("data-test",e.test))},a.createNode=function(e){var t=l('<data class="ext-databasic"></data>');return t&&(e.node=t,r.invoke("editor.insertNode",t[0])),t},a.showDialog=function(){var t=a.getInfo(),n=!t.node;r.invoke("editor.saveRange"),a.openDialog(t).then(function(e){c.hideDialog(a.$dialog),r.invoke("editor.restoreRange"),n&&a.createNode(t),l.extend(t,e),a.updateNode(t)}).fail(function(){r.invoke("editor.restoreRange")})},a.openDialog=function(o){return l.Deferred(function(t){function e(e){13===e.keyCode&&i.trigger("click")}var n=a.$dialog.find(".ext-databasic-test"),i=a.$dialog.find(".ext-databasic-save");c.onDialogShown(a.$dialog,function(){r.triggerEvent("dialog.shown"),n.val(o.test).on("input",function(){c.toggleBtn(i,n.val())}).trigger("focus").on("keyup",e),i.text(o.node?s.databasic.edit:s.databasic.insert).click(function(e){e.preventDefault(),t.resolve({test:n.val()})}),c.toggleBtn(i,n.val())}),c.onDialogHidden(a.$dialog,function(){n.off("input keyup"),i.off("click"),"pending"===t.state()&&t.reject()}),c.showDialog(a.$dialog)})}}},options:{popover:{databasic:[["databasic",["databasicDialog","databasicSize100","databasicSize50","databasicSize25"]]]}},lang:{"en-US":{databasic:{name:"Basic Data Container",insert:"insert basic data container",edit:"edit basic data container",testLabel:"test input"}}}})},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof t&&t.exports?t.exports=i(e("jquery")):i(window.jQuery)},{jquery:624}],212:[function(e,t,n){var i;i=function(i){i.extend(i.summernote.plugins,{hello:function(e){var t=this,n=i.summernote.ui;e.memo("button.hello",function(){return n.button({contents:'<i class="fa fa-child"/> Hello',tooltip:"hello",click:function(){t.$panel.show(),t.$panel.hide(500),e.invoke("editor.insertText","hello")}}).render()}),this.events={"summernote.init":function(e,t){console.log("summernote initialized",e,t)},"summernote.keyup":function(e,t){console.log("summernote keyup",e,t)}},this.initialize=function(){this.$panel=i('<div class="hello-panel"/>').css({position:"absolute",width:100,height:100,left:"50%",top:"50%",background:"red"}).hide(),this.$panel.appendTo("body")},this.destroy=function(){this.$panel.remove(),this.$panel=null}}})},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof t&&t.exports?t.exports=i(e("jquery")):i(window.jQuery)},{jquery:624}],213:[function(e,t,n){var i;i=function(C){C.extend(C.summernote.plugins,{specialchars:function(t){var h=this,f=C.summernote.ui,n=t.layoutInfo.editor,i=t.options,o=i.langInfo,m=38,g=40,v=37,y=39,b=13,x=0,w=0,k=0,E=0,e=["&quot;","&amp;","&lt;","&gt;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&times;","&divide;","&fnof;","&circ;","&tilde;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&bull;","&hellip;","&permil;","&prime;","&Prime;","&lsaquo;","&rsaquo;","&oline;","&frasl;","&euro;","&image;","&weierp;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lArr;","&uArr;","&rArr;","&dArr;","&hArr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&loz;","&spades;","&clubs;","&hearts;","&diams;"];t.memo("button.specialchars",function(){return f.button({contents:'<i class="fa fa-font fa-flip-vertical">',tooltip:o.specialChar.specialChar,click:function(){h.show()}}).render()}),this.makeSpecialCharSetTable=function(){var r=C("<table/>");return C.each(e,function(e,t){var n=C("<td/>").addClass("note-specialchar-node"),i=e%15==0?C("<tr/>"):r.find("tr").last(),o=f.button({callback:function(e){e.html(t),e.attr("title",t),e.attr("data-value",encodeURIComponent(t)),e.css({width:35,"margin-right":"2px","margin-bottom":"2px"})}}).render();n.append(o),i.append(n),e%15==0&&r.append(i)}),E=r.find("tr").length,k=15,r},this.initialize=function(){var e=i.dialogsInBody?C(document.body):n,t='<div class="form-group row-fluid">'+this.makeSpecialCharSetTable()[0].outerHTML+"</div>";this.$dialog=f.dialog({title:o.specialChar.select,body:t}).render().appendTo(e)},this.show=function(){var e=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange"),this.showSpecialCharDialog(e).then(function(e){t.invoke("editor.restoreRange");e=C("<span></span>").html(e)[0];e&&t.invoke("editor.insertNode",e)}).fail(function(){t.invoke("editor.restoreRange")})},this.showSpecialCharDialog=function(p){return C.Deferred(function(t){var n=h.$dialog,r=n.find(".note-specialchar-node"),a=null,i=[m,g,v,y],o=b;function s(e){e&&(e.find("button").addClass("active"),a=e)}function l(e){e.find("button").removeClass("active"),a=null}function c(e){var n,i,o,t=r.length%k;v===e?1<x?x-=1:1===w&&1===x?(x=t,w=E):(x=k,w-=1):y===e?w===E&&t===x?w=x=1:x<k?x+=1:w+=x=1:m===e?1===w&&t<x?w=E-1:w-=1:g===e&&(w+=1),w===E&&t<x||E<w?w=1:w<1&&(w=E),n=w,i=x,o=null,C.each(r,function(e,t){if(Math.ceil((e+1)/15)===n&&((e+1)%15==0?15:(e+1)%15)===i)return o=t,!1}),(t=C(o))&&(l(a),s(t))}function e(e){e.preventDefault();e=e.keyCode;if(null!=e){if(-1<i.indexOf(e)){if(null===a)return s(r.eq(0)),void(w=x=1);c(e)}else e===o&&a&&(t.resolve(decodeURIComponent(a.find("button").attr("data-value"))),n.modal("hide"));return!1}}if(l(r),p)for(var u=0;u<r.length;u++){var d=C(r[u]);d.text()===p&&(s(d),w=Math.ceil((u+1)/15),x=(u+1)%15)}f.onDialogShown(h.$dialog,function(){C(document).on("keydown",e),h.$dialog.find("button").tooltip(),r.on("click",function(e){e.preventDefault(),t.resolve(decodeURIComponent(C(e.currentTarget).find("button").attr("data-value"))),f.hideDialog(h.$dialog)})}),f.onDialogHidden(h.$dialog,function(){r.off("click"),h.$dialog.find("button").tooltip("destroy"),C(document).off("keydown",e),"pending"===t.state()&&t.reject()}),f.showDialog(h.$dialog)})}}})},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof t&&t.exports?t.exports=i(e("jquery")):i(window.jQuery)},{jquery:624}],214:[function(e,t,n){var i,o;i=this,o=function(b){"use strict";b=b&&b.hasOwnProperty("default")?b.default:b;var o=(e.prototype.render=function(e){var t,n=b(this.markup);return this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&b.each(this.options.data,function(e,t){n.attr("data-"+e,t)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children&&(t=n.find(".note-children-container"),this.children.forEach(function(e){e.render(t.length?t:n)})),this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n},e);function e(e,t,n,i){this.markup=e,this.children=t,this.options=n,this.callback=i}var n=function(n,i){return function(){var e="object"==typeof arguments[1]?arguments[1]:arguments[0],t=Array.isArray(arguments[0])?arguments[0]:[];return e&&e.children&&(t=e.children),new o(n,t,e,i)}},t=n('<div class="note-editor note-frame card"/>'),i=n('<div class="note-toolbar card-header" role="toolbar"></div>'),r=n('<div class="note-editing-area"/>'),a=n('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),s=n('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),l=n(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),c=n('<div class="note-editor"/>'),u=n(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),d=n('<div class="note-btn-group btn-group">'),p=n('<div class="dropdown-menu" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e,e="object"==typeof e?e.option:void 0;return'<a class="dropdown-item" href="#" '+('data-value="'+t+'"')+(void 0!==e?' data-option="'+e+'"':"")+' role="listitem" aria-label="'+t+'">'+n+"</a>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),h=n('<div class="dropdown-menu note-check" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e;return'<a class="dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+e+'">'+y(i.checkClassName)+" "+n+"</a>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),f=n('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),m=n('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <h4 class="modal-title">'+t.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),g=n(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),v=n('<div class="form-check"></div>',function(e,t){e.html(['<label class="form-check-label"'+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox" class="form-check-input"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-label="'+(t.text||"")+'"',' aria-checked="'+(t.checked?"true":"false")+'"/>'," "+(t.text||"")+"</label>"].join(""))}),y=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},x={editor:t,toolbar:i,editingArea:r,codable:a,editable:s,statusbar:l,airEditor:c,airEditable:u,buttonGroup:d,dropdown:p,dropdownButtonContents:function(e){return e},dropdownCheck:h,palette:f,dialog:m,popover:g,icon:y,checkbox:v,options:{},button:function(e,t){return n('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:void 0!==t.container?t.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(e){b(e.currentTarget).tooltip("hide")})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){t=(t.airMode?x.airEditor([x.editingArea([x.airEditable()])]):x.editor([x.toolbar(),x.editingArea([x.codable(),x.editable()]),x.statusbar()])).render();return t.insertAfter(e),{note:e,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};b.summernote=b.summernote||{lang:{}},b.extend(b.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var w="function"==typeof define&&define.amd;var k=navigator.userAgent,E=/MSIE|Trident/i.test(k);E&&((et=/MSIE (\d+[.]\d+)/.exec(k))&&(rt=parseFloat(et[1])),(et=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(k))&&(rt=parseFloat(et[1])));var C=/Edge\/\d+/.test(k),S=!!window.CodeMirror,t="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,i=E||C?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",T={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:E,isEdge:C,isFF:!C&&/firefox/i.test(k),isPhantom:/PhantomJS/i.test(k),isWebkit:!C&&/webkit/i.test(k),isChrome:!C&&/chrome/i.test(k),isSafari:!C&&/safari/i.test(k),browserVersion:rt,jqueryVersion:parseFloat(b.fn.jquery),isSupportAmd:w,isSupportTouch:t,hasCodeMirror:S,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",i=document.createElement("canvas").getContext("2d");i.font="200px '"+t+"'";var o=i.measureText(n).width;return i.font="200px '"+e+"', '"+t+"'",o!==i.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:i};var _=0;var N={eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++_+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function A(e){return e[0]}function P(e){return e[e.length-1]}function I(e){return e.slice(1)}function R(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var M={head:A,last:P,initial:function(e){return e.slice(0,e.length-1)},tail:I,prev:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t-1]}return null},next:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t+1]}return null},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:R,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||N.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,i){return e.length?I(e).reduce(function(e,t){var n=P(e);return i(P(n),t)?n[n.length]=t:e[e.length]=[t],e},[[e[0]]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)R(t,e[n])||t.push(e[n]);return t}},L=String.fromCharCode(160);function D(e){return e&&b(e).hasClass("note-editable")}function j(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function F(e){return e&&3===e.nodeType}function O(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function B(e){return!D(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))}var r=j("PRE"),H=j("LI");var z=j("TABLE"),U=j("DATA");function V(e){return!(Y(e)||q(e)||W(e)||B(e)||z(e)||G(e)||U(e))}function q(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var W=j("HR");function K(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var G=j("BLOCKQUOTE");function Y(e){return K(e)||G(e)||D(e)}a=j("A");s=j("BODY");var X=T.isMSIE&&T.browserVersion<11?"&nbsp;":"<br>";function Q(e){return F(e)?e.nodeValue.length:e?e.childNodes.length:0}function Z(e){var t=Q(e);return 0===t||(!F(e)&&1===t&&e.innerHTML===X||!(!M.all(e.childNodes,F)||""!==e.innerHTML))}function J(e){O(e)||Q(e)||(e.innerHTML=X)}function ee(e,t){for(;e;){if(t(e))return e;if(D(e))break;e=e.parentNode}return null}function te(e,t){t=t||N.fail;var n=[];return ee(e,function(e){return D(e)||n.push(e),t(e)}),n}function ne(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function ie(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function oe(n,e){return b.each(e,function(e,t){n.appendChild(t)}),n}function re(e){return 0===e.offset}function ae(e){return e.offset===Q(e.node)}function se(e){return re(e)||ae(e)}function le(e,t){for(;e&&e!==t;){if(0!==ue(e))return!1;e=e.parentNode}return!0}function ce(e,t){if(!t)return!1;for(;e&&e!==t;){if(ue(e)!==Q(e.parentNode)-1)return!1;e=e.parentNode}return!0}function ue(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function de(e){return!!(e&&e.childNodes&&e.childNodes.length)}function pe(e,t){var n,i;if(0===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)}else i=de(e.node)?Q(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:i}}function he(e,t){var n,i;if(Q(e.node)===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)+1}else i=de(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?Q(e.node):e.offset+1);return{node:n,offset:i}}function fe(e,t){return e.node===t.node&&e.offset===t.offset}function me(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),se(e)&&(F(e.node)||i)){if(re(e))return e.node;if(ae(e))return e.node.nextSibling}if(F(e.node))return e.node.splitText(e.offset);t=e.node.childNodes[e.offset],i=ie(e.node.cloneNode(!1),e.node);return oe(i,ne(t)),n||(J(e.node),J(i)),o&&(Z(e.node)&&ye(e.node),Z(i))?(ye(i),e.node.nextSibling):i}function ge(e,n,i){e=te(n.node,N.eq(e));return e.length?1===e.length?me(n,i):e.reduce(function(e,t){return e===n.node&&(e=me(n,i)),me({node:t,offset:e?ue(e):Q(t)},i)}):null}function ve(e){return document.createElement(e)}function ye(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}}var be=j("TEXTAREA");function xe(e,t){e=be(e[0])?e.val():e.html();return t?e.replace(/[\n\r]/g,""):e}var we={NBSP_CHAR:L,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:X,emptyPara:"<p>"+X+"</p>",makePredByNodeName:j,isEditable:D,isControlSizing:function(e){return e&&b(e).hasClass("note-control-sizing")},isText:F,isElement:function(e){return e&&1===e.nodeType},isVoid:O,isPara:B,isPurePara:function(e){return B(e)&&!H(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:V,isBlock:N.not(V),isBodyInline:function(e){return V(e)&&!ee(e,B)},isBody:s,isParaInline:function(e){return V(e)&&!!ee(e,B)},isPre:r,isList:q,isTable:z,isData:U,isCell:K,isBlockquote:G,isBodyContainer:Y,isAnchor:a,isDiv:j("DIV"),isLi:H,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:be,isEmpty:Z,isEmptyAnchor:N.and(a,Z),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||N.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:Q,isLeftEdgePoint:re,isRightEdgePoint:ae,isEdgePoint:se,isLeftEdgeOf:le,isRightEdgeOf:ce,isLeftEdgePointOf:function(e,t){return re(e)&&le(e.node,t)},isRightEdgePointOf:function(e,t){return ae(e)&&ce(e.node,t)},prevPoint:pe,nextPoint:he,isSamePoint:fe,isVisiblePoint:function(e){if(F(e.node)||!de(e.node)||Z(e.node))return!0;var t=e.node.childNodes[e.offset-1],e=e.node.childNodes[e.offset];return!(t&&!O(t)||e&&!O(e))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=pe(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=he(e)}return null},isCharPoint:function(e){return!!F(e.node)&&((e=e.node.nodeValue.charAt(e.offset-1))&&" "!==e&&e!==L)},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!fe(o,t));)o=he(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:ee,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===Q(e);){if(t(e))return e;if(D(e))break;e=e.parentNode}return null},listAncestor:te,lastAncestor:function(e,t){return e=te(e),M.last(e.filter(t))},listNext:ne,listPrev:function(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,r){var a=[];return r=r||N.ok,function e(t){o!==t&&r(t)&&a.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),a},commonAncestor:function(e,t){for(var n=te(e),i=t;i;i=i.parentNode)if(-1<n.indexOf(i))return i;return null},wrap:function(e,t){var n=e.parentNode,t=b("<"+t+">")[0];return n.insertBefore(t,e),t.appendChild(e),t},insertAfter:ie,appendChildNodes:oe,position:ue,hasChildren:de,makeOffsetPath:function(e,t){return te(t,N.eq(e)).map(ue).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:ge,splitPoint:function(e,t){var n,i=t?B:Y,o=te(e.node,i),r=M.last(o)||e.node,r=i(r)?(n=o[o.length-2],r):(n=r).parentNode;return{rightNode:t=!(t=n&&ge(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}))&&r===e.node?e.node.childNodes[e.offset]:t,container:r}},create:ve,createText:function(e){return document.createTextNode(e)},remove:ye,removeWhile:function(e,t){for(;e&&!D(e)&&t(e);){var n=e.parentNode;ye(e),e=n}},replace:function(e,t){return e.nodeName.toUpperCase()===t.toUpperCase()?e:(t=ve(t),e.style.cssText&&(t.style.cssText=e.style.cssText),oe(t,M.from(e.childNodes)),ie(t,e),ye(e),t)},html:function(e,t){return e=xe(e),e=t?(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();t=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(t||n?"\n":"")})).trim():e},value:xe,posFromPlaceholder:function(e){var e=(t=b(e)).offset(),t=t.outerHeight(!0);return{left:e.left,top:e.top+t}},attachEvents:function(t,n){Object.keys(n).forEach(function(e){t.on(e,n[e])})},detachEvents:function(t,n){Object.keys(n).forEach(function(e){t.off(e,n[e])})},isCustomStyleTag:function(e){return e&&!F(e)&&M.contains(e.classList,"note-styletag")}},ke=(Ee.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Ee.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Ee.prototype.reset=function(){var e=this.isDisabled();this.code(we.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},Ee.prototype._initialize=function(){var t=this,n=b.extend({},this.options.buttons);Object.keys(n).forEach(function(e){t.memo("button."+e,n[e])});var i=b.extend({},this.options.modules,b.summernote.plugins||{});Object.keys(i).forEach(function(e){t.module(e,i[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})},Ee.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)},Ee.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},Ee.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Ee.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Ee.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Ee.prototype.triggerEvent=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=this.options.callbacks[N.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},Ee.prototype.initializeModule=function(e){e=this.modules[e];e.shouldInitialize=e.shouldInitialize||N.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&we.attachEvents(this.$note,e.events))},Ee.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},Ee.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&we.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},Ee.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},Ee.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},Ee.prototype.createInvokeHandlerAndUpdateState=function(t,n){var i=this;return function(e){i.createInvokeHandler(t,n)(e),i.invoke("buttons.updateCurrentStyle")}},Ee.prototype.createInvokeHandler=function(t,n){var i=this;return function(e){e.preventDefault();e=b(e.target);i.invoke(t,n||e.closest("[data-value]").data("value"),e)}},Ee.prototype.invoke=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=e.split("."),i=1<n.length,e=i&&M.head(n),i=i?M.last(n):M.head(n),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,t):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,t):void 0},Ee);function Ee(e,t){this.ui=b.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}function Ce(e,t){for(var n,i=e.parentElement(),o=document.body.createTextRange(),r=M.from(i.childNodes),a=0;a<r.length;a++)if(!we.isText(r[a])){if(o.moveToElementText(r[a]),0<=o.compareEndPoints("StartToStart",e))break;n=r[a]}if(0!==a&&we.isText(r[a-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n);var l=n?n.nextSibling:i.firstChild,c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&we.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,a=u}return{cont:i,offset:a}}function Se(e){function r(e,t){if(we.isText(e)){var n=we.listPrev(e,N.not(we.isText)),i=M.last(n).previousSibling,o=i||e.parentNode;t+=M.sum(M.tail(n),we.nodeLength),i=!i}else{if(o=e.childNodes[t]||e,we.isText(o))return r(o,0);t=0,i=!1}return{node:o,collapseToStart:i,offset:t}}var t=document.body.createTextRange(),e=r(e.node,e.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}b.fn.extend({summernote:function(){var e=b.type(M.head(arguments)),t="string"===e,i=b.extend({},b.summernote.options,"object"===e?M.head(arguments):{});i.langInfo=b.extend(!0,{},b.summernote.lang["en-US"],b.summernote.lang[i.lang]),i.icons=b.extend(!0,{},b.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!T.isSupportTouch:i.tooltip,this.each(function(e,t){var n=b(t);n.data("summernote")||(t=new ke(n,i),n.data("summernote",t),n.data("summernote").triggerEvent("init",t.layoutInfo))});e=this.first();if(e.length){e=e.data("summernote");if(t)return e.invoke.apply(e,M.from(arguments));i.focus&&e.invoke("editor.focus")}return this}});var Te=(_e.prototype.nativeRange=function(){if(T.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}e=Se({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Se({node:this.ec,offset:this.eo})),e},_e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},_e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},_e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},_e.prototype.select=function(){var e,t=this.nativeRange();return T.isW3CRangeSupport?(0<(e=document.getSelection()).rangeCount&&e.removeAllRanges(),e.addRange(t)):t.select(),this},_e.prototype.scrollIntoView=function(e){var t=b(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},_e.prototype.normalize=function(){var e=function(e,t){if(we.isVisiblePoint(e)&&(!we.isEdgePoint(e)||we.isRightEdgePoint(e)&&!t||we.isLeftEdgePoint(e)&&t||we.isRightEdgePoint(e)&&t&&we.isVoid(e.node.nextSibling)||we.isLeftEdgePoint(e)&&!t&&we.isVoid(e.node.previousSibling)||we.isBlock(e.node)&&we.isEmpty(e.node)))return e;var n=we.ancestor(e.node,we.isBlock);if((we.isLeftEdgePointOf(e,n)||we.isVoid(we.prevPoint(e).node))&&!t||(we.isRightEdgePointOf(e,n)||we.isVoid(we.nextPoint(e).node))&&t){if(we.isVisiblePoint(e))return e;t=!t}return(t?we.nextPointUntil(we.nextPoint(e),we.isVisiblePoint):we.prevPointUntil(we.prevPoint(e),we.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),e=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new _e(e.node,e.offset,t.node,t.offset)},_e.prototype.nodes=function(n,e){n=n||N.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),e=this.getEndPoint(),r=[],a=[];return we.walkPoint(t,e,function(e){var t;we.isEditable(e.node)||(o?(we.isLeftEdgePoint(e)&&a.push(e.node),we.isRightEdgePoint(e)&&M.contains(a,e.node)&&(t=e.node)):t=i?we.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),M.unique(r)},_e.prototype.commonAncestor=function(){return we.commonAncestor(this.sc,this.ec)},_e.prototype.expand=function(e){var t=we.ancestor(this.sc,e),n=we.ancestor(this.ec,e);if(!t&&!n)return new _e(this.sc,this.so,this.ec,this.eo);e=this.getPoints();return t&&(e.sc=t,e.so=0),n&&(e.ec=n,e.eo=we.nodeLength(n)),new _e(e.sc,e.so,e.ec,e.eo)},_e.prototype.collapse=function(e){return e?new _e(this.sc,this.so,this.sc,this.so):new _e(this.ec,this.eo,this.ec,this.eo)},_e.prototype.splitText=function(){var e=this.sc===this.ec,t=this.getPoints();return we.isText(this.ec)&&!we.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),we.isText(this.sc)&&!we.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,e&&(t.ec=t.sc,t.eo=this.eo-this.so)),new _e(t.sc,t.so,t.ec,t.eo)},_e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=we.prevPointUntil(e.getStartPoint(),function(e){return!M.contains(t,e.node)}),o=[];return b.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===we.nodeLength(n)&&o.push(n),we.remove(t,!1)}),b.each(o,function(e,t){we.remove(t,!1)}),new _e(i.node,i.offset,i.node,i.offset).normalize()},_e.prototype.makeIsOn=function(t){return function(){var e=we.ancestor(this.sc,t);return!!e&&e===we.ancestor(this.ec,t)}},_e.prototype.isLeftEdgeOf=function(e){if(!we.isLeftEdgePoint(this.getStartPoint()))return!1;e=we.ancestor(this.sc,e);return e&&we.isLeftEdgeOf(this.sc,e)},_e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},_e.prototype.wrapBodyInlineWithPara=function(){if(we.isBodyContainer(this.sc)&&we.isEmpty(this.sc))return this.sc.innerHTML=we.emptyPara,new _e(this.sc.firstChild,0,this.sc.firstChild,0);var e,t=this.normalize();if(we.isParaInline(this.sc)||we.isPara(this.sc))return t;we.isInline(t.sc)?(e=we.listAncestor(t.sc,N.not(we.isInline)),n=M.last(e),we.isInline(n)||(n=e[e.length-2]||t.sc.childNodes[t.so])):n=t.sc.childNodes[0<t.so?t.so-1:0];var n,t=we.listPrev(n,we.isParaInline).reverse();return(t=t.concat(we.listNext(n.nextSibling,we.isParaInline))).length&&(n=we.wrap(M.head(t),"p"),we.appendChildNodes(n,M.tail(t))),this.normalize()},_e.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),t=we.splitPoint(t.getStartPoint(),we.isInline(e));return t.rightNode?t.rightNode.parentNode.insertBefore(e,t.rightNode):t.container.appendChild(e),e},_e.prototype.pasteHTML=function(e){var e=b("<div></div>").html(e)[0],e=M.from(e.childNodes),t=this.wrapBodyInlineWithPara().deleteContents(),e=(e=0<t.so?e.reverse():e).map(function(e){return t.insertNode(e)});return e=0<t.so?e.reverse():e},_e.prototype.toString=function(){var e=this.nativeRange();return T.isW3CRangeSupport?e.toString():e.text},_e.prototype.getWordRange=function(e){var t=this.getEndPoint();if(!we.isCharPoint(t))return this;var n=we.prevPointUntil(t,function(e){return!we.isCharPoint(e)});return e&&(t=we.nextPointUntil(t,function(e){return!we.isCharPoint(e)})),new _e(n.node,n.offset,t.node,t.offset)},_e.prototype.bookmark=function(e){return{s:{path:we.makeOffsetPath(e,this.sc),offset:this.so},e:{path:we.makeOffsetPath(e,this.ec),offset:this.eo}}},_e.prototype.paraBookmark=function(e){return{s:{path:M.tail(we.makeOffsetPath(M.head(e),this.sc)),offset:this.so},e:{path:M.tail(we.makeOffsetPath(M.last(e),this.ec)),offset:this.eo}}},_e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},_e);function _e(e,t,n,i){this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(we.isEditable),this.isOnList=this.makeIsOn(we.isList),this.isOnAnchor=this.makeIsOn(we.isAnchor),this.isOnCell=this.makeIsOn(we.isCell),this.isOnData=this.makeIsOn(we.isData)}var Ne={create:function(e,t,n,i){if(4===arguments.length)return new Te(e,t,n,i);if(2===arguments.length)return new Te(n=e,i=t,n,i);i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(e)).collapse(we.emptyPara===e.innerHTML)},createFromSelection:function(){if(T.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(we.isBody(e.anchorNode))return null;var t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset}else{e=document.selection.createRange(),t=e.duplicate();t.collapse(!1);e=e;e.collapse(!0);e=Ce(e,!0),t=Ce(t,!1);n=(e=we.isText(e.node)&&we.isLeftEdgePoint(e)&&we.isTextNode(t.node)&&we.isRightEdgePoint(t)&&t.node.nextSibling===e.node?t:e).cont,i=e.offset,o=t.cont,r=t.offset}return new Te(n,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,e=we.nodeLength(i);return we.isVoid(t)&&(n=we.listPrev(t).length-1,t=t.parentNode),we.isBR(i)?(e=we.listPrev(i).length-1,i=i.parentNode):we.isVoid(i)&&(e=we.listPrev(i).length,i=i.parentNode),this.create(t,n,i,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=we.fromOffsetPath(e,t.s.path),i=t.s.offset,e=we.fromOffsetPath(e,t.e.path),t=t.e.offset;return new Te(n,i,e,t)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=we.fromOffsetPath(M.head(t),e.s.path),e=we.fromOffsetPath(M.last(t),e.e.path);return new Te(o,n,e,i)}},Ae={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Pe={isEdit:function(e){return M.contains([Ae.BACKSPACE,Ae.TAB,Ae.ENTER,Ae.SPACE,Ae.DELETE],e)},isMove:function(e){return M.contains([Ae.LEFT,Ae.UP,Ae.RIGHT,Ae.DOWN],e)},nameFromCode:N.invertObject(Ae),code:Ae};var Ie=(Re.prototype.makeSnapshot=function(){var e=Ne.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Re.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Ne.createFromBookmark(this.editable,e.bookmark).select()},Re.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Re.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Re.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Re.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Re.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Re.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Re);function Re(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}var Me=(Le.prototype.jQueryCSS=function(n,e){if(T.jqueryVersion<1.9){var i={};return b.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css(e)},Le.prototype.fromNode=function(e){e=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},Le.prototype.stylePara=function(e,n){b.each(e.nodes(we.isPara,{includeAncestor:!0}),function(e,t){b(t).css(n)})},Le.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(we.create(n))];var r,a=we.makePredByNodeName(n),t=e.nodes(we.isText,{fullyContains:!0}).map(function(e){return we.singleChildAncestor(e,a)||we.wrap(e,n)});return i?(o&&(r=e.nodes(),a=N.and(a,function(e){return M.contains(r,e)})),t.map(function(e){var t=we.withClosestSiblings(e,a),n=M.head(t),e=M.tail(t);return b.each(e,function(e,t){we.appendChildNodes(n,t.childNodes),we.remove(t)}),M.head(t)})):t},Le.prototype.current=function(e){var t=b(we.isElement(e.sc)?e.sc:e.sc.parentNode),t=this.fromNode(t);try{t=b.extend(t,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||t["font-family"]})}catch(e){}e.isOnList()?(n=-1<["circle","disc","disc-leading-zero","square"].indexOf(t["list-style-type"]),t["list-style"]=n?"unordered":"ordered"):t["list-style"]="none";var n=we.ancestor(e.sc,we.isPara);return n&&n.style["line-height"]?t["line-height"]=n.style.lineHeight:(n=parseInt(t["line-height"],10)/parseInt(t["font-size"],10),t["line-height"]=n.toFixed(1)),t.anchor=e.isOnAnchor()&&we.ancestor(e.sc,we.isAnchor),t.ancestors=we.listAncestor(e.sc,we.isEditable),t.range=e,t},Le);function Le(){}var De=(je.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},je.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},je.prototype.indent=function(e){var o=this,t=Ne.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n,i=M.head(t);we.isLi(i)?(n=o.findList(i.previousSibling))?t.map(function(e){return n.appendChild(e)}):(o.wrapList(t,i.parentNode.nodeName),t.map(function(e){return e.parentNode}).map(function(e){return o.appendToPrevious(e)})):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),t.select()},je.prototype.outdent=function(e){var i=this,t=Ne.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n=M.head(t);we.isLi(n)?i.releaseList([t]):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),t.select()},je.prototype.toggleList=function(n,e){var i,o=this,t=Ne.create(e).wrapBodyInlineWithPara(),r=t.nodes(we.isPara,{includeAncestor:!0}),a=t.paraBookmark(r),e=M.clusterBy(r,N.peq2("parentNode"));M.find(r,we.isPurePara)?(i=[],b.each(e,function(e,t){i=i.concat(o.wrapList(t,n))}),r=i):(t=t.nodes(we.isList,{includeAncestor:!0}).filter(function(e){return!b.nodeName(e,n)})).length?b.each(t,function(e,t){we.replace(t,n)}):r=this.releaseList(e,!0),Ne.createFromParaBookmark(a,r).select()},je.prototype.wrapList=function(e,t){var n=M.head(e),i=M.last(e),o=we.isList(n.previousSibling)&&n.previousSibling,n=we.isList(i.nextSibling)&&i.nextSibling,i=o||we.insertAfter(we.create(t||"UL"),i);return e=e.map(function(e){return we.isPurePara(e)?we.replace(e,"LI"):e}),we.appendChildNodes(i,e),n&&(we.appendChildNodes(i,M.from(n.childNodes)),we.remove(n)),e},je.prototype.releaseList=function(e,a){var s=this,l=[];return b.each(e,function(e,t){var n=M.head(t),i=M.last(t),o=a?we.lastAncestor(n,we.isList):n.parentNode,r=o.parentNode;"LI"===o.parentNode.nodeName?(t.map(function(e){var t=s.findNextSiblings(e);r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),t.length&&(s.wrapList(t,o.nodeName),e.appendChild(t[0].parentNode))}),0===o.children.length&&r.removeChild(o),0===r.childNodes.length&&r.parentNode.removeChild(r)):(i=1<o.childNodes.length?we.splitTree(o,{node:i.parentNode,offset:we.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,n=we.splitTree(o,{node:n.parentNode,offset:we.position(n)},{isSkipPaddingBlankHTML:!0}),t=a?we.listDescendant(n,we.isLi):M.from(n.childNodes).filter(we.isLi),!a&&we.isList(o.parentNode)||(t=t.map(function(e){return we.replace(e,"P")})),b.each(M.from(t).reverse(),function(e,t){we.insertAfter(t,o)}),i=M.compact([o,n,i]),b.each(i,function(e,t){t=[t].concat(we.listDescendant(t,we.isList));b.each(t.reverse(),function(e,t){we.nodeLength(t)||we.remove(t,!0)})})),l=l.concat(t)}),l},je.prototype.appendToPrevious=function(e){return e.previousSibling?we.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},je.prototype.findList=function(e){return e?M.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null},je.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},je);function je(){}var Fe=(Oe.prototype.insertTab=function(e,t){var n=we.createText(new Array(t+1).join(we.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Ne.create(n,t)).select()},Oe.prototype.insertParagraph=function(e,t){t=(t=(t=t||Ne.create(e)).deleteContents()).wrapBodyInlineWithPara();var n=we.ancestor(t.sc,we.isPara);if(n){if(we.isEmpty(n)&&we.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i,o,r=null;1===this.options.blockquoteBreakingLevel?r=we.ancestor(n,we.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=we.lastAncestor(n,we.isBlockquote)),r?(o=b(we.emptyPara)[0],we.isRightEdgePoint(t.getStartPoint())&&we.isBR(t.sc.nextSibling)&&b(t.sc.nextSibling).remove(),(i=we.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0}))?i.parentNode.insertBefore(o,i):we.insertAfter(o,r)):(o=we.splitTree(n,t.getStartPoint()),a=(a=we.listDescendant(n,we.isEmptyAnchor)).concat(we.listDescendant(o,we.isEmptyAnchor)),b.each(a,function(e,t){we.remove(t)}),(we.isHeading(o)||we.isPre(o)||we.isCustomStyleTag(o))&&we.isEmpty(o)&&(o=we.replace(o,"p")))}else{var a=t.sc.childNodes[t.so];o=b(we.emptyPara)[0],a?t.sc.insertBefore(o,a):t.sc.appendChild(o)}Ne.create(o,0).normalize().select().scrollIntoView(e)},Oe);function Oe(e){this.bullet=new De,this.options=e.options}function Be(e,c,u,o){var p={colPos:0,rowPos:0},d=[],h=[];function f(e,t,n,i,o,r,a){a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=a}function m(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(!d[e][++n])return n}function g(e,t,n,i){e===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&p.colPos++}function t(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)!function(e,t){var n=m(e.rowIndex,t.cellIndex),i=1<t.colSpan,o=1<t.rowSpan,r=e.rowIndex===p.rowPos&&t.cellIndex===p.colPos;f(e.rowIndex,n,e,t,o,i,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=e.rowIndex+s;g(l,n,t,r),f(l,n,e,t,!0,i,!0)}var c=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<c)for(var u=1;u<c;u++){var d=m(e.rowIndex,n+u);g(e.rowIndex,d,t,r),f(e.rowIndex,d,e,t,o,!0,!0)}}(e[t],n[i])}this.getActionList=function(){for(var e=c===Be.where.Row?p.rowPos:-1,t=c===Be.where.Column?p.colPos:-1,n=0,i=!0;i;){var o=0<=e?e:n,r=0<=t?t:n,a=d[o];if(!a)return i=!1,h;var s=a[r];if(!s)return i=!1,h;var l=Be.resultAction.Ignore;switch(u){case Be.requestAction.Add:l=function(e){switch(c){case Be.where.Column:if(e.isColSpan)return Be.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Be.resultAction.Ignore;break;case Be.where.Row:if(e.isRowSpan)return Be.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Be.resultAction.Ignore}return Be.resultAction.AddCell}(s);break;case Be.requestAction.Delete:l=function(e){switch(c){case Be.where.Column:if(e.isColSpan)return Be.resultAction.SubtractSpanCount;break;case Be.where.Row:if(!e.isVirtual&&e.isRowSpan)return Be.resultAction.AddCell;if(e.isRowSpan)return Be.resultAction.SubtractSpanCount}return Be.resultAction.RemoveCell}(s)}h.push((a=l,{baseCell:s.baseCell,action:a,virtualTable:{rowIndex:o,cellIndex:r}})),n++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(p.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?p.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),t()}Be.where={Row:0,Column:1},Be.requestAction={Add:0,Delete:1},Be.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var He=($e.prototype.tab=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=we.ancestor(n,we.isTable),e=we.listDescendant(e,we.isCell),n=M[t?"prev":"next"](e,n);n&&Ne.create(n,0).select()},$e.prototype.addRow=function(e,t){for(var n=we.ancestor(e.commonAncestor(),we.isCell),i=b(n).closest("tr"),e=this.recoverAttributes(i),o=b("<tr"+e+"></tr>"),r=new Be(n,Be.where.Row,Be.requestAction.Add,b(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Be.resultAction.AddCell:o.append("<td"+l+">"+we.blank+"</td>");break;case Be.resultAction.SumSpanCount:if("top"===t)if((s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=b("<div></div>").append(b("<td"+l+">"+we.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}c=parseInt(s.baseCell.rowSpan,10);c++,s.baseCell.setAttribute("rowSpan",c)}}"top"===t?i.before(o):1<n.rowSpan?(n=i[0].rowIndex+(n.rowSpan-2),b(b(i).parent().find("tr")[n]).after(b(o))):i.after(o)},$e.prototype.addCol=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=b(n).closest("tr");b(e).siblings().push(e);for(var i=new Be(n,Be.where.Column,Be.requestAction.Add,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++){var r,a=i[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case Be.resultAction.AddCell:"right"===t?b(a.baseCell).after("<td"+s+">"+we.blank+"</td>"):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>");break;case Be.resultAction.SumSpanCount:"right"===t?(r=parseInt(a.baseCell.colSpan,10),r++,a.baseCell.setAttribute("colSpan",r)):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>")}}},$e.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},$e.prototype.deleteRow=function(e){for(var e=we.ancestor(e.commonAncestor(),we.isCell),t=b(e).closest("tr"),n=t.children("td, th").index(b(e)),i=t[0].rowIndex,o=new Be(e,Be.where.Row,Be.requestAction.Delete,b(t).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r]){var a=o[r].baseCell,s=o[r].virtualTable,l=a.rowSpan&&1<a.rowSpan,c=l?parseInt(a.rowSpan,10):0;switch(o[r].action){case Be.resultAction.Ignore:continue;case Be.resultAction.AddCell:var u=t.next("tr")[0];if(!u)continue;var d=t[0].cells[n];l&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Be.resultAction.SubtractSpanCount:l&&(2<c?(c--,a.setAttribute("rowSpan",c),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")));continue;case Be.resultAction.RemoveCell:continue}}t.remove()},$e.prototype.deleteCol=function(e){for(var t=we.ancestor(e.commonAncestor(),we.isCell),e=b(t).closest("tr"),n=e.children("td, th").index(b(t)),i=new Be(t,Be.where.Column,Be.requestAction.Delete,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++)if(i[o])switch(i[o].action){case Be.resultAction.Ignore:continue;case Be.resultAction.SubtractSpanCount:var r,a=i[o].baseCell;a.colSpan&&1<a.colSpan&&(2<(r=a.colSpan?parseInt(a.colSpan,10):0)?(r--,a.setAttribute("colSpan",r),a.cellIndex===n&&(a.innerHTML="")):2===r&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML="")));continue;case Be.resultAction.RemoveCell:we.remove(i[o].baseCell,!0);continue}},$e.prototype.createTable=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push("<td>"+we.blank+"</td>");for(var r=i.join(""),a=[],s=0;s<t;s++)a.push("<tr>"+r+"</tr>");var l=a.join(""),l=b("<table>"+l+"</table>");return n&&n.tableClassName&&l.addClass(n.tableClassName),l[0]},$e.prototype.deleteTable=function(e){e=we.ancestor(e.commonAncestor(),we.isCell);b(e).closest("table").remove()},$e);function $e(){}ze.prototype.initialize=function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===Pe.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.setLastRange(),t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.setLastRange(),t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.setLastRange(),t.context.triggerEvent("paste",e)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(we.html(this.$note)||we.emptyPara),this.$editable.on(T.inputEventName,N.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},ze.prototype.destroy=function(){this.$editable.off()},ze.prototype.handleKeyMap=function(e){var t=this.options.keyMap[T.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=Pe.nameFromCode[e.keyCode];i&&n.push(i);n=t[n.join("+")];n?!1!==this.context.invoke(n)&&e.preventDefault():Pe.isEdit(e.keyCode)&&this.afterCommand()},ze.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&M.contains([66,73,85],e.keyCode)&&e.preventDefault()},ze.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(Pe.isMove(t.keyCode)||t.ctrlKey||t.metaKey||M.contains([Pe.code.BACKSPACE,Pe.code.DELETE],t.keyCode)))&&(0<this.options.maxTextLength&&this.$editable.text().length+e>=this.options.maxTextLength)},ze.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},ze.prototype.setLastRange=function(){this.lastRange=Ne.create(this.editable)},ze.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},ze.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},ze.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},ze.prototype.saveTarget=function(e){this.$editable.data("target",e)},ze.prototype.clearTarget=function(){this.$editable.removeData("target")},ze.prototype.restoreTarget=function(){return this.$editable.data("target")},ze.prototype.currentStyle=function(){var e=Ne.create();return(e=e&&e.normalize())?this.style.current(e):this.style.fromNode(this.$editable)},ze.prototype.styleFromNode=function(e){return this.style.fromNode(e)},ze.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},ze.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},ze.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},ze.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},ze.prototype.insertImage=function(e,t){var n,i=this;return n=e,b.Deferred(function(e){var t=b("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise().then(function(e){i.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(i.$editable.width(),e.width()))),e.show(),Ne.create(i.editable).insertNode(e[0]),Ne.createFromNodeAfter(e[0]).select(),i.setLastRange(),i.afterCommand()}).fail(function(e){i.context.triggerEvent("image.upload.error",e)})},ze.prototype.insertImagesAsDataURL=function(e){var o=this;b.each(e,function(e,t){var n,i=t.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<t.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(n=t,b.Deferred(function(t){b.extend(new FileReader,{onload:function(e){e=e.target.result;t.resolve(e)},onerror:function(e){t.reject(e)}}).readAsDataURL(n)}).promise().then(function(e){return o.insertImage(e,i)}).fail(function(){o.context.triggerEvent("image.upload.error")}))})},ze.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},ze.prototype.getSelectedText=function(){var e=this.getLastRange();return(e=e.isOnAnchor()?Ne.createFromNode(we.ancestor(e.sc,we.isAnchor)):e).toString()},ze.prototype.onFormatBlock=function(e,t){var n;document.execCommand("FormatBlock",!1,T.isMSIE?"<"+e+">":e),t&&t.length&&(t=t[0].tagName.toUpperCase()!==e.toUpperCase()?t.find(e):t)&&t.length&&((n=t[0].className||"")&&(t=this.createRange(),b([t.sc,t.ec]).closest(e).addClass(n)))},ze.prototype.formatPara=function(){this.formatBlock("P")},ze.prototype.fontStyling=function(e,t){var n,i=this.getLastRange();i&&(n=this.style.styleNodes(i),b(n).css(e,t),!i.isCollapsed()||(n=M.head(n))&&!we.nodeLength(n)&&(n.innerHTML=we.ZERO_WIDTH_NBSP_CHAR,Ne.createFromNodeAfter(n.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",n)))},ze.prototype.unlink=function(){var e,t=this.getLastRange();t.isOnAnchor()&&(e=we.ancestor(t.sc,we.isAnchor),(t=Ne.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())},ze.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(we.isAnchor),t=b(M.head(e.nodes(we.isAnchor))),e={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e},ze.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},ze.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},ze.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},ze.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},ze.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},ze.prototype.resizeTo=function(e,t,n){var i;e=n?{width:(i=e.y/e.x)<(n=t.data("ratio"))?e.x:e.y/n,height:i<n?e.x*n:e.y}:{width:e.x,height:e.y},t.css(e)},ze.prototype.hasFocus=function(){return this.$editable.is(":focus")},ze.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},ze.prototype.isEmpty=function(){return we.isEmpty(this.$editable[0])||we.emptyPara===this.$editable.html()},ze.prototype.empty=function(){this.context.invoke("code",we.emptyPara)},ze.prototype.normalizeContent=function(){this.$editable[0].normalize()},l=ze;function ze(e){var a=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Me,this.table=new He,this.typing=new Fe(e),this.bullet=new De,this.history=new Ie(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=t.length;n<i;n++)this[t[n]]=function(t){return function(e){a.beforeCommand(),document.execCommand(t,!1,e),a.afterCommand(!0)}}(t[n]),this.context.memo("help."+t[n],this.lang.help[t[n]]);this.fontName=this.wrapCommand(function(e){return a.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return a.fontStyling("font-size",e+"px")});for(n=1;n<=6;n++)this["formatH"+n]=function(e){return function(){a.formatBlock("H"+e)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){a.typing.insertParagraph(a.editable)}),this.insertOrderedList=this.wrapCommand(function(){a.bullet.insertOrderedList(a.editable)}),this.insertUnorderedList=this.wrapCommand(function(){a.bullet.insertUnorderedList(a.editable)}),this.indent=this.wrapCommand(function(){a.bullet.indent(a.editable)}),this.outdent=this.wrapCommand(function(){a.bullet.outdent(a.editable)}),this.insertNode=this.wrapCommand(function(e){a.isLimited(b(e).text().length)||(a.getLastRange().insertNode(e),Ne.createFromNodeAfter(e).select(),a.setLastRange())}),this.insertText=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.getLastRange().insertNode(we.createText(e)),Ne.create(e,we.nodeLength(e)).select(),a.setLastRange())}),this.pasteHTML=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.context.invoke("codeview.purify",e),e=a.getLastRange().pasteHTML(e),Ne.createFromNodeAfter(M.last(e)).select(),a.setLastRange())}),this.formatBlock=this.wrapCommand(function(e,t){var n=a.options.callbacks.onApplyCustomStyle;n?n.call(a,t,a.context,a.onFormatBlock):a.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=a.getLastRange().insertNode(we.create("HR"));e.nextSibling&&(Ne.create(e.nextSibling,0).normalize().select(),a.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){a.style.stylePara(a.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,t=e.text,i=e.isNewWindow,o=e.range||a.getLastRange(),r=t.length-o.toString().length;0<r&&a.isLimited(r)||(e=o.toString()!==t,"string"==typeof n&&(n=n.trim()),n=a.options.onCreateLink?a.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n,r=[],e?(t=(o=o.deleteContents()).insertNode(b("<A>"+t+"</A>")[0]),r.push(t)):r=a.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),b.each(r,function(e,t){b(t).attr("href",n),i?b(t).attr("target","_blank"):b(t).removeAttr("target")}),o=Ne.createFromNodeBefore(M.head(r)).getStartPoint(),r=Ne.createFromNodeAfter(M.last(r)).getEndPoint(),Ne.create(o.node,o.offset,r.node,r.offset).select(),a.setLastRange())}),this.color=this.wrapCommand(function(e){var t=e.foreColor,e=e.backColor;t&&document.execCommand("foreColor",!1,t),e&&document.execCommand("backColor",!1,e)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){e=e.split("x");a.getLastRange().deleteContents().insertNode(a.table.createTable(e[0],e[1],a.options))}),this.removeMedia=this.wrapCommand(function(){var e=b(a.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=b(a.restoreTarget()).detach(),a.context.triggerEvent("media.delete",e,a.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=b(a.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=b(a.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}Ue.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},Ue.prototype.pasteByEvent=function(e){e=e.originalEvent.clipboardData;e&&e.items&&e.items.length&&("file"===(e=1<e.items.length?e.items[1]:M.head(e.items)).kind&&-1!==e.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[e.getAsFile()]),this.context.invoke("editor.afterCommand"))},c=Ue;function Ue(e){this.context=e,this.$editable=e.layoutInfo.editable}var Ve,u=(qe.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},qe.prototype.attachDragAndDropEvent=function(){var o=this,i=b(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var t=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();t||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length||o.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=b(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var i=e.originalEvent.dataTransfer;e.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):b.each(i.types,function(e,t){var n=i.getData(t);-1<t.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):b(n).each(function(e,t){o.context.invoke("editor.insertNode",t)})})}).on("dragover",!1)},qe.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}},qe);function qe(e){this.context=e,this.$eventListener=b(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=b(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}T.hasCodeMirror&&(Ve=window.CodeMirror);We.prototype.sync=function(){this.isActivated()&&T.hasCodeMirror&&this.$codable.data("cmEditor").save()},We.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},We.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},We.prototype.purify=function(e){var o;return this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter&&(o=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase),e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var t=0,n=o;t<n.length;t++){var i=n[t];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""}))),e},We.prototype.activate=function(){var t,n,i=this;this.$codable.val(we.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),T.hasCodeMirror?(t=Ve.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(n=new Ve.TernServer(this.options.codemirror.tern),t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})),t.on("blur",function(e){i.context.triggerEvent("blur.codeview",t.getValue(),e)}),t.on("change",function(e){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(e){i.context.triggerEvent("blur.codeview",i.$codable.val(),e)}),this.$codable.on("input",function(e){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))},We.prototype.deactivate=function(){T.hasCodeMirror&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());var e=this.purify(we.value(this.$codable,this.options.prettifyHtml)||we.emptyPara),t=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},We.prototype.destroy=function(){this.isActivated()&&this.deactivate()},d=We;function We(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}Ke.prototype.initialize=function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();function t(e){e=e.clientY-(24+n),e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)}var n=i.$editable.offset().top-i.$document.scrollTop();i.$document.on("mousemove",t).one("mouseup",function(){i.$document.off("mousemove",t)})})},Ke.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},p=Ke;function Ke(e){this.$document=b(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}Ge.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},Ge.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},Ge.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},h=Ge;function Ge(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=b(window),this.$scrollbar=b("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}Ye.prototype.initialize=function(){var r=this;this.$handle=b(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){var t,n,i,o;we.isControlSizing(e.target)&&(e.preventDefault(),e.stopPropagation(),t=r.$handle.find(".note-control-selection").data("target"),n=t.offset(),i=r.$document.scrollTop(),o=function(e){r.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-i)},t,!e.shiftKey),r.update(t[0])},r.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width()))}),this.$handle.on("wheel",function(e){e.preventDefault(),r.update()})},Ye.prototype.destroy=function(){this.$handle.remove()},Ye.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n,i,o=we.isImg(e),r=this.$handle.find(".note-control-selection");return this.context.invoke("imagePopover.update",e,t),o?(t={left:(i=(n=b(e)).position()).left+parseInt(n.css("marginLeft"),10),top:i.top+parseInt(n.css("marginTop"),10)},i={w:n.outerWidth(!1),h:n.outerHeight(!1)},r.css({display:"block",left:t.left,top:t.top,width:i.w,height:i.h}).data("target",n),(t=new Image).src=n.attr("src"),t=i.w+"x"+i.h+" ("+this.lang.image.original+": "+t.width+"x"+t.height+")",r.find(".note-control-selection-info").text(t),this.context.invoke("editor.saveTarget",e)):this.hide(),o},Ye.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},f=Ye;function Ye(e){var n=this;this.context=e,this.$document=b(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var Xe=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,m=(Qe.prototype.initialize=function(){this.lastWordRange=null},Qe.prototype.destroy=function(){this.lastWordRange=null},Qe.prototype.replace=function(){var e,t;!this.lastWordRange||(t=(e=this.lastWordRange.toString()).match(Xe))&&(t[1]||t[2])&&(t=t[1]?e:"http://"+e,t=b("<a />").html(e).attr("href",t)[0],this.context.options.linkTargetBlank&&b(t).attr("target","_blank"),this.lastWordRange.insertNode(t),this.lastWordRange=null,this.context.invoke("editor.focus"))},Qe.prototype.handleKeydown=function(e){M.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)&&(e=this.context.invoke("editor.createRange").getWordRange(),this.lastWordRange=e)},Qe.prototype.handleKeyup=function(e){M.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)&&this.replace()},Qe);function Qe(e){var n=this;this.context=e,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}Ze.prototype.shouldInitialize=function(){return we.isTextarea(this.$note[0])},g=Ze;function Ze(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}Je.prototype.shouldInitialize=function(){return!!this.options.match},Je.prototype.initialize=function(){this.lastWord=null},Je.prototype.destroy=function(){this.lastWord=null},Je.prototype.replace=function(){var n,e;this.lastWord&&(e=(n=this).lastWord.toString(),this.options.match(e,function(e){var t;e&&(t="","string"==typeof e?t=we.createText(e):e instanceof jQuery?t=e[0]:e instanceof Node&&(t=e),t&&(n.lastWord.insertNode(t),n.lastWord=null,n.context.invoke("editor.focus")))}))},Je.prototype.handleKeydown=function(e){var t;this.previousKeydownCode&&M.contains(this.keys,this.previousKeydownCode)||M.contains(this.keys,e.keyCode)&&(t=this.context.invoke("editor.createRange").getWordRange(),this.lastWord=t),this.previousKeydownCode=e.keyCode},Je.prototype.handleKeyup=function(e){M.contains(this.keys,e.keyCode)&&this.replace()},v=Je;function Je(e){var n=this;this.context=e,this.options=e.options.replace||{},this.keys=[Pe.code.ENTER,Pe.code.SPACE,Pe.code.PERIOD,Pe.code.COMMA,Pe.code.SEMICOLON,Pe.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var et=(tt.prototype.shouldInitialize=function(){return!!this.options.placeholder},tt.prototype.initialize=function(){var e=this;this.$placeholder=b('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},tt.prototype.destroy=function(){this.$placeholder.remove()},tt.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},tt);function tt(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}nt.prototype.representShortcut=function(e){e=this.invertedKeyMap[e];return this.options.shortcuts&&e?" ("+(e=(e=T.isMac?e.replace("CMD","⌘").replace("SHIFT","⇧"):e).replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")":""},nt.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},nt.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},nt.prototype.destroy=function(){delete this.fontInstalledMap},nt.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=T.isFontInstalled(e)||M.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},nt.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},nt.prototype.colorPalette=function(s,e,n,i){var l=this;return this.ui.buttonGroup({className:"note-color "+s,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(e){e=b(e.currentTarget);n&&i?l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?l.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):i&&l.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",l.options.colorButton.backColor),e.attr("data-backColor",l.options.colorButton.backColor)),i?(t.css("color",l.options.colorButton.foreColor),e.attr("data-foreColor",l.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:i,colorsName:i,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())}),n.find("input[type=color]").each(function(e,t){b(t).change(function(){var e=n.find("#"+b(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();e.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t),e.click()})})},click:function(e){e.stopPropagation();var t,n,i=b("."+s),o=b(e.target),r=o.data("event"),a=o.attr("data-value");"openPalette"===r?(n=i.find("#"+a),t=(e=b(i.find("#"+n.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(),i=n.val(),t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),e.prepend(t),n.click()):M.contains(["backColor","foreColor"],r)&&(t="backColor"===r?"background-color":"color",n=o.closest(".note-color").find(".note-recent-color"),o=o.closest(".note-color").find(".note-current-color-button"),n.css(t,a),o.attr("data-"+r,a),l.context.invoke("editor."+r,a))}})]}).render()},nt.prototype.addToolbarButtons=function(){var i=this;this.context.memo("button.style",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic),i.options),tooltip:i.lang.style.style,data:{toggle:"dropdown"}}),i.ui.dropdown({className:"dropdown-style",items:i.options.styleTags,title:i.lang.style.style,template:function(e){var t=(e="string"==typeof e?{tag:e,title:i.lang.style.hasOwnProperty(e)?i.lang.style[e]:e}:e).tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:i.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var n=this,e=0,t=this.options.styleTags.length;e<t;e++)!function(e){var t=n.options.styleTags[e];n.context.memo("button.style."+t,function(){return i.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:i.lang.style[t],click:i.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.ui.icon(i.options.icons.bold),tooltip:i.lang.font.bold+i.representShortcut("bold"),click:i.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.ui.icon(i.options.icons.italic),tooltip:i.lang.font.italic+i.representShortcut("italic"),click:i.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.ui.icon(i.options.icons.underline),tooltip:i.lang.font.underline+i.representShortcut("underline"),click:i.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return i.button({contents:i.ui.icon(i.options.icons.eraser),tooltip:i.lang.font.clear+i.representShortcut("removeFormat"),click:i.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.ui.icon(i.options.icons.strikethrough),tooltip:i.lang.font.strikethrough+i.representShortcut("strikethrough"),click:i.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.ui.icon(i.options.icons.superscript),tooltip:i.lang.font.superscript,click:i.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.ui.icon(i.options.icons.subscript),tooltip:i.lang.font.subscript,click:i.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=i.context.invoke("editor.currentStyle");return b.each(e["font-family"].split(","),function(e,t){t=t.trim().replace(/['"]+/g,""),i.isFontDeservedToAdd(t)&&-1===i.options.fontNames.indexOf(t)&&i.options.fontNames.push(t)}),i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontname"/>',i.options),tooltip:i.lang.font.name,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:i.options.icons.menuCheck,items:i.options.fontNames.filter(i.isFontInstalled.bind(i)),title:i.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:i.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',i.options),tooltip:i.lang.font.size,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizes,title:i.lang.font.size,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return i.colorPalette("note-color-all",i.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return i.colorPalette("note-color-fore",i.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return i.colorPalette("note-color-back",i.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return i.button({contents:i.ui.icon(i.options.icons.unorderedlist),tooltip:i.lang.lists.unordered+i.representShortcut("insertUnorderedList"),click:i.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return i.button({contents:i.ui.icon(i.options.icons.orderedlist),tooltip:i.lang.lists.ordered+i.representShortcut("insertOrderedList"),click:i.context.createInvokeHandler("editor.insertOrderedList")}).render()});var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),r=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),l=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",N.invoke(o,"render")),this.context.memo("button.justifyCenter",N.invoke(r,"render")),this.context.memo("button.justifyRight",N.invoke(a,"render")),this.context.memo("button.justifyFull",N.invoke(s,"render")),this.context.memo("button.outdent",N.invoke(l,"render")),this.context.memo("button.indent",N.invoke(c,"render")),this.context.memo("button.paragraph",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft),i.options),tooltip:i.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),i.ui.dropdown([i.ui.buttonGroup({className:"note-align",children:[o,r,a,s]}),i.ui.buttonGroup({className:"note-list",children:[l,c]})])]).render()}),this.context.memo("button.height",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight),i.options),tooltip:i.lang.font.height,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({items:i.options.lineHeights,checkClassName:i.options.icons.menuCheck,className:"dropdown-line-height",title:i.lang.font.height,click:i.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table),i.options),tooltip:i.lang.table.table,data:{toggle:"dropdown"}}),i.ui.dropdown({title:i.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:i.options.insertTableMaxSize.col+"em",height:i.options.insertTableMaxSize.row+"em"}).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler.bind(i))}}).render()}),this.context.memo("button.link",function(){return i.button({contents:i.ui.icon(i.options.icons.link),tooltip:i.lang.link.link+i.representShortcut("linkDialog.show"),click:i.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return i.button({contents:i.ui.icon(i.options.icons.picture),tooltip:i.lang.image.image,click:i.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return i.button({contents:i.ui.icon(i.options.icons.video),tooltip:i.lang.video.video,click:i.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return i.button({contents:i.ui.icon(i.options.icons.minus),tooltip:i.lang.hr.insert+i.representShortcut("insertHorizontalRule"),click:i.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.ui.icon(i.options.icons.arrowsAlt),tooltip:i.lang.options.fullscreen,click:i.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.ui.icon(i.options.icons.code),tooltip:i.lang.options.codeview,click:i.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return i.button({contents:i.ui.icon(i.options.icons.redo),tooltip:i.lang.history.redo+i.representShortcut("redo"),click:i.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return i.button({contents:i.ui.icon(i.options.icons.undo),tooltip:i.lang.history.undo+i.representShortcut("undo"),click:i.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return i.button({contents:i.ui.icon(i.options.icons.question),tooltip:i.lang.options.help,click:i.context.createInvokeHandler("helpDialog.show")}).render()})},nt.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},nt.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},nt.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},nt.prototype.build=function(e,t){for(var n=0,i=t.length;n<i;n++){for(var o=t[n],r=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},nt.prototype.updateCurrentStyle=function(e){var i,o,n,r=this,t=e||this.$toolbar,a=this.context.invoke("editor.currentStyle");this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===a["font-bold"]},".note-btn-italic":function(){return"italic"===a["font-italic"]},".note-btn-underline":function(){return"underline"===a["font-underline"]},".note-btn-subscript":function(){return"subscript"===a["font-subscript"]},".note-btn-superscript":function(){return"superscript"===a["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===a["font-strikethrough"]}}),a["font-family"]&&(e=a["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=M.find(e,this.isFontInstalled.bind(this)),t.find(".dropdown-fontname a").each(function(e,t){var n=b(t),t=n.data("value")+""==i+"";n.toggleClass("checked",t)}),t.find(".note-current-fontname").text(i).css("font-family",i)),a["font-size"]&&(o=a["font-size"],t.find(".dropdown-fontsize a").each(function(e,t){var n=b(t),t=n.data("value")+""==o+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsize").text(o)),a["line-height"]&&(n=a["line-height"],t.find(".dropdown-line-height li a").each(function(e,t){t=b(t).data("value")+""==n+"";r.className=t?"checked":""}))},nt.prototype.updateBtnStates=function(n,e){var i=this;b.each(e,function(e,t){i.ui.toggleBtnActive(n.find(e),t())})},nt.prototype.tableMoveHandler=function(e){var t=b(e.target.parentNode),n=t.next(),i=t.find(".note-dimension-picker-mousecatcher"),o=t.find(".note-dimension-picker-highlighted"),t=t.find(".note-dimension-picker-unhighlighted");r=void 0===e.offsetX?(r=b(e.target).offset(),{x:e.pageX-r.left,y:e.pageY-r.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(r.x/18)||1,r=Math.ceil(r.y/18)||1;o.css({width:e+"em",height:r+"em"}),i.data("value",e+"x"+r),3<e&&e<this.options.insertTableMaxSize.col&&t.css({width:e+1+"em"}),3<r&&r<this.options.insertTableMaxSize.row&&t.css({height:r+1+"em"}),n.html(e+" x "+r)},E=nt;function nt(e){this.ui=b.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=N.invertObject(this.options.keyMap[T.isMac?"mac":"pc"])}it.prototype.shouldInitialize=function(){return!this.options.airMode},it.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},it.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},it.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=b(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-o,i=a+e-o-n-i;!this.isFollowing&&s<r&&r<i-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:o,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||i<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},it.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},it.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},it.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},it.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},it.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},C=it;function it(e){this.context=e,this.$window=b(window),this.$document=b(document),this.ui=b.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}ot.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":b("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ot.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ot.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ot.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},ot.prototype.showLinkDialog=function(a){var s=this;return b.Deferred(function(t){var n=s.$dialog.find(".note-link-text"),i=s.$dialog.find(".note-link-url"),o=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&N.isValidUrl(a.text)&&(a.url=a.text),n.on("input paste propertychange",function(){a.text=n.val(),s.toggleLinkBtn(o,n,i)}).val(a.text),i.on("input paste propertychange",function(){a.text||n.val(i.val()),s.toggleLinkBtn(o,n,i)}).val(a.url),T.isSupportTouch||i.trigger("focus"),s.toggleLinkBtn(o,n,i),s.bindEnterKey(i,o),s.bindEnterKey(n,o);var e=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",e),o.one("click",function(e){e.preventDefault(),t.resolve({range:a.range,url:i.val(),text:n.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){n.off(),i.off(),o.off(),"pending"===t.state()&&t.reject()}),s.ui.showDialog(s.$dialog)}).promise()},ot.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},k=ot;function ot(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var rt=(at.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.link)},at.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},at.prototype.destroy=function(){this.$popover.remove()},at.prototype.update=function(){var e,t;this.context.invoke("editor.hasFocus")&&(e=this.context.invoke("editor.getLastRange")).isCollapsed()&&e.isOnAnchor()?(t=we.ancestor(e.sc,we.isAnchor),e=b(t).attr("href"),this.$popover.find("a").attr("href",e).html(e),t=we.posFromPlaceholder(t),this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide()},at.prototype.hide=function(){this.$popover.hide()},at);function at(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}st.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";this.options.maximumImageFileSize&&(n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=+(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B",t="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>");var n=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),t='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:t}).render().appendTo(e)},st.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},st.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},st.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},st.prototype.showImageDialog=function(){var o=this;return b.Deferred(function(t){var e=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.on("input paste propertychange",function(){o.ui.toggleBtn(i,n.val())}).val(""),T.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){e.off(),n.off(),i.off(),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})},w=st;function st(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}lt.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.image)},lt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},lt.prototype.destroy=function(){this.$popover.remove()},lt.prototype.update=function(e,t){var n;we.isImg(e)?(n=we.posFromPlaceholder(e),e=we.posFromPlaceholder(this.editable),this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,e.top)})):this.hide()},lt.prototype.hide=function(){this.$popover.hide()},t=lt;function lt(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}ct.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.table)},ct.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),T.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},ct.prototype.destroy=function(){this.$popover.remove()},ct.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=we.isCell(e);return t?(e=we.posFromPlaceholder(e),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide(),t},ct.prototype.hide=function(){this.$popover.hide()},S=ct;function ct(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}ut.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ut.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ut.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ut.prototype.createVideoNode=function(e){var t=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),r=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),l=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),d=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(t&&11===t[1].length){var h=t[1],f=0;if(void 0!==t[2]){var m=t[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var g=[3600,60,1],v=0,y=g.length;v<y;v++)f+=void 0!==m[v+1]?g[v]*parseInt(m[v+1],10):0}h=b("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h+(0<f?"?start="+f:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)h=b("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)h=b("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(r&&r[2].length)h=b("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+r[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||l&&l[2].length)l=s&&s[1].length?s[1]:l[2],h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+l+"&amp;auto=0");else if(c||u||d)h=b("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;h=b("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return h.addClass("note-video-clip"),h[0]},ut.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");e=t.createVideoNode(e);e&&t.context.invoke("editor.insertNode",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},ut.prototype.showVideoDialog=function(e){var i=this;return b.Deferred(function(t){var n=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){i.ui.toggleBtn(e,n.val())}),T.isSupportTouch||n.trigger("focus"),e.click(function(e){e.preventDefault(),t.resolve(n.val())}),i.bindEnterKey(n,e)}),i.ui.onDialogHidden(i.$dialog,function(){n.off(),e.off(),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})},i=ut;function ut(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}dt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},dt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},dt.prototype.createShortcutList=function(){var i=this,o=this.options.keyMap[T.isMac?"mac":"pc"];return Object.keys(o).map(function(e){var t=o[e],n=b('<div><div class="help-list-item"/></div>');return n.append(b("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(b("<span/>").html(i.context.memo("help."+t)||t)),n.html()}).join("")},dt.prototype.showHelpDialog=function(){var t=this;return b.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()},dt.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},s=dt;function dt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}pt.prototype.shouldInitialize=function(){return this.options.airMode&&!M.isEmpty(this.options.popover.air)},pt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},pt.prototype.destroy=function(){this.$popover.remove()},pt.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");e.range&&!e.range.isCollapsed()?(e=M.last(e.range.getClientRects()))&&(e=N.rect2bnd(e),this.$popover.css({display:"block",left:Math.max(e.left+e.width/2,0)-20,top:e.top+e.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)):this.hide()},pt.prototype.hide=function(){this.$popover.hide()},r=pt;function pt(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(e,t){T.isFF||t.relatedTarget&&we.ancestor(t.relatedTarget,N.eq(n.$popover[0]))||n.hide()}}}ht.prototype.shouldInitialize=function(){return 0<this.hints.length},ht.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(e){t.$content.find(".active").removeClass("active"),b(e.currentTarget).addClass("active"),t.replace()})},ht.prototype.destroy=function(){this.$popover.remove()},ht.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},ht.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();t.length?this.selectItem(t):((e=e.parent().next()).length||(e=this.$content.find(".note-hint-group").first()),this.selectItem(e.find(".note-hint-item").first()))},ht.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();t.length?this.selectItem(t):((e=e.parent().prev()).length||(e=this.$content.find(".note-hint-group").last()),this.selectItem(e.find(".note-hint-item").last()))},ht.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");e.length&&(e=this.nodeFromItem(e),this.lastWordRange.insertNode(e),Ne.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus"))},ht.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],e=e.data("item"),e=t.content?t.content(e):e;return e="string"==typeof e?we.createText(e):e},ht.prototype.createItemTemplates=function(i,e){var o=this.hints[i];return e.map(function(e,t){var n=b('<div class="note-hint-item"/>');return n.append(o.template?o.template(e):e+""),n.data({index:i,item:e}),n})},ht.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===Pe.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Pe.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Pe.code.DOWN&&(e.preventDefault(),this.moveDown()))},ht.prototype.searchKeyword=function(e,t,n){e=this.hints[e];e&&e.match.test(t)&&e.search?(t=e.match.exec(t),e.search(t[1],n)):n()},ht.prototype.createGroup=function(t,e){var n=this,i=b('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,e,function(e){(e=e||[]).length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i},ht.prototype.handleKeyup=function(e){var t,n,i=this;M.contains([Pe.code.ENTER,Pe.code.UP,Pe.code.DOWN],e.keyCode)||(t=this.context.invoke("editor.getLastRange").getWordRange(),n=t.toString(),this.hints.length&&n?(this.$content.empty(),(e=N.rect2bnd(M.last(t.getClientRects())))&&(this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(e,t){e.match.test(n)&&i.createGroup(t,n).appendTo(i.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))):this.hide())},ht.prototype.show=function(){this.$popover.show()},ht.prototype.hide=function(){this.$popover.hide()},a=ht;function ht(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}b.summernote=b.extend(b.summernote,{version:"0.8.12",plugins:{},dom:we,range:Ne,options:{langInfo:b.summernote.lang["en-US"],modules:{editor:l,clipboard:c,dropzone:u,codeview:d,statusbar:p,fullscreen:h,handle:f,hintPopover:a,autoLink:m,autoSync:g,autoReplace:v,placeholder:et,buttons:E,toolbar:C,linkDialog:k,linkPopover:rt,imageDialog:w,imagePopover:t,tablePopover:S,videoDialog:i,helpDialog:s,airPopover:r},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),b.summernote=b.extend(b.summernote,{ui:x}),b.summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"]},"object"==typeof n&&void 0!==t?o(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],o):o((i||self).jQuery)},{jquery:624}],215:[function(e,t,n){var i,o;i=this,o=function(b){"use strict";b=b&&b.hasOwnProperty("default")?b.default:b;function n(n,i){return function(){var e="object"==typeof arguments[1]?arguments[1]:arguments[0],t=Array.isArray(arguments[0])?arguments[0]:[];return e&&e.children&&(t=e.children),new o(n,t,e,i)}}var o=(x.prototype.render=function(e){var t,n=b(this.markup);return this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&b.each(this.options.data,function(e,t){n.attr("data-"+e,t)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children&&(t=n.find(".note-children-container"),this.children.forEach(function(e){e.render(t.length?t:n)})),this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n},x),e=n('<div class="note-editor note-frame card"/>'),t=n('<div class="note-toolbar card-header" role="toolbar"></div>'),i=n('<div class="note-editing-area"/>'),r=n('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),a=n('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),s=n(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),l=n('<div class="note-editor"/>'),c=n(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),u=n('<div class="note-btn-group btn-group">'),d=n('<div class="dropdown-menu" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e,e="object"==typeof e?e.option:void 0;return'<a class="dropdown-item" href="#" data-value="'+t+'"'+(void 0!==e?' data-option="'+e+'"':"")+' role="listitem" aria-label="'+t+'">'+n+"</a>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),p=n('<div class="dropdown-menu note-check" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e;return'<a class="dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+e+'">'+v(i.checkClassName)+" "+n+"</a>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),h=n('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),f=n('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <h4 class="modal-title">'+t.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),m=n(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),g=n('<div class="form-check"></div>',function(e,t){e.html(['<label class="form-check-label"'+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox" class="form-check-input"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-label="'+(t.text||"")+'"',' aria-checked="'+(t.checked?"true":"false")+'"/>'," "+(t.text||"")+"</label>"].join(""))}),v=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},y={editor:e,toolbar:t,editingArea:i,codable:r,editable:a,statusbar:s,airEditor:l,airEditable:c,buttonGroup:u,dropdown:d,dropdownButtonContents:function(e){return e},dropdownCheck:p,palette:h,dialog:f,popover:m,icon:v,checkbox:g,options:{},button:function(e,t){return n('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:void 0!==t.container?t.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(e){b(e.currentTarget).tooltip("hide")})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){t=(t.airMode?y.airEditor([y.editingArea([y.airEditable()])]):y.editor([y.toolbar(),y.editingArea([y.codable(),y.editable()]),y.statusbar()])).render();return t.insertAfter(e),{note:e,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};function x(e,t,n,i){this.markup=e,this.children=t,this.options=n,this.callback=i}b.summernote=b.summernote||{lang:{}},b.extend(b.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var w="function"==typeof define&&define.amd,k=navigator.userAgent,E=/MSIE|Trident/i.test(k);E&&((Ke=/MSIE (\d+[.]\d+)/.exec(k))&&(Ge=parseFloat(Ke[1])),(Ke=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(k))&&(Ge=parseFloat(Ke[1])));var C=/Edge\/\d+/.test(k),S=!!window.CodeMirror,e="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,t=E||C?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",T={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:E,isEdge:C,isFF:!C&&/firefox/i.test(k),isPhantom:/PhantomJS/i.test(k),isWebkit:!C&&/webkit/i.test(k),isChrome:!C&&/chrome/i.test(k),isSafari:!C&&/safari/i.test(k),browserVersion:Ge,jqueryVersion:parseFloat(b.fn.jquery),isSupportAmd:w,isSupportTouch:e,hasCodeMirror:S,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",i=document.createElement("canvas").getContext("2d");i.font="200px '"+t+"'";var o=i.measureText(n).width;return i.font="200px '"+e+"', '"+t+"'",o!==i.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:t},_=0,N={eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++_+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function A(e){return e[0]}function P(e){return e[e.length-1]}function I(e){return e.slice(1)}function R(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var M={head:A,last:P,initial:function(e){return e.slice(0,e.length-1)},tail:I,prev:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t-1]}return null},next:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t+1]}return null},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:R,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||N.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,i){return e.length?I(e).reduce(function(e,t){var n=P(e);return i(P(n),t)?n[n.length]=t:e[e.length]=[t],e},[[e[0]]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)R(t,e[n])||t.push(e[n]);return t}},L=String.fromCharCode(160);function D(e){return e&&b(e).hasClass("note-editable")}function j(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function F(e){return e&&3===e.nodeType}function O(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function B(e){return!D(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}var i=j("PRE"),H=j("LI"),z=j("TABLE"),U=j("DATA");function V(e){return!(Y(e)||q(e)||W(e)||B(e)||z(e)||G(e)||U(e))}function q(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var W=j("HR");function K(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var G=j("BLOCKQUOTE");function Y(e){return K(e)||G(e)||D(e)}var r=j("A"),a=j("BODY"),X=T.isMSIE&&T.browserVersion<11?"&nbsp;":"<br>";function Q(e){return F(e)?e.nodeValue.length:e?e.childNodes.length:0}function Z(e){var t=Q(e);return 0===t||!F(e)&&1===t&&e.innerHTML===X||!(!M.all(e.childNodes,F)||""!==e.innerHTML)}function J(e){O(e)||Q(e)||(e.innerHTML=X)}function ee(e,t){for(;e;){if(t(e))return e;if(D(e))break;e=e.parentNode}return null}function te(e,t){t=t||N.fail;var n=[];return ee(e,function(e){return D(e)||n.push(e),t(e)}),n}function ne(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function ie(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function oe(n,e){return b.each(e,function(e,t){n.appendChild(t)}),n}function re(e){return 0===e.offset}function ae(e){return e.offset===Q(e.node)}function se(e){return re(e)||ae(e)}function le(e,t){for(;e&&e!==t;){if(0!==ue(e))return!1;e=e.parentNode}return!0}function ce(e,t){if(!t)return!1;for(;e&&e!==t;){if(ue(e)!==Q(e.parentNode)-1)return!1;e=e.parentNode}return!0}function ue(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function de(e){return!!(e&&e.childNodes&&e.childNodes.length)}function pe(e,t){var n,i;if(0===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)}else i=de(e.node)?Q(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:i}}function he(e,t){var n,i;if(Q(e.node)===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)+1}else i=de(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?Q(e.node):e.offset+1);return{node:n,offset:i}}function fe(e,t){return e.node===t.node&&e.offset===t.offset}function me(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),se(e)&&(F(e.node)||i)){if(re(e))return e.node;if(ae(e))return e.node.nextSibling}if(F(e.node))return e.node.splitText(e.offset);t=e.node.childNodes[e.offset],i=ie(e.node.cloneNode(!1),e.node);return oe(i,ne(t)),n||(J(e.node),J(i)),o&&(Z(e.node)&&ye(e.node),Z(i))?(ye(i),e.node.nextSibling):i}function ge(e,n,i){e=te(n.node,N.eq(e));return e.length?1===e.length?me(n,i):e.reduce(function(e,t){return e===n.node&&(e=me(n,i)),me({node:t,offset:e?ue(e):Q(t)},i)}):null}function ve(e){return document.createElement(e)}function ye(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}}var be=j("TEXTAREA");function xe(e,t){e=be(e[0])?e.val():e.html();return t?e.replace(/[\n\r]/g,""):e}var we={NBSP_CHAR:L,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:X,emptyPara:"<p>"+X+"</p>",makePredByNodeName:j,isEditable:D,isControlSizing:function(e){return e&&b(e).hasClass("note-control-sizing")},isText:F,isElement:function(e){return e&&1===e.nodeType},isVoid:O,isPara:B,isPurePara:function(e){return B(e)&&!H(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:V,isBlock:N.not(V),isBodyInline:function(e){return V(e)&&!ee(e,B)},isBody:a,isParaInline:function(e){return V(e)&&!!ee(e,B)},isPre:i,isList:q,isTable:z,isData:U,isCell:K,isBlockquote:G,isBodyContainer:Y,isAnchor:r,isDiv:j("DIV"),isLi:H,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:be,isEmpty:Z,isEmptyAnchor:N.and(r,Z),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||N.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:Q,isLeftEdgePoint:re,isRightEdgePoint:ae,isEdgePoint:se,isLeftEdgeOf:le,isRightEdgeOf:ce,isLeftEdgePointOf:function(e,t){return re(e)&&le(e.node,t)},isRightEdgePointOf:function(e,t){return ae(e)&&ce(e.node,t)},prevPoint:pe,nextPoint:he,isSamePoint:fe,isVisiblePoint:function(e){if(F(e.node)||!de(e.node)||Z(e.node))return!0;var t=e.node.childNodes[e.offset-1],e=e.node.childNodes[e.offset];return!(t&&!O(t)||e&&!O(e))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=pe(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=he(e)}return null},isCharPoint:function(e){if(!F(e.node))return!1;e=e.node.nodeValue.charAt(e.offset-1);return e&&" "!==e&&e!==L},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!fe(o,t));)o=he(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:ee,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===Q(e);){if(t(e))return e;if(D(e))break;e=e.parentNode}return null},listAncestor:te,lastAncestor:function(e,t){e=te(e);return M.last(e.filter(t))},listNext:ne,listPrev:function(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,r){var a=[];return r=r||N.ok,function e(t){o!==t&&r(t)&&a.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),a},commonAncestor:function(e,t){for(var n=te(e),i=t;i;i=i.parentNode)if(-1<n.indexOf(i))return i;return null},wrap:function(e,t){var n=e.parentNode,t=b("<"+t+">")[0];return n.insertBefore(t,e),t.appendChild(e),t},insertAfter:ie,appendChildNodes:oe,position:ue,hasChildren:de,makeOffsetPath:function(e,t){return te(t,N.eq(e)).map(ue).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:ge,splitPoint:function(e,t){var n,i=t?B:Y,o=te(e.node,i),r=M.last(o)||e.node,r=i(r)?(n=o[o.length-2],r):(n=r).parentNode,t=n&&ge(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return{rightNode:t=!t&&r===e.node?e.node.childNodes[e.offset]:t,container:r}},create:ve,createText:function(e){return document.createTextNode(e)},remove:ye,removeWhile:function(e,t){for(;e&&!D(e)&&t(e);){var n=e.parentNode;ye(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;t=ve(t);return e.style.cssText&&(t.style.cssText=e.style.cssText),oe(t,M.from(e.childNodes)),ie(t,e),ye(e),t},html:function(e,t){e=xe(e);return e=t?(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();t=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(t||n?"\n":"")})).trim():e},value:xe,posFromPlaceholder:function(e){var t=b(e),e=t.offset(),t=t.outerHeight(!0);return{left:e.left,top:e.top+t}},attachEvents:function(t,n){Object.keys(n).forEach(function(e){t.on(e,n[e])})},detachEvents:function(t,n){Object.keys(n).forEach(function(e){t.off(e,n[e])})},isCustomStyleTag:function(e){return e&&!F(e)&&M.contains(e.classList,"note-styletag")}},ke=(Ee.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Ee.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Ee.prototype.reset=function(){var e=this.isDisabled();this.code(we.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},Ee.prototype._initialize=function(){var t=this,n=b.extend({},this.options.buttons);Object.keys(n).forEach(function(e){t.memo("button."+e,n[e])});var i=b.extend({},this.options.modules,b.summernote.plugins||{});Object.keys(i).forEach(function(e){t.module(e,i[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})},Ee.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)},Ee.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},Ee.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Ee.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Ee.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Ee.prototype.triggerEvent=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=this.options.callbacks[N.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},Ee.prototype.initializeModule=function(e){e=this.modules[e];e.shouldInitialize=e.shouldInitialize||N.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&we.attachEvents(this.$note,e.events))},Ee.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},Ee.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&we.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},Ee.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},Ee.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},Ee.prototype.createInvokeHandlerAndUpdateState=function(t,n){var i=this;return function(e){i.createInvokeHandler(t,n)(e),i.invoke("buttons.updateCurrentStyle")}},Ee.prototype.createInvokeHandler=function(t,n){var i=this;return function(e){e.preventDefault();e=b(e.target);i.invoke(t,n||e.closest("[data-value]").data("value"),e)}},Ee.prototype.invoke=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=e.split("."),i=1<n.length,e=i&&M.head(n),i=i?M.last(n):M.head(n),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,t):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,t):void 0},Ee);function Ee(e,t){this.ui=b.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}function Ce(e,t){for(var n,i=e.parentElement(),o=document.body.createTextRange(),r=M.from(i.childNodes),a=0;a<r.length;a++)if(!we.isText(r[a])){if(o.moveToElementText(r[a]),0<=o.compareEndPoints("StartToStart",e))break;n=r[a]}if(0!==a&&we.isText(r[a-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n);var l=n?n.nextSibling:i.firstChild,c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&we.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,a=u}return{cont:i,offset:a}}function Se(e){function r(e,t){if(we.isText(e)){var n=we.listPrev(e,N.not(we.isText)),i=M.last(n).previousSibling,o=i||e.parentNode;t+=M.sum(M.tail(n),we.nodeLength),i=!i}else{if(o=e.childNodes[t]||e,we.isText(o))return r(o,0);t=0,i=!1}return{node:o,collapseToStart:i,offset:t}}var t=document.body.createTextRange(),e=r(e.node,e.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}b.fn.extend({summernote:function(){var e=b.type(M.head(arguments)),t="string"===e,i=b.extend({},b.summernote.options,"object"===e?M.head(arguments):{});i.langInfo=b.extend(!0,{},b.summernote.lang["en-US"],b.summernote.lang[i.lang]),i.icons=b.extend(!0,{},b.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!T.isSupportTouch:i.tooltip,this.each(function(e,t){var n=b(t);n.data("summernote")||(t=new ke(n,i),n.data("summernote",t),n.data("summernote").triggerEvent("init",t.layoutInfo))});e=this.first();if(e.length){e=e.data("summernote");if(t)return e.invoke.apply(e,M.from(arguments));i.focus&&e.invoke("editor.focus")}return this}});var Te=(Pe.prototype.nativeRange=function(){if(T.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}e=Se({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Se({node:this.ec,offset:this.eo})),e},Pe.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},Pe.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},Pe.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},Pe.prototype.select=function(){var e,t=this.nativeRange();return T.isW3CRangeSupport?(0<(e=document.getSelection()).rangeCount&&e.removeAllRanges(),e.addRange(t)):t.select(),this},Pe.prototype.scrollIntoView=function(e){var t=b(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},Pe.prototype.normalize=function(){var e=function(e,t){if(we.isVisiblePoint(e)&&(!we.isEdgePoint(e)||we.isRightEdgePoint(e)&&!t||we.isLeftEdgePoint(e)&&t||we.isRightEdgePoint(e)&&t&&we.isVoid(e.node.nextSibling)||we.isLeftEdgePoint(e)&&!t&&we.isVoid(e.node.previousSibling)||we.isBlock(e.node)&&we.isEmpty(e.node)))return e;var n=we.ancestor(e.node,we.isBlock);if((we.isLeftEdgePointOf(e,n)||we.isVoid(we.prevPoint(e).node))&&!t||(we.isRightEdgePointOf(e,n)||we.isVoid(we.nextPoint(e).node))&&t){if(we.isVisiblePoint(e))return e;t=!t}return(t?we.nextPointUntil(we.nextPoint(e),we.isVisiblePoint):we.prevPointUntil(we.prevPoint(e),we.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),e=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new Pe(e.node,e.offset,t.node,t.offset)},Pe.prototype.nodes=function(n,e){n=n||N.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),e=this.getEndPoint(),r=[],a=[];return we.walkPoint(t,e,function(e){var t;we.isEditable(e.node)||(o?(we.isLeftEdgePoint(e)&&a.push(e.node),we.isRightEdgePoint(e)&&M.contains(a,e.node)&&(t=e.node)):t=i?we.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),M.unique(r)},Pe.prototype.commonAncestor=function(){return we.commonAncestor(this.sc,this.ec)},Pe.prototype.expand=function(e){var t=we.ancestor(this.sc,e),n=we.ancestor(this.ec,e);if(!t&&!n)return new Pe(this.sc,this.so,this.ec,this.eo);e=this.getPoints();return t&&(e.sc=t,e.so=0),n&&(e.ec=n,e.eo=we.nodeLength(n)),new Pe(e.sc,e.so,e.ec,e.eo)},Pe.prototype.collapse=function(e){return e?new Pe(this.sc,this.so,this.sc,this.so):new Pe(this.ec,this.eo,this.ec,this.eo)},Pe.prototype.splitText=function(){var e=this.sc===this.ec,t=this.getPoints();return we.isText(this.ec)&&!we.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),we.isText(this.sc)&&!we.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,e&&(t.ec=t.sc,t.eo=this.eo-this.so)),new Pe(t.sc,t.so,t.ec,t.eo)},Pe.prototype.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=we.prevPointUntil(e.getStartPoint(),function(e){return!M.contains(t,e.node)}),o=[];return b.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===we.nodeLength(n)&&o.push(n),we.remove(t,!1)}),b.each(o,function(e,t){we.remove(t,!1)}),new Pe(i.node,i.offset,i.node,i.offset).normalize()},Pe.prototype.makeIsOn=function(t){return function(){var e=we.ancestor(this.sc,t);return!!e&&e===we.ancestor(this.ec,t)}},Pe.prototype.isLeftEdgeOf=function(e){if(!we.isLeftEdgePoint(this.getStartPoint()))return!1;e=we.ancestor(this.sc,e);return e&&we.isLeftEdgeOf(this.sc,e)},Pe.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},Pe.prototype.wrapBodyInlineWithPara=function(){if(we.isBodyContainer(this.sc)&&we.isEmpty(this.sc))return this.sc.innerHTML=we.emptyPara,new Pe(this.sc.firstChild,0,this.sc.firstChild,0);var e,t=this.normalize();if(we.isParaInline(this.sc)||we.isPara(this.sc))return t;we.isInline(t.sc)?(e=we.listAncestor(t.sc,N.not(we.isInline)),n=M.last(e),we.isInline(n)||(n=e[e.length-2]||t.sc.childNodes[t.so])):n=t.sc.childNodes[0<t.so?t.so-1:0];var n,t=we.listPrev(n,we.isParaInline).reverse();return(t=t.concat(we.listNext(n.nextSibling,we.isParaInline))).length&&(n=we.wrap(M.head(t),"p"),we.appendChildNodes(n,M.tail(t))),this.normalize()},Pe.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),t=we.splitPoint(t.getStartPoint(),we.isInline(e));return t.rightNode?t.rightNode.parentNode.insertBefore(e,t.rightNode):t.container.appendChild(e),e},Pe.prototype.pasteHTML=function(e){var e=b("<div></div>").html(e)[0],e=M.from(e.childNodes),t=this.wrapBodyInlineWithPara().deleteContents(),e=(e=0<t.so?e.reverse():e).map(function(e){return t.insertNode(e)});return e=0<t.so?e.reverse():e},Pe.prototype.toString=function(){var e=this.nativeRange();return T.isW3CRangeSupport?e.toString():e.text},Pe.prototype.getWordRange=function(e){var t=this.getEndPoint();if(!we.isCharPoint(t))return this;var n=we.prevPointUntil(t,function(e){return!we.isCharPoint(e)});return e&&(t=we.nextPointUntil(t,function(e){return!we.isCharPoint(e)})),new Pe(n.node,n.offset,t.node,t.offset)},Pe.prototype.bookmark=function(e){return{s:{path:we.makeOffsetPath(e,this.sc),offset:this.so},e:{path:we.makeOffsetPath(e,this.ec),offset:this.eo}}},Pe.prototype.paraBookmark=function(e){return{s:{path:M.tail(we.makeOffsetPath(M.head(e),this.sc)),offset:this.so},e:{path:M.tail(we.makeOffsetPath(M.last(e),this.ec)),offset:this.eo}}},Pe.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},Pe),_e={create:function(e,t,n,i){if(4===arguments.length)return new Te(e,t,n,i);if(2===arguments.length)return new Te(n=e,i=t,n,i);i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(e)).collapse(we.emptyPara===e.innerHTML)},createFromSelection:function(){if(T.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(we.isBody(e.anchorNode))return null;var t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset}else{e=document.selection.createRange(),t=e.duplicate();t.collapse(!1);e=e;e.collapse(!0);e=Ce(e,!0),t=Ce(t,!1);n=(e=we.isText(e.node)&&we.isLeftEdgePoint(e)&&we.isTextNode(t.node)&&we.isRightEdgePoint(t)&&t.node.nextSibling===e.node?t:e).cont,i=e.offset,o=t.cont,r=t.offset}return new Te(n,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,e=we.nodeLength(i);return we.isVoid(t)&&(n=we.listPrev(t).length-1,t=t.parentNode),we.isBR(i)?(e=we.listPrev(i).length-1,i=i.parentNode):we.isVoid(i)&&(e=we.listPrev(i).length,i=i.parentNode),this.create(t,n,i,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=we.fromOffsetPath(e,t.s.path),i=t.s.offset,e=we.fromOffsetPath(e,t.e.path),t=t.e.offset;return new Te(n,i,e,t)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=we.fromOffsetPath(M.head(t),e.s.path),e=we.fromOffsetPath(M.last(t),e.e.path);return new Te(o,n,e,i)}},Ne={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Ae={isEdit:function(e){return M.contains([Ne.BACKSPACE,Ne.TAB,Ne.ENTER,Ne.SPACE,Ne.DELETE],e)},isMove:function(e){return M.contains([Ne.LEFT,Ne.UP,Ne.RIGHT,Ne.DOWN],e)},nameFromCode:N.invertObject(Ne),code:Ne};function Pe(e,t,n,i){this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(we.isEditable),this.isOnList=this.makeIsOn(we.isList),this.isOnAnchor=this.makeIsOn(we.isAnchor),this.isOnCell=this.makeIsOn(we.isCell),this.isOnData=this.makeIsOn(we.isData)}function Ie(e,c,u,o){var p={colPos:0,rowPos:0},d=[],h=[];function f(e,t,n,i,o,r,a){a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=a}function m(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(!d[e][++n])return n}function g(e,t,n,i){e===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&p.colPos++}this.getActionList=function(){for(var e=c===Ie.where.Row?p.rowPos:-1,t=c===Ie.where.Column?p.colPos:-1,n=0,i=!0;i;){var o=0<=e?e:n,r=0<=t?t:n,a=d[o];if(!a)return i=!1,h;var s=a[r];if(!s)return i=!1,h;var l=Ie.resultAction.Ignore;switch(u){case Ie.requestAction.Add:l=function(e){switch(c){case Ie.where.Column:if(e.isColSpan)return Ie.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Ie.resultAction.Ignore;break;case Ie.where.Row:if(e.isRowSpan)return Ie.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Ie.resultAction.Ignore}return Ie.resultAction.AddCell}(s);break;case Ie.requestAction.Delete:l=function(e){switch(c){case Ie.where.Column:if(e.isColSpan)return Ie.resultAction.SubtractSpanCount;break;case Ie.where.Row:if(!e.isVirtual&&e.isRowSpan)return Ie.resultAction.AddCell;if(e.isRowSpan)return Ie.resultAction.SubtractSpanCount}return Ie.resultAction.RemoveCell}(s)}h.push((a=l,{baseCell:s.baseCell,action:a,virtualTable:{rowIndex:o,cellIndex:r}})),n++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(p.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?p.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),function(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)!function(e,t){var n=m(e.rowIndex,t.cellIndex),i=1<t.colSpan,o=1<t.rowSpan,r=e.rowIndex===p.rowPos&&t.cellIndex===p.colPos;f(e.rowIndex,n,e,t,o,i,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=e.rowIndex+s;g(l,n,t,r),f(l,n,e,t,!0,i,!0)}var c=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<c)for(var u=1;u<c;u++){var d=m(e.rowIndex,n+u);g(e.rowIndex,d,t,r),f(e.rowIndex,d,e,t,o,!0,!0)}}(e[t],n[i])}()}var Re=(Be.prototype.makeSnapshot=function(){var e=_e.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Be.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&_e.createFromBookmark(this.editable,e.bookmark).select()},Be.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Be.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Be.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Be.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Be.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Be.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Be),Me=(Oe.prototype.jQueryCSS=function(n,e){if(T.jqueryVersion<1.9){var i={};return b.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css(e)},Oe.prototype.fromNode=function(e){e=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},Oe.prototype.stylePara=function(e,n){b.each(e.nodes(we.isPara,{includeAncestor:!0}),function(e,t){b(t).css(n)})},Oe.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(we.create(n))];var r,a=we.makePredByNodeName(n),t=e.nodes(we.isText,{fullyContains:!0}).map(function(e){return we.singleChildAncestor(e,a)||we.wrap(e,n)});return i?(o&&(r=e.nodes(),a=N.and(a,function(e){return M.contains(r,e)})),t.map(function(e){var t=we.withClosestSiblings(e,a),n=M.head(t),e=M.tail(t);return b.each(e,function(e,t){we.appendChildNodes(n,t.childNodes),we.remove(t)}),M.head(t)})):t},Oe.prototype.current=function(e){var t=b(we.isElement(e.sc)?e.sc:e.sc.parentNode),t=this.fromNode(t);try{t=b.extend(t,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||t["font-family"]})}catch(e){}e.isOnList()?(n=-1<["circle","disc","disc-leading-zero","square"].indexOf(t["list-style-type"]),t["list-style"]=n?"unordered":"ordered"):t["list-style"]="none";var n=we.ancestor(e.sc,we.isPara);return n&&n.style["line-height"]?t["line-height"]=n.style.lineHeight:(n=parseInt(t["line-height"],10)/parseInt(t["font-size"],10),t["line-height"]=n.toFixed(1)),t.anchor=e.isOnAnchor()&&we.ancestor(e.sc,we.isAnchor),t.ancestors=we.listAncestor(e.sc,we.isEditable),t.range=e,t},Oe),Le=(Fe.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},Fe.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},Fe.prototype.indent=function(e){var o=this,t=_e.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n,i=M.head(t);we.isLi(i)?(n=o.findList(i.previousSibling))?t.map(function(e){return n.appendChild(e)}):(o.wrapList(t,i.parentNode.nodeName),t.map(function(e){return e.parentNode}).map(function(e){return o.appendToPrevious(e)})):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),t.select()},Fe.prototype.outdent=function(e){var i=this,t=_e.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n=M.head(t);we.isLi(n)?i.releaseList([t]):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),t.select()},Fe.prototype.toggleList=function(n,e){var i,o=this,t=_e.create(e).wrapBodyInlineWithPara(),r=t.nodes(we.isPara,{includeAncestor:!0}),a=t.paraBookmark(r),e=M.clusterBy(r,N.peq2("parentNode"));M.find(r,we.isPurePara)?(i=[],b.each(e,function(e,t){i=i.concat(o.wrapList(t,n))}),r=i):(t=t.nodes(we.isList,{includeAncestor:!0}).filter(function(e){return!b.nodeName(e,n)})).length?b.each(t,function(e,t){we.replace(t,n)}):r=this.releaseList(e,!0),_e.createFromParaBookmark(a,r).select()},Fe.prototype.wrapList=function(e,t){var n=M.head(e),i=M.last(e),o=we.isList(n.previousSibling)&&n.previousSibling,n=we.isList(i.nextSibling)&&i.nextSibling,i=o||we.insertAfter(we.create(t||"UL"),i);return e=e.map(function(e){return we.isPurePara(e)?we.replace(e,"LI"):e}),we.appendChildNodes(i,e),n&&(we.appendChildNodes(i,M.from(n.childNodes)),we.remove(n)),e},Fe.prototype.releaseList=function(e,a){var s=this,l=[];return b.each(e,function(e,t){var n=M.head(t),i=M.last(t),o=a?we.lastAncestor(n,we.isList):n.parentNode,r=o.parentNode;"LI"===o.parentNode.nodeName?(t.map(function(e){var t=s.findNextSiblings(e);r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),t.length&&(s.wrapList(t,o.nodeName),e.appendChild(t[0].parentNode))}),0===o.children.length&&r.removeChild(o),0===r.childNodes.length&&r.parentNode.removeChild(r)):(i=1<o.childNodes.length?we.splitTree(o,{node:i.parentNode,offset:we.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,n=we.splitTree(o,{node:n.parentNode,offset:we.position(n)},{isSkipPaddingBlankHTML:!0}),t=a?we.listDescendant(n,we.isLi):M.from(n.childNodes).filter(we.isLi),!a&&we.isList(o.parentNode)||(t=t.map(function(e){return we.replace(e,"P")})),b.each(M.from(t).reverse(),function(e,t){we.insertAfter(t,o)}),i=M.compact([o,n,i]),b.each(i,function(e,t){t=[t].concat(we.listDescendant(t,we.isList));b.each(t.reverse(),function(e,t){we.nodeLength(t)||we.remove(t,!0)})})),l=l.concat(t)}),l},Fe.prototype.appendToPrevious=function(e){return e.previousSibling?we.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},Fe.prototype.findList=function(e){return e?M.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null},Fe.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},Fe),De=(je.prototype.insertTab=function(e,t){var n=we.createText(new Array(t+1).join(we.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=_e.create(n,t)).select()},je.prototype.insertParagraph=function(e,t){t=(t=(t=t||_e.create(e)).deleteContents()).wrapBodyInlineWithPara();var n=we.ancestor(t.sc,we.isPara);if(n){if(we.isEmpty(n)&&we.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i,o,r=null;1===this.options.blockquoteBreakingLevel?r=we.ancestor(n,we.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=we.lastAncestor(n,we.isBlockquote)),r?(o=b(we.emptyPara)[0],we.isRightEdgePoint(t.getStartPoint())&&we.isBR(t.sc.nextSibling)&&b(t.sc.nextSibling).remove(),(i=we.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0}))?i.parentNode.insertBefore(o,i):we.insertAfter(o,r)):(o=we.splitTree(n,t.getStartPoint()),a=(a=we.listDescendant(n,we.isEmptyAnchor)).concat(we.listDescendant(o,we.isEmptyAnchor)),b.each(a,function(e,t){we.remove(t)}),(we.isHeading(o)||we.isPre(o)||we.isCustomStyleTag(o))&&we.isEmpty(o)&&(o=we.replace(o,"p")))}else{var a=t.sc.childNodes[t.so];o=b(we.emptyPara)[0],a?t.sc.insertBefore(o,a):t.sc.appendChild(o)}_e.create(o,0).normalize().select().scrollIntoView(e)},je);function je(e){this.bullet=new Le,this.options=e.options}function Fe(){}function Oe(){}function Be(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}Ie.where={Row:0,Column:1},Ie.requestAction={Add:0,Delete:1},Ie.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var He,$e=(qe.prototype.tab=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=we.ancestor(n,we.isTable),e=we.listDescendant(e,we.isCell),n=M[t?"prev":"next"](e,n);n&&_e.create(n,0).select()},qe.prototype.addRow=function(e,t){for(var n=we.ancestor(e.commonAncestor(),we.isCell),i=b(n).closest("tr"),e=this.recoverAttributes(i),o=b("<tr"+e+"></tr>"),r=new Ie(n,Ie.where.Row,Ie.requestAction.Add,b(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Ie.resultAction.AddCell:o.append("<td"+l+">"+we.blank+"</td>");break;case Ie.resultAction.SumSpanCount:if("top"===t&&(s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=b("<div></div>").append(b("<td"+l+">"+we.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}c=parseInt(s.baseCell.rowSpan,10);c++,s.baseCell.setAttribute("rowSpan",c)}}"top"===t?i.before(o):1<n.rowSpan?(n=i[0].rowIndex+(n.rowSpan-2),b(b(i).parent().find("tr")[n]).after(b(o))):i.after(o)},qe.prototype.addCol=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=b(n).closest("tr");b(e).siblings().push(e);for(var i=new Ie(n,Ie.where.Column,Ie.requestAction.Add,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++){var r,a=i[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case Ie.resultAction.AddCell:"right"===t?b(a.baseCell).after("<td"+s+">"+we.blank+"</td>"):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>");break;case Ie.resultAction.SumSpanCount:"right"===t?(r=parseInt(a.baseCell.colSpan,10),r++,a.baseCell.setAttribute("colSpan",r)):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>")}}},qe.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},qe.prototype.deleteRow=function(e){for(var e=we.ancestor(e.commonAncestor(),we.isCell),t=b(e).closest("tr"),n=t.children("td, th").index(b(e)),i=t[0].rowIndex,o=new Ie(e,Ie.where.Row,Ie.requestAction.Delete,b(t).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r]){var a=o[r].baseCell,s=o[r].virtualTable,l=a.rowSpan&&1<a.rowSpan,c=l?parseInt(a.rowSpan,10):0;switch(o[r].action){case Ie.resultAction.Ignore:continue;case Ie.resultAction.AddCell:var u=t.next("tr")[0];if(!u)continue;var d=t[0].cells[n];l&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Ie.resultAction.SubtractSpanCount:l&&(2<c?(c--,a.setAttribute("rowSpan",c),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")));continue;case Ie.resultAction.RemoveCell:continue}}t.remove()},qe.prototype.deleteCol=function(e){for(var t=we.ancestor(e.commonAncestor(),we.isCell),e=b(t).closest("tr"),n=e.children("td, th").index(b(t)),i=new Ie(t,Ie.where.Column,Ie.requestAction.Delete,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++)if(i[o])switch(i[o].action){case Ie.resultAction.Ignore:continue;case Ie.resultAction.SubtractSpanCount:var r,a=i[o].baseCell;a.colSpan&&1<a.colSpan&&(2<(r=a.colSpan?parseInt(a.colSpan,10):0)?(r--,a.setAttribute("colSpan",r),a.cellIndex===n&&(a.innerHTML="")):2===r&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML="")));continue;case Ie.resultAction.RemoveCell:we.remove(i[o].baseCell,!0);continue}},qe.prototype.createTable=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push("<td>"+we.blank+"</td>");for(var r=i.join(""),a=[],s=0;s<t;s++)a.push("<tr>"+r+"</tr>");var l=a.join(""),l=b("<table>"+l+"</table>");return n&&n.tableClassName&&l.addClass(n.tableClassName),l[0]},qe.prototype.deleteTable=function(e){e=we.ancestor(e.commonAncestor(),we.isCell);b(e).closest("table").remove()},qe),s=(Ve.prototype.initialize=function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===Ae.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.setLastRange(),t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.setLastRange(),t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.setLastRange(),t.context.triggerEvent("paste",e)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(we.html(this.$note)||we.emptyPara),this.$editable.on(T.inputEventName,N.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},Ve.prototype.destroy=function(){this.$editable.off()},Ve.prototype.handleKeyMap=function(e){var t=this.options.keyMap[T.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=Ae.nameFromCode[e.keyCode];i&&n.push(i);n=t[n.join("+")];n?!1!==this.context.invoke(n)&&e.preventDefault():Ae.isEdit(e.keyCode)&&this.afterCommand()},Ve.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&M.contains([66,73,85],e.keyCode)&&e.preventDefault()},Ve.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(Ae.isMove(t.keyCode)||t.ctrlKey||t.metaKey||M.contains([Ae.code.BACKSPACE,Ae.code.DELETE],t.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+e>=this.options.maxTextLength},Ve.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},Ve.prototype.setLastRange=function(){this.lastRange=_e.create(this.editable)},Ve.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},Ve.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},Ve.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},Ve.prototype.saveTarget=function(e){this.$editable.data("target",e)},Ve.prototype.clearTarget=function(){this.$editable.removeData("target")},Ve.prototype.restoreTarget=function(){return this.$editable.data("target")},Ve.prototype.currentStyle=function(){var e=_e.create();return(e=e&&e.normalize())?this.style.current(e):this.style.fromNode(this.$editable)},Ve.prototype.styleFromNode=function(e){return this.style.fromNode(e)},Ve.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Ve.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Ve.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Ve.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},Ve.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Ve.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},Ve.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},Ve.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},Ve.prototype.insertImage=function(e,t){var n=this,i=e;return b.Deferred(function(e){var t=b("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",i)}).promise().then(function(e){n.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(n.$editable.width(),e.width()))),e.show(),_e.create(n.editable).insertNode(e[0]),_e.createFromNodeAfter(e[0]).select(),n.setLastRange(),n.afterCommand()}).fail(function(e){n.context.triggerEvent("image.upload.error",e)})},Ve.prototype.insertImagesAsDataURL=function(e){var o=this;b.each(e,function(e,t){var n,i=t.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<t.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(n=t,b.Deferred(function(t){b.extend(new FileReader,{onload:function(e){e=e.target.result;t.resolve(e)},onerror:function(e){t.reject(e)}}).readAsDataURL(n)}).promise().then(function(e){return o.insertImage(e,i)}).fail(function(){o.context.triggerEvent("image.upload.error")}))})},Ve.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},Ve.prototype.getSelectedText=function(){var e=this.getLastRange();return(e=e.isOnAnchor()?_e.createFromNode(we.ancestor(e.sc,we.isAnchor)):e).toString()},Ve.prototype.onFormatBlock=function(e,t){var n;document.execCommand("FormatBlock",!1,T.isMSIE?"<"+e+">":e),t&&t.length&&((t=t[0].tagName.toUpperCase()!==e.toUpperCase()?t.find(e):t)&&t.length)&&(n=t[0].className||"")&&(t=this.createRange(),b([t.sc,t.ec]).closest(e).addClass(n))},Ve.prototype.formatPara=function(){this.formatBlock("P")},Ve.prototype.fontStyling=function(e,t){var n,i,o=this.getLastRange();o&&(n=this.style.styleNodes(o),b(n).css(e,t),o.isCollapsed()&&(i=M.head(n))&&!we.nodeLength(i)&&(i.innerHTML=we.ZERO_WIDTH_NBSP_CHAR,_e.createFromNodeAfter(i.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",i)))},Ve.prototype.unlink=function(){var e,t=this.getLastRange();t.isOnAnchor()&&(e=we.ancestor(t.sc,we.isAnchor),(t=_e.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())},Ve.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(we.isAnchor),t=b(M.head(e.nodes(we.isAnchor))),e={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e},Ve.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},Ve.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},Ve.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},Ve.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},Ve.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},Ve.prototype.resizeTo=function(e,t,n){var i;e=n?{width:(i=e.y/e.x)<(n=t.data("ratio"))?e.x:e.y/n,height:i<n?e.x*n:e.y}:{width:e.x,height:e.y},t.css(e)},Ve.prototype.hasFocus=function(){return this.$editable.is(":focus")},Ve.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},Ve.prototype.isEmpty=function(){return we.isEmpty(this.$editable[0])||we.emptyPara===this.$editable.html()},Ve.prototype.empty=function(){this.context.invoke("code",we.emptyPara)},Ve.prototype.normalizeContent=function(){this.$editable[0].normalize()},Ve),l=(Ue.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},Ue.prototype.pasteByEvent=function(e){e=e.originalEvent.clipboardData;e&&e.items&&e.items.length&&("file"===(e=1<e.items.length?e.items[1]:M.head(e.items)).kind&&-1!==e.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[e.getAsFile()]),this.context.invoke("editor.afterCommand"))},Ue),c=(ze.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},ze.prototype.attachDragAndDropEvent=function(){var o=this,i=b(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var t=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();t||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length||o.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=b(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var i=e.originalEvent.dataTransfer;e.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):b.each(i.types,function(e,t){var n=i.getData(t);-1<t.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):b(n).each(function(e,t){o.context.invoke("editor.insertNode",t)})})}).on("dragover",!1)},ze.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}},ze);function ze(e){this.context=e,this.$eventListener=b(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=b(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}function Ue(e){this.context=e,this.$editable=e.layoutInfo.editable}function Ve(e){var a=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Me,this.table=new $e,this.typing=new De(e),this.bullet=new Le,this.history=new Re(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=t.length;n<i;n++)this[t[n]]=function(t){return function(e){a.beforeCommand(),document.execCommand(t,!1,e),a.afterCommand(!0)}}(t[n]),this.context.memo("help."+t[n],this.lang.help[t[n]]);for(this.fontName=this.wrapCommand(function(e){return a.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return a.fontStyling("font-size",e+"px")}),n=1;n<=6;n++)this["formatH"+n]=function(e){return function(){a.formatBlock("H"+e)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){a.typing.insertParagraph(a.editable)}),this.insertOrderedList=this.wrapCommand(function(){a.bullet.insertOrderedList(a.editable)}),this.insertUnorderedList=this.wrapCommand(function(){a.bullet.insertUnorderedList(a.editable)}),this.indent=this.wrapCommand(function(){a.bullet.indent(a.editable)}),this.outdent=this.wrapCommand(function(){a.bullet.outdent(a.editable)}),this.insertNode=this.wrapCommand(function(e){a.isLimited(b(e).text().length)||(a.getLastRange().insertNode(e),_e.createFromNodeAfter(e).select(),a.setLastRange())}),this.insertText=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.getLastRange().insertNode(we.createText(e)),_e.create(e,we.nodeLength(e)).select(),a.setLastRange())}),this.pasteHTML=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.context.invoke("codeview.purify",e),e=a.getLastRange().pasteHTML(e),_e.createFromNodeAfter(M.last(e)).select(),a.setLastRange())}),this.formatBlock=this.wrapCommand(function(e,t){var n=a.options.callbacks.onApplyCustomStyle;n?n.call(a,t,a.context,a.onFormatBlock):a.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=a.getLastRange().insertNode(we.create("HR"));e.nextSibling&&(_e.create(e.nextSibling,0).normalize().select(),a.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){a.style.stylePara(a.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,t=e.text,i=e.isNewWindow,o=e.range||a.getLastRange(),r=t.length-o.toString().length;0<r&&a.isLimited(r)||(e=o.toString()!==t,"string"==typeof n&&(n=n.trim()),n=a.options.onCreateLink?a.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n,r=[],e?(t=(o=o.deleteContents()).insertNode(b("<A>"+t+"</A>")[0]),r.push(t)):r=a.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),b.each(r,function(e,t){b(t).attr("href",n),i?b(t).attr("target","_blank"):b(t).removeAttr("target")}),o=_e.createFromNodeBefore(M.head(r)).getStartPoint(),r=_e.createFromNodeAfter(M.last(r)).getEndPoint(),_e.create(o.node,o.offset,r.node,r.offset).select(),a.setLastRange())}),this.color=this.wrapCommand(function(e){var t=e.foreColor,e=e.backColor;t&&document.execCommand("foreColor",!1,t),e&&document.execCommand("backColor",!1,e)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){e=e.split("x");a.getLastRange().deleteContents().insertNode(a.table.createTable(e[0],e[1],a.options))}),this.removeMedia=this.wrapCommand(function(){var e=b(a.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=b(a.restoreTarget()).detach(),a.context.triggerEvent("media.delete",e,a.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=b(a.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=b(a.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}function qe(){}T.hasCodeMirror&&(He=window.CodeMirror);var u=(ht.prototype.sync=function(){this.isActivated()&&T.hasCodeMirror&&this.$codable.data("cmEditor").save()},ht.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},ht.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},ht.prototype.purify=function(e){var o;return this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)&&(o=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase),e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var t=0,n=o;t<n.length;t++){var i=n[t];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""})),e},ht.prototype.activate=function(){var t,n,i=this;this.$codable.val(we.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),T.hasCodeMirror?(t=He.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(n=new He.TernServer(this.options.codemirror.tern),t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})),t.on("blur",function(e){i.context.triggerEvent("blur.codeview",t.getValue(),e)}),t.on("change",function(e){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(e){i.context.triggerEvent("blur.codeview",i.$codable.val(),e)}),this.$codable.on("input",function(e){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))},ht.prototype.deactivate=function(){T.hasCodeMirror&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());var e=this.purify(we.value(this.$codable,this.options.prettifyHtml)||we.emptyPara),t=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},ht.prototype.destroy=function(){this.isActivated()&&this.deactivate()},ht),d=(pt.prototype.initialize=function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();function t(e){e=e.clientY-(24+n),e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)}var n=i.$editable.offset().top-i.$document.scrollTop();i.$document.on("mousemove",t).one("mouseup",function(){i.$document.off("mousemove",t)})})},pt.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},pt),p=(dt.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},dt.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},dt.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},dt),h=(ut.prototype.initialize=function(){var r=this;this.$handle=b(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){var t,n,i,o;we.isControlSizing(e.target)&&(e.preventDefault(),e.stopPropagation(),t=r.$handle.find(".note-control-selection").data("target"),n=t.offset(),i=r.$document.scrollTop(),o=function(e){r.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-i)},t,!e.shiftKey),r.update(t[0])},r.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width()))}),this.$handle.on("wheel",function(e){e.preventDefault(),r.update()})},ut.prototype.destroy=function(){this.$handle.remove()},ut.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n,i,o=we.isImg(e),r=this.$handle.find(".note-control-selection");return this.context.invoke("imagePopover.update",e,t),o?(t={left:(i=(n=b(e)).position()).left+parseInt(n.css("marginLeft"),10),top:i.top+parseInt(n.css("marginTop"),10)},i={w:n.outerWidth(!1),h:n.outerHeight(!1)},r.css({display:"block",left:t.left,top:t.top,width:i.w,height:i.h}).data("target",n),(t=new Image).src=n.attr("src"),t=i.w+"x"+i.h+" ("+this.lang.image.original+": "+t.width+"x"+t.height+")",r.find(".note-control-selection-info").text(t),this.context.invoke("editor.saveTarget",e)):this.hide(),o},ut.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},ut),We=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,f=(ct.prototype.initialize=function(){this.lastWordRange=null},ct.prototype.destroy=function(){this.lastWordRange=null},ct.prototype.replace=function(){var e,t;!this.lastWordRange||(t=(e=this.lastWordRange.toString()).match(We))&&(t[1]||t[2])&&(t=t[1]?e:"http://"+e,t=b("<a />").html(e).attr("href",t)[0],this.context.options.linkTargetBlank&&b(t).attr("target","_blank"),this.lastWordRange.insertNode(t),this.lastWordRange=null,this.context.invoke("editor.focus"))},ct.prototype.handleKeydown=function(e){M.contains([Ae.code.ENTER,Ae.code.SPACE],e.keyCode)&&(e=this.context.invoke("editor.createRange").getWordRange(),this.lastWordRange=e)},ct.prototype.handleKeyup=function(e){M.contains([Ae.code.ENTER,Ae.code.SPACE],e.keyCode)&&this.replace()},ct),m=(lt.prototype.shouldInitialize=function(){return we.isTextarea(this.$note[0])},lt),g=(st.prototype.shouldInitialize=function(){return!!this.options.match},st.prototype.initialize=function(){this.lastWord=null},st.prototype.destroy=function(){this.lastWord=null},st.prototype.replace=function(){var n,e;this.lastWord&&(e=(n=this).lastWord.toString(),this.options.match(e,function(e){var t;e&&(t="","string"==typeof e?t=we.createText(e):e instanceof jQuery?t=e[0]:e instanceof Node&&(t=e),t&&(n.lastWord.insertNode(t),n.lastWord=null,n.context.invoke("editor.focus")))}))},st.prototype.handleKeydown=function(e){var t;this.previousKeydownCode&&M.contains(this.keys,this.previousKeydownCode)||M.contains(this.keys,e.keyCode)&&(t=this.context.invoke("editor.createRange").getWordRange(),this.lastWord=t),this.previousKeydownCode=e.keyCode},st.prototype.handleKeyup=function(e){M.contains(this.keys,e.keyCode)&&this.replace()},st),Ke=(at.prototype.shouldInitialize=function(){return!!this.options.placeholder},at.prototype.initialize=function(){var e=this;this.$placeholder=b('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},at.prototype.destroy=function(){this.$placeholder.remove()},at.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},at),E=(rt.prototype.representShortcut=function(e){e=this.invertedKeyMap[e];return this.options.shortcuts&&e?" ("+(e=T.isMac?e.replace("CMD","⌘").replace("SHIFT","⇧"):e).replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")+")":""},rt.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},rt.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},rt.prototype.destroy=function(){delete this.fontInstalledMap},rt.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=T.isFontInstalled(e)||M.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},rt.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},rt.prototype.colorPalette=function(s,e,n,i){var l=this;return this.ui.buttonGroup({className:"note-color "+s,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(e){e=b(e.currentTarget);n&&i?l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?l.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):i&&l.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",l.options.colorButton.backColor),e.attr("data-backColor",l.options.colorButton.backColor)),i?(t.css("color",l.options.colorButton.foreColor),e.attr("data-foreColor",l.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:i,colorsName:i,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())}),n.find("input[type=color]").each(function(e,t){b(t).change(function(){var e=n.find("#"+b(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();e.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t),e.click()})})},click:function(e){e.stopPropagation();var t,n,i=b("."+s),o=b(e.target),r=o.data("event"),a=o.attr("data-value");"openPalette"===r?(n=i.find("#"+a),t=(e=b(i.find("#"+n.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(),i=n.val(),t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),e.prepend(t),n.click()):M.contains(["backColor","foreColor"],r)&&(t="backColor"===r?"background-color":"color",n=o.closest(".note-color").find(".note-recent-color"),o=o.closest(".note-color").find(".note-current-color-button"),n.css(t,a),o.attr("data-"+r,a),l.context.invoke("editor."+r,a))}})]}).render()},rt.prototype.addToolbarButtons=function(){var i=this;this.context.memo("button.style",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic),i.options),tooltip:i.lang.style.style,data:{toggle:"dropdown"}}),i.ui.dropdown({className:"dropdown-style",items:i.options.styleTags,title:i.lang.style.style,template:function(e){var t=(e="string"==typeof e?{tag:e,title:i.lang.style.hasOwnProperty(e)?i.lang.style[e]:e}:e).tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:i.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var n=this,e=0,t=this.options.styleTags.length;e<t;e++)!function(e){var t=n.options.styleTags[e];n.context.memo("button.style."+t,function(){return i.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:i.lang.style[t],click:i.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.ui.icon(i.options.icons.bold),tooltip:i.lang.font.bold+i.representShortcut("bold"),click:i.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.ui.icon(i.options.icons.italic),tooltip:i.lang.font.italic+i.representShortcut("italic"),click:i.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.ui.icon(i.options.icons.underline),tooltip:i.lang.font.underline+i.representShortcut("underline"),click:i.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return i.button({contents:i.ui.icon(i.options.icons.eraser),tooltip:i.lang.font.clear+i.representShortcut("removeFormat"),click:i.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.ui.icon(i.options.icons.strikethrough),tooltip:i.lang.font.strikethrough+i.representShortcut("strikethrough"),click:i.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.ui.icon(i.options.icons.superscript),tooltip:i.lang.font.superscript,click:i.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.ui.icon(i.options.icons.subscript),tooltip:i.lang.font.subscript,click:i.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=i.context.invoke("editor.currentStyle");return b.each(e["font-family"].split(","),function(e,t){t=t.trim().replace(/['"]+/g,""),i.isFontDeservedToAdd(t)&&-1===i.options.fontNames.indexOf(t)&&i.options.fontNames.push(t)}),i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontname"/>',i.options),tooltip:i.lang.font.name,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:i.options.icons.menuCheck,items:i.options.fontNames.filter(i.isFontInstalled.bind(i)),title:i.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:i.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',i.options),tooltip:i.lang.font.size,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizes,title:i.lang.font.size,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return i.colorPalette("note-color-all",i.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return i.colorPalette("note-color-fore",i.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return i.colorPalette("note-color-back",i.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return i.button({contents:i.ui.icon(i.options.icons.unorderedlist),tooltip:i.lang.lists.unordered+i.representShortcut("insertUnorderedList"),click:i.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return i.button({contents:i.ui.icon(i.options.icons.orderedlist),tooltip:i.lang.lists.ordered+i.representShortcut("insertOrderedList"),click:i.context.createInvokeHandler("editor.insertOrderedList")}).render()});var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),r=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),l=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",N.invoke(o,"render")),this.context.memo("button.justifyCenter",N.invoke(r,"render")),this.context.memo("button.justifyRight",N.invoke(a,"render")),this.context.memo("button.justifyFull",N.invoke(s,"render")),this.context.memo("button.outdent",N.invoke(l,"render")),this.context.memo("button.indent",N.invoke(c,"render")),this.context.memo("button.paragraph",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft),i.options),tooltip:i.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),i.ui.dropdown([i.ui.buttonGroup({className:"note-align",children:[o,r,a,s]}),i.ui.buttonGroup({className:"note-list",children:[l,c]})])]).render()}),this.context.memo("button.height",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight),i.options),tooltip:i.lang.font.height,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({items:i.options.lineHeights,checkClassName:i.options.icons.menuCheck,className:"dropdown-line-height",title:i.lang.font.height,click:i.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table),i.options),tooltip:i.lang.table.table,data:{toggle:"dropdown"}}),i.ui.dropdown({title:i.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:i.options.insertTableMaxSize.col+"em",height:i.options.insertTableMaxSize.row+"em"}).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler.bind(i))}}).render()}),this.context.memo("button.link",function(){return i.button({contents:i.ui.icon(i.options.icons.link),tooltip:i.lang.link.link+i.representShortcut("linkDialog.show"),click:i.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return i.button({contents:i.ui.icon(i.options.icons.picture),tooltip:i.lang.image.image,click:i.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return i.button({contents:i.ui.icon(i.options.icons.video),tooltip:i.lang.video.video,click:i.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return i.button({contents:i.ui.icon(i.options.icons.minus),tooltip:i.lang.hr.insert+i.representShortcut("insertHorizontalRule"),click:i.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.ui.icon(i.options.icons.arrowsAlt),tooltip:i.lang.options.fullscreen,click:i.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.ui.icon(i.options.icons.code),tooltip:i.lang.options.codeview,click:i.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return i.button({contents:i.ui.icon(i.options.icons.redo),tooltip:i.lang.history.redo+i.representShortcut("redo"),click:i.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return i.button({contents:i.ui.icon(i.options.icons.undo),tooltip:i.lang.history.undo+i.representShortcut("undo"),click:i.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return i.button({contents:i.ui.icon(i.options.icons.question),tooltip:i.lang.options.help,click:i.context.createInvokeHandler("helpDialog.show")}).render()})},rt.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},rt.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},rt.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},rt.prototype.build=function(e,t){for(var n=0,i=t.length;n<i;n++){for(var o=t[n],r=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},rt.prototype.updateCurrentStyle=function(e){var i,o,n,r=this,t=e||this.$toolbar,a=this.context.invoke("editor.currentStyle");this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===a["font-bold"]},".note-btn-italic":function(){return"italic"===a["font-italic"]},".note-btn-underline":function(){return"underline"===a["font-underline"]},".note-btn-subscript":function(){return"subscript"===a["font-subscript"]},".note-btn-superscript":function(){return"superscript"===a["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===a["font-strikethrough"]}}),a["font-family"]&&(e=a["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=M.find(e,this.isFontInstalled.bind(this)),t.find(".dropdown-fontname a").each(function(e,t){var n=b(t),t=n.data("value")+""==i+"";n.toggleClass("checked",t)}),t.find(".note-current-fontname").text(i).css("font-family",i)),a["font-size"]&&(o=a["font-size"],t.find(".dropdown-fontsize a").each(function(e,t){var n=b(t),t=n.data("value")+""==o+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsize").text(o)),a["line-height"]&&(n=a["line-height"],t.find(".dropdown-line-height li a").each(function(e,t){t=b(t).data("value")+""==n+"";r.className=t?"checked":""}))},rt.prototype.updateBtnStates=function(n,e){var i=this;b.each(e,function(e,t){i.ui.toggleBtnActive(n.find(e),t())})},rt.prototype.tableMoveHandler=function(e){var t=b(e.target.parentNode),n=t.next(),i=t.find(".note-dimension-picker-mousecatcher"),o=t.find(".note-dimension-picker-highlighted"),t=t.find(".note-dimension-picker-unhighlighted");r=void 0===e.offsetX?(r=b(e.target).offset(),{x:e.pageX-r.left,y:e.pageY-r.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(r.x/18)||1,r=Math.ceil(r.y/18)||1;o.css({width:e+"em",height:r+"em"}),i.data("value",e+"x"+r),3<e&&e<this.options.insertTableMaxSize.col&&t.css({width:e+1+"em"}),3<r&&r<this.options.insertTableMaxSize.row&&t.css({height:r+1+"em"}),n.html(e+" x "+r)},rt),C=(ot.prototype.shouldInitialize=function(){return!this.options.airMode},ot.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},ot.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},ot.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=b(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-o,i=a+e-o-n-i;!this.isFollowing&&s<r&&r<i-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:o,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||i<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},ot.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},ot.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},ot.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},ot.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},ot.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},ot),k=(it.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":b("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},it.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},it.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Ae.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},it.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},it.prototype.showLinkDialog=function(a){var s=this;return b.Deferred(function(t){var n=s.$dialog.find(".note-link-text"),i=s.$dialog.find(".note-link-url"),o=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&N.isValidUrl(a.text)&&(a.url=a.text),n.on("input paste propertychange",function(){a.text=n.val(),s.toggleLinkBtn(o,n,i)}).val(a.text),i.on("input paste propertychange",function(){a.text||n.val(i.val()),s.toggleLinkBtn(o,n,i)}).val(a.url),T.isSupportTouch||i.trigger("focus"),s.toggleLinkBtn(o,n,i),s.bindEnterKey(i,o),s.bindEnterKey(n,o);var e=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",e),o.one("click",function(e){e.preventDefault(),t.resolve({range:a.range,url:i.val(),text:n.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){n.off(),i.off(),o.off(),"pending"===t.state()&&t.reject()}),s.ui.showDialog(s.$dialog)}).promise()},it.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},it),Ge=(nt.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.link)},nt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},nt.prototype.destroy=function(){this.$popover.remove()},nt.prototype.update=function(){var e,t;this.context.invoke("editor.hasFocus")&&(e=this.context.invoke("editor.getLastRange")).isCollapsed()&&e.isOnAnchor()?(t=we.ancestor(e.sc,we.isAnchor),e=b(t).attr("href"),this.$popover.find("a").attr("href",e).html(e),t=we.posFromPlaceholder(t),this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide()},nt.prototype.hide=function(){this.$popover.hide()},nt),w=(tt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";this.options.maximumImageFileSize&&(n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=+(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B",t="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>");var n=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),t='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:t}).render().appendTo(e)},tt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},tt.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Ae.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},tt.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},tt.prototype.showImageDialog=function(){var o=this;return b.Deferred(function(t){var e=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.on("input paste propertychange",function(){o.ui.toggleBtn(i,n.val())}).val(""),T.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){e.off(),n.off(),i.off(),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})},tt),e=(et.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.image)},et.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},et.prototype.destroy=function(){this.$popover.remove()},et.prototype.update=function(e,t){var n;we.isImg(e)?(n=we.posFromPlaceholder(e),e=we.posFromPlaceholder(this.editable),this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,e.top)})):this.hide()},et.prototype.hide=function(){this.$popover.hide()},et),S=(Je.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.table)},Je.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),T.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},Je.prototype.destroy=function(){this.$popover.remove()},Je.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=we.isCell(e);return t?(e=we.posFromPlaceholder(e),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide(),t},Je.prototype.hide=function(){this.$popover.hide()},Je),t=(Ze.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},Ze.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Ze.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Ae.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},Ze.prototype.createVideoNode=function(e){var t=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),r=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),l=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),d=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(t&&11===t[1].length){var h=t[1],f=0;if(void 0!==t[2]){var m=t[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var g=[3600,60,1],v=0,y=g.length;v<y;v++)f+=void 0!==m[v+1]?g[v]*parseInt(m[v+1],10):0}h=b("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h+(0<f?"?start="+f:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)h=b("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)h=b("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(r&&r[2].length)h=b("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+r[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||l&&l[2].length)l=s&&s[1].length?s[1]:l[2],h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+l+"&amp;auto=0");else if(c||u||d)h=b("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;h=b("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return h.addClass("note-video-clip"),h[0]},Ze.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");e=t.createVideoNode(e);e&&t.context.invoke("editor.insertNode",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},Ze.prototype.showVideoDialog=function(e){var i=this;return b.Deferred(function(t){var n=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){i.ui.toggleBtn(e,n.val())}),T.isSupportTouch||n.trigger("focus"),e.click(function(e){e.preventDefault(),t.resolve(n.val())}),i.bindEnterKey(n,e)}),i.ui.onDialogHidden(i.$dialog,function(){n.off(),e.off(),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})},Ze),a=(Qe.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},Qe.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Qe.prototype.createShortcutList=function(){var i=this,o=this.options.keyMap[T.isMac?"mac":"pc"];return Object.keys(o).map(function(e){var t=o[e],n=b('<div><div class="help-list-item"/></div>');return n.append(b("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(b("<span/>").html(i.context.memo("help."+t)||t)),n.html()}).join("")},Qe.prototype.showHelpDialog=function(){var t=this;return b.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()},Qe.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},Qe),i=(Xe.prototype.shouldInitialize=function(){return this.options.airMode&&!M.isEmpty(this.options.popover.air)},Xe.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},Xe.prototype.destroy=function(){this.$popover.remove()},Xe.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");e.range&&!e.range.isCollapsed()?(e=M.last(e.range.getClientRects()))&&(e=N.rect2bnd(e),this.$popover.css({display:"block",left:Math.max(e.left+e.width/2,0)-20,top:e.top+e.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)):this.hide()},Xe.prototype.hide=function(){this.$popover.hide()},Xe),r=(Ye.prototype.shouldInitialize=function(){return 0<this.hints.length},Ye.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(e){t.$content.find(".active").removeClass("active"),b(e.currentTarget).addClass("active"),t.replace()})},Ye.prototype.destroy=function(){this.$popover.remove()},Ye.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},Ye.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();t.length?this.selectItem(t):((e=e.parent().next()).length||(e=this.$content.find(".note-hint-group").first()),this.selectItem(e.find(".note-hint-item").first()))},Ye.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();t.length?this.selectItem(t):((e=e.parent().prev()).length||(e=this.$content.find(".note-hint-group").last()),this.selectItem(e.find(".note-hint-item").last()))},Ye.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");e.length&&(e=this.nodeFromItem(e),this.lastWordRange.insertNode(e),_e.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus"))},Ye.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],e=e.data("item"),e=t.content?t.content(e):e;return e="string"==typeof e?we.createText(e):e},Ye.prototype.createItemTemplates=function(i,e){var o=this.hints[i];return e.map(function(e,t){var n=b('<div class="note-hint-item"/>');return n.append(o.template?o.template(e):e+""),n.data({index:i,item:e}),n})},Ye.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===Ae.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Ae.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Ae.code.DOWN&&(e.preventDefault(),this.moveDown()))},Ye.prototype.searchKeyword=function(e,t,n){e=this.hints[e];e&&e.match.test(t)&&e.search?(t=e.match.exec(t),e.search(t[1],n)):n()},Ye.prototype.createGroup=function(t,e){var n=this,i=b('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,e,function(e){(e=e||[]).length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i},Ye.prototype.handleKeyup=function(e){var t,n,i=this;M.contains([Ae.code.ENTER,Ae.code.UP,Ae.code.DOWN],e.keyCode)||(t=this.context.invoke("editor.getLastRange").getWordRange(),n=t.toString(),this.hints.length&&n?(this.$content.empty(),(e=N.rect2bnd(M.last(t.getClientRects())))&&(this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(e,t){e.match.test(n)&&i.createGroup(t,n).appendTo(i.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))):this.hide())},Ye.prototype.show=function(){this.$popover.show()},Ye.prototype.hide=function(){this.$popover.hide()},Ye);function Ye(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}function Xe(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(e,t){T.isFF||t.relatedTarget&&we.ancestor(t.relatedTarget,N.eq(n.$popover[0]))||n.hide()}}}function Qe(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}function Ze(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}function Je(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}function et(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}function tt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}function nt(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}function it(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}function ot(e){this.context=e,this.$window=b(window),this.$document=b(document),this.ui=b.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}function rt(e){this.ui=b.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=N.invertObject(this.options.keyMap[T.isMac?"mac":"pc"])}function at(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}function st(e){var n=this;this.context=e,this.options=e.options.replace||{},this.keys=[Ae.code.ENTER,Ae.code.SPACE,Ae.code.PERIOD,Ae.code.COMMA,Ae.code.SEMICOLON,Ae.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}function lt(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}function ct(e){var n=this;this.context=e,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}function ut(e){var n=this;this.context=e,this.$document=b(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}function dt(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=b(window),this.$scrollbar=b("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}function pt(e){this.$document=b(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}function ht(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}b.summernote=b.extend(b.summernote,{version:"0.8.12",plugins:{},dom:we,range:_e,options:{langInfo:b.summernote.lang["en-US"],modules:{editor:s,clipboard:l,dropzone:c,codeview:u,statusbar:d,fullscreen:p,handle:h,hintPopover:r,autoLink:f,autoSync:m,autoReplace:g,placeholder:Ke,buttons:E,toolbar:C,linkDialog:k,linkPopover:Ge,imageDialog:w,imagePopover:e,tablePopover:S,videoDialog:t,helpDialog:a,airPopover:i},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),b.summernote=b.extend(b.summernote,{ui:y}),b.summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"]},"object"==typeof n&&void 0!==t?o(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],o):o((i||self).jQuery)},{jquery:624}],216:[function(e,t,n){var i,o;i=this,o=function(b){"use strict";b=b&&b.hasOwnProperty("default")?b.default:b;var o=(e.prototype.render=function(e){var t,n=b(this.markup);return this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&b.each(this.options.data,function(e,t){n.attr("data-"+e,t)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children&&(t=n.find(".note-children-container"),this.children.forEach(function(e){e.render(t.length?t:n)})),this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n},e);function e(e,t,n,i){this.markup=e,this.children=t,this.options=n,this.callback=i}var t=function(n,i){return function(){var e="object"==typeof arguments[1]?arguments[1]:arguments[0],t=Array.isArray(arguments[0])?arguments[0]:[];return e&&e.children&&(t=e.children),new o(n,t,e,i)}},h=(n.prototype.show=function(){var e=this.$node,t=e.offset(),n=this.$tooltip,i=this.options.title||e.attr("title")||e.data("title"),o=this.options.placement||e.data("placement");n.addClass(o),n.addClass("in"),n.find(".note-tooltip-content").text(i),n.appendTo(this.options.target);var r=e.outerWidth(),a=e.outerHeight(),i=n.outerWidth(),e=n.outerHeight();"bottom"===o?n.css({top:t.top+a,left:t.left+(r/2-i/2)}):"top"===o?n.css({top:t.top-e,left:t.left+(r/2-i/2)}):"left"===o?n.css({top:t.top+(a/2-e/2),left:t.left-i}):"right"===o&&n.css({top:t.top+(a/2-e/2),left:t.left+r})},n.prototype.hide=function(){this.$tooltip.removeClass("in"),this.$tooltip.remove()},n.prototype.toggle=function(){this.$tooltip.hasClass("in")?this.hide():this.show()},n);function n(t,e){var n,i,o;this.$node=t,this.options=$.extend({},{title:"",target:e.container,trigger:"hover focus",placement:"bottom"},e),this.$tooltip=$(['<div class="note-tooltip in">','  <div class="note-tooltip-arrow"/>','  <div class="note-tooltip-content"/>',"</div>"].join("")),"manual"!==this.options.trigger&&(n=this.show.bind(this),i=this.hide.bind(this),o=this.toggle.bind(this),this.options.trigger.split(" ").forEach(function(e){"hover"===e?(t.off("mouseenter mouseleave"),t.on("mouseenter",n).on("mouseleave",i)):"click"===e?t.on("click",o):"focus"===e&&t.on("focus",n).on("blur",i)}))}var i=(r.prototype.setEvent=function(){var t=this;this.$button.on("click",function(e){t.toggle(),e.stopImmediatePropagation()})},r.prototype.clear=function(){var e=$(".note-btn-group.open");e.find(".note-btn.active").removeClass("active"),e.removeClass("open")},r.prototype.show=function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var e=this.$button.next(),t=e.offset(),n=e.outerWidth(),i=$(window).width(),o=parseFloat($(this.options.target).css("margin-right"));t.left+n>i-o?e.css("margin-left",i-o-(t.left+n)):e.css("margin-left","")},r.prototype.hide=function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")},r.prototype.toggle=function(){var e=this.$button.parent().hasClass("open");this.clear(),e?this.hide():this.show()},r);function r(e,t){this.$button=e,this.options=$.extend({},{target:t.container},t),this.setEvent()}$(document).on("click",function(e){$(e.target).closest(".note-btn-group").length||$(".note-btn-group.open").removeClass("open")}),$(document).on("click.note-dropdown-menu",function(e){$(e.target).closest(".note-dropdown-menu").parent().removeClass("open")});var a=(s.prototype.show=function(){"body"===this.options.target?(this.$backdrop.css("position","fixed"),this.$modal.css("position","fixed")):(this.$backdrop.css("position","absolute"),this.$modal.css("position","absolute")),this.$backdrop.appendTo(this.options.target).show(),this.$modal.appendTo(this.options.target).addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this))},s.prototype.hide=function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide")},s);function s(e,t){this.options=$.extend({},{target:t.container||"body"},t),this.$modal=e,this.$backdrop=$('<div class="note-modal-backdrop" />')}var l=t('<div class="note-editor note-frame"/>'),c=t('<div class="note-toolbar" role="toolbar"/>'),u=t('<div class="note-editing-area"/>'),d=t('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),p=t('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),f=t(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-statusbar" role="resize">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),m=t('<div class="note-editor"/>'),g=t(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" role="status" aria-live="polite"/>'].join("")),v=t('<div class="note-btn-group">'),y=t('<button type="button" class="note-btn" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&(e.attr({"aria-label":t.tooltip}),e.data("_lite_tooltip",new h(e,{title:t.tooltip,container:t.container})).on("click",function(e){$(e.currentTarget).data("_lite_tooltip").hide()})),t.contents&&e.html(t.contents),t&&t.data&&"dropdown"===t.data.toggle&&e.data("_lite_dropdown",new i(e,{container:t.container}))}),x=t('<div class="note-dropdown-menu" role="list">',function(e,o){var t=Array.isArray(o.items)?o.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=o.template?o.template(e):e,t=$('<a class="note-dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+t+'"></a>');return t.html(n).data("item",e),t}):o.items;e.html(t).attr({"aria-label":o.title}),e.on("click","> .note-dropdown-item",function(e){var t=$(this),n=t.data("item"),i=t.data("value");n.click?n.click(t):o.itemClick&&o.itemClick(e,n,i)})}),w=t('<div class="note-dropdown-menu note-check" role="list">',function(e,o){var t=Array.isArray(o.items)?o.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=o.template?o.template(e):e,t=$('<a class="note-dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+e+'"></a>');return t.html([T(o.checkClassName)," ",n]).data("item",e),t}):o.items;e.html(t).attr({"aria-label":o.title}),e.on("click","> .note-dropdown-item",function(e){var t=$(this),n=t.data("item"),i=t.data("value");n.click?n.click(t):o.itemClick&&o.itemClick(e,n,i)})}),k=t('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").each(function(){$(this).data("_lite_tooltip",new h($(this),{container:t.container}))})}),E=t('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['  <div class="note-modal-content">',t.title?'    <div class="note-modal-header">      <button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button>      <h4 class="note-modal-title">'+t.title+"</h4>    </div>":"",'    <div class="note-modal-body">'+t.body+"</div>",t.footer?'    <div class="note-modal-footer">'+t.footer+"</div>":"","  </div>"].join("")),e.data("modal",new a(e,t))}),C=t(['<div class="note-popover bottom">','  <div class="note-popover-arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n).hide(),t.hideArrow&&e.find(".note-popover-arrow").hide()}),S=t('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text||"","</label>"].join(""))}),T=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},_={editor:l,toolbar:c,editingArea:u,codable:d,editable:p,statusbar:f,airEditor:m,airEditable:g,buttonGroup:v,button:y,dropdown:x,dropdownCheck:w,dropdownButton:function(e,t){return v([y({className:"dropdown-toggle",contents:e.title+" "+T("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),x({className:e.className,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},dropdownButtonContents:function(e,t){return e+" "+T(t.icons.caret,"span")},dropdownCheckButton:function(e,t){return v([y({className:"dropdown-toggle",contents:e.title+" "+T("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),w({className:e.className,checkClassName:e.checkClassName,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},paragraphDropdownButton:function(e){return v([y({className:"dropdown-toggle",contents:e.title+" "+T("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),x([v({className:"note-align",children:e.items[0]}),v({className:"note-list",children:e.items[1]})])]).render()},tableDropdownButton:function(t){return v([y({className:"dropdown-toggle",contents:t.title+" "+T("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),x({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.col+"em",height:t.row+"em"}).mousedown(t.itemClick).mousemove(function(e){!function(e,t,n){var i=$(e.target.parentNode),o=i.next(),r=i.find(".note-dimension-picker-mousecatcher"),a=i.find(".note-dimension-picker-highlighted"),i=i.find(".note-dimension-picker-unhighlighted");s=void 0===e.offsetX?(s=$(e.target).offset(),{x:e.pageX-s.left,y:e.pageY-s.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(s.x/18)||1,s=Math.ceil(s.y/18)||1;a.css({width:e+"em",height:s+"em"}),r.data("value",e+"x"+s),3<e&&e<t&&i.css({width:e+1+"em"}),3<s&&s<n&&i.css({height:s+1+"em"}),o.html(e+" x "+s)}(e,t.col,t.row)})}}).render()},colorDropdownButton:function(a,s){return v({className:"note-color",children:[y({className:"note-current-color-button",contents:a.title,tooltip:a.lang.color.recent,click:a.currentClick,callback:function(e){var t=e.find(".note-recent-color");"foreColor"!==s&&(t.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00"))}}),y({className:"dropdown-toggle",contents:T("note-icon-caret"),tooltip:a.lang.color.more,data:{toggle:"dropdown"}}),x({items:["<div>",'<div class="note-btn-group btn-background-color">','  <div class="note-palette-title">'+a.lang.color.background+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="backColor" data-value="inherit">',a.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>','  <div class="btn-sm">','    <input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>",'<div class="note-btn-group btn-foreground-color">','  <div class="note-palette-title">'+a.lang.color.foreground+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="removeFormat" data-value="foreColor">',a.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>','  <div class="btn-sm">','    <input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>","</div>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=$(this);e.append(k({colors:a.colors,eventName:e.data("event")}).render())}),"fore"===s?(e.find(".btn-background-color").hide(),e.css({"min-width":"210px"})):"back"===s&&(e.find(".btn-foreground-color").hide(),e.css({"min-width":"210px"}))},click:function(e){var t=$(e.target),n=t.data("event"),i=t.data("value"),o=document.getElementById("html5fcp").value,r=document.getElementById("html5bcp").value;"cp"===i?e.stopPropagation():"cpbackColor"===i?i=r:"cpforeColor"===i&&(i=o),n&&i&&(r="backColor"===n?"background-color":"color",o=t.closest(".note-color").find(".note-recent-color"),t=t.closest(".note-color").find(".note-current-color-button"),o.css(r,i),t.attr("data-"+n,i),"fore"===s?a.itemClick("foreColor",i):"back"===s?a.itemClick("backColor",i):a.itemClick(n,i))}})]}).render()},palette:k,dialog:E,videoDialog:function(e){var t='<div class="note-form-group"><label class="note-form-label">'+e.lang.video.url+' <small class="text-muted">'+e.lang.video.providers+'</small></label><input class="note-video-url note-input" type="text" /></div>',n=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',e.lang.video.insert,"</button>"].join("");return E({title:e.lang.video.insert,fade:e.fade,body:t,footer:n}).render()},imageDialog:function(e){var t='<div class="note-form-group note-group-select-from-files"><label class="note-form-label">'+e.lang.image.selectFromFiles+'</label><input class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple" />'+e.imageLimitation+'</div><div class="note-form-group" style="overflow:auto;"><label class="note-form-label">'+e.lang.image.url+'</label><input class="note-image-url note-input" type="text" /></div>',n=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',e.lang.image.insert,"</button>"].join("");return E({title:e.lang.image.insert,fade:e.fade,body:t,footer:n}).render()},linkDialog:function(e){var t='<div class="note-form-group"><label class="note-form-label">'+e.lang.link.textToDisplay+'</label><input class="note-link-text note-input" type="text" /></div><div class="note-form-group"><label class="note-form-label">'+e.lang.link.url+'</label><input class="note-link-url note-input" type="text" value="http://" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.lang.link.openInNewWindow+"</label></div>"),n=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',e.lang.link.insert,"</button>"].join("");return E({className:"link-dialog",title:e.lang.link.insert,fade:e.fade,body:t,footer:n}).render()},popover:C,checkbox:S,icon:T,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},check:function(e,t){e.find(".checked").removeClass("checked"),e.find('[data-value="'+t+'"]').addClass("checked")},onDialogShown:function(e,t){e.one("note.modal.show",t)},onDialogHidden:function(e,t){e.one("note.modal.hide",t)},showDialog:function(e){e.data("modal").show()},hideDialog:function(e){e.data("modal").hide()},getPopoverContent:function(e){return e.find(".note-popover-content")},getDialogBody:function(e){return e.find(".note-modal-body")},createLayout:function(e,t){t=(t.airMode?_.airEditor([_.editingArea([_.airEditable()])]):_.editor([_.toolbar(),_.editingArea([_.codable(),_.editable()]),_.statusbar()])).render();return t.insertAfter(e),{note:e,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.off("summernote"),e.show()}};b.summernote=b.summernote||{lang:{}},b.extend(b.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var N="function"==typeof define&&define.amd;var A=navigator.userAgent,P=/MSIE|Trident/i.test(A);P&&((dt=/MSIE (\d+[.]\d+)/.exec(A))&&(gt=parseFloat(dt[1])),(dt=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(A))&&(gt=parseFloat(dt[1])));var I=/Edge\/\d+/.test(A),R=!!window.CodeMirror,M="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,L=P||I?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",D={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:P,isEdge:I,isFF:!I&&/firefox/i.test(A),isPhantom:/PhantomJS/i.test(A),isWebkit:!I&&/webkit/i.test(A),isChrome:!I&&/chrome/i.test(A),isSafari:!I&&/safari/i.test(A),browserVersion:gt,jqueryVersion:parseFloat(b.fn.jquery),isSupportAmd:N,isSupportTouch:M,hasCodeMirror:R,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",i=document.createElement("canvas").getContext("2d");i.font="200px '"+t+"'";var o=i.measureText(n).width;return i.font="200px '"+e+"', '"+t+"'",o!==i.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:L};var j=0;var F={eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++j+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function O(e){return e[0]}function B(e){return e[e.length-1]}function H(e){return e.slice(1)}function z(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var U={head:O,last:B,initial:function(e){return e.slice(0,e.length-1)},tail:H,prev:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t-1]}return null},next:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t+1]}return null},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:z,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||F.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,i){return e.length?H(e).reduce(function(e,t){var n=B(e);return i(B(n),t)?n[n.length]=t:e[e.length]=[t],e},[[e[0]]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)z(t,e[n])||t.push(e[n]);return t}},V=String.fromCharCode(160);function q(e){return e&&b(e).hasClass("note-editable")}function W(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function K(e){return e&&3===e.nodeType}function G(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function Y(e){return!q(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))}var X=W("PRE"),Q=W("LI");var Z=W("TABLE"),J=W("DATA");function ee(e){return!(re(e)||te(e)||ne(e)||Y(e)||Z(e)||oe(e)||J(e))}function te(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var ne=W("HR");function ie(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var oe=W("BLOCKQUOTE");function re(e){return ie(e)||oe(e)||q(e)}var ae=W("A");t=W("BODY");var se=D.isMSIE&&D.browserVersion<11?"&nbsp;":"<br>";function le(e){return K(e)?e.nodeValue.length:e?e.childNodes.length:0}function ce(e){var t=le(e);return 0===t||(!K(e)&&1===t&&e.innerHTML===se||!(!U.all(e.childNodes,K)||""!==e.innerHTML))}function ue(e){G(e)||le(e)||(e.innerHTML=se)}function de(e,t){for(;e;){if(t(e))return e;if(q(e))break;e=e.parentNode}return null}function pe(e,t){t=t||F.fail;var n=[];return de(e,function(e){return q(e)||n.push(e),t(e)}),n}function he(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function fe(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function me(n,e){return b.each(e,function(e,t){n.appendChild(t)}),n}function ge(e){return 0===e.offset}function ve(e){return e.offset===le(e.node)}function ye(e){return ge(e)||ve(e)}function be(e,t){for(;e&&e!==t;){if(0!==we(e))return!1;e=e.parentNode}return!0}function xe(e,t){if(!t)return!1;for(;e&&e!==t;){if(we(e)!==le(e.parentNode)-1)return!1;e=e.parentNode}return!0}function we(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ke(e){return!!(e&&e.childNodes&&e.childNodes.length)}function Ee(e,t){var n,i;if(0===e.offset){if(q(e.node))return null;n=e.node.parentNode,i=we(e.node)}else i=ke(e.node)?le(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:i}}function Ce(e,t){var n,i;if(le(e.node)===e.offset){if(q(e.node))return null;n=e.node.parentNode,i=we(e.node)+1}else i=ke(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?le(e.node):e.offset+1);return{node:n,offset:i}}function Se(e,t){return e.node===t.node&&e.offset===t.offset}function Te(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),ye(e)&&(K(e.node)||i)){if(ge(e))return e.node;if(ve(e))return e.node.nextSibling}if(K(e.node))return e.node.splitText(e.offset);t=e.node.childNodes[e.offset],i=fe(e.node.cloneNode(!1),e.node);return me(i,he(t)),n||(ue(e.node),ue(i)),o&&(ce(e.node)&&Ae(e.node),ce(i))?(Ae(i),e.node.nextSibling):i}function _e(e,n,i){e=pe(n.node,F.eq(e));return e.length?1===e.length?Te(n,i):e.reduce(function(e,t){return e===n.node&&(e=Te(n,i)),Te({node:t,offset:e?we(e):le(t)},i)}):null}function Ne(e){return document.createElement(e)}function Ae(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}}var Pe=W("TEXTAREA");function Ie(e,t){e=Pe(e[0])?e.val():e.html();return t?e.replace(/[\n\r]/g,""):e}var Re={NBSP_CHAR:V,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:se,emptyPara:"<p>"+se+"</p>",makePredByNodeName:W,isEditable:q,isControlSizing:function(e){return e&&b(e).hasClass("note-control-sizing")},isText:K,isElement:function(e){return e&&1===e.nodeType},isVoid:G,isPara:Y,isPurePara:function(e){return Y(e)&&!Q(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:ee,isBlock:F.not(ee),isBodyInline:function(e){return ee(e)&&!de(e,Y)},isBody:t,isParaInline:function(e){return ee(e)&&!!de(e,Y)},isPre:X,isList:te,isTable:Z,isData:J,isCell:ie,isBlockquote:oe,isBodyContainer:re,isAnchor:ae,isDiv:W("DIV"),isLi:Q,isBR:W("BR"),isSpan:W("SPAN"),isB:W("B"),isU:W("U"),isS:W("S"),isI:W("I"),isImg:W("IMG"),isTextarea:Pe,isEmpty:ce,isEmptyAnchor:F.and(ae,ce),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||F.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:le,isLeftEdgePoint:ge,isRightEdgePoint:ve,isEdgePoint:ye,isLeftEdgeOf:be,isRightEdgeOf:xe,isLeftEdgePointOf:function(e,t){return ge(e)&&be(e.node,t)},isRightEdgePointOf:function(e,t){return ve(e)&&xe(e.node,t)},prevPoint:Ee,nextPoint:Ce,isSamePoint:Se,isVisiblePoint:function(e){if(K(e.node)||!ke(e.node)||ce(e.node))return!0;var t=e.node.childNodes[e.offset-1],e=e.node.childNodes[e.offset];return!(t&&!G(t)||e&&!G(e))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=Ee(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=Ce(e)}return null},isCharPoint:function(e){return!!K(e.node)&&((e=e.node.nodeValue.charAt(e.offset-1))&&" "!==e&&e!==V)},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!Se(o,t));)o=Ce(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:de,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===le(e);){if(t(e))return e;if(q(e))break;e=e.parentNode}return null},listAncestor:pe,lastAncestor:function(e,t){return e=pe(e),U.last(e.filter(t))},listNext:he,listPrev:function(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,r){var a=[];return r=r||F.ok,function e(t){o!==t&&r(t)&&a.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),a},commonAncestor:function(e,t){for(var n=pe(e),i=t;i;i=i.parentNode)if(-1<n.indexOf(i))return i;return null},wrap:function(e,t){var n=e.parentNode,t=b("<"+t+">")[0];return n.insertBefore(t,e),t.appendChild(e),t},insertAfter:fe,appendChildNodes:me,position:we,hasChildren:ke,makeOffsetPath:function(e,t){return pe(t,F.eq(e)).map(we).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:_e,splitPoint:function(e,t){var n,i=t?Y:re,o=pe(e.node,i),r=U.last(o)||e.node,r=i(r)?(n=o[o.length-2],r):(n=r).parentNode;return{rightNode:t=!(t=n&&_e(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}))&&r===e.node?e.node.childNodes[e.offset]:t,container:r}},create:Ne,createText:function(e){return document.createTextNode(e)},remove:Ae,removeWhile:function(e,t){for(;e&&!q(e)&&t(e);){var n=e.parentNode;Ae(e),e=n}},replace:function(e,t){return e.nodeName.toUpperCase()===t.toUpperCase()?e:(t=Ne(t),e.style.cssText&&(t.style.cssText=e.style.cssText),me(t,U.from(e.childNodes)),fe(t,e),Ae(e),t)},html:function(e,t){return e=Ie(e),e=t?(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();t=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(t||n?"\n":"")})).trim():e},value:Ie,posFromPlaceholder:function(e){var e=(t=b(e)).offset(),t=t.outerHeight(!0);return{left:e.left,top:e.top+t}},attachEvents:function(t,n){Object.keys(n).forEach(function(e){t.on(e,n[e])})},detachEvents:function(t,n){Object.keys(n).forEach(function(e){t.off(e,n[e])})},isCustomStyleTag:function(e){return e&&!K(e)&&U.contains(e.classList,"note-styletag")}},Me=(Le.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Le.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Le.prototype.reset=function(){var e=this.isDisabled();this.code(Re.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},Le.prototype._initialize=function(){var t=this,n=b.extend({},this.options.buttons);Object.keys(n).forEach(function(e){t.memo("button."+e,n[e])});var i=b.extend({},this.options.modules,b.summernote.plugins||{});Object.keys(i).forEach(function(e){t.module(e,i[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})},Le.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)},Le.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},Le.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Le.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Le.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Le.prototype.triggerEvent=function(){var e=U.head(arguments),t=U.tail(U.from(arguments)),n=this.options.callbacks[F.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},Le.prototype.initializeModule=function(e){e=this.modules[e];e.shouldInitialize=e.shouldInitialize||F.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&Re.attachEvents(this.$note,e.events))},Le.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},Le.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&Re.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},Le.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},Le.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},Le.prototype.createInvokeHandlerAndUpdateState=function(t,n){var i=this;return function(e){i.createInvokeHandler(t,n)(e),i.invoke("buttons.updateCurrentStyle")}},Le.prototype.createInvokeHandler=function(t,n){var i=this;return function(e){e.preventDefault();e=b(e.target);i.invoke(t,n||e.closest("[data-value]").data("value"),e)}},Le.prototype.invoke=function(){var e=U.head(arguments),t=U.tail(U.from(arguments)),n=e.split("."),i=1<n.length,e=i&&U.head(n),i=i?U.last(n):U.head(n),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,t):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,t):void 0},Le);function Le(e,t){this.ui=b.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}function De(e,t){for(var n,i=e.parentElement(),o=document.body.createTextRange(),r=U.from(i.childNodes),a=0;a<r.length;a++)if(!Re.isText(r[a])){if(o.moveToElementText(r[a]),0<=o.compareEndPoints("StartToStart",e))break;n=r[a]}if(0!==a&&Re.isText(r[a-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n);var l=n?n.nextSibling:i.firstChild,c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&Re.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,a=u}return{cont:i,offset:a}}function je(e){function r(e,t){if(Re.isText(e)){var n=Re.listPrev(e,F.not(Re.isText)),i=U.last(n).previousSibling,o=i||e.parentNode;t+=U.sum(U.tail(n),Re.nodeLength),i=!i}else{if(o=e.childNodes[t]||e,Re.isText(o))return r(o,0);t=0,i=!1}return{node:o,collapseToStart:i,offset:t}}var t=document.body.createTextRange(),e=r(e.node,e.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}b.fn.extend({summernote:function(){var e=b.type(U.head(arguments)),t="string"===e,i=b.extend({},b.summernote.options,"object"===e?U.head(arguments):{});i.langInfo=b.extend(!0,{},b.summernote.lang["en-US"],b.summernote.lang[i.lang]),i.icons=b.extend(!0,{},b.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!D.isSupportTouch:i.tooltip,this.each(function(e,t){var n=b(t);n.data("summernote")||(t=new Me(n,i),n.data("summernote",t),n.data("summernote").triggerEvent("init",t.layoutInfo))});e=this.first();if(e.length){e=e.data("summernote");if(t)return e.invoke.apply(e,U.from(arguments));i.focus&&e.invoke("editor.focus")}return this}});var Fe=(Oe.prototype.nativeRange=function(){if(D.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}e=je({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",je({node:this.ec,offset:this.eo})),e},Oe.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},Oe.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},Oe.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},Oe.prototype.select=function(){var e,t=this.nativeRange();return D.isW3CRangeSupport?(0<(e=document.getSelection()).rangeCount&&e.removeAllRanges(),e.addRange(t)):t.select(),this},Oe.prototype.scrollIntoView=function(e){var t=b(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},Oe.prototype.normalize=function(){var e=function(e,t){if(Re.isVisiblePoint(e)&&(!Re.isEdgePoint(e)||Re.isRightEdgePoint(e)&&!t||Re.isLeftEdgePoint(e)&&t||Re.isRightEdgePoint(e)&&t&&Re.isVoid(e.node.nextSibling)||Re.isLeftEdgePoint(e)&&!t&&Re.isVoid(e.node.previousSibling)||Re.isBlock(e.node)&&Re.isEmpty(e.node)))return e;var n=Re.ancestor(e.node,Re.isBlock);if((Re.isLeftEdgePointOf(e,n)||Re.isVoid(Re.prevPoint(e).node))&&!t||(Re.isRightEdgePointOf(e,n)||Re.isVoid(Re.nextPoint(e).node))&&t){if(Re.isVisiblePoint(e))return e;t=!t}return(t?Re.nextPointUntil(Re.nextPoint(e),Re.isVisiblePoint):Re.prevPointUntil(Re.prevPoint(e),Re.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),e=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new Oe(e.node,e.offset,t.node,t.offset)},Oe.prototype.nodes=function(n,e){n=n||F.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),e=this.getEndPoint(),r=[],a=[];return Re.walkPoint(t,e,function(e){var t;Re.isEditable(e.node)||(o?(Re.isLeftEdgePoint(e)&&a.push(e.node),Re.isRightEdgePoint(e)&&U.contains(a,e.node)&&(t=e.node)):t=i?Re.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),U.unique(r)},Oe.prototype.commonAncestor=function(){return Re.commonAncestor(this.sc,this.ec)},Oe.prototype.expand=function(e){var t=Re.ancestor(this.sc,e),n=Re.ancestor(this.ec,e);if(!t&&!n)return new Oe(this.sc,this.so,this.ec,this.eo);e=this.getPoints();return t&&(e.sc=t,e.so=0),n&&(e.ec=n,e.eo=Re.nodeLength(n)),new Oe(e.sc,e.so,e.ec,e.eo)},Oe.prototype.collapse=function(e){return e?new Oe(this.sc,this.so,this.sc,this.so):new Oe(this.ec,this.eo,this.ec,this.eo)},Oe.prototype.splitText=function(){var e=this.sc===this.ec,t=this.getPoints();return Re.isText(this.ec)&&!Re.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Re.isText(this.sc)&&!Re.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,e&&(t.ec=t.sc,t.eo=this.eo-this.so)),new Oe(t.sc,t.so,t.ec,t.eo)},Oe.prototype.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=Re.prevPointUntil(e.getStartPoint(),function(e){return!U.contains(t,e.node)}),o=[];return b.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===Re.nodeLength(n)&&o.push(n),Re.remove(t,!1)}),b.each(o,function(e,t){Re.remove(t,!1)}),new Oe(i.node,i.offset,i.node,i.offset).normalize()},Oe.prototype.makeIsOn=function(t){return function(){var e=Re.ancestor(this.sc,t);return!!e&&e===Re.ancestor(this.ec,t)}},Oe.prototype.isLeftEdgeOf=function(e){if(!Re.isLeftEdgePoint(this.getStartPoint()))return!1;e=Re.ancestor(this.sc,e);return e&&Re.isLeftEdgeOf(this.sc,e)},Oe.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},Oe.prototype.wrapBodyInlineWithPara=function(){if(Re.isBodyContainer(this.sc)&&Re.isEmpty(this.sc))return this.sc.innerHTML=Re.emptyPara,new Oe(this.sc.firstChild,0,this.sc.firstChild,0);var e,t=this.normalize();if(Re.isParaInline(this.sc)||Re.isPara(this.sc))return t;Re.isInline(t.sc)?(e=Re.listAncestor(t.sc,F.not(Re.isInline)),n=U.last(e),Re.isInline(n)||(n=e[e.length-2]||t.sc.childNodes[t.so])):n=t.sc.childNodes[0<t.so?t.so-1:0];var n,t=Re.listPrev(n,Re.isParaInline).reverse();return(t=t.concat(Re.listNext(n.nextSibling,Re.isParaInline))).length&&(n=Re.wrap(U.head(t),"p"),Re.appendChildNodes(n,U.tail(t))),this.normalize()},Oe.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),t=Re.splitPoint(t.getStartPoint(),Re.isInline(e));return t.rightNode?t.rightNode.parentNode.insertBefore(e,t.rightNode):t.container.appendChild(e),e},Oe.prototype.pasteHTML=function(e){var e=b("<div></div>").html(e)[0],e=U.from(e.childNodes),t=this.wrapBodyInlineWithPara().deleteContents(),e=(e=0<t.so?e.reverse():e).map(function(e){return t.insertNode(e)});return e=0<t.so?e.reverse():e},Oe.prototype.toString=function(){var e=this.nativeRange();return D.isW3CRangeSupport?e.toString():e.text},Oe.prototype.getWordRange=function(e){var t=this.getEndPoint();if(!Re.isCharPoint(t))return this;var n=Re.prevPointUntil(t,function(e){return!Re.isCharPoint(e)});return e&&(t=Re.nextPointUntil(t,function(e){return!Re.isCharPoint(e)})),new Oe(n.node,n.offset,t.node,t.offset)},Oe.prototype.bookmark=function(e){return{s:{path:Re.makeOffsetPath(e,this.sc),offset:this.so},e:{path:Re.makeOffsetPath(e,this.ec),offset:this.eo}}},Oe.prototype.paraBookmark=function(e){return{s:{path:U.tail(Re.makeOffsetPath(U.head(e),this.sc)),offset:this.so},e:{path:U.tail(Re.makeOffsetPath(U.last(e),this.ec)),offset:this.eo}}},Oe.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},Oe);function Oe(e,t,n,i){this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(Re.isEditable),this.isOnList=this.makeIsOn(Re.isList),this.isOnAnchor=this.makeIsOn(Re.isAnchor),this.isOnCell=this.makeIsOn(Re.isCell),this.isOnData=this.makeIsOn(Re.isData)}var Be={create:function(e,t,n,i){if(4===arguments.length)return new Fe(e,t,n,i);if(2===arguments.length)return new Fe(n=e,i=t,n,i);i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(e)).collapse(Re.emptyPara===e.innerHTML)},createFromSelection:function(){if(D.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Re.isBody(e.anchorNode))return null;var t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset}else{e=document.selection.createRange(),t=e.duplicate();t.collapse(!1);e=e;e.collapse(!0);e=De(e,!0),t=De(t,!1);n=(e=Re.isText(e.node)&&Re.isLeftEdgePoint(e)&&Re.isTextNode(t.node)&&Re.isRightEdgePoint(t)&&t.node.nextSibling===e.node?t:e).cont,i=e.offset,o=t.cont,r=t.offset}return new Fe(n,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,e=Re.nodeLength(i);return Re.isVoid(t)&&(n=Re.listPrev(t).length-1,t=t.parentNode),Re.isBR(i)?(e=Re.listPrev(i).length-1,i=i.parentNode):Re.isVoid(i)&&(e=Re.listPrev(i).length,i=i.parentNode),this.create(t,n,i,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=Re.fromOffsetPath(e,t.s.path),i=t.s.offset,e=Re.fromOffsetPath(e,t.e.path),t=t.e.offset;return new Fe(n,i,e,t)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=Re.fromOffsetPath(U.head(t),e.s.path),e=Re.fromOffsetPath(U.last(t),e.e.path);return new Fe(o,n,e,i)}},He={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},$e={isEdit:function(e){return U.contains([He.BACKSPACE,He.TAB,He.ENTER,He.SPACE,He.DELETE],e)},isMove:function(e){return U.contains([He.LEFT,He.UP,He.RIGHT,He.DOWN],e)},nameFromCode:F.invertObject(He),code:He};var ze=(Ue.prototype.makeSnapshot=function(){var e=Be.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Ue.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Be.createFromBookmark(this.editable,e.bookmark).select()},Ue.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Ue.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Ue.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Ue.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Ue.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Ue.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Ue);function Ue(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}var Ve=(qe.prototype.jQueryCSS=function(n,e){if(D.jqueryVersion<1.9){var i={};return b.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css(e)},qe.prototype.fromNode=function(e){e=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},qe.prototype.stylePara=function(e,n){b.each(e.nodes(Re.isPara,{includeAncestor:!0}),function(e,t){b(t).css(n)})},qe.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(Re.create(n))];var r,a=Re.makePredByNodeName(n),t=e.nodes(Re.isText,{fullyContains:!0}).map(function(e){return Re.singleChildAncestor(e,a)||Re.wrap(e,n)});return i?(o&&(r=e.nodes(),a=F.and(a,function(e){return U.contains(r,e)})),t.map(function(e){var t=Re.withClosestSiblings(e,a),n=U.head(t),e=U.tail(t);return b.each(e,function(e,t){Re.appendChildNodes(n,t.childNodes),Re.remove(t)}),U.head(t)})):t},qe.prototype.current=function(e){var t=b(Re.isElement(e.sc)?e.sc:e.sc.parentNode),t=this.fromNode(t);try{t=b.extend(t,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||t["font-family"]})}catch(e){}e.isOnList()?(n=-1<["circle","disc","disc-leading-zero","square"].indexOf(t["list-style-type"]),t["list-style"]=n?"unordered":"ordered"):t["list-style"]="none";var n=Re.ancestor(e.sc,Re.isPara);return n&&n.style["line-height"]?t["line-height"]=n.style.lineHeight:(n=parseInt(t["line-height"],10)/parseInt(t["font-size"],10),t["line-height"]=n.toFixed(1)),t.anchor=e.isOnAnchor()&&Re.ancestor(e.sc,Re.isAnchor),t.ancestors=Re.listAncestor(e.sc,Re.isEditable),t.range=e,t},qe);function qe(){}var We=(Ke.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},Ke.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},Ke.prototype.indent=function(e){var o=this,t=Be.create(e).wrapBodyInlineWithPara(),e=t.nodes(Re.isPara,{includeAncestor:!0}),e=U.clusterBy(e,F.peq2("parentNode"));b.each(e,function(e,t){var n,i=U.head(t);Re.isLi(i)?(n=o.findList(i.previousSibling))?t.map(function(e){return n.appendChild(e)}):(o.wrapList(t,i.parentNode.nodeName),t.map(function(e){return e.parentNode}).map(function(e){return o.appendToPrevious(e)})):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),t.select()},Ke.prototype.outdent=function(e){var i=this,t=Be.create(e).wrapBodyInlineWithPara(),e=t.nodes(Re.isPara,{includeAncestor:!0}),e=U.clusterBy(e,F.peq2("parentNode"));b.each(e,function(e,t){var n=U.head(t);Re.isLi(n)?i.releaseList([t]):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),t.select()},Ke.prototype.toggleList=function(n,e){var i,o=this,t=Be.create(e).wrapBodyInlineWithPara(),r=t.nodes(Re.isPara,{includeAncestor:!0}),a=t.paraBookmark(r),e=U.clusterBy(r,F.peq2("parentNode"));U.find(r,Re.isPurePara)?(i=[],b.each(e,function(e,t){i=i.concat(o.wrapList(t,n))}),r=i):(t=t.nodes(Re.isList,{includeAncestor:!0}).filter(function(e){return!b.nodeName(e,n)})).length?b.each(t,function(e,t){Re.replace(t,n)}):r=this.releaseList(e,!0),Be.createFromParaBookmark(a,r).select()},Ke.prototype.wrapList=function(e,t){var n=U.head(e),i=U.last(e),o=Re.isList(n.previousSibling)&&n.previousSibling,n=Re.isList(i.nextSibling)&&i.nextSibling,i=o||Re.insertAfter(Re.create(t||"UL"),i);return e=e.map(function(e){return Re.isPurePara(e)?Re.replace(e,"LI"):e}),Re.appendChildNodes(i,e),n&&(Re.appendChildNodes(i,U.from(n.childNodes)),Re.remove(n)),e},Ke.prototype.releaseList=function(e,a){var s=this,l=[];return b.each(e,function(e,t){var n=U.head(t),i=U.last(t),o=a?Re.lastAncestor(n,Re.isList):n.parentNode,r=o.parentNode;"LI"===o.parentNode.nodeName?(t.map(function(e){var t=s.findNextSiblings(e);r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),t.length&&(s.wrapList(t,o.nodeName),e.appendChild(t[0].parentNode))}),0===o.children.length&&r.removeChild(o),0===r.childNodes.length&&r.parentNode.removeChild(r)):(i=1<o.childNodes.length?Re.splitTree(o,{node:i.parentNode,offset:Re.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,n=Re.splitTree(o,{node:n.parentNode,offset:Re.position(n)},{isSkipPaddingBlankHTML:!0}),t=a?Re.listDescendant(n,Re.isLi):U.from(n.childNodes).filter(Re.isLi),!a&&Re.isList(o.parentNode)||(t=t.map(function(e){return Re.replace(e,"P")})),b.each(U.from(t).reverse(),function(e,t){Re.insertAfter(t,o)}),i=U.compact([o,n,i]),b.each(i,function(e,t){t=[t].concat(Re.listDescendant(t,Re.isList));b.each(t.reverse(),function(e,t){Re.nodeLength(t)||Re.remove(t,!0)})})),l=l.concat(t)}),l},Ke.prototype.appendToPrevious=function(e){return e.previousSibling?Re.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},Ke.prototype.findList=function(e){return e?U.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null},Ke.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},Ke);function Ke(){}var Ge=(Ye.prototype.insertTab=function(e,t){var n=Re.createText(new Array(t+1).join(Re.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Be.create(n,t)).select()},Ye.prototype.insertParagraph=function(e,t){t=(t=(t=t||Be.create(e)).deleteContents()).wrapBodyInlineWithPara();var n=Re.ancestor(t.sc,Re.isPara);if(n){if(Re.isEmpty(n)&&Re.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i,o,r=null;1===this.options.blockquoteBreakingLevel?r=Re.ancestor(n,Re.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=Re.lastAncestor(n,Re.isBlockquote)),r?(o=b(Re.emptyPara)[0],Re.isRightEdgePoint(t.getStartPoint())&&Re.isBR(t.sc.nextSibling)&&b(t.sc.nextSibling).remove(),(i=Re.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0}))?i.parentNode.insertBefore(o,i):Re.insertAfter(o,r)):(o=Re.splitTree(n,t.getStartPoint()),a=(a=Re.listDescendant(n,Re.isEmptyAnchor)).concat(Re.listDescendant(o,Re.isEmptyAnchor)),b.each(a,function(e,t){Re.remove(t)}),(Re.isHeading(o)||Re.isPre(o)||Re.isCustomStyleTag(o))&&Re.isEmpty(o)&&(o=Re.replace(o,"p")))}else{var a=t.sc.childNodes[t.so];o=b(Re.emptyPara)[0],a?t.sc.insertBefore(o,a):t.sc.appendChild(o)}Be.create(o,0).normalize().select().scrollIntoView(e)},Ye);function Ye(e){this.bullet=new We,this.options=e.options}function Xe(e,c,u,o){var p={colPos:0,rowPos:0},d=[],h=[];function f(e,t,n,i,o,r,a){a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=a}function m(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(!d[e][++n])return n}function g(e,t,n,i){e===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&p.colPos++}function t(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)!function(e,t){var n=m(e.rowIndex,t.cellIndex),i=1<t.colSpan,o=1<t.rowSpan,r=e.rowIndex===p.rowPos&&t.cellIndex===p.colPos;f(e.rowIndex,n,e,t,o,i,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=e.rowIndex+s;g(l,n,t,r),f(l,n,e,t,!0,i,!0)}var c=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<c)for(var u=1;u<c;u++){var d=m(e.rowIndex,n+u);g(e.rowIndex,d,t,r),f(e.rowIndex,d,e,t,o,!0,!0)}}(e[t],n[i])}this.getActionList=function(){for(var e=c===Xe.where.Row?p.rowPos:-1,t=c===Xe.where.Column?p.colPos:-1,n=0,i=!0;i;){var o=0<=e?e:n,r=0<=t?t:n,a=d[o];if(!a)return i=!1,h;var s=a[r];if(!s)return i=!1,h;var l=Xe.resultAction.Ignore;switch(u){case Xe.requestAction.Add:l=function(e){switch(c){case Xe.where.Column:if(e.isColSpan)return Xe.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Xe.resultAction.Ignore;break;case Xe.where.Row:if(e.isRowSpan)return Xe.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Xe.resultAction.Ignore}return Xe.resultAction.AddCell}(s);break;case Xe.requestAction.Delete:l=function(e){switch(c){case Xe.where.Column:if(e.isColSpan)return Xe.resultAction.SubtractSpanCount;break;case Xe.where.Row:if(!e.isVirtual&&e.isRowSpan)return Xe.resultAction.AddCell;if(e.isRowSpan)return Xe.resultAction.SubtractSpanCount}return Xe.resultAction.RemoveCell}(s)}h.push((a=l,{baseCell:s.baseCell,action:a,virtualTable:{rowIndex:o,cellIndex:r}})),n++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(p.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?p.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),t()}Xe.where={Row:0,Column:1},Xe.requestAction={Add:0,Delete:1},Xe.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Qe=(Ze.prototype.tab=function(e,t){var n=Re.ancestor(e.commonAncestor(),Re.isCell),e=Re.ancestor(n,Re.isTable),e=Re.listDescendant(e,Re.isCell),n=U[t?"prev":"next"](e,n);n&&Be.create(n,0).select()},Ze.prototype.addRow=function(e,t){for(var n=Re.ancestor(e.commonAncestor(),Re.isCell),i=b(n).closest("tr"),e=this.recoverAttributes(i),o=b("<tr"+e+"></tr>"),r=new Xe(n,Xe.where.Row,Xe.requestAction.Add,b(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Xe.resultAction.AddCell:o.append("<td"+l+">"+Re.blank+"</td>");break;case Xe.resultAction.SumSpanCount:if("top"===t)if((s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=b("<div></div>").append(b("<td"+l+">"+Re.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}c=parseInt(s.baseCell.rowSpan,10);c++,s.baseCell.setAttribute("rowSpan",c)}}"top"===t?i.before(o):1<n.rowSpan?(n=i[0].rowIndex+(n.rowSpan-2),b(b(i).parent().find("tr")[n]).after(b(o))):i.after(o)},Ze.prototype.addCol=function(e,t){var n=Re.ancestor(e.commonAncestor(),Re.isCell),e=b(n).closest("tr");b(e).siblings().push(e);for(var i=new Xe(n,Xe.where.Column,Xe.requestAction.Add,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++){var r,a=i[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case Xe.resultAction.AddCell:"right"===t?b(a.baseCell).after("<td"+s+">"+Re.blank+"</td>"):b(a.baseCell).before("<td"+s+">"+Re.blank+"</td>");break;case Xe.resultAction.SumSpanCount:"right"===t?(r=parseInt(a.baseCell.colSpan,10),r++,a.baseCell.setAttribute("colSpan",r)):b(a.baseCell).before("<td"+s+">"+Re.blank+"</td>")}}},Ze.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},Ze.prototype.deleteRow=function(e){for(var e=Re.ancestor(e.commonAncestor(),Re.isCell),t=b(e).closest("tr"),n=t.children("td, th").index(b(e)),i=t[0].rowIndex,o=new Xe(e,Xe.where.Row,Xe.requestAction.Delete,b(t).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r]){var a=o[r].baseCell,s=o[r].virtualTable,l=a.rowSpan&&1<a.rowSpan,c=l?parseInt(a.rowSpan,10):0;switch(o[r].action){case Xe.resultAction.Ignore:continue;case Xe.resultAction.AddCell:var u=t.next("tr")[0];if(!u)continue;var d=t[0].cells[n];l&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Xe.resultAction.SubtractSpanCount:l&&(2<c?(c--,a.setAttribute("rowSpan",c),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")));continue;case Xe.resultAction.RemoveCell:continue}}t.remove()},Ze.prototype.deleteCol=function(e){for(var t=Re.ancestor(e.commonAncestor(),Re.isCell),e=b(t).closest("tr"),n=e.children("td, th").index(b(t)),i=new Xe(t,Xe.where.Column,Xe.requestAction.Delete,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++)if(i[o])switch(i[o].action){case Xe.resultAction.Ignore:continue;case Xe.resultAction.SubtractSpanCount:var r,a=i[o].baseCell;a.colSpan&&1<a.colSpan&&(2<(r=a.colSpan?parseInt(a.colSpan,10):0)?(r--,a.setAttribute("colSpan",r),a.cellIndex===n&&(a.innerHTML="")):2===r&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML="")));continue;case Xe.resultAction.RemoveCell:Re.remove(i[o].baseCell,!0);continue}},Ze.prototype.createTable=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push("<td>"+Re.blank+"</td>");for(var r=i.join(""),a=[],s=0;s<t;s++)a.push("<tr>"+r+"</tr>");var l=a.join(""),l=b("<table>"+l+"</table>");return n&&n.tableClassName&&l.addClass(n.tableClassName),l[0]},Ze.prototype.deleteTable=function(e){e=Re.ancestor(e.commonAncestor(),Re.isCell);b(e).closest("table").remove()},Ze);function Ze(){}Je.prototype.initialize=function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===$e.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.setLastRange(),t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.setLastRange(),t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.setLastRange(),t.context.triggerEvent("paste",e)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Re.html(this.$note)||Re.emptyPara),this.$editable.on(D.inputEventName,F.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},Je.prototype.destroy=function(){this.$editable.off()},Je.prototype.handleKeyMap=function(e){var t=this.options.keyMap[D.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=$e.nameFromCode[e.keyCode];i&&n.push(i);n=t[n.join("+")];n?!1!==this.context.invoke(n)&&e.preventDefault():$e.isEdit(e.keyCode)&&this.afterCommand()},Je.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&U.contains([66,73,85],e.keyCode)&&e.preventDefault()},Je.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!($e.isMove(t.keyCode)||t.ctrlKey||t.metaKey||U.contains([$e.code.BACKSPACE,$e.code.DELETE],t.keyCode)))&&(0<this.options.maxTextLength&&this.$editable.text().length+e>=this.options.maxTextLength)},Je.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},Je.prototype.setLastRange=function(){this.lastRange=Be.create(this.editable)},Je.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},Je.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},Je.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},Je.prototype.saveTarget=function(e){this.$editable.data("target",e)},Je.prototype.clearTarget=function(){this.$editable.removeData("target")},Je.prototype.restoreTarget=function(){return this.$editable.data("target")},Je.prototype.currentStyle=function(){var e=Be.create();return(e=e&&e.normalize())?this.style.current(e):this.style.fromNode(this.$editable)},Je.prototype.styleFromNode=function(e){return this.style.fromNode(e)},Je.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Je.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Je.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Je.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},Je.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Je.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},Je.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},Je.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},Je.prototype.insertImage=function(e,t){var n,i=this;return n=e,b.Deferred(function(e){var t=b("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise().then(function(e){i.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(i.$editable.width(),e.width()))),e.show(),Be.create(i.editable).insertNode(e[0]),Be.createFromNodeAfter(e[0]).select(),i.setLastRange(),i.afterCommand()}).fail(function(e){i.context.triggerEvent("image.upload.error",e)})},Je.prototype.insertImagesAsDataURL=function(e){var o=this;b.each(e,function(e,t){var n,i=t.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<t.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(n=t,b.Deferred(function(t){b.extend(new FileReader,{onload:function(e){e=e.target.result;t.resolve(e)},onerror:function(e){t.reject(e)}}).readAsDataURL(n)}).promise().then(function(e){return o.insertImage(e,i)}).fail(function(){o.context.triggerEvent("image.upload.error")}))})},Je.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},Je.prototype.getSelectedText=function(){var e=this.getLastRange();return(e=e.isOnAnchor()?Be.createFromNode(Re.ancestor(e.sc,Re.isAnchor)):e).toString()},Je.prototype.onFormatBlock=function(e,t){var n;document.execCommand("FormatBlock",!1,D.isMSIE?"<"+e+">":e),t&&t.length&&(t=t[0].tagName.toUpperCase()!==e.toUpperCase()?t.find(e):t)&&t.length&&((n=t[0].className||"")&&(t=this.createRange(),b([t.sc,t.ec]).closest(e).addClass(n)))},Je.prototype.formatPara=function(){this.formatBlock("P")},Je.prototype.fontStyling=function(e,t){var n,i=this.getLastRange();i&&(n=this.style.styleNodes(i),b(n).css(e,t),!i.isCollapsed()||(n=U.head(n))&&!Re.nodeLength(n)&&(n.innerHTML=Re.ZERO_WIDTH_NBSP_CHAR,Be.createFromNodeAfter(n.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",n)))},Je.prototype.unlink=function(){var e,t=this.getLastRange();t.isOnAnchor()&&(e=Re.ancestor(t.sc,Re.isAnchor),(t=Be.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())},Je.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(Re.isAnchor),t=b(U.head(e.nodes(Re.isAnchor))),e={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e},Je.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},Je.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},Je.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},Je.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},Je.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},Je.prototype.resizeTo=function(e,t,n){var i;e=n?{width:(i=e.y/e.x)<(n=t.data("ratio"))?e.x:e.y/n,height:i<n?e.x*n:e.y}:{width:e.x,height:e.y},t.css(e)},Je.prototype.hasFocus=function(){return this.$editable.is(":focus")},Je.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},Je.prototype.isEmpty=function(){return Re.isEmpty(this.$editable[0])||Re.emptyPara===this.$editable.html()},Je.prototype.empty=function(){this.context.invoke("code",Re.emptyPara)},Je.prototype.normalizeContent=function(){this.$editable[0].normalize()},l=Je;function Je(e){var a=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ve,this.table=new Qe,this.typing=new Ge(e),this.bullet=new We,this.history=new ze(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=t.length;n<i;n++)this[t[n]]=function(t){return function(e){a.beforeCommand(),document.execCommand(t,!1,e),a.afterCommand(!0)}}(t[n]),this.context.memo("help."+t[n],this.lang.help[t[n]]);this.fontName=this.wrapCommand(function(e){return a.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return a.fontStyling("font-size",e+"px")});for(n=1;n<=6;n++)this["formatH"+n]=function(e){return function(){a.formatBlock("H"+e)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){a.typing.insertParagraph(a.editable)}),this.insertOrderedList=this.wrapCommand(function(){a.bullet.insertOrderedList(a.editable)}),this.insertUnorderedList=this.wrapCommand(function(){a.bullet.insertUnorderedList(a.editable)}),this.indent=this.wrapCommand(function(){a.bullet.indent(a.editable)}),this.outdent=this.wrapCommand(function(){a.bullet.outdent(a.editable)}),this.insertNode=this.wrapCommand(function(e){a.isLimited(b(e).text().length)||(a.getLastRange().insertNode(e),Be.createFromNodeAfter(e).select(),a.setLastRange())}),this.insertText=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.getLastRange().insertNode(Re.createText(e)),Be.create(e,Re.nodeLength(e)).select(),a.setLastRange())}),this.pasteHTML=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.context.invoke("codeview.purify",e),e=a.getLastRange().pasteHTML(e),Be.createFromNodeAfter(U.last(e)).select(),a.setLastRange())}),this.formatBlock=this.wrapCommand(function(e,t){var n=a.options.callbacks.onApplyCustomStyle;n?n.call(a,t,a.context,a.onFormatBlock):a.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=a.getLastRange().insertNode(Re.create("HR"));e.nextSibling&&(Be.create(e.nextSibling,0).normalize().select(),a.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){a.style.stylePara(a.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,t=e.text,i=e.isNewWindow,o=e.range||a.getLastRange(),r=t.length-o.toString().length;0<r&&a.isLimited(r)||(e=o.toString()!==t,"string"==typeof n&&(n=n.trim()),n=a.options.onCreateLink?a.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n,r=[],e?(t=(o=o.deleteContents()).insertNode(b("<A>"+t+"</A>")[0]),r.push(t)):r=a.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),b.each(r,function(e,t){b(t).attr("href",n),i?b(t).attr("target","_blank"):b(t).removeAttr("target")}),o=Be.createFromNodeBefore(U.head(r)).getStartPoint(),r=Be.createFromNodeAfter(U.last(r)).getEndPoint(),Be.create(o.node,o.offset,r.node,r.offset).select(),a.setLastRange())}),this.color=this.wrapCommand(function(e){var t=e.foreColor,e=e.backColor;t&&document.execCommand("foreColor",!1,t),e&&document.execCommand("backColor",!1,e)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){e=e.split("x");a.getLastRange().deleteContents().insertNode(a.table.createTable(e[0],e[1],a.options))}),this.removeMedia=this.wrapCommand(function(){var e=b(a.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=b(a.restoreTarget()).detach(),a.context.triggerEvent("media.delete",e,a.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=b(a.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=b(a.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}et.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},et.prototype.pasteByEvent=function(e){e=e.originalEvent.clipboardData;e&&e.items&&e.items.length&&("file"===(e=1<e.items.length?e.items[1]:U.head(e.items)).kind&&-1!==e.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[e.getAsFile()]),this.context.invoke("editor.afterCommand"))},c=et;function et(e){this.context=e,this.$editable=e.layoutInfo.editable}var tt,u=(nt.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},nt.prototype.attachDragAndDropEvent=function(){var o=this,i=b(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var t=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();t||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length||o.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=b(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var i=e.originalEvent.dataTransfer;e.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):b.each(i.types,function(e,t){var n=i.getData(t);-1<t.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):b(n).each(function(e,t){o.context.invoke("editor.insertNode",t)})})}).on("dragover",!1)},nt.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}},nt);function nt(e){this.context=e,this.$eventListener=b(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=b(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}D.hasCodeMirror&&(tt=window.CodeMirror);it.prototype.sync=function(){this.isActivated()&&D.hasCodeMirror&&this.$codable.data("cmEditor").save()},it.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},it.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},it.prototype.purify=function(e){var o;return this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter&&(o=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase),e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var t=0,n=o;t<n.length;t++){var i=n[t];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""}))),e},it.prototype.activate=function(){var t,n,i=this;this.$codable.val(Re.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),D.hasCodeMirror?(t=tt.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(n=new tt.TernServer(this.options.codemirror.tern),t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})),t.on("blur",function(e){i.context.triggerEvent("blur.codeview",t.getValue(),e)}),t.on("change",function(e){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(e){i.context.triggerEvent("blur.codeview",i.$codable.val(),e)}),this.$codable.on("input",function(e){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))},it.prototype.deactivate=function(){D.hasCodeMirror&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());var e=this.purify(Re.value(this.$codable,this.options.prettifyHtml)||Re.emptyPara),t=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},it.prototype.destroy=function(){this.isActivated()&&this.deactivate()},d=it;function it(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}ot.prototype.initialize=function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();function t(e){e=e.clientY-(24+n),e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)}var n=i.$editable.offset().top-i.$document.scrollTop();i.$document.on("mousemove",t).one("mouseup",function(){i.$document.off("mousemove",t)})})},ot.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},p=ot;function ot(e){this.$document=b(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}rt.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},rt.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},rt.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},f=rt;function rt(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=b(window),this.$scrollbar=b("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}at.prototype.initialize=function(){var r=this;this.$handle=b(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){var t,n,i,o;Re.isControlSizing(e.target)&&(e.preventDefault(),e.stopPropagation(),t=r.$handle.find(".note-control-selection").data("target"),n=t.offset(),i=r.$document.scrollTop(),o=function(e){r.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-i)},t,!e.shiftKey),r.update(t[0])},r.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width()))}),this.$handle.on("wheel",function(e){e.preventDefault(),r.update()})},at.prototype.destroy=function(){this.$handle.remove()},at.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n,i,o=Re.isImg(e),r=this.$handle.find(".note-control-selection");return this.context.invoke("imagePopover.update",e,t),o?(t={left:(i=(n=b(e)).position()).left+parseInt(n.css("marginLeft"),10),top:i.top+parseInt(n.css("marginTop"),10)},i={w:n.outerWidth(!1),h:n.outerHeight(!1)},r.css({display:"block",left:t.left,top:t.top,width:i.w,height:i.h}).data("target",n),(t=new Image).src=n.attr("src"),t=i.w+"x"+i.h+" ("+this.lang.image.original+": "+t.width+"x"+t.height+")",r.find(".note-control-selection-info").text(t),this.context.invoke("editor.saveTarget",e)):this.hide(),o},at.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},m=at;function at(e){var n=this;this.context=e,this.$document=b(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var st=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,g=(lt.prototype.initialize=function(){this.lastWordRange=null},lt.prototype.destroy=function(){this.lastWordRange=null},lt.prototype.replace=function(){var e,t;!this.lastWordRange||(t=(e=this.lastWordRange.toString()).match(st))&&(t[1]||t[2])&&(t=t[1]?e:"http://"+e,t=b("<a />").html(e).attr("href",t)[0],this.context.options.linkTargetBlank&&b(t).attr("target","_blank"),this.lastWordRange.insertNode(t),this.lastWordRange=null,this.context.invoke("editor.focus"))},lt.prototype.handleKeydown=function(e){U.contains([$e.code.ENTER,$e.code.SPACE],e.keyCode)&&(e=this.context.invoke("editor.createRange").getWordRange(),this.lastWordRange=e)},lt.prototype.handleKeyup=function(e){U.contains([$e.code.ENTER,$e.code.SPACE],e.keyCode)&&this.replace()},lt);function lt(e){var n=this;this.context=e,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}ct.prototype.shouldInitialize=function(){return Re.isTextarea(this.$note[0])},C=ct;function ct(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}ut.prototype.shouldInitialize=function(){return!!this.options.match},ut.prototype.initialize=function(){this.lastWord=null},ut.prototype.destroy=function(){this.lastWord=null},ut.prototype.replace=function(){var n,e;this.lastWord&&(e=(n=this).lastWord.toString(),this.options.match(e,function(e){var t;e&&(t="","string"==typeof e?t=Re.createText(e):e instanceof jQuery?t=e[0]:e instanceof Node&&(t=e),t&&(n.lastWord.insertNode(t),n.lastWord=null,n.context.invoke("editor.focus")))}))},ut.prototype.handleKeydown=function(e){var t;this.previousKeydownCode&&U.contains(this.keys,this.previousKeydownCode)||U.contains(this.keys,e.keyCode)&&(t=this.context.invoke("editor.createRange").getWordRange(),this.lastWord=t),this.previousKeydownCode=e.keyCode},ut.prototype.handleKeyup=function(e){U.contains(this.keys,e.keyCode)&&this.replace()},S=ut;function ut(e){var n=this;this.context=e,this.options=e.options.replace||{},this.keys=[$e.code.ENTER,$e.code.SPACE,$e.code.PERIOD,$e.code.COMMA,$e.code.SEMICOLON,$e.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var dt=(pt.prototype.shouldInitialize=function(){return!!this.options.placeholder},pt.prototype.initialize=function(){var e=this;this.$placeholder=b('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},pt.prototype.destroy=function(){this.$placeholder.remove()},pt.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},pt);function pt(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}ht.prototype.representShortcut=function(e){e=this.invertedKeyMap[e];return this.options.shortcuts&&e?" ("+(e=(e=D.isMac?e.replace("CMD","⌘").replace("SHIFT","⇧"):e).replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")":""},ht.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},ht.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},ht.prototype.destroy=function(){delete this.fontInstalledMap},ht.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=D.isFontInstalled(e)||U.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},ht.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},ht.prototype.colorPalette=function(s,e,n,i){var l=this;return this.ui.buttonGroup({className:"note-color "+s,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(e){e=b(e.currentTarget);n&&i?l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?l.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):i&&l.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",l.options.colorButton.backColor),e.attr("data-backColor",l.options.colorButton.backColor)),i?(t.css("color",l.options.colorButton.foreColor),e.attr("data-foreColor",l.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:i,colorsName:i,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())}),n.find("input[type=color]").each(function(e,t){b(t).change(function(){var e=n.find("#"+b(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();e.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t),e.click()})})},click:function(e){e.stopPropagation();var t,n,i=b("."+s),o=b(e.target),r=o.data("event"),a=o.attr("data-value");"openPalette"===r?(n=i.find("#"+a),t=(e=b(i.find("#"+n.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(),i=n.val(),t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),e.prepend(t),n.click()):U.contains(["backColor","foreColor"],r)&&(t="backColor"===r?"background-color":"color",n=o.closest(".note-color").find(".note-recent-color"),o=o.closest(".note-color").find(".note-current-color-button"),n.css(t,a),o.attr("data-"+r,a),l.context.invoke("editor."+r,a))}})]}).render()},ht.prototype.addToolbarButtons=function(){var i=this;this.context.memo("button.style",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic),i.options),tooltip:i.lang.style.style,data:{toggle:"dropdown"}}),i.ui.dropdown({className:"dropdown-style",items:i.options.styleTags,title:i.lang.style.style,template:function(e){var t=(e="string"==typeof e?{tag:e,title:i.lang.style.hasOwnProperty(e)?i.lang.style[e]:e}:e).tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:i.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var n=this,e=0,t=this.options.styleTags.length;e<t;e++)!function(e){var t=n.options.styleTags[e];n.context.memo("button.style."+t,function(){return i.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:i.lang.style[t],click:i.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.ui.icon(i.options.icons.bold),tooltip:i.lang.font.bold+i.representShortcut("bold"),click:i.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.ui.icon(i.options.icons.italic),tooltip:i.lang.font.italic+i.representShortcut("italic"),click:i.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.ui.icon(i.options.icons.underline),tooltip:i.lang.font.underline+i.representShortcut("underline"),click:i.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return i.button({contents:i.ui.icon(i.options.icons.eraser),tooltip:i.lang.font.clear+i.representShortcut("removeFormat"),click:i.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.ui.icon(i.options.icons.strikethrough),tooltip:i.lang.font.strikethrough+i.representShortcut("strikethrough"),click:i.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.ui.icon(i.options.icons.superscript),tooltip:i.lang.font.superscript,click:i.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.ui.icon(i.options.icons.subscript),tooltip:i.lang.font.subscript,click:i.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=i.context.invoke("editor.currentStyle");return b.each(e["font-family"].split(","),function(e,t){t=t.trim().replace(/['"]+/g,""),i.isFontDeservedToAdd(t)&&-1===i.options.fontNames.indexOf(t)&&i.options.fontNames.push(t)}),i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontname"/>',i.options),tooltip:i.lang.font.name,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:i.options.icons.menuCheck,items:i.options.fontNames.filter(i.isFontInstalled.bind(i)),title:i.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:i.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',i.options),tooltip:i.lang.font.size,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizes,title:i.lang.font.size,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return i.colorPalette("note-color-all",i.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return i.colorPalette("note-color-fore",i.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return i.colorPalette("note-color-back",i.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return i.button({contents:i.ui.icon(i.options.icons.unorderedlist),tooltip:i.lang.lists.unordered+i.representShortcut("insertUnorderedList"),click:i.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return i.button({contents:i.ui.icon(i.options.icons.orderedlist),tooltip:i.lang.lists.ordered+i.representShortcut("insertOrderedList"),click:i.context.createInvokeHandler("editor.insertOrderedList")}).render()});var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),r=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),l=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",F.invoke(o,"render")),this.context.memo("button.justifyCenter",F.invoke(r,"render")),this.context.memo("button.justifyRight",F.invoke(a,"render")),this.context.memo("button.justifyFull",F.invoke(s,"render")),this.context.memo("button.outdent",F.invoke(l,"render")),this.context.memo("button.indent",F.invoke(c,"render")),this.context.memo("button.paragraph",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft),i.options),tooltip:i.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),i.ui.dropdown([i.ui.buttonGroup({className:"note-align",children:[o,r,a,s]}),i.ui.buttonGroup({className:"note-list",children:[l,c]})])]).render()}),this.context.memo("button.height",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight),i.options),tooltip:i.lang.font.height,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({items:i.options.lineHeights,checkClassName:i.options.icons.menuCheck,className:"dropdown-line-height",title:i.lang.font.height,click:i.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table),i.options),tooltip:i.lang.table.table,data:{toggle:"dropdown"}}),i.ui.dropdown({title:i.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:i.options.insertTableMaxSize.col+"em",height:i.options.insertTableMaxSize.row+"em"}).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler.bind(i))}}).render()}),this.context.memo("button.link",function(){return i.button({contents:i.ui.icon(i.options.icons.link),tooltip:i.lang.link.link+i.representShortcut("linkDialog.show"),click:i.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return i.button({contents:i.ui.icon(i.options.icons.picture),tooltip:i.lang.image.image,click:i.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return i.button({contents:i.ui.icon(i.options.icons.video),tooltip:i.lang.video.video,click:i.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return i.button({contents:i.ui.icon(i.options.icons.minus),tooltip:i.lang.hr.insert+i.representShortcut("insertHorizontalRule"),click:i.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.ui.icon(i.options.icons.arrowsAlt),tooltip:i.lang.options.fullscreen,click:i.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.ui.icon(i.options.icons.code),tooltip:i.lang.options.codeview,click:i.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return i.button({contents:i.ui.icon(i.options.icons.redo),tooltip:i.lang.history.redo+i.representShortcut("redo"),click:i.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return i.button({contents:i.ui.icon(i.options.icons.undo),tooltip:i.lang.history.undo+i.representShortcut("undo"),click:i.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return i.button({contents:i.ui.icon(i.options.icons.question),tooltip:i.lang.options.help,click:i.context.createInvokeHandler("helpDialog.show")}).render()})},ht.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},ht.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},ht.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},ht.prototype.build=function(e,t){for(var n=0,i=t.length;n<i;n++){for(var o=t[n],r=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},ht.prototype.updateCurrentStyle=function(e){var i,o,n,r=this,t=e||this.$toolbar,a=this.context.invoke("editor.currentStyle");this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===a["font-bold"]},".note-btn-italic":function(){return"italic"===a["font-italic"]},".note-btn-underline":function(){return"underline"===a["font-underline"]},".note-btn-subscript":function(){return"subscript"===a["font-subscript"]},".note-btn-superscript":function(){return"superscript"===a["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===a["font-strikethrough"]}}),a["font-family"]&&(e=a["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=U.find(e,this.isFontInstalled.bind(this)),t.find(".dropdown-fontname a").each(function(e,t){var n=b(t),t=n.data("value")+""==i+"";n.toggleClass("checked",t)}),t.find(".note-current-fontname").text(i).css("font-family",i)),a["font-size"]&&(o=a["font-size"],t.find(".dropdown-fontsize a").each(function(e,t){var n=b(t),t=n.data("value")+""==o+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsize").text(o)),a["line-height"]&&(n=a["line-height"],t.find(".dropdown-line-height li a").each(function(e,t){t=b(t).data("value")+""==n+"";r.className=t?"checked":""}))},ht.prototype.updateBtnStates=function(n,e){var i=this;b.each(e,function(e,t){i.ui.toggleBtnActive(n.find(e),t())})},ht.prototype.tableMoveHandler=function(e){var t=b(e.target.parentNode),n=t.next(),i=t.find(".note-dimension-picker-mousecatcher"),o=t.find(".note-dimension-picker-highlighted"),t=t.find(".note-dimension-picker-unhighlighted");r=void 0===e.offsetX?(r=b(e.target).offset(),{x:e.pageX-r.left,y:e.pageY-r.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(r.x/18)||1,r=Math.ceil(r.y/18)||1;o.css({width:e+"em",height:r+"em"}),i.data("value",e+"x"+r),3<e&&e<this.options.insertTableMaxSize.col&&t.css({width:e+1+"em"}),3<r&&r<this.options.insertTableMaxSize.row&&t.css({height:r+1+"em"}),n.html(e+" x "+r)},P=ht;function ht(e){this.ui=b.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=F.invertObject(this.options.keyMap[D.isMac?"mac":"pc"])}ft.prototype.shouldInitialize=function(){return!this.options.airMode},ft.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},ft.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},ft.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=b(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-o,i=a+e-o-n-i;!this.isFollowing&&s<r&&r<i-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:o,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||i<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},ft.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},ft.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},ft.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},ft.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},ft.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},I=ft;function ft(e){this.context=e,this.$window=b(window),this.$document=b(document),this.ui=b.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}mt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":b("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},mt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},mt.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},mt.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},mt.prototype.showLinkDialog=function(a){var s=this;return b.Deferred(function(t){var n=s.$dialog.find(".note-link-text"),i=s.$dialog.find(".note-link-url"),o=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&F.isValidUrl(a.text)&&(a.url=a.text),n.on("input paste propertychange",function(){a.text=n.val(),s.toggleLinkBtn(o,n,i)}).val(a.text),i.on("input paste propertychange",function(){a.text||n.val(i.val()),s.toggleLinkBtn(o,n,i)}).val(a.url),D.isSupportTouch||i.trigger("focus"),s.toggleLinkBtn(o,n,i),s.bindEnterKey(i,o),s.bindEnterKey(n,o);var e=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",e),o.one("click",function(e){e.preventDefault(),t.resolve({range:a.range,url:i.val(),text:n.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){n.off(),i.off(),o.off(),"pending"===t.state()&&t.reject()}),s.ui.showDialog(s.$dialog)}).promise()},mt.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},A=mt;function mt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var gt=(vt.prototype.shouldInitialize=function(){return!U.isEmpty(this.options.popover.link)},vt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},vt.prototype.destroy=function(){this.$popover.remove()},vt.prototype.update=function(){var e,t;this.context.invoke("editor.hasFocus")&&(e=this.context.invoke("editor.getLastRange")).isCollapsed()&&e.isOnAnchor()?(t=Re.ancestor(e.sc,Re.isAnchor),e=b(t).attr("href"),this.$popover.find("a").attr("href",e).html(e),t=Re.posFromPlaceholder(t),this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide()},vt.prototype.hide=function(){this.$popover.hide()},vt);function vt(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}yt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";this.options.maximumImageFileSize&&(n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=+(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B",t="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>");var n=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),t='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:t}).render().appendTo(e)},yt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},yt.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},yt.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},yt.prototype.showImageDialog=function(){var o=this;return b.Deferred(function(t){var e=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.on("input paste propertychange",function(){o.ui.toggleBtn(i,n.val())}).val(""),D.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){e.off(),n.off(),i.off(),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})},N=yt;function yt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}bt.prototype.shouldInitialize=function(){return!U.isEmpty(this.options.popover.image)},bt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},bt.prototype.destroy=function(){this.$popover.remove()},bt.prototype.update=function(e,t){var n;Re.isImg(e)?(n=Re.posFromPlaceholder(e),e=Re.posFromPlaceholder(this.editable),this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,e.top)})):this.hide()},bt.prototype.hide=function(){this.$popover.hide()},M=bt;function bt(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}xt.prototype.shouldInitialize=function(){return!U.isEmpty(this.options.popover.table)},xt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),D.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},xt.prototype.destroy=function(){this.$popover.remove()},xt.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=Re.isCell(e);return t?(e=Re.posFromPlaceholder(e),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide(),t},xt.prototype.hide=function(){this.$popover.hide()},R=xt;function xt(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}wt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},wt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},wt.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},wt.prototype.createVideoNode=function(e){var t=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),r=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),l=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),d=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(t&&11===t[1].length){var h=t[1],f=0;if(void 0!==t[2]){var m=t[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var g=[3600,60,1],v=0,y=g.length;v<y;v++)f+=void 0!==m[v+1]?g[v]*parseInt(m[v+1],10):0}h=b("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h+(0<f?"?start="+f:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)h=b("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)h=b("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(r&&r[2].length)h=b("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+r[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||l&&l[2].length)l=s&&s[1].length?s[1]:l[2],h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+l+"&amp;auto=0");else if(c||u||d)h=b("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;h=b("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return h.addClass("note-video-clip"),h[0]},wt.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");e=t.createVideoNode(e);e&&t.context.invoke("editor.insertNode",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},wt.prototype.showVideoDialog=function(e){var i=this;return b.Deferred(function(t){var n=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){i.ui.toggleBtn(e,n.val())}),D.isSupportTouch||n.trigger("focus"),e.click(function(e){e.preventDefault(),t.resolve(n.val())}),i.bindEnterKey(n,e)}),i.ui.onDialogHidden(i.$dialog,function(){n.off(),e.off(),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})},L=wt;function wt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}kt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},kt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},kt.prototype.createShortcutList=function(){var i=this,o=this.options.keyMap[D.isMac?"mac":"pc"];return Object.keys(o).map(function(e){var t=o[e],n=b('<div><div class="help-list-item"/></div>');return n.append(b("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(b("<span/>").html(i.context.memo("help."+t)||t)),n.html()}).join("")},kt.prototype.showHelpDialog=function(){var t=this;return b.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()},kt.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},t=kt;function kt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}Et.prototype.shouldInitialize=function(){return this.options.airMode&&!U.isEmpty(this.options.popover.air)},Et.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},Et.prototype.destroy=function(){this.$popover.remove()},Et.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");e.range&&!e.range.isCollapsed()?(e=U.last(e.range.getClientRects()))&&(e=F.rect2bnd(e),this.$popover.css({display:"block",left:Math.max(e.left+e.width/2,0)-20,top:e.top+e.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)):this.hide()},Et.prototype.hide=function(){this.$popover.hide()},X=Et;function Et(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(e,t){D.isFF||t.relatedTarget&&Re.ancestor(t.relatedTarget,F.eq(n.$popover[0]))||n.hide()}}}Ct.prototype.shouldInitialize=function(){return 0<this.hints.length},Ct.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(e){t.$content.find(".active").removeClass("active"),b(e.currentTarget).addClass("active"),t.replace()})},Ct.prototype.destroy=function(){this.$popover.remove()},Ct.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},Ct.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();t.length?this.selectItem(t):((e=e.parent().next()).length||(e=this.$content.find(".note-hint-group").first()),this.selectItem(e.find(".note-hint-item").first()))},Ct.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();t.length?this.selectItem(t):((e=e.parent().prev()).length||(e=this.$content.find(".note-hint-group").last()),this.selectItem(e.find(".note-hint-item").last()))},Ct.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");e.length&&(e=this.nodeFromItem(e),this.lastWordRange.insertNode(e),Be.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus"))},Ct.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],e=e.data("item"),e=t.content?t.content(e):e;return e="string"==typeof e?Re.createText(e):e},Ct.prototype.createItemTemplates=function(i,e){var o=this.hints[i];return e.map(function(e,t){var n=b('<div class="note-hint-item"/>');return n.append(o.template?o.template(e):e+""),n.data({index:i,item:e}),n})},Ct.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===$e.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===$e.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===$e.code.DOWN&&(e.preventDefault(),this.moveDown()))},Ct.prototype.searchKeyword=function(e,t,n){e=this.hints[e];e&&e.match.test(t)&&e.search?(t=e.match.exec(t),e.search(t[1],n)):n()},Ct.prototype.createGroup=function(t,e){var n=this,i=b('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,e,function(e){(e=e||[]).length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i},Ct.prototype.handleKeyup=function(e){var t,n,i=this;U.contains([$e.code.ENTER,$e.code.UP,$e.code.DOWN],e.keyCode)||(t=this.context.invoke("editor.getLastRange").getWordRange(),n=t.toString(),this.hints.length&&n?(this.$content.empty(),(e=F.rect2bnd(U.last(t.getClientRects())))&&(this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(e,t){e.match.test(n)&&i.createGroup(t,n).appendTo(i.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))):this.hide())},Ct.prototype.show=function(){this.$popover.show()},Ct.prototype.hide=function(){this.$popover.hide()},ae=Ct;function Ct(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}b.summernote=b.extend(b.summernote,{version:"0.8.12",plugins:{},dom:Re,range:Be,options:{langInfo:b.summernote.lang["en-US"],modules:{editor:l,clipboard:c,dropzone:u,codeview:d,statusbar:p,fullscreen:f,handle:m,hintPopover:ae,autoLink:g,autoSync:C,autoReplace:S,placeholder:dt,buttons:P,toolbar:I,linkDialog:A,linkPopover:gt,imageDialog:N,imagePopover:M,tablePopover:R,videoDialog:L,helpDialog:t,airPopover:X},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),b.summernote=b.extend(b.summernote,{ui:_})},"object"==typeof n&&void 0!==t?o(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],o):o((i||self).jQuery)},{jquery:624}],217:[function(e,t,n){var i,o;i=this,o=function(b){"use strict";b=b&&b.hasOwnProperty("default")?b.default:b;var o=(r.prototype.render=function(e){var t,n=b(this.markup);return this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&b.each(this.options.data,function(e,t){n.attr("data-"+e,t)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children&&(t=n.find(".note-children-container"),this.children.forEach(function(e){e.render(t.length?t:n)})),this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n},r),e=function(n,i){return function(){var e="object"==typeof arguments[1]?arguments[1]:arguments[0],t=Array.isArray(arguments[0])?arguments[0]:[];return e&&e.children&&(t=e.children),new o(n,t,e,i)}},h=(i.prototype.show=function(){var e=this.$node,t=e.offset(),n=this.$tooltip,i=this.options.title||e.attr("title")||e.data("title"),o=this.options.placement||e.data("placement");n.addClass(o),n.addClass("in"),n.find(".note-tooltip-content").text(i),n.appendTo(this.options.target);var r=e.outerWidth(),a=e.outerHeight(),i=n.outerWidth(),e=n.outerHeight();"bottom"===o?n.css({top:t.top+a,left:t.left+(r/2-i/2)}):"top"===o?n.css({top:t.top-e,left:t.left+(r/2-i/2)}):"left"===o?n.css({top:t.top+(a/2-e/2),left:t.left-i}):"right"===o&&n.css({top:t.top+(a/2-e/2),left:t.left+r})},i.prototype.hide=function(){this.$tooltip.removeClass("in"),this.$tooltip.remove()},i.prototype.toggle=function(){this.$tooltip.hasClass("in")?this.hide():this.show()},i),n=(t.prototype.setEvent=function(){var t=this;this.$button.on("click",function(e){t.toggle(),e.stopImmediatePropagation()})},t.prototype.clear=function(){var e=$(".note-btn-group.open");e.find(".note-btn.active").removeClass("active"),e.removeClass("open")},t.prototype.show=function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var e=this.$button.next(),t=e.offset(),n=e.outerWidth(),i=$(window).width(),o=parseFloat($(this.options.target).css("margin-right"));t.left+n>i-o?e.css("margin-left",i-o-(t.left+n)):e.css("margin-left","")},t.prototype.hide=function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")},t.prototype.toggle=function(){var e=this.$button.parent().hasClass("open");this.clear(),e?this.hide():this.show()},t);function t(e,t){this.$button=e,this.options=$.extend({},{target:t.container},t),this.setEvent()}function i(t,e){var n,i,o;this.$node=t,this.options=$.extend({},{title:"",target:e.container,trigger:"hover focus",placement:"bottom"},e),this.$tooltip=$(['<div class="note-tooltip in">','  <div class="note-tooltip-arrow"/>','  <div class="note-tooltip-content"/>',"</div>"].join("")),"manual"!==this.options.trigger&&(n=this.show.bind(this),i=this.hide.bind(this),o=this.toggle.bind(this),this.options.trigger.split(" ").forEach(function(e){"hover"===e?(t.off("mouseenter mouseleave"),t.on("mouseenter",n).on("mouseleave",i)):"click"===e?t.on("click",o):"focus"===e&&t.on("focus",n).on("blur",i)}))}function r(e,t,n,i){this.markup=e,this.children=t,this.options=n,this.callback=i}$(document).on("click",function(e){$(e.target).closest(".note-btn-group").length||$(".note-btn-group.open").removeClass("open")}),$(document).on("click.note-dropdown-menu",function(e){$(e.target).closest(".note-dropdown-menu").parent().removeClass("open")});var a=(_.prototype.show=function(){"body"===this.options.target?(this.$backdrop.css("position","fixed"),this.$modal.css("position","fixed")):(this.$backdrop.css("position","absolute"),this.$modal.css("position","absolute")),this.$backdrop.appendTo(this.options.target).show(),this.$modal.appendTo(this.options.target).addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this))},_.prototype.hide=function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide")},_),s=e('<div class="note-editor note-frame"/>'),l=e('<div class="note-toolbar" role="toolbar"/>'),c=e('<div class="note-editing-area"/>'),u=e('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),d=e('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),p=e(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-statusbar" role="resize">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),f=e('<div class="note-editor"/>'),m=e(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" role="status" aria-live="polite"/>'].join("")),g=e('<div class="note-btn-group">'),v=e('<button type="button" class="note-btn" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&(e.attr({"aria-label":t.tooltip}),e.data("_lite_tooltip",new h(e,{title:t.tooltip,container:t.container})).on("click",function(e){$(e.currentTarget).data("_lite_tooltip").hide()})),t.contents&&e.html(t.contents),t&&t.data&&"dropdown"===t.data.toggle&&e.data("_lite_dropdown",new n(e,{container:t.container}))}),y=e('<div class="note-dropdown-menu" role="list">',function(e,o){var t=Array.isArray(o.items)?o.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=o.template?o.template(e):e,t=$('<a class="note-dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+t+'"></a>');return t.html(n).data("item",e),t}):o.items;e.html(t).attr({"aria-label":o.title}),e.on("click","> .note-dropdown-item",function(e){var t=$(this),n=t.data("item"),i=t.data("value");n.click?n.click(t):o.itemClick&&o.itemClick(e,n,i)})}),x=e('<div class="note-dropdown-menu note-check" role="list">',function(e,o){var t=Array.isArray(o.items)?o.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=o.template?o.template(e):e,t=$('<a class="note-dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+e+'"></a>');return t.html([S(o.checkClassName)," ",n]).data("item",e),t}):o.items;e.html(t).attr({"aria-label":o.title}),e.on("click","> .note-dropdown-item",function(e){var t=$(this),n=t.data("item"),i=t.data("value");n.click?n.click(t):o.itemClick&&o.itemClick(e,n,i)})}),w=e('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").each(function(){$(this).data("_lite_tooltip",new h($(this),{container:t.container}))})}),k=e('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['  <div class="note-modal-content">',t.title?'    <div class="note-modal-header">      <button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button>      <h4 class="note-modal-title">'+t.title+"</h4>    </div>":"",'    <div class="note-modal-body">'+t.body+"</div>",t.footer?'    <div class="note-modal-footer">'+t.footer+"</div>":"","  </div>"].join("")),e.data("modal",new a(e,t))}),E=e(['<div class="note-popover bottom">','  <div class="note-popover-arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n).hide(),t.hideArrow&&e.find(".note-popover-arrow").hide()}),C=e('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text||"","</label>"].join(""))}),S=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},T={editor:s,toolbar:l,editingArea:c,codable:u,editable:d,statusbar:p,airEditor:f,airEditable:m,buttonGroup:g,button:v,dropdown:y,dropdownCheck:x,dropdownButton:function(e,t){return g([v({className:"dropdown-toggle",contents:e.title+" "+S("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),y({className:e.className,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},dropdownButtonContents:function(e,t){return e+" "+S(t.icons.caret,"span")},dropdownCheckButton:function(e,t){return g([v({className:"dropdown-toggle",contents:e.title+" "+S("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),x({className:e.className,checkClassName:e.checkClassName,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},paragraphDropdownButton:function(e){return g([v({className:"dropdown-toggle",contents:e.title+" "+S("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),y([g({className:"note-align",children:e.items[0]}),g({className:"note-list",children:e.items[1]})])]).render()},tableDropdownButton:function(t){return g([v({className:"dropdown-toggle",contents:t.title+" "+S("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),y({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.col+"em",height:t.row+"em"}).mousedown(t.itemClick).mousemove(function(e){!function(e,t,n){var i=$(e.target.parentNode),o=i.next(),r=i.find(".note-dimension-picker-mousecatcher"),a=i.find(".note-dimension-picker-highlighted"),i=i.find(".note-dimension-picker-unhighlighted");s=void 0===e.offsetX?(s=$(e.target).offset(),{x:e.pageX-s.left,y:e.pageY-s.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(s.x/18)||1,s=Math.ceil(s.y/18)||1;a.css({width:e+"em",height:s+"em"}),r.data("value",e+"x"+s),3<e&&e<t&&i.css({width:e+1+"em"}),3<s&&s<n&&i.css({height:s+1+"em"}),o.html(e+" x "+s)}(e,t.col,t.row)})}}).render()},colorDropdownButton:function(a,s){return g({className:"note-color",children:[v({className:"note-current-color-button",contents:a.title,tooltip:a.lang.color.recent,click:a.currentClick,callback:function(e){var t=e.find(".note-recent-color");"foreColor"!==s&&(t.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00"))}}),v({className:"dropdown-toggle",contents:S("note-icon-caret"),tooltip:a.lang.color.more,data:{toggle:"dropdown"}}),y({items:["<div>",'<div class="note-btn-group btn-background-color">','  <div class="note-palette-title">'+a.lang.color.background+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="backColor" data-value="inherit">',a.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>','  <div class="btn-sm">','    <input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>",'<div class="note-btn-group btn-foreground-color">','  <div class="note-palette-title">'+a.lang.color.foreground+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="removeFormat" data-value="foreColor">',a.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>','  <div class="btn-sm">','    <input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>","</div>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=$(this);e.append(w({colors:a.colors,eventName:e.data("event")}).render())}),"fore"===s?(e.find(".btn-background-color").hide(),e.css({"min-width":"210px"})):"back"===s&&(e.find(".btn-foreground-color").hide(),e.css({"min-width":"210px"}))},click:function(e){var t=$(e.target),n=t.data("event"),i=t.data("value"),o=document.getElementById("html5fcp").value,r=document.getElementById("html5bcp").value;"cp"===i?e.stopPropagation():"cpbackColor"===i?i=r:"cpforeColor"===i&&(i=o),n&&i&&(r="backColor"===n?"background-color":"color",o=t.closest(".note-color").find(".note-recent-color"),t=t.closest(".note-color").find(".note-current-color-button"),o.css(r,i),t.attr("data-"+n,i),"fore"===s?a.itemClick("foreColor",i):"back"===s?a.itemClick("backColor",i):a.itemClick(n,i))}})]}).render()},palette:w,dialog:k,videoDialog:function(e){var t='<div class="note-form-group"><label class="note-form-label">'+e.lang.video.url+' <small class="text-muted">'+e.lang.video.providers+'</small></label><input class="note-video-url note-input" type="text" /></div>',n=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',e.lang.video.insert,"</button>"].join("");return k({title:e.lang.video.insert,fade:e.fade,body:t,footer:n}).render()},imageDialog:function(e){var t='<div class="note-form-group note-group-select-from-files"><label class="note-form-label">'+e.lang.image.selectFromFiles+'</label><input class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple" />'+e.imageLimitation+'</div><div class="note-form-group" style="overflow:auto;"><label class="note-form-label">'+e.lang.image.url+'</label><input class="note-image-url note-input" type="text" /></div>',n=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',e.lang.image.insert,"</button>"].join("");return k({title:e.lang.image.insert,fade:e.fade,body:t,footer:n}).render()},linkDialog:function(e){var t='<div class="note-form-group"><label class="note-form-label">'+e.lang.link.textToDisplay+'</label><input class="note-link-text note-input" type="text" /></div><div class="note-form-group"><label class="note-form-label">'+e.lang.link.url+'</label><input class="note-link-url note-input" type="text" value="http://" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.lang.link.openInNewWindow+"</label></div>"),n=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',e.lang.link.insert,"</button>"].join("");return k({className:"link-dialog",title:e.lang.link.insert,fade:e.fade,body:t,footer:n}).render()},popover:E,checkbox:C,icon:S,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},check:function(e,t){e.find(".checked").removeClass("checked"),e.find('[data-value="'+t+'"]').addClass("checked")},onDialogShown:function(e,t){e.one("note.modal.show",t)},onDialogHidden:function(e,t){e.one("note.modal.hide",t)},showDialog:function(e){e.data("modal").show()},hideDialog:function(e){e.data("modal").hide()},getPopoverContent:function(e){return e.find(".note-popover-content")},getDialogBody:function(e){return e.find(".note-modal-body")},createLayout:function(e,t){t=(t.airMode?T.airEditor([T.editingArea([T.airEditable()])]):T.editor([T.toolbar(),T.editingArea([T.codable(),T.editable()]),T.statusbar()])).render();return t.insertAfter(e),{note:e,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.off("summernote"),e.show()}};function _(e,t){this.options=$.extend({},{target:t.container||"body"},t),this.$modal=e,this.$backdrop=$('<div class="note-modal-backdrop" />')}b.summernote=b.summernote||{lang:{}},b.extend(b.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var N="function"==typeof define&&define.amd,A=navigator.userAgent,P=/MSIE|Trident/i.test(A);P&&((ot=/MSIE (\d+[.]\d+)/.exec(A))&&(rt=parseFloat(ot[1])),(ot=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(A))&&(rt=parseFloat(ot[1])));var I=/Edge\/\d+/.test(A),R=!!window.CodeMirror,M="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,L=P||I?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",D={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:P,isEdge:I,isFF:!I&&/firefox/i.test(A),isPhantom:/PhantomJS/i.test(A),isWebkit:!I&&/webkit/i.test(A),isChrome:!I&&/chrome/i.test(A),isSafari:!I&&/safari/i.test(A),browserVersion:rt,jqueryVersion:parseFloat(b.fn.jquery),isSupportAmd:N,isSupportTouch:M,hasCodeMirror:R,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",i=document.createElement("canvas").getContext("2d");i.font="200px '"+t+"'";var o=i.measureText(n).width;return i.font="200px '"+e+"', '"+t+"'",o!==i.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:L},j=0,F={eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++j+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function O(e){return e[0]}function B(e){return e[e.length-1]}function H(e){return e.slice(1)}function z(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var U={head:O,last:B,initial:function(e){return e.slice(0,e.length-1)},tail:H,prev:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t-1]}return null},next:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t+1]}return null},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:z,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||F.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,i){return e.length?H(e).reduce(function(e,t){var n=B(e);return i(B(n),t)?n[n.length]=t:e[e.length]=[t],e},[[e[0]]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)z(t,e[n])||t.push(e[n]);return t}},V=String.fromCharCode(160);function q(e){return e&&b(e).hasClass("note-editable")}function W(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function K(e){return e&&3===e.nodeType}function G(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function Y(e){return!q(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}var X=W("PRE"),Q=W("LI"),Z=W("TABLE"),J=W("DATA");function ee(e){return!(re(e)||te(e)||ne(e)||Y(e)||Z(e)||oe(e)||J(e))}function te(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var ne=W("HR");function ie(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var oe=W("BLOCKQUOTE");function re(e){return ie(e)||oe(e)||q(e)}var ae=W("A"),e=W("BODY"),se=D.isMSIE&&D.browserVersion<11?"&nbsp;":"<br>";function le(e){return K(e)?e.nodeValue.length:e?e.childNodes.length:0}function ce(e){var t=le(e);return 0===t||!K(e)&&1===t&&e.innerHTML===se||!(!U.all(e.childNodes,K)||""!==e.innerHTML)}function ue(e){G(e)||le(e)||(e.innerHTML=se)}function de(e,t){for(;e;){if(t(e))return e;if(q(e))break;e=e.parentNode}return null}function pe(e,t){t=t||F.fail;var n=[];return de(e,function(e){return q(e)||n.push(e),t(e)}),n}function he(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function fe(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function me(n,e){return b.each(e,function(e,t){n.appendChild(t)}),n}function ge(e){return 0===e.offset}function ve(e){return e.offset===le(e.node)}function ye(e){return ge(e)||ve(e)}function be(e,t){for(;e&&e!==t;){if(0!==we(e))return!1;e=e.parentNode}return!0}function xe(e,t){if(!t)return!1;for(;e&&e!==t;){if(we(e)!==le(e.parentNode)-1)return!1;e=e.parentNode}return!0}function we(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ke(e){return!!(e&&e.childNodes&&e.childNodes.length)}function Ee(e,t){var n,i;if(0===e.offset){if(q(e.node))return null;n=e.node.parentNode,i=we(e.node)}else i=ke(e.node)?le(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:i}}function Ce(e,t){var n,i;if(le(e.node)===e.offset){if(q(e.node))return null;n=e.node.parentNode,i=we(e.node)+1}else i=ke(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?le(e.node):e.offset+1);return{node:n,offset:i}}function Se(e,t){return e.node===t.node&&e.offset===t.offset}function Te(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),ye(e)&&(K(e.node)||i)){if(ge(e))return e.node;if(ve(e))return e.node.nextSibling}if(K(e.node))return e.node.splitText(e.offset);t=e.node.childNodes[e.offset],i=fe(e.node.cloneNode(!1),e.node);return me(i,he(t)),n||(ue(e.node),ue(i)),o&&(ce(e.node)&&Ae(e.node),ce(i))?(Ae(i),e.node.nextSibling):i}function _e(e,n,i){e=pe(n.node,F.eq(e));return e.length?1===e.length?Te(n,i):e.reduce(function(e,t){return e===n.node&&(e=Te(n,i)),Te({node:t,offset:e?we(e):le(t)},i)}):null}function Ne(e){return document.createElement(e)}function Ae(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}}var Pe=W("TEXTAREA");function Ie(e,t){e=Pe(e[0])?e.val():e.html();return t?e.replace(/[\n\r]/g,""):e}var Re={NBSP_CHAR:V,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:se,emptyPara:"<p>"+se+"</p>",makePredByNodeName:W,isEditable:q,isControlSizing:function(e){return e&&b(e).hasClass("note-control-sizing")},isText:K,isElement:function(e){return e&&1===e.nodeType},isVoid:G,isPara:Y,isPurePara:function(e){return Y(e)&&!Q(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:ee,isBlock:F.not(ee),isBodyInline:function(e){return ee(e)&&!de(e,Y)},isBody:e,isParaInline:function(e){return ee(e)&&!!de(e,Y)},isPre:X,isList:te,isTable:Z,isData:J,isCell:ie,isBlockquote:oe,isBodyContainer:re,isAnchor:ae,isDiv:W("DIV"),isLi:Q,isBR:W("BR"),isSpan:W("SPAN"),isB:W("B"),isU:W("U"),isS:W("S"),isI:W("I"),isImg:W("IMG"),isTextarea:Pe,isEmpty:ce,isEmptyAnchor:F.and(ae,ce),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||F.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:le,isLeftEdgePoint:ge,isRightEdgePoint:ve,isEdgePoint:ye,isLeftEdgeOf:be,isRightEdgeOf:xe,isLeftEdgePointOf:function(e,t){return ge(e)&&be(e.node,t)},isRightEdgePointOf:function(e,t){return ve(e)&&xe(e.node,t)},prevPoint:Ee,nextPoint:Ce,isSamePoint:Se,isVisiblePoint:function(e){if(K(e.node)||!ke(e.node)||ce(e.node))return!0;var t=e.node.childNodes[e.offset-1],e=e.node.childNodes[e.offset];return!(t&&!G(t)||e&&!G(e))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=Ee(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=Ce(e)}return null},isCharPoint:function(e){if(!K(e.node))return!1;e=e.node.nodeValue.charAt(e.offset-1);return e&&" "!==e&&e!==V},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!Se(o,t));)o=Ce(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:de,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===le(e);){if(t(e))return e;if(q(e))break;e=e.parentNode}return null},listAncestor:pe,lastAncestor:function(e,t){e=pe(e);return U.last(e.filter(t))},listNext:he,listPrev:function(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,r){var a=[];return r=r||F.ok,function e(t){o!==t&&r(t)&&a.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),a},commonAncestor:function(e,t){for(var n=pe(e),i=t;i;i=i.parentNode)if(-1<n.indexOf(i))return i;return null},wrap:function(e,t){var n=e.parentNode,t=b("<"+t+">")[0];return n.insertBefore(t,e),t.appendChild(e),t},insertAfter:fe,appendChildNodes:me,position:we,hasChildren:ke,makeOffsetPath:function(e,t){return pe(t,F.eq(e)).map(we).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:_e,splitPoint:function(e,t){var n,i=t?Y:re,o=pe(e.node,i),r=U.last(o)||e.node,r=i(r)?(n=o[o.length-2],r):(n=r).parentNode,t=n&&_e(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return{rightNode:t=!t&&r===e.node?e.node.childNodes[e.offset]:t,container:r}},create:Ne,createText:function(e){return document.createTextNode(e)},remove:Ae,removeWhile:function(e,t){for(;e&&!q(e)&&t(e);){var n=e.parentNode;Ae(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;t=Ne(t);return e.style.cssText&&(t.style.cssText=e.style.cssText),me(t,U.from(e.childNodes)),fe(t,e),Ae(e),t},html:function(e,t){e=Ie(e);return e=t?(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();t=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(t||n?"\n":"")})).trim():e},value:Ie,posFromPlaceholder:function(e){var t=b(e),e=t.offset(),t=t.outerHeight(!0);return{left:e.left,top:e.top+t}},attachEvents:function(t,n){Object.keys(n).forEach(function(e){t.on(e,n[e])})},detachEvents:function(t,n){Object.keys(n).forEach(function(e){t.off(e,n[e])})},isCustomStyleTag:function(e){return e&&!K(e)&&U.contains(e.classList,"note-styletag")}},Me=(Le.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Le.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Le.prototype.reset=function(){var e=this.isDisabled();this.code(Re.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},Le.prototype._initialize=function(){var t=this,n=b.extend({},this.options.buttons);Object.keys(n).forEach(function(e){t.memo("button."+e,n[e])});var i=b.extend({},this.options.modules,b.summernote.plugins||{});Object.keys(i).forEach(function(e){t.module(e,i[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})},Le.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)},Le.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},Le.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Le.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Le.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Le.prototype.triggerEvent=function(){var e=U.head(arguments),t=U.tail(U.from(arguments)),n=this.options.callbacks[F.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},Le.prototype.initializeModule=function(e){e=this.modules[e];e.shouldInitialize=e.shouldInitialize||F.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&Re.attachEvents(this.$note,e.events))},Le.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},Le.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&Re.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},Le.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},Le.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},Le.prototype.createInvokeHandlerAndUpdateState=function(t,n){var i=this;return function(e){i.createInvokeHandler(t,n)(e),i.invoke("buttons.updateCurrentStyle")}},Le.prototype.createInvokeHandler=function(t,n){var i=this;return function(e){e.preventDefault();e=b(e.target);i.invoke(t,n||e.closest("[data-value]").data("value"),e)}},Le.prototype.invoke=function(){var e=U.head(arguments),t=U.tail(U.from(arguments)),n=e.split("."),i=1<n.length,e=i&&U.head(n),i=i?U.last(n):U.head(n),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,t):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,t):void 0},Le);function Le(e,t){this.ui=b.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}function De(e,t){for(var n,i=e.parentElement(),o=document.body.createTextRange(),r=U.from(i.childNodes),a=0;a<r.length;a++)if(!Re.isText(r[a])){if(o.moveToElementText(r[a]),0<=o.compareEndPoints("StartToStart",e))break;n=r[a]}if(0!==a&&Re.isText(r[a-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n);var l=n?n.nextSibling:i.firstChild,c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&Re.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,a=u}return{cont:i,offset:a}}function je(e){function r(e,t){if(Re.isText(e)){var n=Re.listPrev(e,F.not(Re.isText)),i=U.last(n).previousSibling,o=i||e.parentNode;t+=U.sum(U.tail(n),Re.nodeLength),i=!i}else{if(o=e.childNodes[t]||e,Re.isText(o))return r(o,0);t=0,i=!1}return{node:o,collapseToStart:i,offset:t}}var t=document.body.createTextRange(),e=r(e.node,e.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}b.fn.extend({summernote:function(){var e=b.type(U.head(arguments)),t="string"===e,i=b.extend({},b.summernote.options,"object"===e?U.head(arguments):{});i.langInfo=b.extend(!0,{},b.summernote.lang["en-US"],b.summernote.lang[i.lang]),i.icons=b.extend(!0,{},b.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!D.isSupportTouch:i.tooltip,this.each(function(e,t){var n=b(t);n.data("summernote")||(t=new Me(n,i),n.data("summernote",t),n.data("summernote").triggerEvent("init",t.layoutInfo))});e=this.first();if(e.length){e=e.data("summernote");if(t)return e.invoke.apply(e,U.from(arguments));i.focus&&e.invoke("editor.focus")}return this}});var Fe=($e.prototype.nativeRange=function(){if(D.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}e=je({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",je({node:this.ec,offset:this.eo})),e},$e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},$e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},$e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},$e.prototype.select=function(){var e,t=this.nativeRange();return D.isW3CRangeSupport?(0<(e=document.getSelection()).rangeCount&&e.removeAllRanges(),e.addRange(t)):t.select(),this},$e.prototype.scrollIntoView=function(e){var t=b(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},$e.prototype.normalize=function(){var e=function(e,t){if(Re.isVisiblePoint(e)&&(!Re.isEdgePoint(e)||Re.isRightEdgePoint(e)&&!t||Re.isLeftEdgePoint(e)&&t||Re.isRightEdgePoint(e)&&t&&Re.isVoid(e.node.nextSibling)||Re.isLeftEdgePoint(e)&&!t&&Re.isVoid(e.node.previousSibling)||Re.isBlock(e.node)&&Re.isEmpty(e.node)))return e;var n=Re.ancestor(e.node,Re.isBlock);if((Re.isLeftEdgePointOf(e,n)||Re.isVoid(Re.prevPoint(e).node))&&!t||(Re.isRightEdgePointOf(e,n)||Re.isVoid(Re.nextPoint(e).node))&&t){if(Re.isVisiblePoint(e))return e;t=!t}return(t?Re.nextPointUntil(Re.nextPoint(e),Re.isVisiblePoint):Re.prevPointUntil(Re.prevPoint(e),Re.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),e=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new $e(e.node,e.offset,t.node,t.offset)},$e.prototype.nodes=function(n,e){n=n||F.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),e=this.getEndPoint(),r=[],a=[];return Re.walkPoint(t,e,function(e){var t;Re.isEditable(e.node)||(o?(Re.isLeftEdgePoint(e)&&a.push(e.node),Re.isRightEdgePoint(e)&&U.contains(a,e.node)&&(t=e.node)):t=i?Re.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),U.unique(r)},$e.prototype.commonAncestor=function(){return Re.commonAncestor(this.sc,this.ec)},$e.prototype.expand=function(e){var t=Re.ancestor(this.sc,e),n=Re.ancestor(this.ec,e);if(!t&&!n)return new $e(this.sc,this.so,this.ec,this.eo);e=this.getPoints();return t&&(e.sc=t,e.so=0),n&&(e.ec=n,e.eo=Re.nodeLength(n)),new $e(e.sc,e.so,e.ec,e.eo)},$e.prototype.collapse=function(e){return e?new $e(this.sc,this.so,this.sc,this.so):new $e(this.ec,this.eo,this.ec,this.eo)},$e.prototype.splitText=function(){var e=this.sc===this.ec,t=this.getPoints();return Re.isText(this.ec)&&!Re.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Re.isText(this.sc)&&!Re.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,e&&(t.ec=t.sc,t.eo=this.eo-this.so)),new $e(t.sc,t.so,t.ec,t.eo)},$e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=Re.prevPointUntil(e.getStartPoint(),function(e){return!U.contains(t,e.node)}),o=[];return b.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===Re.nodeLength(n)&&o.push(n),Re.remove(t,!1)}),b.each(o,function(e,t){Re.remove(t,!1)}),new $e(i.node,i.offset,i.node,i.offset).normalize()},$e.prototype.makeIsOn=function(t){return function(){var e=Re.ancestor(this.sc,t);return!!e&&e===Re.ancestor(this.ec,t)}},$e.prototype.isLeftEdgeOf=function(e){if(!Re.isLeftEdgePoint(this.getStartPoint()))return!1;e=Re.ancestor(this.sc,e);return e&&Re.isLeftEdgeOf(this.sc,e)},$e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},$e.prototype.wrapBodyInlineWithPara=function(){if(Re.isBodyContainer(this.sc)&&Re.isEmpty(this.sc))return this.sc.innerHTML=Re.emptyPara,new $e(this.sc.firstChild,0,this.sc.firstChild,0);var e,t=this.normalize();if(Re.isParaInline(this.sc)||Re.isPara(this.sc))return t;Re.isInline(t.sc)?(e=Re.listAncestor(t.sc,F.not(Re.isInline)),n=U.last(e),Re.isInline(n)||(n=e[e.length-2]||t.sc.childNodes[t.so])):n=t.sc.childNodes[0<t.so?t.so-1:0];var n,t=Re.listPrev(n,Re.isParaInline).reverse();return(t=t.concat(Re.listNext(n.nextSibling,Re.isParaInline))).length&&(n=Re.wrap(U.head(t),"p"),Re.appendChildNodes(n,U.tail(t))),this.normalize()},$e.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),t=Re.splitPoint(t.getStartPoint(),Re.isInline(e));return t.rightNode?t.rightNode.parentNode.insertBefore(e,t.rightNode):t.container.appendChild(e),e},$e.prototype.pasteHTML=function(e){var e=b("<div></div>").html(e)[0],e=U.from(e.childNodes),t=this.wrapBodyInlineWithPara().deleteContents(),e=(e=0<t.so?e.reverse():e).map(function(e){return t.insertNode(e)});return e=0<t.so?e.reverse():e},$e.prototype.toString=function(){var e=this.nativeRange();return D.isW3CRangeSupport?e.toString():e.text},$e.prototype.getWordRange=function(e){var t=this.getEndPoint();if(!Re.isCharPoint(t))return this;var n=Re.prevPointUntil(t,function(e){return!Re.isCharPoint(e)});return e&&(t=Re.nextPointUntil(t,function(e){return!Re.isCharPoint(e)})),new $e(n.node,n.offset,t.node,t.offset)},$e.prototype.bookmark=function(e){return{s:{path:Re.makeOffsetPath(e,this.sc),offset:this.so},e:{path:Re.makeOffsetPath(e,this.ec),offset:this.eo}}},$e.prototype.paraBookmark=function(e){return{s:{path:U.tail(Re.makeOffsetPath(U.head(e),this.sc)),offset:this.so},e:{path:U.tail(Re.makeOffsetPath(U.last(e),this.ec)),offset:this.eo}}},$e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},$e),Oe={create:function(e,t,n,i){if(4===arguments.length)return new Fe(e,t,n,i);if(2===arguments.length)return new Fe(n=e,i=t,n,i);i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(e)).collapse(Re.emptyPara===e.innerHTML)},createFromSelection:function(){if(D.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Re.isBody(e.anchorNode))return null;var t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset}else{e=document.selection.createRange(),t=e.duplicate();t.collapse(!1);e=e;e.collapse(!0);e=De(e,!0),t=De(t,!1);n=(e=Re.isText(e.node)&&Re.isLeftEdgePoint(e)&&Re.isTextNode(t.node)&&Re.isRightEdgePoint(t)&&t.node.nextSibling===e.node?t:e).cont,i=e.offset,o=t.cont,r=t.offset}return new Fe(n,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,e=Re.nodeLength(i);return Re.isVoid(t)&&(n=Re.listPrev(t).length-1,t=t.parentNode),Re.isBR(i)?(e=Re.listPrev(i).length-1,i=i.parentNode):Re.isVoid(i)&&(e=Re.listPrev(i).length,i=i.parentNode),this.create(t,n,i,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=Re.fromOffsetPath(e,t.s.path),i=t.s.offset,e=Re.fromOffsetPath(e,t.e.path),t=t.e.offset;return new Fe(n,i,e,t)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=Re.fromOffsetPath(U.head(t),e.s.path),e=Re.fromOffsetPath(U.last(t),e.e.path);return new Fe(o,n,e,i)}},Be={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},He={isEdit:function(e){return U.contains([Be.BACKSPACE,Be.TAB,Be.ENTER,Be.SPACE,Be.DELETE],e)},isMove:function(e){return U.contains([Be.LEFT,Be.UP,Be.RIGHT,Be.DOWN],e)},nameFromCode:F.invertObject(Be),code:Be};function $e(e,t,n,i){this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(Re.isEditable),this.isOnList=this.makeIsOn(Re.isList),this.isOnAnchor=this.makeIsOn(Re.isAnchor),this.isOnCell=this.makeIsOn(Re.isCell),this.isOnData=this.makeIsOn(Re.isData)}function ze(e,c,u,o){var p={colPos:0,rowPos:0},d=[],h=[];function f(e,t,n,i,o,r,a){a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=a}function m(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(!d[e][++n])return n}function g(e,t,n,i){e===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&p.colPos++}this.getActionList=function(){for(var e=c===ze.where.Row?p.rowPos:-1,t=c===ze.where.Column?p.colPos:-1,n=0,i=!0;i;){var o=0<=e?e:n,r=0<=t?t:n,a=d[o];if(!a)return i=!1,h;var s=a[r];if(!s)return i=!1,h;var l=ze.resultAction.Ignore;switch(u){case ze.requestAction.Add:l=function(e){switch(c){case ze.where.Column:if(e.isColSpan)return ze.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return ze.resultAction.Ignore;break;case ze.where.Row:if(e.isRowSpan)return ze.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return ze.resultAction.Ignore}return ze.resultAction.AddCell}(s);break;case ze.requestAction.Delete:l=function(e){switch(c){case ze.where.Column:if(e.isColSpan)return ze.resultAction.SubtractSpanCount;break;case ze.where.Row:if(!e.isVirtual&&e.isRowSpan)return ze.resultAction.AddCell;if(e.isRowSpan)return ze.resultAction.SubtractSpanCount}return ze.resultAction.RemoveCell}(s)}h.push((a=l,{baseCell:s.baseCell,action:a,virtualTable:{rowIndex:o,cellIndex:r}})),n++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(p.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?p.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),function(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)!function(e,t){var n=m(e.rowIndex,t.cellIndex),i=1<t.colSpan,o=1<t.rowSpan,r=e.rowIndex===p.rowPos&&t.cellIndex===p.colPos;f(e.rowIndex,n,e,t,o,i,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=e.rowIndex+s;g(l,n,t,r),f(l,n,e,t,!0,i,!0)}var c=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<c)for(var u=1;u<c;u++){var d=m(e.rowIndex,n+u);g(e.rowIndex,d,t,r),f(e.rowIndex,d,e,t,o,!0,!0)}}(e[t],n[i])}()}var Ue=(Xe.prototype.makeSnapshot=function(){var e=Oe.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Xe.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Oe.createFromBookmark(this.editable,e.bookmark).select()},Xe.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Xe.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Xe.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Xe.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Xe.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Xe.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Xe),Ve=(Ye.prototype.jQueryCSS=function(n,e){if(D.jqueryVersion<1.9){var i={};return b.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css(e)},Ye.prototype.fromNode=function(e){e=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},Ye.prototype.stylePara=function(e,n){b.each(e.nodes(Re.isPara,{includeAncestor:!0}),function(e,t){b(t).css(n)})},Ye.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(Re.create(n))];var r,a=Re.makePredByNodeName(n),t=e.nodes(Re.isText,{fullyContains:!0}).map(function(e){return Re.singleChildAncestor(e,a)||Re.wrap(e,n)});return i?(o&&(r=e.nodes(),a=F.and(a,function(e){return U.contains(r,e)})),t.map(function(e){var t=Re.withClosestSiblings(e,a),n=U.head(t),e=U.tail(t);return b.each(e,function(e,t){Re.appendChildNodes(n,t.childNodes),Re.remove(t)}),U.head(t)})):t},Ye.prototype.current=function(e){var t=b(Re.isElement(e.sc)?e.sc:e.sc.parentNode),t=this.fromNode(t);try{t=b.extend(t,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||t["font-family"]})}catch(e){}e.isOnList()?(n=-1<["circle","disc","disc-leading-zero","square"].indexOf(t["list-style-type"]),t["list-style"]=n?"unordered":"ordered"):t["list-style"]="none";var n=Re.ancestor(e.sc,Re.isPara);return n&&n.style["line-height"]?t["line-height"]=n.style.lineHeight:(n=parseInt(t["line-height"],10)/parseInt(t["font-size"],10),t["line-height"]=n.toFixed(1)),t.anchor=e.isOnAnchor()&&Re.ancestor(e.sc,Re.isAnchor),t.ancestors=Re.listAncestor(e.sc,Re.isEditable),t.range=e,t},Ye),qe=(Ge.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},Ge.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},Ge.prototype.indent=function(e){var o=this,t=Oe.create(e).wrapBodyInlineWithPara(),e=t.nodes(Re.isPara,{includeAncestor:!0}),e=U.clusterBy(e,F.peq2("parentNode"));b.each(e,function(e,t){var n,i=U.head(t);Re.isLi(i)?(n=o.findList(i.previousSibling))?t.map(function(e){return n.appendChild(e)}):(o.wrapList(t,i.parentNode.nodeName),t.map(function(e){return e.parentNode}).map(function(e){return o.appendToPrevious(e)})):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),t.select()},Ge.prototype.outdent=function(e){var i=this,t=Oe.create(e).wrapBodyInlineWithPara(),e=t.nodes(Re.isPara,{includeAncestor:!0}),e=U.clusterBy(e,F.peq2("parentNode"));b.each(e,function(e,t){var n=U.head(t);Re.isLi(n)?i.releaseList([t]):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),t.select()},Ge.prototype.toggleList=function(n,e){var i,o=this,t=Oe.create(e).wrapBodyInlineWithPara(),r=t.nodes(Re.isPara,{includeAncestor:!0}),a=t.paraBookmark(r),e=U.clusterBy(r,F.peq2("parentNode"));U.find(r,Re.isPurePara)?(i=[],b.each(e,function(e,t){i=i.concat(o.wrapList(t,n))}),r=i):(t=t.nodes(Re.isList,{includeAncestor:!0}).filter(function(e){return!b.nodeName(e,n)})).length?b.each(t,function(e,t){Re.replace(t,n)}):r=this.releaseList(e,!0),Oe.createFromParaBookmark(a,r).select()},Ge.prototype.wrapList=function(e,t){var n=U.head(e),i=U.last(e),o=Re.isList(n.previousSibling)&&n.previousSibling,n=Re.isList(i.nextSibling)&&i.nextSibling,i=o||Re.insertAfter(Re.create(t||"UL"),i);return e=e.map(function(e){return Re.isPurePara(e)?Re.replace(e,"LI"):e}),Re.appendChildNodes(i,e),n&&(Re.appendChildNodes(i,U.from(n.childNodes)),Re.remove(n)),e},Ge.prototype.releaseList=function(e,a){var s=this,l=[];return b.each(e,function(e,t){var n=U.head(t),i=U.last(t),o=a?Re.lastAncestor(n,Re.isList):n.parentNode,r=o.parentNode;"LI"===o.parentNode.nodeName?(t.map(function(e){var t=s.findNextSiblings(e);r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),t.length&&(s.wrapList(t,o.nodeName),e.appendChild(t[0].parentNode))}),0===o.children.length&&r.removeChild(o),0===r.childNodes.length&&r.parentNode.removeChild(r)):(i=1<o.childNodes.length?Re.splitTree(o,{node:i.parentNode,offset:Re.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,n=Re.splitTree(o,{node:n.parentNode,offset:Re.position(n)},{isSkipPaddingBlankHTML:!0}),t=a?Re.listDescendant(n,Re.isLi):U.from(n.childNodes).filter(Re.isLi),!a&&Re.isList(o.parentNode)||(t=t.map(function(e){return Re.replace(e,"P")})),b.each(U.from(t).reverse(),function(e,t){Re.insertAfter(t,o)}),i=U.compact([o,n,i]),b.each(i,function(e,t){t=[t].concat(Re.listDescendant(t,Re.isList));b.each(t.reverse(),function(e,t){Re.nodeLength(t)||Re.remove(t,!0)})})),l=l.concat(t)}),l},Ge.prototype.appendToPrevious=function(e){return e.previousSibling?Re.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},Ge.prototype.findList=function(e){return e?U.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null},Ge.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},Ge),We=(Ke.prototype.insertTab=function(e,t){var n=Re.createText(new Array(t+1).join(Re.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Oe.create(n,t)).select()},Ke.prototype.insertParagraph=function(e,t){t=(t=(t=t||Oe.create(e)).deleteContents()).wrapBodyInlineWithPara();var n=Re.ancestor(t.sc,Re.isPara);if(n){if(Re.isEmpty(n)&&Re.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i,o,r=null;1===this.options.blockquoteBreakingLevel?r=Re.ancestor(n,Re.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=Re.lastAncestor(n,Re.isBlockquote)),r?(o=b(Re.emptyPara)[0],Re.isRightEdgePoint(t.getStartPoint())&&Re.isBR(t.sc.nextSibling)&&b(t.sc.nextSibling).remove(),(i=Re.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0}))?i.parentNode.insertBefore(o,i):Re.insertAfter(o,r)):(o=Re.splitTree(n,t.getStartPoint()),a=(a=Re.listDescendant(n,Re.isEmptyAnchor)).concat(Re.listDescendant(o,Re.isEmptyAnchor)),b.each(a,function(e,t){Re.remove(t)}),(Re.isHeading(o)||Re.isPre(o)||Re.isCustomStyleTag(o))&&Re.isEmpty(o)&&(o=Re.replace(o,"p")))}else{var a=t.sc.childNodes[t.so];o=b(Re.emptyPara)[0],a?t.sc.insertBefore(o,a):t.sc.appendChild(o)}Oe.create(o,0).normalize().select().scrollIntoView(e)},Ke);function Ke(e){this.bullet=new qe,this.options=e.options}function Ge(){}function Ye(){}function Xe(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}ze.where={Row:0,Column:1},ze.requestAction={Add:0,Delete:1},ze.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Qe,Ze=(nt.prototype.tab=function(e,t){var n=Re.ancestor(e.commonAncestor(),Re.isCell),e=Re.ancestor(n,Re.isTable),e=Re.listDescendant(e,Re.isCell),n=U[t?"prev":"next"](e,n);n&&Oe.create(n,0).select()},nt.prototype.addRow=function(e,t){for(var n=Re.ancestor(e.commonAncestor(),Re.isCell),i=b(n).closest("tr"),e=this.recoverAttributes(i),o=b("<tr"+e+"></tr>"),r=new ze(n,ze.where.Row,ze.requestAction.Add,b(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case ze.resultAction.AddCell:o.append("<td"+l+">"+Re.blank+"</td>");break;case ze.resultAction.SumSpanCount:if("top"===t&&(s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=b("<div></div>").append(b("<td"+l+">"+Re.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}c=parseInt(s.baseCell.rowSpan,10);c++,s.baseCell.setAttribute("rowSpan",c)}}"top"===t?i.before(o):1<n.rowSpan?(n=i[0].rowIndex+(n.rowSpan-2),b(b(i).parent().find("tr")[n]).after(b(o))):i.after(o)},nt.prototype.addCol=function(e,t){var n=Re.ancestor(e.commonAncestor(),Re.isCell),e=b(n).closest("tr");b(e).siblings().push(e);for(var i=new ze(n,ze.where.Column,ze.requestAction.Add,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++){var r,a=i[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case ze.resultAction.AddCell:"right"===t?b(a.baseCell).after("<td"+s+">"+Re.blank+"</td>"):b(a.baseCell).before("<td"+s+">"+Re.blank+"</td>");break;case ze.resultAction.SumSpanCount:"right"===t?(r=parseInt(a.baseCell.colSpan,10),r++,a.baseCell.setAttribute("colSpan",r)):b(a.baseCell).before("<td"+s+">"+Re.blank+"</td>")}}},nt.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},nt.prototype.deleteRow=function(e){for(var e=Re.ancestor(e.commonAncestor(),Re.isCell),t=b(e).closest("tr"),n=t.children("td, th").index(b(e)),i=t[0].rowIndex,o=new ze(e,ze.where.Row,ze.requestAction.Delete,b(t).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r]){var a=o[r].baseCell,s=o[r].virtualTable,l=a.rowSpan&&1<a.rowSpan,c=l?parseInt(a.rowSpan,10):0;switch(o[r].action){case ze.resultAction.Ignore:continue;case ze.resultAction.AddCell:var u=t.next("tr")[0];if(!u)continue;var d=t[0].cells[n];l&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case ze.resultAction.SubtractSpanCount:l&&(2<c?(c--,a.setAttribute("rowSpan",c),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")));continue;case ze.resultAction.RemoveCell:continue}}t.remove()},nt.prototype.deleteCol=function(e){for(var t=Re.ancestor(e.commonAncestor(),Re.isCell),e=b(t).closest("tr"),n=e.children("td, th").index(b(t)),i=new ze(t,ze.where.Column,ze.requestAction.Delete,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++)if(i[o])switch(i[o].action){case ze.resultAction.Ignore:continue;case ze.resultAction.SubtractSpanCount:var r,a=i[o].baseCell;a.colSpan&&1<a.colSpan&&(2<(r=a.colSpan?parseInt(a.colSpan,10):0)?(r--,a.setAttribute("colSpan",r),a.cellIndex===n&&(a.innerHTML="")):2===r&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML="")));continue;case ze.resultAction.RemoveCell:Re.remove(i[o].baseCell,!0);continue}},nt.prototype.createTable=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push("<td>"+Re.blank+"</td>");for(var r=i.join(""),a=[],s=0;s<t;s++)a.push("<tr>"+r+"</tr>");var l=a.join(""),l=b("<table>"+l+"</table>");return n&&n.tableClassName&&l.addClass(n.tableClassName),l[0]},nt.prototype.deleteTable=function(e){e=Re.ancestor(e.commonAncestor(),Re.isCell);b(e).closest("table").remove()},nt),s=(tt.prototype.initialize=function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===He.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.setLastRange(),t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.setLastRange(),t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.setLastRange(),t.context.triggerEvent("paste",e)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Re.html(this.$note)||Re.emptyPara),this.$editable.on(D.inputEventName,F.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},tt.prototype.destroy=function(){this.$editable.off()},tt.prototype.handleKeyMap=function(e){var t=this.options.keyMap[D.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=He.nameFromCode[e.keyCode];i&&n.push(i);n=t[n.join("+")];n?!1!==this.context.invoke(n)&&e.preventDefault():He.isEdit(e.keyCode)&&this.afterCommand()},tt.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&U.contains([66,73,85],e.keyCode)&&e.preventDefault()},tt.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(He.isMove(t.keyCode)||t.ctrlKey||t.metaKey||U.contains([He.code.BACKSPACE,He.code.DELETE],t.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+e>=this.options.maxTextLength},tt.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},tt.prototype.setLastRange=function(){this.lastRange=Oe.create(this.editable)},tt.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},tt.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},tt.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},tt.prototype.saveTarget=function(e){this.$editable.data("target",e)},tt.prototype.clearTarget=function(){this.$editable.removeData("target")},tt.prototype.restoreTarget=function(){return this.$editable.data("target")},tt.prototype.currentStyle=function(){var e=Oe.create();return(e=e&&e.normalize())?this.style.current(e):this.style.fromNode(this.$editable)},tt.prototype.styleFromNode=function(e){return this.style.fromNode(e)},tt.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},tt.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},tt.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},tt.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},tt.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},tt.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},tt.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},tt.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},tt.prototype.insertImage=function(e,t){var n=this,i=e;return b.Deferred(function(e){var t=b("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",i)}).promise().then(function(e){n.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(n.$editable.width(),e.width()))),e.show(),Oe.create(n.editable).insertNode(e[0]),Oe.createFromNodeAfter(e[0]).select(),n.setLastRange(),n.afterCommand()}).fail(function(e){n.context.triggerEvent("image.upload.error",e)})},tt.prototype.insertImagesAsDataURL=function(e){var o=this;b.each(e,function(e,t){var n,i=t.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<t.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(n=t,b.Deferred(function(t){b.extend(new FileReader,{onload:function(e){e=e.target.result;t.resolve(e)},onerror:function(e){t.reject(e)}}).readAsDataURL(n)}).promise().then(function(e){return o.insertImage(e,i)}).fail(function(){o.context.triggerEvent("image.upload.error")}))})},tt.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},tt.prototype.getSelectedText=function(){var e=this.getLastRange();return(e=e.isOnAnchor()?Oe.createFromNode(Re.ancestor(e.sc,Re.isAnchor)):e).toString()},tt.prototype.onFormatBlock=function(e,t){var n;document.execCommand("FormatBlock",!1,D.isMSIE?"<"+e+">":e),t&&t.length&&((t=t[0].tagName.toUpperCase()!==e.toUpperCase()?t.find(e):t)&&t.length)&&(n=t[0].className||"")&&(t=this.createRange(),b([t.sc,t.ec]).closest(e).addClass(n))},tt.prototype.formatPara=function(){this.formatBlock("P")},tt.prototype.fontStyling=function(e,t){var n,i,o=this.getLastRange();o&&(n=this.style.styleNodes(o),b(n).css(e,t),o.isCollapsed()&&(i=U.head(n))&&!Re.nodeLength(i)&&(i.innerHTML=Re.ZERO_WIDTH_NBSP_CHAR,Oe.createFromNodeAfter(i.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",i)))},tt.prototype.unlink=function(){var e,t=this.getLastRange();t.isOnAnchor()&&(e=Re.ancestor(t.sc,Re.isAnchor),(t=Oe.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())},tt.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(Re.isAnchor),t=b(U.head(e.nodes(Re.isAnchor))),e={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e},tt.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},tt.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},tt.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},tt.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},tt.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},tt.prototype.resizeTo=function(e,t,n){var i;e=n?{width:(i=e.y/e.x)<(n=t.data("ratio"))?e.x:e.y/n,height:i<n?e.x*n:e.y}:{width:e.x,height:e.y},t.css(e)},tt.prototype.hasFocus=function(){return this.$editable.is(":focus")},tt.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},tt.prototype.isEmpty=function(){return Re.isEmpty(this.$editable[0])||Re.emptyPara===this.$editable.html()},tt.prototype.empty=function(){this.context.invoke("code",Re.emptyPara)},tt.prototype.normalizeContent=function(){this.$editable[0].normalize()},tt),l=(et.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},et.prototype.pasteByEvent=function(e){e=e.originalEvent.clipboardData;e&&e.items&&e.items.length&&("file"===(e=1<e.items.length?e.items[1]:U.head(e.items)).kind&&-1!==e.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[e.getAsFile()]),this.context.invoke("editor.afterCommand"))},et),c=(Je.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},Je.prototype.attachDragAndDropEvent=function(){var o=this,i=b(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var t=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();t||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length||o.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=b(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var i=e.originalEvent.dataTransfer;e.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):b.each(i.types,function(e,t){var n=i.getData(t);-1<t.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):b(n).each(function(e,t){o.context.invoke("editor.insertNode",t)})})}).on("dragover",!1)},Je.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}},Je);function Je(e){this.context=e,this.$eventListener=b(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=b(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}function et(e){this.context=e,this.$editable=e.layoutInfo.editable}function tt(e){var a=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ve,this.table=new Ze,this.typing=new We(e),this.bullet=new qe,this.history=new Ue(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=t.length;n<i;n++)this[t[n]]=function(t){return function(e){a.beforeCommand(),document.execCommand(t,!1,e),a.afterCommand(!0)}}(t[n]),this.context.memo("help."+t[n],this.lang.help[t[n]]);for(this.fontName=this.wrapCommand(function(e){return a.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return a.fontStyling("font-size",e+"px")}),n=1;n<=6;n++)this["formatH"+n]=function(e){return function(){a.formatBlock("H"+e)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){a.typing.insertParagraph(a.editable)}),this.insertOrderedList=this.wrapCommand(function(){a.bullet.insertOrderedList(a.editable)}),this.insertUnorderedList=this.wrapCommand(function(){a.bullet.insertUnorderedList(a.editable)}),this.indent=this.wrapCommand(function(){a.bullet.indent(a.editable)}),this.outdent=this.wrapCommand(function(){a.bullet.outdent(a.editable)}),this.insertNode=this.wrapCommand(function(e){a.isLimited(b(e).text().length)||(a.getLastRange().insertNode(e),Oe.createFromNodeAfter(e).select(),a.setLastRange())}),this.insertText=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.getLastRange().insertNode(Re.createText(e)),Oe.create(e,Re.nodeLength(e)).select(),a.setLastRange())}),this.pasteHTML=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.context.invoke("codeview.purify",e),e=a.getLastRange().pasteHTML(e),Oe.createFromNodeAfter(U.last(e)).select(),a.setLastRange())}),this.formatBlock=this.wrapCommand(function(e,t){var n=a.options.callbacks.onApplyCustomStyle;n?n.call(a,t,a.context,a.onFormatBlock):a.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=a.getLastRange().insertNode(Re.create("HR"));e.nextSibling&&(Oe.create(e.nextSibling,0).normalize().select(),a.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){a.style.stylePara(a.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,t=e.text,i=e.isNewWindow,o=e.range||a.getLastRange(),r=t.length-o.toString().length;0<r&&a.isLimited(r)||(e=o.toString()!==t,"string"==typeof n&&(n=n.trim()),n=a.options.onCreateLink?a.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n,r=[],e?(t=(o=o.deleteContents()).insertNode(b("<A>"+t+"</A>")[0]),r.push(t)):r=a.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),b.each(r,function(e,t){b(t).attr("href",n),i?b(t).attr("target","_blank"):b(t).removeAttr("target")}),o=Oe.createFromNodeBefore(U.head(r)).getStartPoint(),r=Oe.createFromNodeAfter(U.last(r)).getEndPoint(),Oe.create(o.node,o.offset,r.node,r.offset).select(),a.setLastRange())}),this.color=this.wrapCommand(function(e){var t=e.foreColor,e=e.backColor;t&&document.execCommand("foreColor",!1,t),e&&document.execCommand("backColor",!1,e)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){e=e.split("x");a.getLastRange().deleteContents().insertNode(a.table.createTable(e[0],e[1],a.options))}),this.removeMedia=this.wrapCommand(function(){var e=b(a.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=b(a.restoreTarget()).detach(),a.context.triggerEvent("media.delete",e,a.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=b(a.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=b(a.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}function nt(){}D.hasCodeMirror&&(Qe=window.CodeMirror);var u=(Ct.prototype.sync=function(){this.isActivated()&&D.hasCodeMirror&&this.$codable.data("cmEditor").save()},Ct.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},Ct.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},Ct.prototype.purify=function(e){var o;return this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)&&(o=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase),e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var t=0,n=o;t<n.length;t++){var i=n[t];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""})),e},Ct.prototype.activate=function(){var t,n,i=this;this.$codable.val(Re.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),D.hasCodeMirror?(t=Qe.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(n=new Qe.TernServer(this.options.codemirror.tern),t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})),t.on("blur",function(e){i.context.triggerEvent("blur.codeview",t.getValue(),e)}),t.on("change",function(e){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(e){i.context.triggerEvent("blur.codeview",i.$codable.val(),e)}),this.$codable.on("input",function(e){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))},Ct.prototype.deactivate=function(){D.hasCodeMirror&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());var e=this.purify(Re.value(this.$codable,this.options.prettifyHtml)||Re.emptyPara),t=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},Ct.prototype.destroy=function(){this.isActivated()&&this.deactivate()},Ct),d=(Et.prototype.initialize=function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();function t(e){e=e.clientY-(24+n),e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)}var n=i.$editable.offset().top-i.$document.scrollTop();i.$document.on("mousemove",t).one("mouseup",function(){i.$document.off("mousemove",t)})})},Et.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},Et),p=(kt.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},kt.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},kt.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},kt),f=(wt.prototype.initialize=function(){var r=this;this.$handle=b(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){var t,n,i,o;Re.isControlSizing(e.target)&&(e.preventDefault(),e.stopPropagation(),t=r.$handle.find(".note-control-selection").data("target"),n=t.offset(),i=r.$document.scrollTop(),o=function(e){r.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-i)},t,!e.shiftKey),r.update(t[0])},r.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width()))}),this.$handle.on("wheel",function(e){e.preventDefault(),r.update()})},wt.prototype.destroy=function(){this.$handle.remove()},wt.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n,i,o=Re.isImg(e),r=this.$handle.find(".note-control-selection");return this.context.invoke("imagePopover.update",e,t),o?(t={left:(i=(n=b(e)).position()).left+parseInt(n.css("marginLeft"),10),top:i.top+parseInt(n.css("marginTop"),10)},i={w:n.outerWidth(!1),h:n.outerHeight(!1)},r.css({display:"block",left:t.left,top:t.top,width:i.w,height:i.h}).data("target",n),(t=new Image).src=n.attr("src"),t=i.w+"x"+i.h+" ("+this.lang.image.original+": "+t.width+"x"+t.height+")",r.find(".note-control-selection-info").text(t),this.context.invoke("editor.saveTarget",e)):this.hide(),o},wt.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},wt),it=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,m=(xt.prototype.initialize=function(){this.lastWordRange=null},xt.prototype.destroy=function(){this.lastWordRange=null},xt.prototype.replace=function(){var e,t;!this.lastWordRange||(t=(e=this.lastWordRange.toString()).match(it))&&(t[1]||t[2])&&(t=t[1]?e:"http://"+e,t=b("<a />").html(e).attr("href",t)[0],this.context.options.linkTargetBlank&&b(t).attr("target","_blank"),this.lastWordRange.insertNode(t),this.lastWordRange=null,this.context.invoke("editor.focus"))},xt.prototype.handleKeydown=function(e){U.contains([He.code.ENTER,He.code.SPACE],e.keyCode)&&(e=this.context.invoke("editor.createRange").getWordRange(),this.lastWordRange=e)},xt.prototype.handleKeyup=function(e){U.contains([He.code.ENTER,He.code.SPACE],e.keyCode)&&this.replace()},xt),E=(bt.prototype.shouldInitialize=function(){return Re.isTextarea(this.$note[0])},bt),C=(yt.prototype.shouldInitialize=function(){return!!this.options.match},yt.prototype.initialize=function(){this.lastWord=null},yt.prototype.destroy=function(){this.lastWord=null},yt.prototype.replace=function(){var n,e;this.lastWord&&(e=(n=this).lastWord.toString(),this.options.match(e,function(e){var t;e&&(t="","string"==typeof e?t=Re.createText(e):e instanceof jQuery?t=e[0]:e instanceof Node&&(t=e),t&&(n.lastWord.insertNode(t),n.lastWord=null,n.context.invoke("editor.focus")))}))},yt.prototype.handleKeydown=function(e){var t;this.previousKeydownCode&&U.contains(this.keys,this.previousKeydownCode)||U.contains(this.keys,e.keyCode)&&(t=this.context.invoke("editor.createRange").getWordRange(),this.lastWord=t),this.previousKeydownCode=e.keyCode},yt.prototype.handleKeyup=function(e){U.contains(this.keys,e.keyCode)&&this.replace()},yt),ot=(vt.prototype.shouldInitialize=function(){return!!this.options.placeholder},vt.prototype.initialize=function(){var e=this;this.$placeholder=b('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},vt.prototype.destroy=function(){this.$placeholder.remove()},vt.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},vt),P=(gt.prototype.representShortcut=function(e){e=this.invertedKeyMap[e];return this.options.shortcuts&&e?" ("+(e=D.isMac?e.replace("CMD","⌘").replace("SHIFT","⇧"):e).replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")+")":""},gt.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},gt.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},gt.prototype.destroy=function(){delete this.fontInstalledMap},gt.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=D.isFontInstalled(e)||U.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},gt.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},gt.prototype.colorPalette=function(s,e,n,i){var l=this;return this.ui.buttonGroup({className:"note-color "+s,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(e){e=b(e.currentTarget);n&&i?l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?l.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):i&&l.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",l.options.colorButton.backColor),e.attr("data-backColor",l.options.colorButton.backColor)),i?(t.css("color",l.options.colorButton.foreColor),e.attr("data-foreColor",l.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:i,colorsName:i,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())}),n.find("input[type=color]").each(function(e,t){b(t).change(function(){var e=n.find("#"+b(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();e.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t),e.click()})})},click:function(e){e.stopPropagation();var t,n,i=b("."+s),o=b(e.target),r=o.data("event"),a=o.attr("data-value");"openPalette"===r?(n=i.find("#"+a),t=(e=b(i.find("#"+n.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(),i=n.val(),t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),e.prepend(t),n.click()):U.contains(["backColor","foreColor"],r)&&(t="backColor"===r?"background-color":"color",n=o.closest(".note-color").find(".note-recent-color"),o=o.closest(".note-color").find(".note-current-color-button"),n.css(t,a),o.attr("data-"+r,a),l.context.invoke("editor."+r,a))}})]}).render()},gt.prototype.addToolbarButtons=function(){var i=this;this.context.memo("button.style",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic),i.options),tooltip:i.lang.style.style,data:{toggle:"dropdown"}}),i.ui.dropdown({className:"dropdown-style",items:i.options.styleTags,title:i.lang.style.style,template:function(e){var t=(e="string"==typeof e?{tag:e,title:i.lang.style.hasOwnProperty(e)?i.lang.style[e]:e}:e).tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:i.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var n=this,e=0,t=this.options.styleTags.length;e<t;e++)!function(e){var t=n.options.styleTags[e];n.context.memo("button.style."+t,function(){return i.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:i.lang.style[t],click:i.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.ui.icon(i.options.icons.bold),tooltip:i.lang.font.bold+i.representShortcut("bold"),click:i.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.ui.icon(i.options.icons.italic),tooltip:i.lang.font.italic+i.representShortcut("italic"),click:i.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.ui.icon(i.options.icons.underline),tooltip:i.lang.font.underline+i.representShortcut("underline"),click:i.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return i.button({contents:i.ui.icon(i.options.icons.eraser),tooltip:i.lang.font.clear+i.representShortcut("removeFormat"),click:i.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.ui.icon(i.options.icons.strikethrough),tooltip:i.lang.font.strikethrough+i.representShortcut("strikethrough"),click:i.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.ui.icon(i.options.icons.superscript),tooltip:i.lang.font.superscript,click:i.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.ui.icon(i.options.icons.subscript),tooltip:i.lang.font.subscript,click:i.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=i.context.invoke("editor.currentStyle");return b.each(e["font-family"].split(","),function(e,t){t=t.trim().replace(/['"]+/g,""),i.isFontDeservedToAdd(t)&&-1===i.options.fontNames.indexOf(t)&&i.options.fontNames.push(t)}),i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontname"/>',i.options),tooltip:i.lang.font.name,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:i.options.icons.menuCheck,items:i.options.fontNames.filter(i.isFontInstalled.bind(i)),title:i.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:i.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',i.options),tooltip:i.lang.font.size,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizes,title:i.lang.font.size,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return i.colorPalette("note-color-all",i.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return i.colorPalette("note-color-fore",i.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return i.colorPalette("note-color-back",i.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return i.button({contents:i.ui.icon(i.options.icons.unorderedlist),tooltip:i.lang.lists.unordered+i.representShortcut("insertUnorderedList"),click:i.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return i.button({contents:i.ui.icon(i.options.icons.orderedlist),tooltip:i.lang.lists.ordered+i.representShortcut("insertOrderedList"),click:i.context.createInvokeHandler("editor.insertOrderedList")}).render()});var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),r=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),l=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",F.invoke(o,"render")),this.context.memo("button.justifyCenter",F.invoke(r,"render")),this.context.memo("button.justifyRight",F.invoke(a,"render")),this.context.memo("button.justifyFull",F.invoke(s,"render")),this.context.memo("button.outdent",F.invoke(l,"render")),this.context.memo("button.indent",F.invoke(c,"render")),this.context.memo("button.paragraph",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft),i.options),tooltip:i.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),i.ui.dropdown([i.ui.buttonGroup({className:"note-align",children:[o,r,a,s]}),i.ui.buttonGroup({className:"note-list",children:[l,c]})])]).render()}),this.context.memo("button.height",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight),i.options),tooltip:i.lang.font.height,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({items:i.options.lineHeights,checkClassName:i.options.icons.menuCheck,className:"dropdown-line-height",title:i.lang.font.height,click:i.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table),i.options),tooltip:i.lang.table.table,data:{toggle:"dropdown"}}),i.ui.dropdown({title:i.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:i.options.insertTableMaxSize.col+"em",height:i.options.insertTableMaxSize.row+"em"}).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler.bind(i))}}).render()}),this.context.memo("button.link",function(){return i.button({contents:i.ui.icon(i.options.icons.link),tooltip:i.lang.link.link+i.representShortcut("linkDialog.show"),click:i.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return i.button({contents:i.ui.icon(i.options.icons.picture),tooltip:i.lang.image.image,click:i.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return i.button({contents:i.ui.icon(i.options.icons.video),tooltip:i.lang.video.video,click:i.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return i.button({contents:i.ui.icon(i.options.icons.minus),tooltip:i.lang.hr.insert+i.representShortcut("insertHorizontalRule"),click:i.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.ui.icon(i.options.icons.arrowsAlt),tooltip:i.lang.options.fullscreen,click:i.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.ui.icon(i.options.icons.code),tooltip:i.lang.options.codeview,click:i.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return i.button({contents:i.ui.icon(i.options.icons.redo),tooltip:i.lang.history.redo+i.representShortcut("redo"),click:i.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return i.button({contents:i.ui.icon(i.options.icons.undo),tooltip:i.lang.history.undo+i.representShortcut("undo"),click:i.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return i.button({contents:i.ui.icon(i.options.icons.question),tooltip:i.lang.options.help,click:i.context.createInvokeHandler("helpDialog.show")}).render()})},gt.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},gt.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},gt.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},gt.prototype.build=function(e,t){for(var n=0,i=t.length;n<i;n++){for(var o=t[n],r=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},gt.prototype.updateCurrentStyle=function(e){var i,o,n,r=this,t=e||this.$toolbar,a=this.context.invoke("editor.currentStyle");this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===a["font-bold"]},".note-btn-italic":function(){return"italic"===a["font-italic"]},".note-btn-underline":function(){return"underline"===a["font-underline"]},".note-btn-subscript":function(){return"subscript"===a["font-subscript"]},".note-btn-superscript":function(){return"superscript"===a["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===a["font-strikethrough"]}}),a["font-family"]&&(e=a["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=U.find(e,this.isFontInstalled.bind(this)),t.find(".dropdown-fontname a").each(function(e,t){var n=b(t),t=n.data("value")+""==i+"";n.toggleClass("checked",t)}),t.find(".note-current-fontname").text(i).css("font-family",i)),a["font-size"]&&(o=a["font-size"],t.find(".dropdown-fontsize a").each(function(e,t){var n=b(t),t=n.data("value")+""==o+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsize").text(o)),a["line-height"]&&(n=a["line-height"],t.find(".dropdown-line-height li a").each(function(e,t){t=b(t).data("value")+""==n+"";r.className=t?"checked":""}))},gt.prototype.updateBtnStates=function(n,e){var i=this;b.each(e,function(e,t){i.ui.toggleBtnActive(n.find(e),t())})},gt.prototype.tableMoveHandler=function(e){var t=b(e.target.parentNode),n=t.next(),i=t.find(".note-dimension-picker-mousecatcher"),o=t.find(".note-dimension-picker-highlighted"),t=t.find(".note-dimension-picker-unhighlighted");r=void 0===e.offsetX?(r=b(e.target).offset(),{x:e.pageX-r.left,y:e.pageY-r.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(r.x/18)||1,r=Math.ceil(r.y/18)||1;o.css({width:e+"em",height:r+"em"}),i.data("value",e+"x"+r),3<e&&e<this.options.insertTableMaxSize.col&&t.css({width:e+1+"em"}),3<r&&r<this.options.insertTableMaxSize.row&&t.css({height:r+1+"em"}),n.html(e+" x "+r)},gt),I=(mt.prototype.shouldInitialize=function(){return!this.options.airMode},mt.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},mt.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},mt.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=b(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-o,i=a+e-o-n-i;!this.isFollowing&&s<r&&r<i-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:o,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||i<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},mt.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},mt.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},mt.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},mt.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},mt.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},mt),A=(ft.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":b("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ft.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ft.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===He.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ft.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},ft.prototype.showLinkDialog=function(a){var s=this;return b.Deferred(function(t){var n=s.$dialog.find(".note-link-text"),i=s.$dialog.find(".note-link-url"),o=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&F.isValidUrl(a.text)&&(a.url=a.text),n.on("input paste propertychange",function(){a.text=n.val(),s.toggleLinkBtn(o,n,i)}).val(a.text),i.on("input paste propertychange",function(){a.text||n.val(i.val()),s.toggleLinkBtn(o,n,i)}).val(a.url),D.isSupportTouch||i.trigger("focus"),s.toggleLinkBtn(o,n,i),s.bindEnterKey(i,o),s.bindEnterKey(n,o);var e=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",e),o.one("click",function(e){e.preventDefault(),t.resolve({range:a.range,url:i.val(),text:n.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){n.off(),i.off(),o.off(),"pending"===t.state()&&t.reject()}),s.ui.showDialog(s.$dialog)}).promise()},ft.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},ft),rt=(ht.prototype.shouldInitialize=function(){return!U.isEmpty(this.options.popover.link)},ht.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},ht.prototype.destroy=function(){this.$popover.remove()},ht.prototype.update=function(){var e,t;this.context.invoke("editor.hasFocus")&&(e=this.context.invoke("editor.getLastRange")).isCollapsed()&&e.isOnAnchor()?(t=Re.ancestor(e.sc,Re.isAnchor),e=b(t).attr("href"),this.$popover.find("a").attr("href",e).html(e),t=Re.posFromPlaceholder(t),this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide()},ht.prototype.hide=function(){this.$popover.hide()},ht),N=(pt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";this.options.maximumImageFileSize&&(n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=+(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B",t="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>");var n=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),t='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:t}).render().appendTo(e)},pt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},pt.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===He.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},pt.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},pt.prototype.showImageDialog=function(){var o=this;return b.Deferred(function(t){var e=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.on("input paste propertychange",function(){o.ui.toggleBtn(i,n.val())}).val(""),D.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){e.off(),n.off(),i.off(),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})},pt),M=(dt.prototype.shouldInitialize=function(){return!U.isEmpty(this.options.popover.image)},dt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},dt.prototype.destroy=function(){this.$popover.remove()},dt.prototype.update=function(e,t){var n;Re.isImg(e)?(n=Re.posFromPlaceholder(e),e=Re.posFromPlaceholder(this.editable),this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,e.top)})):this.hide()},dt.prototype.hide=function(){this.$popover.hide()},dt),R=(ut.prototype.shouldInitialize=function(){return!U.isEmpty(this.options.popover.table)},ut.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),D.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},ut.prototype.destroy=function(){this.$popover.remove()},ut.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=Re.isCell(e);return t?(e=Re.posFromPlaceholder(e),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide(),t},ut.prototype.hide=function(){this.$popover.hide()},ut),L=(ct.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ct.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ct.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===He.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ct.prototype.createVideoNode=function(e){var t=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),r=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),l=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),d=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(t&&11===t[1].length){var h=t[1],f=0;if(void 0!==t[2]){var m=t[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var g=[3600,60,1],v=0,y=g.length;v<y;v++)f+=void 0!==m[v+1]?g[v]*parseInt(m[v+1],10):0}h=b("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h+(0<f?"?start="+f:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)h=b("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)h=b("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(r&&r[2].length)h=b("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+r[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||l&&l[2].length)l=s&&s[1].length?s[1]:l[2],h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+l+"&amp;auto=0");else if(c||u||d)h=b("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;h=b("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return h.addClass("note-video-clip"),h[0]},ct.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");e=t.createVideoNode(e);e&&t.context.invoke("editor.insertNode",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},ct.prototype.showVideoDialog=function(e){var i=this;return b.Deferred(function(t){var n=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){i.ui.toggleBtn(e,n.val())}),D.isSupportTouch||n.trigger("focus"),e.click(function(e){e.preventDefault(),t.resolve(n.val())}),i.bindEnterKey(n,e)}),i.ui.onDialogHidden(i.$dialog,function(){n.off(),e.off(),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})},ct),e=(lt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},lt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},lt.prototype.createShortcutList=function(){var i=this,o=this.options.keyMap[D.isMac?"mac":"pc"];return Object.keys(o).map(function(e){var t=o[e],n=b('<div><div class="help-list-item"/></div>');return n.append(b("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(b("<span/>").html(i.context.memo("help."+t)||t)),n.html()}).join("")},lt.prototype.showHelpDialog=function(){var t=this;return b.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()},lt.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},lt),X=(st.prototype.shouldInitialize=function(){return this.options.airMode&&!U.isEmpty(this.options.popover.air)},st.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},st.prototype.destroy=function(){this.$popover.remove()},st.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");e.range&&!e.range.isCollapsed()?(e=U.last(e.range.getClientRects()))&&(e=F.rect2bnd(e),this.$popover.css({display:"block",left:Math.max(e.left+e.width/2,0)-20,top:e.top+e.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)):this.hide()},st.prototype.hide=function(){this.$popover.hide()},st),ae=(at.prototype.shouldInitialize=function(){return 0<this.hints.length},at.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(e){t.$content.find(".active").removeClass("active"),b(e.currentTarget).addClass("active"),t.replace()})},at.prototype.destroy=function(){this.$popover.remove()},at.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},at.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();t.length?this.selectItem(t):((e=e.parent().next()).length||(e=this.$content.find(".note-hint-group").first()),this.selectItem(e.find(".note-hint-item").first()))},at.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();t.length?this.selectItem(t):((e=e.parent().prev()).length||(e=this.$content.find(".note-hint-group").last()),this.selectItem(e.find(".note-hint-item").last()))},at.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");e.length&&(e=this.nodeFromItem(e),this.lastWordRange.insertNode(e),Oe.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus"))},at.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],e=e.data("item"),e=t.content?t.content(e):e;return e="string"==typeof e?Re.createText(e):e},at.prototype.createItemTemplates=function(i,e){var o=this.hints[i];return e.map(function(e,t){var n=b('<div class="note-hint-item"/>');return n.append(o.template?o.template(e):e+""),n.data({index:i,item:e}),n})},at.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===He.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===He.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===He.code.DOWN&&(e.preventDefault(),this.moveDown()))},at.prototype.searchKeyword=function(e,t,n){e=this.hints[e];e&&e.match.test(t)&&e.search?(t=e.match.exec(t),e.search(t[1],n)):n()},at.prototype.createGroup=function(t,e){var n=this,i=b('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,e,function(e){(e=e||[]).length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i},at.prototype.handleKeyup=function(e){var t,n,i=this;U.contains([He.code.ENTER,He.code.UP,He.code.DOWN],e.keyCode)||(t=this.context.invoke("editor.getLastRange").getWordRange(),n=t.toString(),this.hints.length&&n?(this.$content.empty(),(e=F.rect2bnd(U.last(t.getClientRects())))&&(this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(e,t){e.match.test(n)&&i.createGroup(t,n).appendTo(i.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))):this.hide())},at.prototype.show=function(){this.$popover.show()},at.prototype.hide=function(){this.$popover.hide()},at);function at(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}function st(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(e,t){D.isFF||t.relatedTarget&&Re.ancestor(t.relatedTarget,F.eq(n.$popover[0]))||n.hide()}}}function lt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}function ct(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}function ut(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}function dt(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}function pt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}function ht(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}function ft(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}function mt(e){this.context=e,this.$window=b(window),this.$document=b(document),this.ui=b.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}function gt(e){this.ui=b.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=F.invertObject(this.options.keyMap[D.isMac?"mac":"pc"])}function vt(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}function yt(e){var n=this;this.context=e,this.options=e.options.replace||{},this.keys=[He.code.ENTER,He.code.SPACE,He.code.PERIOD,He.code.COMMA,He.code.SEMICOLON,He.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}function bt(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}function xt(e){var n=this;this.context=e,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}function wt(e){var n=this;this.context=e,this.$document=b(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}function kt(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=b(window),this.$scrollbar=b("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}function Et(e){this.$document=b(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}function Ct(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}b.summernote=b.extend(b.summernote,{version:"0.8.12",plugins:{},dom:Re,range:Oe,options:{langInfo:b.summernote.lang["en-US"],modules:{editor:s,clipboard:l,dropzone:c,codeview:u,statusbar:d,fullscreen:p,handle:f,hintPopover:ae,autoLink:m,autoSync:E,autoReplace:C,placeholder:ot,buttons:P,toolbar:I,linkDialog:A,linkPopover:rt,imageDialog:N,imagePopover:M,tablePopover:R,videoDialog:L,helpDialog:e,airPopover:X},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),b.summernote=b.extend(b.summernote,{ui:T})},"object"==typeof n&&void 0!==t?o(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],o):o((i||self).jQuery)},{jquery:624}],218:[function(e,t,n){var i,o;i=this,o=function(b){"use strict";b=b&&b.hasOwnProperty("default")?b.default:b;var o=(e.prototype.render=function(e){var t,n=b(this.markup);return this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&b.each(this.options.data,function(e,t){n.attr("data-"+e,t)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children&&(t=n.find(".note-children-container"),this.children.forEach(function(e){e.render(t.length?t:n)})),this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n},e);function e(e,t,n,i){this.markup=e,this.children=t,this.options=n,this.callback=i}var n=function(n,i){return function(){var e="object"==typeof arguments[1]?arguments[1]:arguments[0],t=Array.isArray(arguments[0])?arguments[0]:[];return e&&e.children&&(t=e.children),new o(n,t,e,i)}},t=n('<div class="note-editor note-frame panel panel-default"/>'),i=n('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),r=n('<div class="note-editing-area"/>'),a=n('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),s=n('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),l=n(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),c=n('<div class="note-editor"/>'),u=n(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),d=n('<div class="note-btn-group btn-group">'),p=n('<ul class="dropdown-menu" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e,e="object"==typeof e?e.option:void 0;return'<li role="listitem" aria-label="'+t+'"><a href="#" '+('data-value="'+t+'"')+(void 0!==e?' data-option="'+e+'"':"")+">"+n+"</a></li>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),h=n('<ul class="dropdown-menu note-check" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e;return'<li role="listitem" aria-label="'+e+'"><a href="#" data-value="'+t+'">'+y(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),f=n('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),m=n('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),g=n(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),v=n('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text||"","</label>"].join(""))}),y=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},x={editor:t,toolbar:i,editingArea:r,codable:a,editable:s,statusbar:l,airEditor:c,airEditable:u,buttonGroup:d,dropdown:p,dropdownButtonContents:function(e,t){return e+" "+y(t.icons.caret,"span")},dropdownCheck:h,palette:f,dialog:m,popover:g,checkbox:v,icon:y,options:{},button:function(e,t){return n('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:void 0!==t.container?t.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(e){b(e.currentTarget).tooltip("hide")})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){t=(t.airMode?x.airEditor([x.editingArea([x.airEditable()])]):x.editor([x.toolbar(),x.editingArea([x.codable(),x.editable()]),x.statusbar()])).render();return t.insertAfter(e),{note:e,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};b.summernote=b.summernote||{lang:{}},b.extend(b.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var w="function"==typeof define&&define.amd;var k=navigator.userAgent,E=/MSIE|Trident/i.test(k);E&&((et=/MSIE (\d+[.]\d+)/.exec(k))&&(rt=parseFloat(et[1])),(et=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(k))&&(rt=parseFloat(et[1])));var C=/Edge\/\d+/.test(k),S=!!window.CodeMirror,t="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,i=E||C?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",T={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:E,isEdge:C,isFF:!C&&/firefox/i.test(k),isPhantom:/PhantomJS/i.test(k),isWebkit:!C&&/webkit/i.test(k),isChrome:!C&&/chrome/i.test(k),isSafari:!C&&/safari/i.test(k),browserVersion:rt,jqueryVersion:parseFloat(b.fn.jquery),isSupportAmd:w,isSupportTouch:t,hasCodeMirror:S,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",i=document.createElement("canvas").getContext("2d");i.font="200px '"+t+"'";var o=i.measureText(n).width;return i.font="200px '"+e+"', '"+t+"'",o!==i.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:i};var _=0;var N={eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++_+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function A(e){return e[0]}function P(e){return e[e.length-1]}function I(e){return e.slice(1)}function R(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var M={head:A,last:P,initial:function(e){return e.slice(0,e.length-1)},tail:I,prev:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t-1]}return null},next:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t+1]}return null},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:R,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||N.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,i){return e.length?I(e).reduce(function(e,t){var n=P(e);return i(P(n),t)?n[n.length]=t:e[e.length]=[t],e},[[e[0]]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)R(t,e[n])||t.push(e[n]);return t}},L=String.fromCharCode(160);function D(e){return e&&b(e).hasClass("note-editable")}function j(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function F(e){return e&&3===e.nodeType}function O(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function B(e){return!D(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))}var r=j("PRE"),H=j("LI");var z=j("TABLE"),U=j("DATA");function V(e){return!(Y(e)||q(e)||W(e)||B(e)||z(e)||G(e)||U(e))}function q(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var W=j("HR");function K(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var G=j("BLOCKQUOTE");function Y(e){return K(e)||G(e)||D(e)}a=j("A");s=j("BODY");var X=T.isMSIE&&T.browserVersion<11?"&nbsp;":"<br>";function Q(e){return F(e)?e.nodeValue.length:e?e.childNodes.length:0}function Z(e){var t=Q(e);return 0===t||(!F(e)&&1===t&&e.innerHTML===X||!(!M.all(e.childNodes,F)||""!==e.innerHTML))}function J(e){O(e)||Q(e)||(e.innerHTML=X)}function ee(e,t){for(;e;){if(t(e))return e;if(D(e))break;e=e.parentNode}return null}function te(e,t){t=t||N.fail;var n=[];return ee(e,function(e){return D(e)||n.push(e),t(e)}),n}function ne(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function ie(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function oe(n,e){return b.each(e,function(e,t){n.appendChild(t)}),n}function re(e){return 0===e.offset}function ae(e){return e.offset===Q(e.node)}function se(e){return re(e)||ae(e)}function le(e,t){for(;e&&e!==t;){if(0!==ue(e))return!1;e=e.parentNode}return!0}function ce(e,t){if(!t)return!1;for(;e&&e!==t;){if(ue(e)!==Q(e.parentNode)-1)return!1;e=e.parentNode}return!0}function ue(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function de(e){return!!(e&&e.childNodes&&e.childNodes.length)}function pe(e,t){var n,i;if(0===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)}else i=de(e.node)?Q(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:i}}function he(e,t){var n,i;if(Q(e.node)===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)+1}else i=de(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?Q(e.node):e.offset+1);return{node:n,offset:i}}function fe(e,t){return e.node===t.node&&e.offset===t.offset}function me(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),se(e)&&(F(e.node)||i)){if(re(e))return e.node;if(ae(e))return e.node.nextSibling}if(F(e.node))return e.node.splitText(e.offset);t=e.node.childNodes[e.offset],i=ie(e.node.cloneNode(!1),e.node);return oe(i,ne(t)),n||(J(e.node),J(i)),o&&(Z(e.node)&&ye(e.node),Z(i))?(ye(i),e.node.nextSibling):i}function ge(e,n,i){e=te(n.node,N.eq(e));return e.length?1===e.length?me(n,i):e.reduce(function(e,t){return e===n.node&&(e=me(n,i)),me({node:t,offset:e?ue(e):Q(t)},i)}):null}function ve(e){return document.createElement(e)}function ye(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}}var be=j("TEXTAREA");function xe(e,t){e=be(e[0])?e.val():e.html();return t?e.replace(/[\n\r]/g,""):e}var we={NBSP_CHAR:L,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:X,emptyPara:"<p>"+X+"</p>",makePredByNodeName:j,isEditable:D,isControlSizing:function(e){return e&&b(e).hasClass("note-control-sizing")},isText:F,isElement:function(e){return e&&1===e.nodeType},isVoid:O,isPara:B,isPurePara:function(e){return B(e)&&!H(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:V,isBlock:N.not(V),isBodyInline:function(e){return V(e)&&!ee(e,B)},isBody:s,isParaInline:function(e){return V(e)&&!!ee(e,B)},isPre:r,isList:q,isTable:z,isData:U,isCell:K,isBlockquote:G,isBodyContainer:Y,isAnchor:a,isDiv:j("DIV"),isLi:H,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:be,isEmpty:Z,isEmptyAnchor:N.and(a,Z),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||N.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:Q,isLeftEdgePoint:re,isRightEdgePoint:ae,isEdgePoint:se,isLeftEdgeOf:le,isRightEdgeOf:ce,isLeftEdgePointOf:function(e,t){return re(e)&&le(e.node,t)},isRightEdgePointOf:function(e,t){return ae(e)&&ce(e.node,t)},prevPoint:pe,nextPoint:he,isSamePoint:fe,isVisiblePoint:function(e){if(F(e.node)||!de(e.node)||Z(e.node))return!0;var t=e.node.childNodes[e.offset-1],e=e.node.childNodes[e.offset];return!(t&&!O(t)||e&&!O(e))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=pe(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=he(e)}return null},isCharPoint:function(e){return!!F(e.node)&&((e=e.node.nodeValue.charAt(e.offset-1))&&" "!==e&&e!==L)},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!fe(o,t));)o=he(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:ee,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===Q(e);){if(t(e))return e;if(D(e))break;e=e.parentNode}return null},listAncestor:te,lastAncestor:function(e,t){return e=te(e),M.last(e.filter(t))},listNext:ne,listPrev:function(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,r){var a=[];return r=r||N.ok,function e(t){o!==t&&r(t)&&a.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),a},commonAncestor:function(e,t){for(var n=te(e),i=t;i;i=i.parentNode)if(-1<n.indexOf(i))return i;return null},wrap:function(e,t){var n=e.parentNode,t=b("<"+t+">")[0];return n.insertBefore(t,e),t.appendChild(e),t},insertAfter:ie,appendChildNodes:oe,position:ue,hasChildren:de,makeOffsetPath:function(e,t){return te(t,N.eq(e)).map(ue).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:ge,splitPoint:function(e,t){var n,i=t?B:Y,o=te(e.node,i),r=M.last(o)||e.node,r=i(r)?(n=o[o.length-2],r):(n=r).parentNode;return{rightNode:t=!(t=n&&ge(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}))&&r===e.node?e.node.childNodes[e.offset]:t,container:r}},create:ve,createText:function(e){return document.createTextNode(e)},remove:ye,removeWhile:function(e,t){for(;e&&!D(e)&&t(e);){var n=e.parentNode;ye(e),e=n}},replace:function(e,t){return e.nodeName.toUpperCase()===t.toUpperCase()?e:(t=ve(t),e.style.cssText&&(t.style.cssText=e.style.cssText),oe(t,M.from(e.childNodes)),ie(t,e),ye(e),t)},html:function(e,t){return e=xe(e),e=t?(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();t=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(t||n?"\n":"")})).trim():e},value:xe,posFromPlaceholder:function(e){var e=(t=b(e)).offset(),t=t.outerHeight(!0);return{left:e.left,top:e.top+t}},attachEvents:function(t,n){Object.keys(n).forEach(function(e){t.on(e,n[e])})},detachEvents:function(t,n){Object.keys(n).forEach(function(e){t.off(e,n[e])})},isCustomStyleTag:function(e){return e&&!F(e)&&M.contains(e.classList,"note-styletag")}},ke=(Ee.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Ee.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Ee.prototype.reset=function(){var e=this.isDisabled();this.code(we.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},Ee.prototype._initialize=function(){var t=this,n=b.extend({},this.options.buttons);Object.keys(n).forEach(function(e){t.memo("button."+e,n[e])});var i=b.extend({},this.options.modules,b.summernote.plugins||{});Object.keys(i).forEach(function(e){t.module(e,i[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})},Ee.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)},Ee.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},Ee.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Ee.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Ee.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Ee.prototype.triggerEvent=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=this.options.callbacks[N.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},Ee.prototype.initializeModule=function(e){e=this.modules[e];e.shouldInitialize=e.shouldInitialize||N.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&we.attachEvents(this.$note,e.events))},Ee.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},Ee.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&we.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},Ee.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},Ee.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},Ee.prototype.createInvokeHandlerAndUpdateState=function(t,n){var i=this;return function(e){i.createInvokeHandler(t,n)(e),i.invoke("buttons.updateCurrentStyle")}},Ee.prototype.createInvokeHandler=function(t,n){var i=this;return function(e){e.preventDefault();e=b(e.target);i.invoke(t,n||e.closest("[data-value]").data("value"),e)}},Ee.prototype.invoke=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=e.split("."),i=1<n.length,e=i&&M.head(n),i=i?M.last(n):M.head(n),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,t):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,t):void 0},Ee);function Ee(e,t){this.ui=b.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}function Ce(e,t){for(var n,i=e.parentElement(),o=document.body.createTextRange(),r=M.from(i.childNodes),a=0;a<r.length;a++)if(!we.isText(r[a])){if(o.moveToElementText(r[a]),0<=o.compareEndPoints("StartToStart",e))break;n=r[a]}if(0!==a&&we.isText(r[a-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n);var l=n?n.nextSibling:i.firstChild,c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&we.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,a=u}return{cont:i,offset:a}}function Se(e){function r(e,t){if(we.isText(e)){var n=we.listPrev(e,N.not(we.isText)),i=M.last(n).previousSibling,o=i||e.parentNode;t+=M.sum(M.tail(n),we.nodeLength),i=!i}else{if(o=e.childNodes[t]||e,we.isText(o))return r(o,0);t=0,i=!1}return{node:o,collapseToStart:i,offset:t}}var t=document.body.createTextRange(),e=r(e.node,e.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}b.fn.extend({summernote:function(){var e=b.type(M.head(arguments)),t="string"===e,i=b.extend({},b.summernote.options,"object"===e?M.head(arguments):{});i.langInfo=b.extend(!0,{},b.summernote.lang["en-US"],b.summernote.lang[i.lang]),i.icons=b.extend(!0,{},b.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!T.isSupportTouch:i.tooltip,this.each(function(e,t){var n=b(t);n.data("summernote")||(t=new ke(n,i),n.data("summernote",t),n.data("summernote").triggerEvent("init",t.layoutInfo))});e=this.first();if(e.length){e=e.data("summernote");if(t)return e.invoke.apply(e,M.from(arguments));i.focus&&e.invoke("editor.focus")}return this}});var Te=(_e.prototype.nativeRange=function(){if(T.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}e=Se({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Se({node:this.ec,offset:this.eo})),e},_e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},_e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},_e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},_e.prototype.select=function(){var e,t=this.nativeRange();return T.isW3CRangeSupport?(0<(e=document.getSelection()).rangeCount&&e.removeAllRanges(),e.addRange(t)):t.select(),this},_e.prototype.scrollIntoView=function(e){var t=b(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},_e.prototype.normalize=function(){var e=function(e,t){if(we.isVisiblePoint(e)&&(!we.isEdgePoint(e)||we.isRightEdgePoint(e)&&!t||we.isLeftEdgePoint(e)&&t||we.isRightEdgePoint(e)&&t&&we.isVoid(e.node.nextSibling)||we.isLeftEdgePoint(e)&&!t&&we.isVoid(e.node.previousSibling)||we.isBlock(e.node)&&we.isEmpty(e.node)))return e;var n=we.ancestor(e.node,we.isBlock);if((we.isLeftEdgePointOf(e,n)||we.isVoid(we.prevPoint(e).node))&&!t||(we.isRightEdgePointOf(e,n)||we.isVoid(we.nextPoint(e).node))&&t){if(we.isVisiblePoint(e))return e;t=!t}return(t?we.nextPointUntil(we.nextPoint(e),we.isVisiblePoint):we.prevPointUntil(we.prevPoint(e),we.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),e=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new _e(e.node,e.offset,t.node,t.offset)},_e.prototype.nodes=function(n,e){n=n||N.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),e=this.getEndPoint(),r=[],a=[];return we.walkPoint(t,e,function(e){var t;we.isEditable(e.node)||(o?(we.isLeftEdgePoint(e)&&a.push(e.node),we.isRightEdgePoint(e)&&M.contains(a,e.node)&&(t=e.node)):t=i?we.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),M.unique(r)},_e.prototype.commonAncestor=function(){return we.commonAncestor(this.sc,this.ec)},_e.prototype.expand=function(e){var t=we.ancestor(this.sc,e),n=we.ancestor(this.ec,e);if(!t&&!n)return new _e(this.sc,this.so,this.ec,this.eo);e=this.getPoints();return t&&(e.sc=t,e.so=0),n&&(e.ec=n,e.eo=we.nodeLength(n)),new _e(e.sc,e.so,e.ec,e.eo)},_e.prototype.collapse=function(e){return e?new _e(this.sc,this.so,this.sc,this.so):new _e(this.ec,this.eo,this.ec,this.eo)},_e.prototype.splitText=function(){var e=this.sc===this.ec,t=this.getPoints();return we.isText(this.ec)&&!we.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),we.isText(this.sc)&&!we.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,e&&(t.ec=t.sc,t.eo=this.eo-this.so)),new _e(t.sc,t.so,t.ec,t.eo)},_e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=we.prevPointUntil(e.getStartPoint(),function(e){return!M.contains(t,e.node)}),o=[];return b.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===we.nodeLength(n)&&o.push(n),we.remove(t,!1)}),b.each(o,function(e,t){we.remove(t,!1)}),new _e(i.node,i.offset,i.node,i.offset).normalize()},_e.prototype.makeIsOn=function(t){return function(){var e=we.ancestor(this.sc,t);return!!e&&e===we.ancestor(this.ec,t)}},_e.prototype.isLeftEdgeOf=function(e){if(!we.isLeftEdgePoint(this.getStartPoint()))return!1;e=we.ancestor(this.sc,e);return e&&we.isLeftEdgeOf(this.sc,e)},_e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},_e.prototype.wrapBodyInlineWithPara=function(){if(we.isBodyContainer(this.sc)&&we.isEmpty(this.sc))return this.sc.innerHTML=we.emptyPara,new _e(this.sc.firstChild,0,this.sc.firstChild,0);var e,t=this.normalize();if(we.isParaInline(this.sc)||we.isPara(this.sc))return t;we.isInline(t.sc)?(e=we.listAncestor(t.sc,N.not(we.isInline)),n=M.last(e),we.isInline(n)||(n=e[e.length-2]||t.sc.childNodes[t.so])):n=t.sc.childNodes[0<t.so?t.so-1:0];var n,t=we.listPrev(n,we.isParaInline).reverse();return(t=t.concat(we.listNext(n.nextSibling,we.isParaInline))).length&&(n=we.wrap(M.head(t),"p"),we.appendChildNodes(n,M.tail(t))),this.normalize()},_e.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),t=we.splitPoint(t.getStartPoint(),we.isInline(e));return t.rightNode?t.rightNode.parentNode.insertBefore(e,t.rightNode):t.container.appendChild(e),e},_e.prototype.pasteHTML=function(e){var e=b("<div></div>").html(e)[0],e=M.from(e.childNodes),t=this.wrapBodyInlineWithPara().deleteContents(),e=(e=0<t.so?e.reverse():e).map(function(e){return t.insertNode(e)});return e=0<t.so?e.reverse():e},_e.prototype.toString=function(){var e=this.nativeRange();return T.isW3CRangeSupport?e.toString():e.text},_e.prototype.getWordRange=function(e){var t=this.getEndPoint();if(!we.isCharPoint(t))return this;var n=we.prevPointUntil(t,function(e){return!we.isCharPoint(e)});return e&&(t=we.nextPointUntil(t,function(e){return!we.isCharPoint(e)})),new _e(n.node,n.offset,t.node,t.offset)},_e.prototype.bookmark=function(e){return{s:{path:we.makeOffsetPath(e,this.sc),offset:this.so},e:{path:we.makeOffsetPath(e,this.ec),offset:this.eo}}},_e.prototype.paraBookmark=function(e){return{s:{path:M.tail(we.makeOffsetPath(M.head(e),this.sc)),offset:this.so},e:{path:M.tail(we.makeOffsetPath(M.last(e),this.ec)),offset:this.eo}}},_e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},_e);function _e(e,t,n,i){this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(we.isEditable),this.isOnList=this.makeIsOn(we.isList),this.isOnAnchor=this.makeIsOn(we.isAnchor),this.isOnCell=this.makeIsOn(we.isCell),this.isOnData=this.makeIsOn(we.isData)}var Ne={create:function(e,t,n,i){if(4===arguments.length)return new Te(e,t,n,i);if(2===arguments.length)return new Te(n=e,i=t,n,i);i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(e)).collapse(we.emptyPara===e.innerHTML)},createFromSelection:function(){if(T.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(we.isBody(e.anchorNode))return null;var t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset}else{e=document.selection.createRange(),t=e.duplicate();t.collapse(!1);e=e;e.collapse(!0);e=Ce(e,!0),t=Ce(t,!1);n=(e=we.isText(e.node)&&we.isLeftEdgePoint(e)&&we.isTextNode(t.node)&&we.isRightEdgePoint(t)&&t.node.nextSibling===e.node?t:e).cont,i=e.offset,o=t.cont,r=t.offset}return new Te(n,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,e=we.nodeLength(i);return we.isVoid(t)&&(n=we.listPrev(t).length-1,t=t.parentNode),we.isBR(i)?(e=we.listPrev(i).length-1,i=i.parentNode):we.isVoid(i)&&(e=we.listPrev(i).length,i=i.parentNode),this.create(t,n,i,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=we.fromOffsetPath(e,t.s.path),i=t.s.offset,e=we.fromOffsetPath(e,t.e.path),t=t.e.offset;return new Te(n,i,e,t)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=we.fromOffsetPath(M.head(t),e.s.path),e=we.fromOffsetPath(M.last(t),e.e.path);return new Te(o,n,e,i)}},Ae={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Pe={isEdit:function(e){return M.contains([Ae.BACKSPACE,Ae.TAB,Ae.ENTER,Ae.SPACE,Ae.DELETE],e)},isMove:function(e){return M.contains([Ae.LEFT,Ae.UP,Ae.RIGHT,Ae.DOWN],e)},nameFromCode:N.invertObject(Ae),code:Ae};var Ie=(Re.prototype.makeSnapshot=function(){var e=Ne.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Re.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Ne.createFromBookmark(this.editable,e.bookmark).select()},Re.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Re.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Re.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Re.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Re.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Re.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Re);function Re(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}var Me=(Le.prototype.jQueryCSS=function(n,e){if(T.jqueryVersion<1.9){var i={};return b.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css(e)},Le.prototype.fromNode=function(e){e=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},Le.prototype.stylePara=function(e,n){b.each(e.nodes(we.isPara,{includeAncestor:!0}),function(e,t){b(t).css(n)})},Le.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(we.create(n))];var r,a=we.makePredByNodeName(n),t=e.nodes(we.isText,{fullyContains:!0}).map(function(e){return we.singleChildAncestor(e,a)||we.wrap(e,n)});return i?(o&&(r=e.nodes(),a=N.and(a,function(e){return M.contains(r,e)})),t.map(function(e){var t=we.withClosestSiblings(e,a),n=M.head(t),e=M.tail(t);return b.each(e,function(e,t){we.appendChildNodes(n,t.childNodes),we.remove(t)}),M.head(t)})):t},Le.prototype.current=function(e){var t=b(we.isElement(e.sc)?e.sc:e.sc.parentNode),t=this.fromNode(t);try{t=b.extend(t,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||t["font-family"]})}catch(e){}e.isOnList()?(n=-1<["circle","disc","disc-leading-zero","square"].indexOf(t["list-style-type"]),t["list-style"]=n?"unordered":"ordered"):t["list-style"]="none";var n=we.ancestor(e.sc,we.isPara);return n&&n.style["line-height"]?t["line-height"]=n.style.lineHeight:(n=parseInt(t["line-height"],10)/parseInt(t["font-size"],10),t["line-height"]=n.toFixed(1)),t.anchor=e.isOnAnchor()&&we.ancestor(e.sc,we.isAnchor),t.ancestors=we.listAncestor(e.sc,we.isEditable),t.range=e,t},Le);function Le(){}var De=(je.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},je.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},je.prototype.indent=function(e){var o=this,t=Ne.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n,i=M.head(t);we.isLi(i)?(n=o.findList(i.previousSibling))?t.map(function(e){return n.appendChild(e)}):(o.wrapList(t,i.parentNode.nodeName),t.map(function(e){return e.parentNode}).map(function(e){return o.appendToPrevious(e)})):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),t.select()},je.prototype.outdent=function(e){var i=this,t=Ne.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n=M.head(t);we.isLi(n)?i.releaseList([t]):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),t.select()},je.prototype.toggleList=function(n,e){var i,o=this,t=Ne.create(e).wrapBodyInlineWithPara(),r=t.nodes(we.isPara,{includeAncestor:!0}),a=t.paraBookmark(r),e=M.clusterBy(r,N.peq2("parentNode"));M.find(r,we.isPurePara)?(i=[],b.each(e,function(e,t){i=i.concat(o.wrapList(t,n))}),r=i):(t=t.nodes(we.isList,{includeAncestor:!0}).filter(function(e){return!b.nodeName(e,n)})).length?b.each(t,function(e,t){we.replace(t,n)}):r=this.releaseList(e,!0),Ne.createFromParaBookmark(a,r).select()},je.prototype.wrapList=function(e,t){var n=M.head(e),i=M.last(e),o=we.isList(n.previousSibling)&&n.previousSibling,n=we.isList(i.nextSibling)&&i.nextSibling,i=o||we.insertAfter(we.create(t||"UL"),i);return e=e.map(function(e){return we.isPurePara(e)?we.replace(e,"LI"):e}),we.appendChildNodes(i,e),n&&(we.appendChildNodes(i,M.from(n.childNodes)),we.remove(n)),e},je.prototype.releaseList=function(e,a){var s=this,l=[];return b.each(e,function(e,t){var n=M.head(t),i=M.last(t),o=a?we.lastAncestor(n,we.isList):n.parentNode,r=o.parentNode;"LI"===o.parentNode.nodeName?(t.map(function(e){var t=s.findNextSiblings(e);r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),t.length&&(s.wrapList(t,o.nodeName),e.appendChild(t[0].parentNode))}),0===o.children.length&&r.removeChild(o),0===r.childNodes.length&&r.parentNode.removeChild(r)):(i=1<o.childNodes.length?we.splitTree(o,{node:i.parentNode,offset:we.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,n=we.splitTree(o,{node:n.parentNode,offset:we.position(n)},{isSkipPaddingBlankHTML:!0}),t=a?we.listDescendant(n,we.isLi):M.from(n.childNodes).filter(we.isLi),!a&&we.isList(o.parentNode)||(t=t.map(function(e){return we.replace(e,"P")})),b.each(M.from(t).reverse(),function(e,t){we.insertAfter(t,o)}),i=M.compact([o,n,i]),b.each(i,function(e,t){t=[t].concat(we.listDescendant(t,we.isList));b.each(t.reverse(),function(e,t){we.nodeLength(t)||we.remove(t,!0)})})),l=l.concat(t)}),l},je.prototype.appendToPrevious=function(e){return e.previousSibling?we.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},je.prototype.findList=function(e){return e?M.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null},je.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},je);function je(){}var Fe=(Oe.prototype.insertTab=function(e,t){var n=we.createText(new Array(t+1).join(we.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Ne.create(n,t)).select()},Oe.prototype.insertParagraph=function(e,t){t=(t=(t=t||Ne.create(e)).deleteContents()).wrapBodyInlineWithPara();var n=we.ancestor(t.sc,we.isPara);if(n){if(we.isEmpty(n)&&we.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i,o,r=null;1===this.options.blockquoteBreakingLevel?r=we.ancestor(n,we.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=we.lastAncestor(n,we.isBlockquote)),r?(o=b(we.emptyPara)[0],we.isRightEdgePoint(t.getStartPoint())&&we.isBR(t.sc.nextSibling)&&b(t.sc.nextSibling).remove(),(i=we.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0}))?i.parentNode.insertBefore(o,i):we.insertAfter(o,r)):(o=we.splitTree(n,t.getStartPoint()),a=(a=we.listDescendant(n,we.isEmptyAnchor)).concat(we.listDescendant(o,we.isEmptyAnchor)),b.each(a,function(e,t){we.remove(t)}),(we.isHeading(o)||we.isPre(o)||we.isCustomStyleTag(o))&&we.isEmpty(o)&&(o=we.replace(o,"p")))}else{var a=t.sc.childNodes[t.so];o=b(we.emptyPara)[0],a?t.sc.insertBefore(o,a):t.sc.appendChild(o)}Ne.create(o,0).normalize().select().scrollIntoView(e)},Oe);function Oe(e){this.bullet=new De,this.options=e.options}function Be(e,c,u,o){var p={colPos:0,rowPos:0},d=[],h=[];function f(e,t,n,i,o,r,a){a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=a}function m(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(!d[e][++n])return n}function g(e,t,n,i){e===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&p.colPos++}function t(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)!function(e,t){var n=m(e.rowIndex,t.cellIndex),i=1<t.colSpan,o=1<t.rowSpan,r=e.rowIndex===p.rowPos&&t.cellIndex===p.colPos;f(e.rowIndex,n,e,t,o,i,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=e.rowIndex+s;g(l,n,t,r),f(l,n,e,t,!0,i,!0)}var c=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<c)for(var u=1;u<c;u++){var d=m(e.rowIndex,n+u);g(e.rowIndex,d,t,r),f(e.rowIndex,d,e,t,o,!0,!0)}}(e[t],n[i])}this.getActionList=function(){for(var e=c===Be.where.Row?p.rowPos:-1,t=c===Be.where.Column?p.colPos:-1,n=0,i=!0;i;){var o=0<=e?e:n,r=0<=t?t:n,a=d[o];if(!a)return i=!1,h;var s=a[r];if(!s)return i=!1,h;var l=Be.resultAction.Ignore;switch(u){case Be.requestAction.Add:l=function(e){switch(c){case Be.where.Column:if(e.isColSpan)return Be.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Be.resultAction.Ignore;break;case Be.where.Row:if(e.isRowSpan)return Be.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Be.resultAction.Ignore}return Be.resultAction.AddCell}(s);break;case Be.requestAction.Delete:l=function(e){switch(c){case Be.where.Column:if(e.isColSpan)return Be.resultAction.SubtractSpanCount;break;case Be.where.Row:if(!e.isVirtual&&e.isRowSpan)return Be.resultAction.AddCell;if(e.isRowSpan)return Be.resultAction.SubtractSpanCount}return Be.resultAction.RemoveCell}(s)}h.push((a=l,{baseCell:s.baseCell,action:a,virtualTable:{rowIndex:o,cellIndex:r}})),n++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(p.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?p.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),t()}Be.where={Row:0,Column:1},Be.requestAction={Add:0,Delete:1},Be.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var He=($e.prototype.tab=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=we.ancestor(n,we.isTable),e=we.listDescendant(e,we.isCell),n=M[t?"prev":"next"](e,n);n&&Ne.create(n,0).select()},$e.prototype.addRow=function(e,t){for(var n=we.ancestor(e.commonAncestor(),we.isCell),i=b(n).closest("tr"),e=this.recoverAttributes(i),o=b("<tr"+e+"></tr>"),r=new Be(n,Be.where.Row,Be.requestAction.Add,b(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Be.resultAction.AddCell:o.append("<td"+l+">"+we.blank+"</td>");break;case Be.resultAction.SumSpanCount:if("top"===t)if((s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=b("<div></div>").append(b("<td"+l+">"+we.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}c=parseInt(s.baseCell.rowSpan,10);c++,s.baseCell.setAttribute("rowSpan",c)}}"top"===t?i.before(o):1<n.rowSpan?(n=i[0].rowIndex+(n.rowSpan-2),b(b(i).parent().find("tr")[n]).after(b(o))):i.after(o)},$e.prototype.addCol=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=b(n).closest("tr");b(e).siblings().push(e);for(var i=new Be(n,Be.where.Column,Be.requestAction.Add,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++){var r,a=i[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case Be.resultAction.AddCell:"right"===t?b(a.baseCell).after("<td"+s+">"+we.blank+"</td>"):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>");break;case Be.resultAction.SumSpanCount:"right"===t?(r=parseInt(a.baseCell.colSpan,10),r++,a.baseCell.setAttribute("colSpan",r)):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>")}}},$e.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},$e.prototype.deleteRow=function(e){for(var e=we.ancestor(e.commonAncestor(),we.isCell),t=b(e).closest("tr"),n=t.children("td, th").index(b(e)),i=t[0].rowIndex,o=new Be(e,Be.where.Row,Be.requestAction.Delete,b(t).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r]){var a=o[r].baseCell,s=o[r].virtualTable,l=a.rowSpan&&1<a.rowSpan,c=l?parseInt(a.rowSpan,10):0;switch(o[r].action){case Be.resultAction.Ignore:continue;case Be.resultAction.AddCell:var u=t.next("tr")[0];if(!u)continue;var d=t[0].cells[n];l&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Be.resultAction.SubtractSpanCount:l&&(2<c?(c--,a.setAttribute("rowSpan",c),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")));continue;case Be.resultAction.RemoveCell:continue}}t.remove()},$e.prototype.deleteCol=function(e){for(var t=we.ancestor(e.commonAncestor(),we.isCell),e=b(t).closest("tr"),n=e.children("td, th").index(b(t)),i=new Be(t,Be.where.Column,Be.requestAction.Delete,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++)if(i[o])switch(i[o].action){case Be.resultAction.Ignore:continue;case Be.resultAction.SubtractSpanCount:var r,a=i[o].baseCell;a.colSpan&&1<a.colSpan&&(2<(r=a.colSpan?parseInt(a.colSpan,10):0)?(r--,a.setAttribute("colSpan",r),a.cellIndex===n&&(a.innerHTML="")):2===r&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML="")));continue;case Be.resultAction.RemoveCell:we.remove(i[o].baseCell,!0);continue}},$e.prototype.createTable=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push("<td>"+we.blank+"</td>");for(var r=i.join(""),a=[],s=0;s<t;s++)a.push("<tr>"+r+"</tr>");var l=a.join(""),l=b("<table>"+l+"</table>");return n&&n.tableClassName&&l.addClass(n.tableClassName),l[0]},$e.prototype.deleteTable=function(e){e=we.ancestor(e.commonAncestor(),we.isCell);b(e).closest("table").remove()},$e);function $e(){}ze.prototype.initialize=function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===Pe.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.setLastRange(),t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.setLastRange(),t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.setLastRange(),t.context.triggerEvent("paste",e)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(we.html(this.$note)||we.emptyPara),this.$editable.on(T.inputEventName,N.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},ze.prototype.destroy=function(){this.$editable.off()},ze.prototype.handleKeyMap=function(e){var t=this.options.keyMap[T.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=Pe.nameFromCode[e.keyCode];i&&n.push(i);n=t[n.join("+")];n?!1!==this.context.invoke(n)&&e.preventDefault():Pe.isEdit(e.keyCode)&&this.afterCommand()},ze.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&M.contains([66,73,85],e.keyCode)&&e.preventDefault()},ze.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(Pe.isMove(t.keyCode)||t.ctrlKey||t.metaKey||M.contains([Pe.code.BACKSPACE,Pe.code.DELETE],t.keyCode)))&&(0<this.options.maxTextLength&&this.$editable.text().length+e>=this.options.maxTextLength)},ze.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},ze.prototype.setLastRange=function(){this.lastRange=Ne.create(this.editable)},ze.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},ze.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},ze.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},ze.prototype.saveTarget=function(e){this.$editable.data("target",e)},ze.prototype.clearTarget=function(){this.$editable.removeData("target")},ze.prototype.restoreTarget=function(){return this.$editable.data("target")},ze.prototype.currentStyle=function(){var e=Ne.create();return(e=e&&e.normalize())?this.style.current(e):this.style.fromNode(this.$editable)},ze.prototype.styleFromNode=function(e){return this.style.fromNode(e)},ze.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},ze.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},ze.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},ze.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},ze.prototype.insertImage=function(e,t){var n,i=this;return n=e,b.Deferred(function(e){var t=b("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise().then(function(e){i.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(i.$editable.width(),e.width()))),e.show(),Ne.create(i.editable).insertNode(e[0]),Ne.createFromNodeAfter(e[0]).select(),i.setLastRange(),i.afterCommand()}).fail(function(e){i.context.triggerEvent("image.upload.error",e)})},ze.prototype.insertImagesAsDataURL=function(e){var o=this;b.each(e,function(e,t){var n,i=t.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<t.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(n=t,b.Deferred(function(t){b.extend(new FileReader,{onload:function(e){e=e.target.result;t.resolve(e)},onerror:function(e){t.reject(e)}}).readAsDataURL(n)}).promise().then(function(e){return o.insertImage(e,i)}).fail(function(){o.context.triggerEvent("image.upload.error")}))})},ze.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},ze.prototype.getSelectedText=function(){var e=this.getLastRange();return(e=e.isOnAnchor()?Ne.createFromNode(we.ancestor(e.sc,we.isAnchor)):e).toString()},ze.prototype.onFormatBlock=function(e,t){var n;document.execCommand("FormatBlock",!1,T.isMSIE?"<"+e+">":e),t&&t.length&&(t=t[0].tagName.toUpperCase()!==e.toUpperCase()?t.find(e):t)&&t.length&&((n=t[0].className||"")&&(t=this.createRange(),b([t.sc,t.ec]).closest(e).addClass(n)))},ze.prototype.formatPara=function(){this.formatBlock("P")},ze.prototype.fontStyling=function(e,t){var n,i=this.getLastRange();i&&(n=this.style.styleNodes(i),b(n).css(e,t),!i.isCollapsed()||(n=M.head(n))&&!we.nodeLength(n)&&(n.innerHTML=we.ZERO_WIDTH_NBSP_CHAR,Ne.createFromNodeAfter(n.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",n)))},ze.prototype.unlink=function(){var e,t=this.getLastRange();t.isOnAnchor()&&(e=we.ancestor(t.sc,we.isAnchor),(t=Ne.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())},ze.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(we.isAnchor),t=b(M.head(e.nodes(we.isAnchor))),e={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e},ze.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},ze.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},ze.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},ze.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},ze.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},ze.prototype.resizeTo=function(e,t,n){var i;e=n?{width:(i=e.y/e.x)<(n=t.data("ratio"))?e.x:e.y/n,height:i<n?e.x*n:e.y}:{width:e.x,height:e.y},t.css(e)},ze.prototype.hasFocus=function(){return this.$editable.is(":focus")},ze.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},ze.prototype.isEmpty=function(){return we.isEmpty(this.$editable[0])||we.emptyPara===this.$editable.html()},ze.prototype.empty=function(){this.context.invoke("code",we.emptyPara)},ze.prototype.normalizeContent=function(){this.$editable[0].normalize()},l=ze;function ze(e){var a=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Me,this.table=new He,this.typing=new Fe(e),this.bullet=new De,this.history=new Ie(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=t.length;n<i;n++)this[t[n]]=function(t){return function(e){a.beforeCommand(),document.execCommand(t,!1,e),a.afterCommand(!0)}}(t[n]),this.context.memo("help."+t[n],this.lang.help[t[n]]);this.fontName=this.wrapCommand(function(e){return a.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return a.fontStyling("font-size",e+"px")});for(n=1;n<=6;n++)this["formatH"+n]=function(e){return function(){a.formatBlock("H"+e)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){a.typing.insertParagraph(a.editable)}),this.insertOrderedList=this.wrapCommand(function(){a.bullet.insertOrderedList(a.editable)}),this.insertUnorderedList=this.wrapCommand(function(){a.bullet.insertUnorderedList(a.editable)}),this.indent=this.wrapCommand(function(){a.bullet.indent(a.editable)}),this.outdent=this.wrapCommand(function(){a.bullet.outdent(a.editable)}),this.insertNode=this.wrapCommand(function(e){a.isLimited(b(e).text().length)||(a.getLastRange().insertNode(e),Ne.createFromNodeAfter(e).select(),a.setLastRange())}),this.insertText=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.getLastRange().insertNode(we.createText(e)),Ne.create(e,we.nodeLength(e)).select(),a.setLastRange())}),this.pasteHTML=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.context.invoke("codeview.purify",e),e=a.getLastRange().pasteHTML(e),Ne.createFromNodeAfter(M.last(e)).select(),a.setLastRange())}),this.formatBlock=this.wrapCommand(function(e,t){var n=a.options.callbacks.onApplyCustomStyle;n?n.call(a,t,a.context,a.onFormatBlock):a.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=a.getLastRange().insertNode(we.create("HR"));e.nextSibling&&(Ne.create(e.nextSibling,0).normalize().select(),a.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){a.style.stylePara(a.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,t=e.text,i=e.isNewWindow,o=e.range||a.getLastRange(),r=t.length-o.toString().length;0<r&&a.isLimited(r)||(e=o.toString()!==t,"string"==typeof n&&(n=n.trim()),n=a.options.onCreateLink?a.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n,r=[],e?(t=(o=o.deleteContents()).insertNode(b("<A>"+t+"</A>")[0]),r.push(t)):r=a.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),b.each(r,function(e,t){b(t).attr("href",n),i?b(t).attr("target","_blank"):b(t).removeAttr("target")}),o=Ne.createFromNodeBefore(M.head(r)).getStartPoint(),r=Ne.createFromNodeAfter(M.last(r)).getEndPoint(),Ne.create(o.node,o.offset,r.node,r.offset).select(),a.setLastRange())}),this.color=this.wrapCommand(function(e){var t=e.foreColor,e=e.backColor;t&&document.execCommand("foreColor",!1,t),e&&document.execCommand("backColor",!1,e)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){e=e.split("x");a.getLastRange().deleteContents().insertNode(a.table.createTable(e[0],e[1],a.options))}),this.removeMedia=this.wrapCommand(function(){var e=b(a.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=b(a.restoreTarget()).detach(),a.context.triggerEvent("media.delete",e,a.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=b(a.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=b(a.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}Ue.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},Ue.prototype.pasteByEvent=function(e){e=e.originalEvent.clipboardData;e&&e.items&&e.items.length&&("file"===(e=1<e.items.length?e.items[1]:M.head(e.items)).kind&&-1!==e.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[e.getAsFile()]),this.context.invoke("editor.afterCommand"))},c=Ue;function Ue(e){this.context=e,this.$editable=e.layoutInfo.editable}var Ve,u=(qe.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},qe.prototype.attachDragAndDropEvent=function(){var o=this,i=b(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var t=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();t||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length||o.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=b(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var i=e.originalEvent.dataTransfer;e.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):b.each(i.types,function(e,t){var n=i.getData(t);-1<t.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):b(n).each(function(e,t){o.context.invoke("editor.insertNode",t)})})}).on("dragover",!1)},qe.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}},qe);function qe(e){this.context=e,this.$eventListener=b(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=b(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}T.hasCodeMirror&&(Ve=window.CodeMirror);We.prototype.sync=function(){this.isActivated()&&T.hasCodeMirror&&this.$codable.data("cmEditor").save()},We.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},We.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},We.prototype.purify=function(e){var o;return this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter&&(o=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase),e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var t=0,n=o;t<n.length;t++){var i=n[t];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""}))),e},We.prototype.activate=function(){var t,n,i=this;this.$codable.val(we.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),T.hasCodeMirror?(t=Ve.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(n=new Ve.TernServer(this.options.codemirror.tern),t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})),t.on("blur",function(e){i.context.triggerEvent("blur.codeview",t.getValue(),e)}),t.on("change",function(e){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(e){i.context.triggerEvent("blur.codeview",i.$codable.val(),e)}),this.$codable.on("input",function(e){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))},We.prototype.deactivate=function(){T.hasCodeMirror&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());var e=this.purify(we.value(this.$codable,this.options.prettifyHtml)||we.emptyPara),t=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},We.prototype.destroy=function(){this.isActivated()&&this.deactivate()},d=We;function We(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}Ke.prototype.initialize=function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();function t(e){e=e.clientY-(24+n),e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)}var n=i.$editable.offset().top-i.$document.scrollTop();i.$document.on("mousemove",t).one("mouseup",function(){i.$document.off("mousemove",t)})})},Ke.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},p=Ke;function Ke(e){this.$document=b(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}Ge.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},Ge.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},Ge.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},h=Ge;function Ge(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=b(window),this.$scrollbar=b("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}Ye.prototype.initialize=function(){var r=this;this.$handle=b(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){var t,n,i,o;we.isControlSizing(e.target)&&(e.preventDefault(),e.stopPropagation(),t=r.$handle.find(".note-control-selection").data("target"),n=t.offset(),i=r.$document.scrollTop(),o=function(e){r.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-i)},t,!e.shiftKey),r.update(t[0])},r.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width()))}),this.$handle.on("wheel",function(e){e.preventDefault(),r.update()})},Ye.prototype.destroy=function(){this.$handle.remove()},Ye.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n,i,o=we.isImg(e),r=this.$handle.find(".note-control-selection");return this.context.invoke("imagePopover.update",e,t),o?(t={left:(i=(n=b(e)).position()).left+parseInt(n.css("marginLeft"),10),top:i.top+parseInt(n.css("marginTop"),10)},i={w:n.outerWidth(!1),h:n.outerHeight(!1)},r.css({display:"block",left:t.left,top:t.top,width:i.w,height:i.h}).data("target",n),(t=new Image).src=n.attr("src"),t=i.w+"x"+i.h+" ("+this.lang.image.original+": "+t.width+"x"+t.height+")",r.find(".note-control-selection-info").text(t),this.context.invoke("editor.saveTarget",e)):this.hide(),o},Ye.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},f=Ye;function Ye(e){var n=this;this.context=e,this.$document=b(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var Xe=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,m=(Qe.prototype.initialize=function(){this.lastWordRange=null},Qe.prototype.destroy=function(){this.lastWordRange=null},Qe.prototype.replace=function(){var e,t;!this.lastWordRange||(t=(e=this.lastWordRange.toString()).match(Xe))&&(t[1]||t[2])&&(t=t[1]?e:"http://"+e,t=b("<a />").html(e).attr("href",t)[0],this.context.options.linkTargetBlank&&b(t).attr("target","_blank"),this.lastWordRange.insertNode(t),this.lastWordRange=null,this.context.invoke("editor.focus"))},Qe.prototype.handleKeydown=function(e){M.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)&&(e=this.context.invoke("editor.createRange").getWordRange(),this.lastWordRange=e)},Qe.prototype.handleKeyup=function(e){M.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)&&this.replace()},Qe);function Qe(e){var n=this;this.context=e,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}Ze.prototype.shouldInitialize=function(){return we.isTextarea(this.$note[0])},g=Ze;function Ze(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}Je.prototype.shouldInitialize=function(){return!!this.options.match},Je.prototype.initialize=function(){this.lastWord=null},Je.prototype.destroy=function(){this.lastWord=null},Je.prototype.replace=function(){var n,e;this.lastWord&&(e=(n=this).lastWord.toString(),this.options.match(e,function(e){var t;e&&(t="","string"==typeof e?t=we.createText(e):e instanceof jQuery?t=e[0]:e instanceof Node&&(t=e),t&&(n.lastWord.insertNode(t),n.lastWord=null,n.context.invoke("editor.focus")))}))},Je.prototype.handleKeydown=function(e){var t;this.previousKeydownCode&&M.contains(this.keys,this.previousKeydownCode)||M.contains(this.keys,e.keyCode)&&(t=this.context.invoke("editor.createRange").getWordRange(),this.lastWord=t),this.previousKeydownCode=e.keyCode},Je.prototype.handleKeyup=function(e){M.contains(this.keys,e.keyCode)&&this.replace()},v=Je;function Je(e){var n=this;this.context=e,this.options=e.options.replace||{},this.keys=[Pe.code.ENTER,Pe.code.SPACE,Pe.code.PERIOD,Pe.code.COMMA,Pe.code.SEMICOLON,Pe.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var et=(tt.prototype.shouldInitialize=function(){return!!this.options.placeholder},tt.prototype.initialize=function(){var e=this;this.$placeholder=b('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},tt.prototype.destroy=function(){this.$placeholder.remove()},tt.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},tt);function tt(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}nt.prototype.representShortcut=function(e){e=this.invertedKeyMap[e];return this.options.shortcuts&&e?" ("+(e=(e=T.isMac?e.replace("CMD","⌘").replace("SHIFT","⇧"):e).replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")":""},nt.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},nt.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},nt.prototype.destroy=function(){delete this.fontInstalledMap},nt.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=T.isFontInstalled(e)||M.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},nt.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},nt.prototype.colorPalette=function(s,e,n,i){var l=this;return this.ui.buttonGroup({className:"note-color "+s,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(e){e=b(e.currentTarget);n&&i?l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?l.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):i&&l.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",l.options.colorButton.backColor),e.attr("data-backColor",l.options.colorButton.backColor)),i?(t.css("color",l.options.colorButton.foreColor),e.attr("data-foreColor",l.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:i,colorsName:i,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())}),n.find("input[type=color]").each(function(e,t){b(t).change(function(){var e=n.find("#"+b(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();e.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t),e.click()})})},click:function(e){e.stopPropagation();var t,n,i=b("."+s),o=b(e.target),r=o.data("event"),a=o.attr("data-value");"openPalette"===r?(n=i.find("#"+a),t=(e=b(i.find("#"+n.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(),i=n.val(),t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),e.prepend(t),n.click()):M.contains(["backColor","foreColor"],r)&&(t="backColor"===r?"background-color":"color",n=o.closest(".note-color").find(".note-recent-color"),o=o.closest(".note-color").find(".note-current-color-button"),n.css(t,a),o.attr("data-"+r,a),l.context.invoke("editor."+r,a))}})]}).render()},nt.prototype.addToolbarButtons=function(){var i=this;this.context.memo("button.style",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic),i.options),tooltip:i.lang.style.style,data:{toggle:"dropdown"}}),i.ui.dropdown({className:"dropdown-style",items:i.options.styleTags,title:i.lang.style.style,template:function(e){var t=(e="string"==typeof e?{tag:e,title:i.lang.style.hasOwnProperty(e)?i.lang.style[e]:e}:e).tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:i.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var n=this,e=0,t=this.options.styleTags.length;e<t;e++)!function(e){var t=n.options.styleTags[e];n.context.memo("button.style."+t,function(){return i.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:i.lang.style[t],click:i.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.ui.icon(i.options.icons.bold),tooltip:i.lang.font.bold+i.representShortcut("bold"),click:i.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.ui.icon(i.options.icons.italic),tooltip:i.lang.font.italic+i.representShortcut("italic"),click:i.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.ui.icon(i.options.icons.underline),tooltip:i.lang.font.underline+i.representShortcut("underline"),click:i.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return i.button({contents:i.ui.icon(i.options.icons.eraser),tooltip:i.lang.font.clear+i.representShortcut("removeFormat"),click:i.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.ui.icon(i.options.icons.strikethrough),tooltip:i.lang.font.strikethrough+i.representShortcut("strikethrough"),click:i.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.ui.icon(i.options.icons.superscript),tooltip:i.lang.font.superscript,click:i.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.ui.icon(i.options.icons.subscript),tooltip:i.lang.font.subscript,click:i.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=i.context.invoke("editor.currentStyle");return b.each(e["font-family"].split(","),function(e,t){t=t.trim().replace(/['"]+/g,""),i.isFontDeservedToAdd(t)&&-1===i.options.fontNames.indexOf(t)&&i.options.fontNames.push(t)}),i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontname"/>',i.options),tooltip:i.lang.font.name,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:i.options.icons.menuCheck,items:i.options.fontNames.filter(i.isFontInstalled.bind(i)),title:i.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:i.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',i.options),tooltip:i.lang.font.size,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizes,title:i.lang.font.size,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return i.colorPalette("note-color-all",i.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return i.colorPalette("note-color-fore",i.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return i.colorPalette("note-color-back",i.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return i.button({contents:i.ui.icon(i.options.icons.unorderedlist),tooltip:i.lang.lists.unordered+i.representShortcut("insertUnorderedList"),click:i.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return i.button({contents:i.ui.icon(i.options.icons.orderedlist),tooltip:i.lang.lists.ordered+i.representShortcut("insertOrderedList"),click:i.context.createInvokeHandler("editor.insertOrderedList")}).render()});var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),r=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),l=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",N.invoke(o,"render")),this.context.memo("button.justifyCenter",N.invoke(r,"render")),this.context.memo("button.justifyRight",N.invoke(a,"render")),this.context.memo("button.justifyFull",N.invoke(s,"render")),this.context.memo("button.outdent",N.invoke(l,"render")),this.context.memo("button.indent",N.invoke(c,"render")),this.context.memo("button.paragraph",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft),i.options),tooltip:i.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),i.ui.dropdown([i.ui.buttonGroup({className:"note-align",children:[o,r,a,s]}),i.ui.buttonGroup({className:"note-list",children:[l,c]})])]).render()}),this.context.memo("button.height",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight),i.options),tooltip:i.lang.font.height,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({items:i.options.lineHeights,checkClassName:i.options.icons.menuCheck,className:"dropdown-line-height",title:i.lang.font.height,click:i.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table),i.options),tooltip:i.lang.table.table,data:{toggle:"dropdown"}}),i.ui.dropdown({title:i.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:i.options.insertTableMaxSize.col+"em",height:i.options.insertTableMaxSize.row+"em"}).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler.bind(i))}}).render()}),this.context.memo("button.link",function(){return i.button({contents:i.ui.icon(i.options.icons.link),tooltip:i.lang.link.link+i.representShortcut("linkDialog.show"),click:i.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return i.button({contents:i.ui.icon(i.options.icons.picture),tooltip:i.lang.image.image,click:i.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return i.button({contents:i.ui.icon(i.options.icons.video),tooltip:i.lang.video.video,click:i.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return i.button({contents:i.ui.icon(i.options.icons.minus),tooltip:i.lang.hr.insert+i.representShortcut("insertHorizontalRule"),click:i.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.ui.icon(i.options.icons.arrowsAlt),tooltip:i.lang.options.fullscreen,click:i.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.ui.icon(i.options.icons.code),tooltip:i.lang.options.codeview,click:i.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return i.button({contents:i.ui.icon(i.options.icons.redo),tooltip:i.lang.history.redo+i.representShortcut("redo"),click:i.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return i.button({contents:i.ui.icon(i.options.icons.undo),tooltip:i.lang.history.undo+i.representShortcut("undo"),click:i.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return i.button({contents:i.ui.icon(i.options.icons.question),tooltip:i.lang.options.help,click:i.context.createInvokeHandler("helpDialog.show")}).render()})},nt.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},nt.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},nt.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},nt.prototype.build=function(e,t){for(var n=0,i=t.length;n<i;n++){for(var o=t[n],r=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},nt.prototype.updateCurrentStyle=function(e){var i,o,n,r=this,t=e||this.$toolbar,a=this.context.invoke("editor.currentStyle");this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===a["font-bold"]},".note-btn-italic":function(){return"italic"===a["font-italic"]},".note-btn-underline":function(){return"underline"===a["font-underline"]},".note-btn-subscript":function(){return"subscript"===a["font-subscript"]},".note-btn-superscript":function(){return"superscript"===a["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===a["font-strikethrough"]}}),a["font-family"]&&(e=a["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=M.find(e,this.isFontInstalled.bind(this)),t.find(".dropdown-fontname a").each(function(e,t){var n=b(t),t=n.data("value")+""==i+"";n.toggleClass("checked",t)}),t.find(".note-current-fontname").text(i).css("font-family",i)),a["font-size"]&&(o=a["font-size"],t.find(".dropdown-fontsize a").each(function(e,t){var n=b(t),t=n.data("value")+""==o+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsize").text(o)),a["line-height"]&&(n=a["line-height"],t.find(".dropdown-line-height li a").each(function(e,t){t=b(t).data("value")+""==n+"";r.className=t?"checked":""}))},nt.prototype.updateBtnStates=function(n,e){var i=this;b.each(e,function(e,t){i.ui.toggleBtnActive(n.find(e),t())})},nt.prototype.tableMoveHandler=function(e){var t=b(e.target.parentNode),n=t.next(),i=t.find(".note-dimension-picker-mousecatcher"),o=t.find(".note-dimension-picker-highlighted"),t=t.find(".note-dimension-picker-unhighlighted");r=void 0===e.offsetX?(r=b(e.target).offset(),{x:e.pageX-r.left,y:e.pageY-r.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(r.x/18)||1,r=Math.ceil(r.y/18)||1;o.css({width:e+"em",height:r+"em"}),i.data("value",e+"x"+r),3<e&&e<this.options.insertTableMaxSize.col&&t.css({width:e+1+"em"}),3<r&&r<this.options.insertTableMaxSize.row&&t.css({height:r+1+"em"}),n.html(e+" x "+r)},E=nt;function nt(e){this.ui=b.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=N.invertObject(this.options.keyMap[T.isMac?"mac":"pc"])}it.prototype.shouldInitialize=function(){return!this.options.airMode},it.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},it.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},it.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=b(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-o,i=a+e-o-n-i;!this.isFollowing&&s<r&&r<i-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:o,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||i<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},it.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},it.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},it.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},it.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},it.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},C=it;function it(e){this.context=e,this.$window=b(window),this.$document=b(document),this.ui=b.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}ot.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":b("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ot.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ot.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ot.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},ot.prototype.showLinkDialog=function(a){var s=this;return b.Deferred(function(t){var n=s.$dialog.find(".note-link-text"),i=s.$dialog.find(".note-link-url"),o=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&N.isValidUrl(a.text)&&(a.url=a.text),n.on("input paste propertychange",function(){a.text=n.val(),s.toggleLinkBtn(o,n,i)}).val(a.text),i.on("input paste propertychange",function(){a.text||n.val(i.val()),s.toggleLinkBtn(o,n,i)}).val(a.url),T.isSupportTouch||i.trigger("focus"),s.toggleLinkBtn(o,n,i),s.bindEnterKey(i,o),s.bindEnterKey(n,o);var e=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",e),o.one("click",function(e){e.preventDefault(),t.resolve({range:a.range,url:i.val(),text:n.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){n.off(),i.off(),o.off(),"pending"===t.state()&&t.reject()}),s.ui.showDialog(s.$dialog)}).promise()},ot.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},k=ot;function ot(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var rt=(at.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.link)},at.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},at.prototype.destroy=function(){this.$popover.remove()},at.prototype.update=function(){var e,t;this.context.invoke("editor.hasFocus")&&(e=this.context.invoke("editor.getLastRange")).isCollapsed()&&e.isOnAnchor()?(t=we.ancestor(e.sc,we.isAnchor),e=b(t).attr("href"),this.$popover.find("a").attr("href",e).html(e),t=we.posFromPlaceholder(t),this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide()},at.prototype.hide=function(){this.$popover.hide()},at);function at(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}st.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";this.options.maximumImageFileSize&&(n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=+(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B",t="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>");var n=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),t='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:t}).render().appendTo(e)},st.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},st.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},st.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},st.prototype.showImageDialog=function(){var o=this;return b.Deferred(function(t){var e=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.on("input paste propertychange",function(){o.ui.toggleBtn(i,n.val())}).val(""),T.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){e.off(),n.off(),i.off(),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})},w=st;function st(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}lt.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.image)},lt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},lt.prototype.destroy=function(){this.$popover.remove()},lt.prototype.update=function(e,t){var n;we.isImg(e)?(n=we.posFromPlaceholder(e),e=we.posFromPlaceholder(this.editable),this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,e.top)})):this.hide()},lt.prototype.hide=function(){this.$popover.hide()},t=lt;function lt(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}ct.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.table)},ct.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),T.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},ct.prototype.destroy=function(){this.$popover.remove()},ct.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=we.isCell(e);return t?(e=we.posFromPlaceholder(e),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide(),t},ct.prototype.hide=function(){this.$popover.hide()},S=ct;function ct(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}ut.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ut.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ut.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ut.prototype.createVideoNode=function(e){var t=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),r=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),l=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),d=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(t&&11===t[1].length){var h=t[1],f=0;if(void 0!==t[2]){var m=t[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var g=[3600,60,1],v=0,y=g.length;v<y;v++)f+=void 0!==m[v+1]?g[v]*parseInt(m[v+1],10):0}h=b("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h+(0<f?"?start="+f:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)h=b("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)h=b("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(r&&r[2].length)h=b("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+r[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||l&&l[2].length)l=s&&s[1].length?s[1]:l[2],h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+l+"&amp;auto=0");else if(c||u||d)h=b("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;h=b("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return h.addClass("note-video-clip"),h[0]},ut.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");e=t.createVideoNode(e);e&&t.context.invoke("editor.insertNode",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},ut.prototype.showVideoDialog=function(e){var i=this;return b.Deferred(function(t){var n=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){i.ui.toggleBtn(e,n.val())}),T.isSupportTouch||n.trigger("focus"),e.click(function(e){e.preventDefault(),t.resolve(n.val())}),i.bindEnterKey(n,e)}),i.ui.onDialogHidden(i.$dialog,function(){n.off(),e.off(),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})},i=ut;function ut(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}dt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},dt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},dt.prototype.createShortcutList=function(){var i=this,o=this.options.keyMap[T.isMac?"mac":"pc"];return Object.keys(o).map(function(e){var t=o[e],n=b('<div><div class="help-list-item"/></div>');return n.append(b("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(b("<span/>").html(i.context.memo("help."+t)||t)),n.html()}).join("")},dt.prototype.showHelpDialog=function(){var t=this;return b.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()},dt.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},s=dt;function dt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}pt.prototype.shouldInitialize=function(){return this.options.airMode&&!M.isEmpty(this.options.popover.air)},pt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},pt.prototype.destroy=function(){this.$popover.remove()},pt.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");e.range&&!e.range.isCollapsed()?(e=M.last(e.range.getClientRects()))&&(e=N.rect2bnd(e),this.$popover.css({display:"block",left:Math.max(e.left+e.width/2,0)-20,top:e.top+e.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)):this.hide()},pt.prototype.hide=function(){this.$popover.hide()},r=pt;function pt(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(e,t){T.isFF||t.relatedTarget&&we.ancestor(t.relatedTarget,N.eq(n.$popover[0]))||n.hide()}}}ht.prototype.shouldInitialize=function(){return 0<this.hints.length},ht.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(e){t.$content.find(".active").removeClass("active"),b(e.currentTarget).addClass("active"),t.replace()})},ht.prototype.destroy=function(){this.$popover.remove()},ht.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},ht.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();t.length?this.selectItem(t):((e=e.parent().next()).length||(e=this.$content.find(".note-hint-group").first()),this.selectItem(e.find(".note-hint-item").first()))},ht.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();t.length?this.selectItem(t):((e=e.parent().prev()).length||(e=this.$content.find(".note-hint-group").last()),this.selectItem(e.find(".note-hint-item").last()))},ht.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");e.length&&(e=this.nodeFromItem(e),this.lastWordRange.insertNode(e),Ne.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus"))},ht.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],e=e.data("item"),e=t.content?t.content(e):e;return e="string"==typeof e?we.createText(e):e},ht.prototype.createItemTemplates=function(i,e){var o=this.hints[i];return e.map(function(e,t){var n=b('<div class="note-hint-item"/>');return n.append(o.template?o.template(e):e+""),n.data({index:i,item:e}),n})},ht.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===Pe.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Pe.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Pe.code.DOWN&&(e.preventDefault(),this.moveDown()))},ht.prototype.searchKeyword=function(e,t,n){e=this.hints[e];e&&e.match.test(t)&&e.search?(t=e.match.exec(t),e.search(t[1],n)):n()},ht.prototype.createGroup=function(t,e){var n=this,i=b('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,e,function(e){(e=e||[]).length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i},ht.prototype.handleKeyup=function(e){var t,n,i=this;M.contains([Pe.code.ENTER,Pe.code.UP,Pe.code.DOWN],e.keyCode)||(t=this.context.invoke("editor.getLastRange").getWordRange(),n=t.toString(),this.hints.length&&n?(this.$content.empty(),(e=N.rect2bnd(M.last(t.getClientRects())))&&(this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(e,t){e.match.test(n)&&i.createGroup(t,n).appendTo(i.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))):this.hide())},ht.prototype.show=function(){this.$popover.show()},ht.prototype.hide=function(){this.$popover.hide()},a=ht;function ht(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}b.summernote=b.extend(b.summernote,{version:"0.8.12",plugins:{},dom:we,range:Ne,options:{langInfo:b.summernote.lang["en-US"],modules:{editor:l,clipboard:c,dropzone:u,codeview:d,statusbar:p,fullscreen:h,handle:f,hintPopover:a,autoLink:m,autoSync:g,autoReplace:v,placeholder:et,buttons:E,toolbar:C,linkDialog:k,linkPopover:rt,imageDialog:w,imagePopover:t,tablePopover:S,videoDialog:i,helpDialog:s,airPopover:r},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),b.summernote=b.extend(b.summernote,{ui:x})},"object"==typeof n&&void 0!==t?o(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],o):o((i||self).jQuery)},{jquery:624}],219:[function(e,t,n){var i,o;i=this,o=function(b){"use strict";b=b&&b.hasOwnProperty("default")?b.default:b;var o=(e.prototype.render=function(e){var t,n=b(this.markup);return this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&b.each(this.options.data,function(e,t){n.attr("data-"+e,t)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children&&(t=n.find(".note-children-container"),this.children.forEach(function(e){e.render(t.length?t:n)})),this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n},e);function e(e,t,n,i){this.markup=e,this.children=t,this.options=n,this.callback=i}var n=function(n,i){return function(){var e="object"==typeof arguments[1]?arguments[1]:arguments[0],t=Array.isArray(arguments[0])?arguments[0]:[];return e&&e.children&&(t=e.children),new o(n,t,e,i)}},t=n('<div class="note-editor note-frame panel panel-default"/>'),i=n('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),r=n('<div class="note-editing-area"/>'),a=n('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),s=n('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),l=n(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),c=n('<div class="note-editor"/>'),u=n(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),d=n('<div class="note-btn-group btn-group">'),p=n('<ul class="dropdown-menu" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e,e="object"==typeof e?e.option:void 0;return'<li role="listitem" aria-label="'+t+'"><a href="#" '+('data-value="'+t+'"')+(void 0!==e?' data-option="'+e+'"':"")+">"+n+"</a></li>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),h=n('<ul class="dropdown-menu note-check" role="list">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e;return'<li role="listitem" aria-label="'+e+'"><a href="#" data-value="'+t+'">'+y(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title})}),f=n('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),m=n('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),g=n(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),v=n('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text||"","</label>"].join(""))}),y=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},x={editor:t,toolbar:i,editingArea:r,codable:a,editable:s,statusbar:l,airEditor:c,airEditable:u,buttonGroup:d,dropdown:p,dropdownButtonContents:function(e,t){return e+" "+y(t.icons.caret,"span")},dropdownCheck:h,palette:f,dialog:m,popover:g,checkbox:v,icon:y,options:{},button:function(e,t){return n('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:void 0!==t.container?t.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(e){b(e.currentTarget).tooltip("hide")})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){t=(t.airMode?x.airEditor([x.editingArea([x.airEditable()])]):x.editor([x.toolbar(),x.editingArea([x.codable(),x.editable()]),x.statusbar()])).render();return t.insertAfter(e),{note:e,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};b.summernote=b.summernote||{lang:{}},b.extend(b.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var w="function"==typeof define&&define.amd;var k=navigator.userAgent,E=/MSIE|Trident/i.test(k);E&&((et=/MSIE (\d+[.]\d+)/.exec(k))&&(rt=parseFloat(et[1])),(et=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(k))&&(rt=parseFloat(et[1])));var C=/Edge\/\d+/.test(k),S=!!window.CodeMirror,t="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,i=E||C?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",T={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:E,isEdge:C,isFF:!C&&/firefox/i.test(k),isPhantom:/PhantomJS/i.test(k),isWebkit:!C&&/webkit/i.test(k),isChrome:!C&&/chrome/i.test(k),isSafari:!C&&/safari/i.test(k),browserVersion:rt,jqueryVersion:parseFloat(b.fn.jquery),isSupportAmd:w,isSupportTouch:t,hasCodeMirror:S,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",i=document.createElement("canvas").getContext("2d");i.font="200px '"+t+"'";var o=i.measureText(n).width;return i.font="200px '"+e+"', '"+t+"'",o!==i.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:i};var _=0;var N={eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++_+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function A(e){return e[0]}function P(e){return e[e.length-1]}function I(e){return e.slice(1)}function R(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var M={head:A,last:P,initial:function(e){return e.slice(0,e.length-1)},tail:I,prev:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t-1]}return null},next:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t+1]}return null},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:R,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||N.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,i){return e.length?I(e).reduce(function(e,t){var n=P(e);return i(P(n),t)?n[n.length]=t:e[e.length]=[t],e},[[e[0]]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)R(t,e[n])||t.push(e[n]);return t}},L=String.fromCharCode(160);function D(e){return e&&b(e).hasClass("note-editable")}function j(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function F(e){return e&&3===e.nodeType}function O(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function B(e){return!D(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))}var r=j("PRE"),H=j("LI");var z=j("TABLE"),U=j("DATA");function V(e){return!(Y(e)||q(e)||W(e)||B(e)||z(e)||G(e)||U(e))}function q(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var W=j("HR");function K(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var G=j("BLOCKQUOTE");function Y(e){return K(e)||G(e)||D(e)}a=j("A");s=j("BODY");var X=T.isMSIE&&T.browserVersion<11?"&nbsp;":"<br>";function Q(e){return F(e)?e.nodeValue.length:e?e.childNodes.length:0}function Z(e){var t=Q(e);return 0===t||(!F(e)&&1===t&&e.innerHTML===X||!(!M.all(e.childNodes,F)||""!==e.innerHTML))}function J(e){O(e)||Q(e)||(e.innerHTML=X)}function ee(e,t){for(;e;){if(t(e))return e;if(D(e))break;e=e.parentNode}return null}function te(e,t){t=t||N.fail;var n=[];return ee(e,function(e){return D(e)||n.push(e),t(e)}),n}function ne(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function ie(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function oe(n,e){return b.each(e,function(e,t){n.appendChild(t)}),n}function re(e){return 0===e.offset}function ae(e){return e.offset===Q(e.node)}function se(e){return re(e)||ae(e)}function le(e,t){for(;e&&e!==t;){if(0!==ue(e))return!1;e=e.parentNode}return!0}function ce(e,t){if(!t)return!1;for(;e&&e!==t;){if(ue(e)!==Q(e.parentNode)-1)return!1;e=e.parentNode}return!0}function ue(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function de(e){return!!(e&&e.childNodes&&e.childNodes.length)}function pe(e,t){var n,i;if(0===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)}else i=de(e.node)?Q(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:i}}function he(e,t){var n,i;if(Q(e.node)===e.offset){if(D(e.node))return null;n=e.node.parentNode,i=ue(e.node)+1}else i=de(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?Q(e.node):e.offset+1);return{node:n,offset:i}}function fe(e,t){return e.node===t.node&&e.offset===t.offset}function me(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),se(e)&&(F(e.node)||i)){if(re(e))return e.node;if(ae(e))return e.node.nextSibling}if(F(e.node))return e.node.splitText(e.offset);t=e.node.childNodes[e.offset],i=ie(e.node.cloneNode(!1),e.node);return oe(i,ne(t)),n||(J(e.node),J(i)),o&&(Z(e.node)&&ye(e.node),Z(i))?(ye(i),e.node.nextSibling):i}function ge(e,n,i){e=te(n.node,N.eq(e));return e.length?1===e.length?me(n,i):e.reduce(function(e,t){return e===n.node&&(e=me(n,i)),me({node:t,offset:e?ue(e):Q(t)},i)}):null}function ve(e){return document.createElement(e)}function ye(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}}var be=j("TEXTAREA");function xe(e,t){e=be(e[0])?e.val():e.html();return t?e.replace(/[\n\r]/g,""):e}var we={NBSP_CHAR:L,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:X,emptyPara:"<p>"+X+"</p>",makePredByNodeName:j,isEditable:D,isControlSizing:function(e){return e&&b(e).hasClass("note-control-sizing")},isText:F,isElement:function(e){return e&&1===e.nodeType},isVoid:O,isPara:B,isPurePara:function(e){return B(e)&&!H(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:V,isBlock:N.not(V),isBodyInline:function(e){return V(e)&&!ee(e,B)},isBody:s,isParaInline:function(e){return V(e)&&!!ee(e,B)},isPre:r,isList:q,isTable:z,isData:U,isCell:K,isBlockquote:G,isBodyContainer:Y,isAnchor:a,isDiv:j("DIV"),isLi:H,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:be,isEmpty:Z,isEmptyAnchor:N.and(a,Z),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||N.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:Q,isLeftEdgePoint:re,isRightEdgePoint:ae,isEdgePoint:se,isLeftEdgeOf:le,isRightEdgeOf:ce,isLeftEdgePointOf:function(e,t){return re(e)&&le(e.node,t)},isRightEdgePointOf:function(e,t){return ae(e)&&ce(e.node,t)},prevPoint:pe,nextPoint:he,isSamePoint:fe,isVisiblePoint:function(e){if(F(e.node)||!de(e.node)||Z(e.node))return!0;var t=e.node.childNodes[e.offset-1],e=e.node.childNodes[e.offset];return!(t&&!O(t)||e&&!O(e))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=pe(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=he(e)}return null},isCharPoint:function(e){return!!F(e.node)&&((e=e.node.nodeValue.charAt(e.offset-1))&&" "!==e&&e!==L)},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!fe(o,t));)o=he(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:ee,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===Q(e);){if(t(e))return e;if(D(e))break;e=e.parentNode}return null},listAncestor:te,lastAncestor:function(e,t){return e=te(e),M.last(e.filter(t))},listNext:ne,listPrev:function(e,t){t=t||N.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,r){var a=[];return r=r||N.ok,function e(t){o!==t&&r(t)&&a.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),a},commonAncestor:function(e,t){for(var n=te(e),i=t;i;i=i.parentNode)if(-1<n.indexOf(i))return i;return null},wrap:function(e,t){var n=e.parentNode,t=b("<"+t+">")[0];return n.insertBefore(t,e),t.appendChild(e),t},insertAfter:ie,appendChildNodes:oe,position:ue,hasChildren:de,makeOffsetPath:function(e,t){return te(t,N.eq(e)).map(ue).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:ge,splitPoint:function(e,t){var n,i=t?B:Y,o=te(e.node,i),r=M.last(o)||e.node,r=i(r)?(n=o[o.length-2],r):(n=r).parentNode;return{rightNode:t=!(t=n&&ge(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}))&&r===e.node?e.node.childNodes[e.offset]:t,container:r}},create:ve,createText:function(e){return document.createTextNode(e)},remove:ye,removeWhile:function(e,t){for(;e&&!D(e)&&t(e);){var n=e.parentNode;ye(e),e=n}},replace:function(e,t){return e.nodeName.toUpperCase()===t.toUpperCase()?e:(t=ve(t),e.style.cssText&&(t.style.cssText=e.style.cssText),oe(t,M.from(e.childNodes)),ie(t,e),ye(e),t)},html:function(e,t){return e=xe(e),e=t?(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();t=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(t||n?"\n":"")})).trim():e},value:xe,posFromPlaceholder:function(e){var e=(t=b(e)).offset(),t=t.outerHeight(!0);return{left:e.left,top:e.top+t}},attachEvents:function(t,n){Object.keys(n).forEach(function(e){t.on(e,n[e])})},detachEvents:function(t,n){Object.keys(n).forEach(function(e){t.off(e,n[e])})},isCustomStyleTag:function(e){return e&&!F(e)&&M.contains(e.classList,"note-styletag")}},ke=(Ee.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Ee.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Ee.prototype.reset=function(){var e=this.isDisabled();this.code(we.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},Ee.prototype._initialize=function(){var t=this,n=b.extend({},this.options.buttons);Object.keys(n).forEach(function(e){t.memo("button."+e,n[e])});var i=b.extend({},this.options.modules,b.summernote.plugins||{});Object.keys(i).forEach(function(e){t.module(e,i[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})},Ee.prototype._destroy=function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)},Ee.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},Ee.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Ee.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Ee.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Ee.prototype.triggerEvent=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=this.options.callbacks[N.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},Ee.prototype.initializeModule=function(e){e=this.modules[e];e.shouldInitialize=e.shouldInitialize||N.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&we.attachEvents(this.$note,e.events))},Ee.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},Ee.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&we.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},Ee.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},Ee.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},Ee.prototype.createInvokeHandlerAndUpdateState=function(t,n){var i=this;return function(e){i.createInvokeHandler(t,n)(e),i.invoke("buttons.updateCurrentStyle")}},Ee.prototype.createInvokeHandler=function(t,n){var i=this;return function(e){e.preventDefault();e=b(e.target);i.invoke(t,n||e.closest("[data-value]").data("value"),e)}},Ee.prototype.invoke=function(){var e=M.head(arguments),t=M.tail(M.from(arguments)),n=e.split("."),i=1<n.length,e=i&&M.head(n),i=i?M.last(n):M.head(n),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,t):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,t):void 0},Ee);function Ee(e,t){this.ui=b.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}function Ce(e,t){for(var n,i=e.parentElement(),o=document.body.createTextRange(),r=M.from(i.childNodes),a=0;a<r.length;a++)if(!we.isText(r[a])){if(o.moveToElementText(r[a]),0<=o.compareEndPoints("StartToStart",e))break;n=r[a]}if(0!==a&&we.isText(r[a-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n);var l=n?n.nextSibling:i.firstChild,c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&we.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,a=u}return{cont:i,offset:a}}function Se(e){function r(e,t){if(we.isText(e)){var n=we.listPrev(e,N.not(we.isText)),i=M.last(n).previousSibling,o=i||e.parentNode;t+=M.sum(M.tail(n),we.nodeLength),i=!i}else{if(o=e.childNodes[t]||e,we.isText(o))return r(o,0);t=0,i=!1}return{node:o,collapseToStart:i,offset:t}}var t=document.body.createTextRange(),e=r(e.node,e.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}b.fn.extend({summernote:function(){var e=b.type(M.head(arguments)),t="string"===e,i=b.extend({},b.summernote.options,"object"===e?M.head(arguments):{});i.langInfo=b.extend(!0,{},b.summernote.lang["en-US"],b.summernote.lang[i.lang]),i.icons=b.extend(!0,{},b.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!T.isSupportTouch:i.tooltip,this.each(function(e,t){var n=b(t);n.data("summernote")||(t=new ke(n,i),n.data("summernote",t),n.data("summernote").triggerEvent("init",t.layoutInfo))});e=this.first();if(e.length){e=e.data("summernote");if(t)return e.invoke.apply(e,M.from(arguments));i.focus&&e.invoke("editor.focus")}return this}});var Te=(_e.prototype.nativeRange=function(){if(T.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}e=Se({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Se({node:this.ec,offset:this.eo})),e},_e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},_e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},_e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},_e.prototype.select=function(){var e,t=this.nativeRange();return T.isW3CRangeSupport?(0<(e=document.getSelection()).rangeCount&&e.removeAllRanges(),e.addRange(t)):t.select(),this},_e.prototype.scrollIntoView=function(e){var t=b(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},_e.prototype.normalize=function(){var e=function(e,t){if(we.isVisiblePoint(e)&&(!we.isEdgePoint(e)||we.isRightEdgePoint(e)&&!t||we.isLeftEdgePoint(e)&&t||we.isRightEdgePoint(e)&&t&&we.isVoid(e.node.nextSibling)||we.isLeftEdgePoint(e)&&!t&&we.isVoid(e.node.previousSibling)||we.isBlock(e.node)&&we.isEmpty(e.node)))return e;var n=we.ancestor(e.node,we.isBlock);if((we.isLeftEdgePointOf(e,n)||we.isVoid(we.prevPoint(e).node))&&!t||(we.isRightEdgePointOf(e,n)||we.isVoid(we.nextPoint(e).node))&&t){if(we.isVisiblePoint(e))return e;t=!t}return(t?we.nextPointUntil(we.nextPoint(e),we.isVisiblePoint):we.prevPointUntil(we.prevPoint(e),we.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),e=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new _e(e.node,e.offset,t.node,t.offset)},_e.prototype.nodes=function(n,e){n=n||N.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),e=this.getEndPoint(),r=[],a=[];return we.walkPoint(t,e,function(e){var t;we.isEditable(e.node)||(o?(we.isLeftEdgePoint(e)&&a.push(e.node),we.isRightEdgePoint(e)&&M.contains(a,e.node)&&(t=e.node)):t=i?we.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),M.unique(r)},_e.prototype.commonAncestor=function(){return we.commonAncestor(this.sc,this.ec)},_e.prototype.expand=function(e){var t=we.ancestor(this.sc,e),n=we.ancestor(this.ec,e);if(!t&&!n)return new _e(this.sc,this.so,this.ec,this.eo);e=this.getPoints();return t&&(e.sc=t,e.so=0),n&&(e.ec=n,e.eo=we.nodeLength(n)),new _e(e.sc,e.so,e.ec,e.eo)},_e.prototype.collapse=function(e){return e?new _e(this.sc,this.so,this.sc,this.so):new _e(this.ec,this.eo,this.ec,this.eo)},_e.prototype.splitText=function(){var e=this.sc===this.ec,t=this.getPoints();return we.isText(this.ec)&&!we.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),we.isText(this.sc)&&!we.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,e&&(t.ec=t.sc,t.eo=this.eo-this.so)),new _e(t.sc,t.so,t.ec,t.eo)},_e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=we.prevPointUntil(e.getStartPoint(),function(e){return!M.contains(t,e.node)}),o=[];return b.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===we.nodeLength(n)&&o.push(n),we.remove(t,!1)}),b.each(o,function(e,t){we.remove(t,!1)}),new _e(i.node,i.offset,i.node,i.offset).normalize()},_e.prototype.makeIsOn=function(t){return function(){var e=we.ancestor(this.sc,t);return!!e&&e===we.ancestor(this.ec,t)}},_e.prototype.isLeftEdgeOf=function(e){if(!we.isLeftEdgePoint(this.getStartPoint()))return!1;e=we.ancestor(this.sc,e);return e&&we.isLeftEdgeOf(this.sc,e)},_e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},_e.prototype.wrapBodyInlineWithPara=function(){if(we.isBodyContainer(this.sc)&&we.isEmpty(this.sc))return this.sc.innerHTML=we.emptyPara,new _e(this.sc.firstChild,0,this.sc.firstChild,0);var e,t=this.normalize();if(we.isParaInline(this.sc)||we.isPara(this.sc))return t;we.isInline(t.sc)?(e=we.listAncestor(t.sc,N.not(we.isInline)),n=M.last(e),we.isInline(n)||(n=e[e.length-2]||t.sc.childNodes[t.so])):n=t.sc.childNodes[0<t.so?t.so-1:0];var n,t=we.listPrev(n,we.isParaInline).reverse();return(t=t.concat(we.listNext(n.nextSibling,we.isParaInline))).length&&(n=we.wrap(M.head(t),"p"),we.appendChildNodes(n,M.tail(t))),this.normalize()},_e.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),t=we.splitPoint(t.getStartPoint(),we.isInline(e));return t.rightNode?t.rightNode.parentNode.insertBefore(e,t.rightNode):t.container.appendChild(e),e},_e.prototype.pasteHTML=function(e){var e=b("<div></div>").html(e)[0],e=M.from(e.childNodes),t=this.wrapBodyInlineWithPara().deleteContents(),e=(e=0<t.so?e.reverse():e).map(function(e){return t.insertNode(e)});return e=0<t.so?e.reverse():e},_e.prototype.toString=function(){var e=this.nativeRange();return T.isW3CRangeSupport?e.toString():e.text},_e.prototype.getWordRange=function(e){var t=this.getEndPoint();if(!we.isCharPoint(t))return this;var n=we.prevPointUntil(t,function(e){return!we.isCharPoint(e)});return e&&(t=we.nextPointUntil(t,function(e){return!we.isCharPoint(e)})),new _e(n.node,n.offset,t.node,t.offset)},_e.prototype.bookmark=function(e){return{s:{path:we.makeOffsetPath(e,this.sc),offset:this.so},e:{path:we.makeOffsetPath(e,this.ec),offset:this.eo}}},_e.prototype.paraBookmark=function(e){return{s:{path:M.tail(we.makeOffsetPath(M.head(e),this.sc)),offset:this.so},e:{path:M.tail(we.makeOffsetPath(M.last(e),this.ec)),offset:this.eo}}},_e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},_e);function _e(e,t,n,i){this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(we.isEditable),this.isOnList=this.makeIsOn(we.isList),this.isOnAnchor=this.makeIsOn(we.isAnchor),this.isOnCell=this.makeIsOn(we.isCell),this.isOnData=this.makeIsOn(we.isData)}var Ne={create:function(e,t,n,i){if(4===arguments.length)return new Te(e,t,n,i);if(2===arguments.length)return new Te(n=e,i=t,n,i);i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(e)).collapse(we.emptyPara===e.innerHTML)},createFromSelection:function(){if(T.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(we.isBody(e.anchorNode))return null;var t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset}else{e=document.selection.createRange(),t=e.duplicate();t.collapse(!1);e=e;e.collapse(!0);e=Ce(e,!0),t=Ce(t,!1);n=(e=we.isText(e.node)&&we.isLeftEdgePoint(e)&&we.isTextNode(t.node)&&we.isRightEdgePoint(t)&&t.node.nextSibling===e.node?t:e).cont,i=e.offset,o=t.cont,r=t.offset}return new Te(n,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,e=we.nodeLength(i);return we.isVoid(t)&&(n=we.listPrev(t).length-1,t=t.parentNode),we.isBR(i)?(e=we.listPrev(i).length-1,i=i.parentNode):we.isVoid(i)&&(e=we.listPrev(i).length,i=i.parentNode),this.create(t,n,i,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=we.fromOffsetPath(e,t.s.path),i=t.s.offset,e=we.fromOffsetPath(e,t.e.path),t=t.e.offset;return new Te(n,i,e,t)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=we.fromOffsetPath(M.head(t),e.s.path),e=we.fromOffsetPath(M.last(t),e.e.path);return new Te(o,n,e,i)}},Ae={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Pe={isEdit:function(e){return M.contains([Ae.BACKSPACE,Ae.TAB,Ae.ENTER,Ae.SPACE,Ae.DELETE],e)},isMove:function(e){return M.contains([Ae.LEFT,Ae.UP,Ae.RIGHT,Ae.DOWN],e)},nameFromCode:N.invertObject(Ae),code:Ae};var Ie=(Re.prototype.makeSnapshot=function(){var e=Ne.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Re.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Ne.createFromBookmark(this.editable,e.bookmark).select()},Re.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Re.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Re.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Re.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Re.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Re.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Re);function Re(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}var Me=(Le.prototype.jQueryCSS=function(n,e){if(T.jqueryVersion<1.9){var i={};return b.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css(e)},Le.prototype.fromNode=function(e){e=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},Le.prototype.stylePara=function(e,n){b.each(e.nodes(we.isPara,{includeAncestor:!0}),function(e,t){b(t).css(n)})},Le.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(we.create(n))];var r,a=we.makePredByNodeName(n),t=e.nodes(we.isText,{fullyContains:!0}).map(function(e){return we.singleChildAncestor(e,a)||we.wrap(e,n)});return i?(o&&(r=e.nodes(),a=N.and(a,function(e){return M.contains(r,e)})),t.map(function(e){var t=we.withClosestSiblings(e,a),n=M.head(t),e=M.tail(t);return b.each(e,function(e,t){we.appendChildNodes(n,t.childNodes),we.remove(t)}),M.head(t)})):t},Le.prototype.current=function(e){var t=b(we.isElement(e.sc)?e.sc:e.sc.parentNode),t=this.fromNode(t);try{t=b.extend(t,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||t["font-family"]})}catch(e){}e.isOnList()?(n=-1<["circle","disc","disc-leading-zero","square"].indexOf(t["list-style-type"]),t["list-style"]=n?"unordered":"ordered"):t["list-style"]="none";var n=we.ancestor(e.sc,we.isPara);return n&&n.style["line-height"]?t["line-height"]=n.style.lineHeight:(n=parseInt(t["line-height"],10)/parseInt(t["font-size"],10),t["line-height"]=n.toFixed(1)),t.anchor=e.isOnAnchor()&&we.ancestor(e.sc,we.isAnchor),t.ancestors=we.listAncestor(e.sc,we.isEditable),t.range=e,t},Le);function Le(){}var De=(je.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},je.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},je.prototype.indent=function(e){var o=this,t=Ne.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n,i=M.head(t);we.isLi(i)?(n=o.findList(i.previousSibling))?t.map(function(e){return n.appendChild(e)}):(o.wrapList(t,i.parentNode.nodeName),t.map(function(e){return e.parentNode}).map(function(e){return o.appendToPrevious(e)})):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),t.select()},je.prototype.outdent=function(e){var i=this,t=Ne.create(e).wrapBodyInlineWithPara(),e=t.nodes(we.isPara,{includeAncestor:!0}),e=M.clusterBy(e,N.peq2("parentNode"));b.each(e,function(e,t){var n=M.head(t);we.isLi(n)?i.releaseList([t]):b.each(t,function(e,t){b(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),t.select()},je.prototype.toggleList=function(n,e){var i,o=this,t=Ne.create(e).wrapBodyInlineWithPara(),r=t.nodes(we.isPara,{includeAncestor:!0}),a=t.paraBookmark(r),e=M.clusterBy(r,N.peq2("parentNode"));M.find(r,we.isPurePara)?(i=[],b.each(e,function(e,t){i=i.concat(o.wrapList(t,n))}),r=i):(t=t.nodes(we.isList,{includeAncestor:!0}).filter(function(e){return!b.nodeName(e,n)})).length?b.each(t,function(e,t){we.replace(t,n)}):r=this.releaseList(e,!0),Ne.createFromParaBookmark(a,r).select()},je.prototype.wrapList=function(e,t){var n=M.head(e),i=M.last(e),o=we.isList(n.previousSibling)&&n.previousSibling,n=we.isList(i.nextSibling)&&i.nextSibling,i=o||we.insertAfter(we.create(t||"UL"),i);return e=e.map(function(e){return we.isPurePara(e)?we.replace(e,"LI"):e}),we.appendChildNodes(i,e),n&&(we.appendChildNodes(i,M.from(n.childNodes)),we.remove(n)),e},je.prototype.releaseList=function(e,a){var s=this,l=[];return b.each(e,function(e,t){var n=M.head(t),i=M.last(t),o=a?we.lastAncestor(n,we.isList):n.parentNode,r=o.parentNode;"LI"===o.parentNode.nodeName?(t.map(function(e){var t=s.findNextSiblings(e);r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),t.length&&(s.wrapList(t,o.nodeName),e.appendChild(t[0].parentNode))}),0===o.children.length&&r.removeChild(o),0===r.childNodes.length&&r.parentNode.removeChild(r)):(i=1<o.childNodes.length?we.splitTree(o,{node:i.parentNode,offset:we.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,n=we.splitTree(o,{node:n.parentNode,offset:we.position(n)},{isSkipPaddingBlankHTML:!0}),t=a?we.listDescendant(n,we.isLi):M.from(n.childNodes).filter(we.isLi),!a&&we.isList(o.parentNode)||(t=t.map(function(e){return we.replace(e,"P")})),b.each(M.from(t).reverse(),function(e,t){we.insertAfter(t,o)}),i=M.compact([o,n,i]),b.each(i,function(e,t){t=[t].concat(we.listDescendant(t,we.isList));b.each(t.reverse(),function(e,t){we.nodeLength(t)||we.remove(t,!0)})})),l=l.concat(t)}),l},je.prototype.appendToPrevious=function(e){return e.previousSibling?we.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},je.prototype.findList=function(e){return e?M.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null},je.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},je);function je(){}var Fe=(Oe.prototype.insertTab=function(e,t){var n=we.createText(new Array(t+1).join(we.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Ne.create(n,t)).select()},Oe.prototype.insertParagraph=function(e,t){t=(t=(t=t||Ne.create(e)).deleteContents()).wrapBodyInlineWithPara();var n=we.ancestor(t.sc,we.isPara);if(n){if(we.isEmpty(n)&&we.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i,o,r=null;1===this.options.blockquoteBreakingLevel?r=we.ancestor(n,we.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=we.lastAncestor(n,we.isBlockquote)),r?(o=b(we.emptyPara)[0],we.isRightEdgePoint(t.getStartPoint())&&we.isBR(t.sc.nextSibling)&&b(t.sc.nextSibling).remove(),(i=we.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0}))?i.parentNode.insertBefore(o,i):we.insertAfter(o,r)):(o=we.splitTree(n,t.getStartPoint()),a=(a=we.listDescendant(n,we.isEmptyAnchor)).concat(we.listDescendant(o,we.isEmptyAnchor)),b.each(a,function(e,t){we.remove(t)}),(we.isHeading(o)||we.isPre(o)||we.isCustomStyleTag(o))&&we.isEmpty(o)&&(o=we.replace(o,"p")))}else{var a=t.sc.childNodes[t.so];o=b(we.emptyPara)[0],a?t.sc.insertBefore(o,a):t.sc.appendChild(o)}Ne.create(o,0).normalize().select().scrollIntoView(e)},Oe);function Oe(e){this.bullet=new De,this.options=e.options}function Be(e,c,u,o){var p={colPos:0,rowPos:0},d=[],h=[];function f(e,t,n,i,o,r,a){a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=a}function m(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(!d[e][++n])return n}function g(e,t,n,i){e===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&p.colPos++}function t(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)!function(e,t){var n=m(e.rowIndex,t.cellIndex),i=1<t.colSpan,o=1<t.rowSpan,r=e.rowIndex===p.rowPos&&t.cellIndex===p.colPos;f(e.rowIndex,n,e,t,o,i,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=e.rowIndex+s;g(l,n,t,r),f(l,n,e,t,!0,i,!0)}var c=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<c)for(var u=1;u<c;u++){var d=m(e.rowIndex,n+u);g(e.rowIndex,d,t,r),f(e.rowIndex,d,e,t,o,!0,!0)}}(e[t],n[i])}this.getActionList=function(){for(var e=c===Be.where.Row?p.rowPos:-1,t=c===Be.where.Column?p.colPos:-1,n=0,i=!0;i;){var o=0<=e?e:n,r=0<=t?t:n,a=d[o];if(!a)return i=!1,h;var s=a[r];if(!s)return i=!1,h;var l=Be.resultAction.Ignore;switch(u){case Be.requestAction.Add:l=function(e){switch(c){case Be.where.Column:if(e.isColSpan)return Be.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Be.resultAction.Ignore;break;case Be.where.Row:if(e.isRowSpan)return Be.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Be.resultAction.Ignore}return Be.resultAction.AddCell}(s);break;case Be.requestAction.Delete:l=function(e){switch(c){case Be.where.Column:if(e.isColSpan)return Be.resultAction.SubtractSpanCount;break;case Be.where.Row:if(!e.isVirtual&&e.isRowSpan)return Be.resultAction.AddCell;if(e.isRowSpan)return Be.resultAction.SubtractSpanCount}return Be.resultAction.RemoveCell}(s)}h.push((a=l,{baseCell:s.baseCell,action:a,virtualTable:{rowIndex:o,cellIndex:r}})),n++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(p.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?p.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),t()}Be.where={Row:0,Column:1},Be.requestAction={Add:0,Delete:1},Be.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var He=($e.prototype.tab=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=we.ancestor(n,we.isTable),e=we.listDescendant(e,we.isCell),n=M[t?"prev":"next"](e,n);n&&Ne.create(n,0).select()},$e.prototype.addRow=function(e,t){for(var n=we.ancestor(e.commonAncestor(),we.isCell),i=b(n).closest("tr"),e=this.recoverAttributes(i),o=b("<tr"+e+"></tr>"),r=new Be(n,Be.where.Row,Be.requestAction.Add,b(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Be.resultAction.AddCell:o.append("<td"+l+">"+we.blank+"</td>");break;case Be.resultAction.SumSpanCount:if("top"===t)if((s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=b("<div></div>").append(b("<td"+l+">"+we.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}c=parseInt(s.baseCell.rowSpan,10);c++,s.baseCell.setAttribute("rowSpan",c)}}"top"===t?i.before(o):1<n.rowSpan?(n=i[0].rowIndex+(n.rowSpan-2),b(b(i).parent().find("tr")[n]).after(b(o))):i.after(o)},$e.prototype.addCol=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell),e=b(n).closest("tr");b(e).siblings().push(e);for(var i=new Be(n,Be.where.Column,Be.requestAction.Add,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++){var r,a=i[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case Be.resultAction.AddCell:"right"===t?b(a.baseCell).after("<td"+s+">"+we.blank+"</td>"):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>");break;case Be.resultAction.SumSpanCount:"right"===t?(r=parseInt(a.baseCell.colSpan,10),r++,a.baseCell.setAttribute("colSpan",r)):b(a.baseCell).before("<td"+s+">"+we.blank+"</td>")}}},$e.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},$e.prototype.deleteRow=function(e){for(var e=we.ancestor(e.commonAncestor(),we.isCell),t=b(e).closest("tr"),n=t.children("td, th").index(b(e)),i=t[0].rowIndex,o=new Be(e,Be.where.Row,Be.requestAction.Delete,b(t).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r]){var a=o[r].baseCell,s=o[r].virtualTable,l=a.rowSpan&&1<a.rowSpan,c=l?parseInt(a.rowSpan,10):0;switch(o[r].action){case Be.resultAction.Ignore:continue;case Be.resultAction.AddCell:var u=t.next("tr")[0];if(!u)continue;var d=t[0].cells[n];l&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Be.resultAction.SubtractSpanCount:l&&(2<c?(c--,a.setAttribute("rowSpan",c),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")));continue;case Be.resultAction.RemoveCell:continue}}t.remove()},$e.prototype.deleteCol=function(e){for(var t=we.ancestor(e.commonAncestor(),we.isCell),e=b(t).closest("tr"),n=e.children("td, th").index(b(t)),i=new Be(t,Be.where.Column,Be.requestAction.Delete,b(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++)if(i[o])switch(i[o].action){case Be.resultAction.Ignore:continue;case Be.resultAction.SubtractSpanCount:var r,a=i[o].baseCell;a.colSpan&&1<a.colSpan&&(2<(r=a.colSpan?parseInt(a.colSpan,10):0)?(r--,a.setAttribute("colSpan",r),a.cellIndex===n&&(a.innerHTML="")):2===r&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML="")));continue;case Be.resultAction.RemoveCell:we.remove(i[o].baseCell,!0);continue}},$e.prototype.createTable=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push("<td>"+we.blank+"</td>");for(var r=i.join(""),a=[],s=0;s<t;s++)a.push("<tr>"+r+"</tr>");var l=a.join(""),l=b("<table>"+l+"</table>");return n&&n.tableClassName&&l.addClass(n.tableClassName),l[0]},$e.prototype.deleteTable=function(e){e=we.ancestor(e.commonAncestor(),we.isCell);b(e).closest("table").remove()},$e);function $e(){}ze.prototype.initialize=function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===Pe.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),e.isDefaultPrevented()||(t.options.shortcuts?t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e))return!1}).on("keyup",function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.setLastRange(),t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.setLastRange(),t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.setLastRange(),t.context.triggerEvent("paste",e)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(we.html(this.$note)||we.emptyPara),this.$editable.on(T.inputEventName,N.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10)),this.$editor.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},ze.prototype.destroy=function(){this.$editable.off()},ze.prototype.handleKeyMap=function(e){var t=this.options.keyMap[T.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=Pe.nameFromCode[e.keyCode];i&&n.push(i);n=t[n.join("+")];n?!1!==this.context.invoke(n)&&e.preventDefault():Pe.isEdit(e.keyCode)&&this.afterCommand()},ze.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&M.contains([66,73,85],e.keyCode)&&e.preventDefault()},ze.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(Pe.isMove(t.keyCode)||t.ctrlKey||t.metaKey||M.contains([Pe.code.BACKSPACE,Pe.code.DELETE],t.keyCode)))&&(0<this.options.maxTextLength&&this.$editable.text().length+e>=this.options.maxTextLength)},ze.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},ze.prototype.setLastRange=function(){this.lastRange=Ne.create(this.editable)},ze.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},ze.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},ze.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},ze.prototype.saveTarget=function(e){this.$editable.data("target",e)},ze.prototype.clearTarget=function(){this.$editable.removeData("target")},ze.prototype.restoreTarget=function(){return this.$editable.data("target")},ze.prototype.currentStyle=function(){var e=Ne.create();return(e=e&&e.normalize())?this.style.current(e):this.style.fromNode(this.$editable)},ze.prototype.styleFromNode=function(e){return this.style.fromNode(e)},ze.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},ze.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ze.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},ze.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},ze.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},ze.prototype.insertImage=function(e,t){var n,i=this;return n=e,b.Deferred(function(e){var t=b("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise().then(function(e){i.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(i.$editable.width(),e.width()))),e.show(),Ne.create(i.editable).insertNode(e[0]),Ne.createFromNodeAfter(e[0]).select(),i.setLastRange(),i.afterCommand()}).fail(function(e){i.context.triggerEvent("image.upload.error",e)})},ze.prototype.insertImagesAsDataURL=function(e){var o=this;b.each(e,function(e,t){var n,i=t.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<t.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(n=t,b.Deferred(function(t){b.extend(new FileReader,{onload:function(e){e=e.target.result;t.resolve(e)},onerror:function(e){t.reject(e)}}).readAsDataURL(n)}).promise().then(function(e){return o.insertImage(e,i)}).fail(function(){o.context.triggerEvent("image.upload.error")}))})},ze.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},ze.prototype.getSelectedText=function(){var e=this.getLastRange();return(e=e.isOnAnchor()?Ne.createFromNode(we.ancestor(e.sc,we.isAnchor)):e).toString()},ze.prototype.onFormatBlock=function(e,t){var n;document.execCommand("FormatBlock",!1,T.isMSIE?"<"+e+">":e),t&&t.length&&(t=t[0].tagName.toUpperCase()!==e.toUpperCase()?t.find(e):t)&&t.length&&((n=t[0].className||"")&&(t=this.createRange(),b([t.sc,t.ec]).closest(e).addClass(n)))},ze.prototype.formatPara=function(){this.formatBlock("P")},ze.prototype.fontStyling=function(e,t){var n,i=this.getLastRange();i&&(n=this.style.styleNodes(i),b(n).css(e,t),!i.isCollapsed()||(n=M.head(n))&&!we.nodeLength(n)&&(n.innerHTML=we.ZERO_WIDTH_NBSP_CHAR,Ne.createFromNodeAfter(n.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",n)))},ze.prototype.unlink=function(){var e,t=this.getLastRange();t.isOnAnchor()&&(e=we.ancestor(t.sc,we.isAnchor),(t=Ne.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())},ze.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(we.isAnchor),t=b(M.head(e.nodes(we.isAnchor))),e={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e},ze.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},ze.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},ze.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},ze.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},ze.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},ze.prototype.resizeTo=function(e,t,n){var i;e=n?{width:(i=e.y/e.x)<(n=t.data("ratio"))?e.x:e.y/n,height:i<n?e.x*n:e.y}:{width:e.x,height:e.y},t.css(e)},ze.prototype.hasFocus=function(){return this.$editable.is(":focus")},ze.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},ze.prototype.isEmpty=function(){return we.isEmpty(this.$editable[0])||we.emptyPara===this.$editable.html()},ze.prototype.empty=function(){this.context.invoke("code",we.emptyPara)},ze.prototype.normalizeContent=function(){this.$editable[0].normalize()},l=ze;function ze(e){var a=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Me,this.table=new He,this.typing=new Fe(e),this.bullet=new De,this.history=new Ie(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=t.length;n<i;n++)this[t[n]]=function(t){return function(e){a.beforeCommand(),document.execCommand(t,!1,e),a.afterCommand(!0)}}(t[n]),this.context.memo("help."+t[n],this.lang.help[t[n]]);this.fontName=this.wrapCommand(function(e){return a.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return a.fontStyling("font-size",e+"px")});for(n=1;n<=6;n++)this["formatH"+n]=function(e){return function(){a.formatBlock("H"+e)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){a.typing.insertParagraph(a.editable)}),this.insertOrderedList=this.wrapCommand(function(){a.bullet.insertOrderedList(a.editable)}),this.insertUnorderedList=this.wrapCommand(function(){a.bullet.insertUnorderedList(a.editable)}),this.indent=this.wrapCommand(function(){a.bullet.indent(a.editable)}),this.outdent=this.wrapCommand(function(){a.bullet.outdent(a.editable)}),this.insertNode=this.wrapCommand(function(e){a.isLimited(b(e).text().length)||(a.getLastRange().insertNode(e),Ne.createFromNodeAfter(e).select(),a.setLastRange())}),this.insertText=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.getLastRange().insertNode(we.createText(e)),Ne.create(e,we.nodeLength(e)).select(),a.setLastRange())}),this.pasteHTML=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.context.invoke("codeview.purify",e),e=a.getLastRange().pasteHTML(e),Ne.createFromNodeAfter(M.last(e)).select(),a.setLastRange())}),this.formatBlock=this.wrapCommand(function(e,t){var n=a.options.callbacks.onApplyCustomStyle;n?n.call(a,t,a.context,a.onFormatBlock):a.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=a.getLastRange().insertNode(we.create("HR"));e.nextSibling&&(Ne.create(e.nextSibling,0).normalize().select(),a.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){a.style.stylePara(a.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,t=e.text,i=e.isNewWindow,o=e.range||a.getLastRange(),r=t.length-o.toString().length;0<r&&a.isLimited(r)||(e=o.toString()!==t,"string"==typeof n&&(n=n.trim()),n=a.options.onCreateLink?a.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n,r=[],e?(t=(o=o.deleteContents()).insertNode(b("<A>"+t+"</A>")[0]),r.push(t)):r=a.style.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),b.each(r,function(e,t){b(t).attr("href",n),i?b(t).attr("target","_blank"):b(t).removeAttr("target")}),o=Ne.createFromNodeBefore(M.head(r)).getStartPoint(),r=Ne.createFromNodeAfter(M.last(r)).getEndPoint(),Ne.create(o.node,o.offset,r.node,r.offset).select(),a.setLastRange())}),this.color=this.wrapCommand(function(e){var t=e.foreColor,e=e.backColor;t&&document.execCommand("foreColor",!1,t),e&&document.execCommand("backColor",!1,e)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){e=e.split("x");a.getLastRange().deleteContents().insertNode(a.table.createTable(e[0],e[1],a.options))}),this.removeMedia=this.wrapCommand(function(){var e=b(a.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=b(a.restoreTarget()).detach(),a.context.triggerEvent("media.delete",e,a.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=b(a.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=b(a.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}Ue.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},Ue.prototype.pasteByEvent=function(e){e=e.originalEvent.clipboardData;e&&e.items&&e.items.length&&("file"===(e=1<e.items.length?e.items[1]:M.head(e.items)).kind&&-1!==e.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[e.getAsFile()]),this.context.invoke("editor.afterCommand"))},c=Ue;function Ue(e){this.context=e,this.$editable=e.layoutInfo.editable}var Ve,u=(qe.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},qe.prototype.attachDragAndDropEvent=function(){var o=this,i=b(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var t=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();t||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length||o.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=b(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var i=e.originalEvent.dataTransfer;e.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):b.each(i.types,function(e,t){var n=i.getData(t);-1<t.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):b(n).each(function(e,t){o.context.invoke("editor.insertNode",t)})})}).on("dragover",!1)},qe.prototype.destroy=function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}},qe);function qe(e){this.context=e,this.$eventListener=b(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=b(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}T.hasCodeMirror&&(Ve=window.CodeMirror);We.prototype.sync=function(){this.isActivated()&&T.hasCodeMirror&&this.$codable.data("cmEditor").save()},We.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},We.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},We.prototype.purify=function(e){var o;return this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter&&(o=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase),e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var t=0,n=o;t<n.length;t++){var i=n[t];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""}))),e},We.prototype.activate=function(){var t,n,i=this;this.$codable.val(we.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),T.hasCodeMirror?(t=Ve.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(n=new Ve.TernServer(this.options.codemirror.tern),t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})),t.on("blur",function(e){i.context.triggerEvent("blur.codeview",t.getValue(),e)}),t.on("change",function(e){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(e){i.context.triggerEvent("blur.codeview",i.$codable.val(),e)}),this.$codable.on("input",function(e){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))},We.prototype.deactivate=function(){T.hasCodeMirror&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());var e=this.purify(we.value(this.$codable,this.options.prettifyHtml)||we.emptyPara),t=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},We.prototype.destroy=function(){this.isActivated()&&this.deactivate()},d=We;function We(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}Ke.prototype.initialize=function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();function t(e){e=e.clientY-(24+n),e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)}var n=i.$editable.offset().top-i.$document.scrollTop();i.$document.on("mousemove",t).one("mouseup",function(){i.$document.off("mousemove",t)})})},Ke.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},p=Ke;function Ke(e){this.$document=b(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}Ge.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},Ge.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},Ge.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},h=Ge;function Ge(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=b(window),this.$scrollbar=b("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}Ye.prototype.initialize=function(){var r=this;this.$handle=b(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){var t,n,i,o;we.isControlSizing(e.target)&&(e.preventDefault(),e.stopPropagation(),t=r.$handle.find(".note-control-selection").data("target"),n=t.offset(),i=r.$document.scrollTop(),o=function(e){r.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-i)},t,!e.shiftKey),r.update(t[0])},r.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width()))}),this.$handle.on("wheel",function(e){e.preventDefault(),r.update()})},Ye.prototype.destroy=function(){this.$handle.remove()},Ye.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n,i,o=we.isImg(e),r=this.$handle.find(".note-control-selection");return this.context.invoke("imagePopover.update",e,t),o?(t={left:(i=(n=b(e)).position()).left+parseInt(n.css("marginLeft"),10),top:i.top+parseInt(n.css("marginTop"),10)},i={w:n.outerWidth(!1),h:n.outerHeight(!1)},r.css({display:"block",left:t.left,top:t.top,width:i.w,height:i.h}).data("target",n),(t=new Image).src=n.attr("src"),t=i.w+"x"+i.h+" ("+this.lang.image.original+": "+t.width+"x"+t.height+")",r.find(".note-control-selection-info").text(t),this.context.invoke("editor.saveTarget",e)):this.hide(),o},Ye.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},f=Ye;function Ye(e){var n=this;this.context=e,this.$document=b(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var Xe=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,m=(Qe.prototype.initialize=function(){this.lastWordRange=null},Qe.prototype.destroy=function(){this.lastWordRange=null},Qe.prototype.replace=function(){var e,t;!this.lastWordRange||(t=(e=this.lastWordRange.toString()).match(Xe))&&(t[1]||t[2])&&(t=t[1]?e:"http://"+e,t=b("<a />").html(e).attr("href",t)[0],this.context.options.linkTargetBlank&&b(t).attr("target","_blank"),this.lastWordRange.insertNode(t),this.lastWordRange=null,this.context.invoke("editor.focus"))},Qe.prototype.handleKeydown=function(e){M.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)&&(e=this.context.invoke("editor.createRange").getWordRange(),this.lastWordRange=e)},Qe.prototype.handleKeyup=function(e){M.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)&&this.replace()},Qe);function Qe(e){var n=this;this.context=e,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}Ze.prototype.shouldInitialize=function(){return we.isTextarea(this.$note[0])},g=Ze;function Ze(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}Je.prototype.shouldInitialize=function(){return!!this.options.match},Je.prototype.initialize=function(){this.lastWord=null},Je.prototype.destroy=function(){this.lastWord=null},Je.prototype.replace=function(){var n,e;this.lastWord&&(e=(n=this).lastWord.toString(),this.options.match(e,function(e){var t;e&&(t="","string"==typeof e?t=we.createText(e):e instanceof jQuery?t=e[0]:e instanceof Node&&(t=e),t&&(n.lastWord.insertNode(t),n.lastWord=null,n.context.invoke("editor.focus")))}))},Je.prototype.handleKeydown=function(e){var t;this.previousKeydownCode&&M.contains(this.keys,this.previousKeydownCode)||M.contains(this.keys,e.keyCode)&&(t=this.context.invoke("editor.createRange").getWordRange(),this.lastWord=t),this.previousKeydownCode=e.keyCode},Je.prototype.handleKeyup=function(e){M.contains(this.keys,e.keyCode)&&this.replace()},v=Je;function Je(e){var n=this;this.context=e,this.options=e.options.replace||{},this.keys=[Pe.code.ENTER,Pe.code.SPACE,Pe.code.PERIOD,Pe.code.COMMA,Pe.code.SEMICOLON,Pe.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var et=(tt.prototype.shouldInitialize=function(){return!!this.options.placeholder},tt.prototype.initialize=function(){var e=this;this.$placeholder=b('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},tt.prototype.destroy=function(){this.$placeholder.remove()},tt.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},tt);function tt(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}nt.prototype.representShortcut=function(e){e=this.invertedKeyMap[e];return this.options.shortcuts&&e?" ("+(e=(e=T.isMac?e.replace("CMD","⌘").replace("SHIFT","⇧"):e).replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")":""},nt.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},nt.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},nt.prototype.destroy=function(){delete this.fontInstalledMap},nt.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=T.isFontInstalled(e)||M.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},nt.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},nt.prototype.colorPalette=function(s,e,n,i){var l=this;return this.ui.buttonGroup({className:"note-color "+s,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(e){e=b(e.currentTarget);n&&i?l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?l.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):i&&l.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",l.options.colorButton.backColor),e.attr("data-backColor",l.options.colorButton.backColor)),i?(t.css("color",l.options.colorButton.foreColor),e.attr("data-foreColor",l.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(e,t){t=b(t);t.append(l.ui.palette({colors:i,colorsName:i,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())}),n.find("input[type=color]").each(function(e,t){b(t).change(function(){var e=n.find("#"+b(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();e.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t),e.click()})})},click:function(e){e.stopPropagation();var t,n,i=b("."+s),o=b(e.target),r=o.data("event"),a=o.attr("data-value");"openPalette"===r?(n=i.find("#"+a),t=(e=b(i.find("#"+n.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(),i=n.val(),t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),e.prepend(t),n.click()):M.contains(["backColor","foreColor"],r)&&(t="backColor"===r?"background-color":"color",n=o.closest(".note-color").find(".note-recent-color"),o=o.closest(".note-color").find(".note-current-color-button"),n.css(t,a),o.attr("data-"+r,a),l.context.invoke("editor."+r,a))}})]}).render()},nt.prototype.addToolbarButtons=function(){var i=this;this.context.memo("button.style",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic),i.options),tooltip:i.lang.style.style,data:{toggle:"dropdown"}}),i.ui.dropdown({className:"dropdown-style",items:i.options.styleTags,title:i.lang.style.style,template:function(e){var t=(e="string"==typeof e?{tag:e,title:i.lang.style.hasOwnProperty(e)?i.lang.style[e]:e}:e).tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:i.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var n=this,e=0,t=this.options.styleTags.length;e<t;e++)!function(e){var t=n.options.styleTags[e];n.context.memo("button.style."+t,function(){return i.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:i.lang.style[t],click:i.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.ui.icon(i.options.icons.bold),tooltip:i.lang.font.bold+i.representShortcut("bold"),click:i.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.ui.icon(i.options.icons.italic),tooltip:i.lang.font.italic+i.representShortcut("italic"),click:i.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.ui.icon(i.options.icons.underline),tooltip:i.lang.font.underline+i.representShortcut("underline"),click:i.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return i.button({contents:i.ui.icon(i.options.icons.eraser),tooltip:i.lang.font.clear+i.representShortcut("removeFormat"),click:i.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.ui.icon(i.options.icons.strikethrough),tooltip:i.lang.font.strikethrough+i.representShortcut("strikethrough"),click:i.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.ui.icon(i.options.icons.superscript),tooltip:i.lang.font.superscript,click:i.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.ui.icon(i.options.icons.subscript),tooltip:i.lang.font.subscript,click:i.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=i.context.invoke("editor.currentStyle");return b.each(e["font-family"].split(","),function(e,t){t=t.trim().replace(/['"]+/g,""),i.isFontDeservedToAdd(t)&&-1===i.options.fontNames.indexOf(t)&&i.options.fontNames.push(t)}),i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontname"/>',i.options),tooltip:i.lang.font.name,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:i.options.icons.menuCheck,items:i.options.fontNames.filter(i.isFontInstalled.bind(i)),title:i.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:i.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',i.options),tooltip:i.lang.font.size,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizes,title:i.lang.font.size,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return i.colorPalette("note-color-all",i.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return i.colorPalette("note-color-fore",i.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return i.colorPalette("note-color-back",i.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return i.button({contents:i.ui.icon(i.options.icons.unorderedlist),tooltip:i.lang.lists.unordered+i.representShortcut("insertUnorderedList"),click:i.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return i.button({contents:i.ui.icon(i.options.icons.orderedlist),tooltip:i.lang.lists.ordered+i.representShortcut("insertOrderedList"),click:i.context.createInvokeHandler("editor.insertOrderedList")}).render()});var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),r=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),l=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",N.invoke(o,"render")),this.context.memo("button.justifyCenter",N.invoke(r,"render")),this.context.memo("button.justifyRight",N.invoke(a,"render")),this.context.memo("button.justifyFull",N.invoke(s,"render")),this.context.memo("button.outdent",N.invoke(l,"render")),this.context.memo("button.indent",N.invoke(c,"render")),this.context.memo("button.paragraph",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft),i.options),tooltip:i.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),i.ui.dropdown([i.ui.buttonGroup({className:"note-align",children:[o,r,a,s]}),i.ui.buttonGroup({className:"note-list",children:[l,c]})])]).render()}),this.context.memo("button.height",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight),i.options),tooltip:i.lang.font.height,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({items:i.options.lineHeights,checkClassName:i.options.icons.menuCheck,className:"dropdown-line-height",title:i.lang.font.height,click:i.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table),i.options),tooltip:i.lang.table.table,data:{toggle:"dropdown"}}),i.ui.dropdown({title:i.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:i.options.insertTableMaxSize.col+"em",height:i.options.insertTableMaxSize.row+"em"}).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler.bind(i))}}).render()}),this.context.memo("button.link",function(){return i.button({contents:i.ui.icon(i.options.icons.link),tooltip:i.lang.link.link+i.representShortcut("linkDialog.show"),click:i.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return i.button({contents:i.ui.icon(i.options.icons.picture),tooltip:i.lang.image.image,click:i.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return i.button({contents:i.ui.icon(i.options.icons.video),tooltip:i.lang.video.video,click:i.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return i.button({contents:i.ui.icon(i.options.icons.minus),tooltip:i.lang.hr.insert+i.representShortcut("insertHorizontalRule"),click:i.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.ui.icon(i.options.icons.arrowsAlt),tooltip:i.lang.options.fullscreen,click:i.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.ui.icon(i.options.icons.code),tooltip:i.lang.options.codeview,click:i.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return i.button({contents:i.ui.icon(i.options.icons.redo),tooltip:i.lang.history.redo+i.representShortcut("redo"),click:i.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return i.button({contents:i.ui.icon(i.options.icons.undo),tooltip:i.lang.history.undo+i.representShortcut("undo"),click:i.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return i.button({contents:i.ui.icon(i.options.icons.question),tooltip:i.lang.options.help,click:i.context.createInvokeHandler("helpDialog.show")}).render()})},nt.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},nt.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},nt.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},nt.prototype.build=function(e,t){for(var n=0,i=t.length;n<i;n++){for(var o=t[n],r=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},nt.prototype.updateCurrentStyle=function(e){var i,o,n,r=this,t=e||this.$toolbar,a=this.context.invoke("editor.currentStyle");this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===a["font-bold"]},".note-btn-italic":function(){return"italic"===a["font-italic"]},".note-btn-underline":function(){return"underline"===a["font-underline"]},".note-btn-subscript":function(){return"subscript"===a["font-subscript"]},".note-btn-superscript":function(){return"superscript"===a["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===a["font-strikethrough"]}}),a["font-family"]&&(e=a["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=M.find(e,this.isFontInstalled.bind(this)),t.find(".dropdown-fontname a").each(function(e,t){var n=b(t),t=n.data("value")+""==i+"";n.toggleClass("checked",t)}),t.find(".note-current-fontname").text(i).css("font-family",i)),a["font-size"]&&(o=a["font-size"],t.find(".dropdown-fontsize a").each(function(e,t){var n=b(t),t=n.data("value")+""==o+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsize").text(o)),a["line-height"]&&(n=a["line-height"],t.find(".dropdown-line-height li a").each(function(e,t){t=b(t).data("value")+""==n+"";r.className=t?"checked":""}))},nt.prototype.updateBtnStates=function(n,e){var i=this;b.each(e,function(e,t){i.ui.toggleBtnActive(n.find(e),t())})},nt.prototype.tableMoveHandler=function(e){var t=b(e.target.parentNode),n=t.next(),i=t.find(".note-dimension-picker-mousecatcher"),o=t.find(".note-dimension-picker-highlighted"),t=t.find(".note-dimension-picker-unhighlighted");r=void 0===e.offsetX?(r=b(e.target).offset(),{x:e.pageX-r.left,y:e.pageY-r.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(r.x/18)||1,r=Math.ceil(r.y/18)||1;o.css({width:e+"em",height:r+"em"}),i.data("value",e+"x"+r),3<e&&e<this.options.insertTableMaxSize.col&&t.css({width:e+1+"em"}),3<r&&r<this.options.insertTableMaxSize.row&&t.css({height:r+1+"em"}),n.html(e+" x "+r)},E=nt;function nt(e){this.ui=b.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=N.invertObject(this.options.keyMap[T.isMac?"mac":"pc"])}it.prototype.shouldInitialize=function(){return!this.options.airMode},it.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},it.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},it.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=b(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-o,i=a+e-o-n-i;!this.isFollowing&&s<r&&r<i-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:o,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||i<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},it.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},it.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},it.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},it.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},it.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},C=it;function it(e){this.context=e,this.$window=b(window),this.$document=b(document),this.ui=b.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}ot.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":b("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ot.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ot.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ot.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},ot.prototype.showLinkDialog=function(a){var s=this;return b.Deferred(function(t){var n=s.$dialog.find(".note-link-text"),i=s.$dialog.find(".note-link-url"),o=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&N.isValidUrl(a.text)&&(a.url=a.text),n.on("input paste propertychange",function(){a.text=n.val(),s.toggleLinkBtn(o,n,i)}).val(a.text),i.on("input paste propertychange",function(){a.text||n.val(i.val()),s.toggleLinkBtn(o,n,i)}).val(a.url),T.isSupportTouch||i.trigger("focus"),s.toggleLinkBtn(o,n,i),s.bindEnterKey(i,o),s.bindEnterKey(n,o);var e=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",e),o.one("click",function(e){e.preventDefault(),t.resolve({range:a.range,url:i.val(),text:n.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){n.off(),i.off(),o.off(),"pending"===t.state()&&t.reject()}),s.ui.showDialog(s.$dialog)}).promise()},ot.prototype.show=function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},k=ot;function ot(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var rt=(at.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.link)},at.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},at.prototype.destroy=function(){this.$popover.remove()},at.prototype.update=function(){var e,t;this.context.invoke("editor.hasFocus")&&(e=this.context.invoke("editor.getLastRange")).isCollapsed()&&e.isOnAnchor()?(t=we.ancestor(e.sc,we.isAnchor),e=b(t).attr("href"),this.$popover.find("a").attr("href",e).html(e),t=we.posFromPlaceholder(t),this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide()},at.prototype.hide=function(){this.$popover.hide()},at);function at(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}st.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";this.options.maximumImageFileSize&&(n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=+(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B",t="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>");var n=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),t='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:t}).render().appendTo(e)},st.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},st.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},st.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},st.prototype.showImageDialog=function(){var o=this;return b.Deferred(function(t){var e=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.on("input paste propertychange",function(){o.ui.toggleBtn(i,n.val())}).val(""),T.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){e.off(),n.off(),i.off(),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})},w=st;function st(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}lt.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.image)},lt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},lt.prototype.destroy=function(){this.$popover.remove()},lt.prototype.update=function(e,t){var n;we.isImg(e)?(n=we.posFromPlaceholder(e),e=we.posFromPlaceholder(this.editable),this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,e.top)})):this.hide()},lt.prototype.hide=function(){this.$popover.hide()},t=lt;function lt(e){var t=this;this.context=e,this.ui=b.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}ct.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.table)},ct.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),T.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},ct.prototype.destroy=function(){this.$popover.remove()},ct.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=we.isCell(e);return t?(e=we.posFromPlaceholder(e),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide(),t},ct.prototype.hide=function(){this.$popover.hide()},S=ct;function ct(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}ut.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},ut.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},ut.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},ut.prototype.createVideoNode=function(e){var t=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),r=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),l=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),d=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(t&&11===t[1].length){var h=t[1],f=0;if(void 0!==t[2]){var m=t[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var g=[3600,60,1],v=0,y=g.length;v<y;v++)f+=void 0!==m[v+1]?g[v]*parseInt(m[v+1],10):0}h=b("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h+(0<f?"?start="+f:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)h=b("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)h=b("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(r&&r[2].length)h=b("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+r[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||l&&l[2].length)l=s&&s[1].length?s[1]:l[2],h=b("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+l+"&amp;auto=0");else if(c||u||d)h=b("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;h=b("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return h.addClass("note-video-clip"),h[0]},ut.prototype.show=function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");e=t.createVideoNode(e);e&&t.context.invoke("editor.insertNode",e)}).fail(function(){t.context.invoke("editor.restoreRange")})},ut.prototype.showVideoDialog=function(e){var i=this;return b.Deferred(function(t){var n=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){i.ui.toggleBtn(e,n.val())}),T.isSupportTouch||n.trigger("focus"),e.click(function(e){e.preventDefault(),t.resolve(n.val())}),i.bindEnterKey(n,e)}),i.ui.onDialogHidden(i.$dialog,function(){n.off(),e.off(),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})},i=ut;function ut(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}dt.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},dt.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},dt.prototype.createShortcutList=function(){var i=this,o=this.options.keyMap[T.isMac?"mac":"pc"];return Object.keys(o).map(function(e){var t=o[e],n=b('<div><div class="help-list-item"/></div>');return n.append(b("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(b("<span/>").html(i.context.memo("help."+t)||t)),n.html()}).join("")},dt.prototype.showHelpDialog=function(){var t=this;return b.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()},dt.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},s=dt;function dt(e){this.context=e,this.ui=b.summernote.ui,this.$body=b(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}pt.prototype.shouldInitialize=function(){return this.options.airMode&&!M.isEmpty(this.options.popover.air)},pt.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},pt.prototype.destroy=function(){this.$popover.remove()},pt.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");e.range&&!e.range.isCollapsed()?(e=M.last(e.range.getClientRects()))&&(e=N.rect2bnd(e),this.$popover.css({display:"block",left:Math.max(e.left+e.width/2,0)-20,top:e.top+e.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)):this.hide()},pt.prototype.hide=function(){this.$popover.hide()},r=pt;function pt(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(e,t){T.isFF||t.relatedTarget&&we.ancestor(t.relatedTarget,N.eq(n.$popover[0]))||n.hide()}}}ht.prototype.shouldInitialize=function(){return 0<this.hints.length},ht.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(e){t.$content.find(".active").removeClass("active"),b(e.currentTarget).addClass("active"),t.replace()})},ht.prototype.destroy=function(){this.$popover.remove()},ht.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},ht.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();t.length?this.selectItem(t):((e=e.parent().next()).length||(e=this.$content.find(".note-hint-group").first()),this.selectItem(e.find(".note-hint-item").first()))},ht.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();t.length?this.selectItem(t):((e=e.parent().prev()).length||(e=this.$content.find(".note-hint-group").last()),this.selectItem(e.find(".note-hint-item").last()))},ht.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");e.length&&(e=this.nodeFromItem(e),this.lastWordRange.insertNode(e),Ne.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus"))},ht.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],e=e.data("item"),e=t.content?t.content(e):e;return e="string"==typeof e?we.createText(e):e},ht.prototype.createItemTemplates=function(i,e){var o=this.hints[i];return e.map(function(e,t){var n=b('<div class="note-hint-item"/>');return n.append(o.template?o.template(e):e+""),n.data({index:i,item:e}),n})},ht.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===Pe.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Pe.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Pe.code.DOWN&&(e.preventDefault(),this.moveDown()))},ht.prototype.searchKeyword=function(e,t,n){e=this.hints[e];e&&e.match.test(t)&&e.search?(t=e.match.exec(t),e.search(t[1],n)):n()},ht.prototype.createGroup=function(t,e){var n=this,i=b('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,e,function(e){(e=e||[]).length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i},ht.prototype.handleKeyup=function(e){var t,n,i=this;M.contains([Pe.code.ENTER,Pe.code.UP,Pe.code.DOWN],e.keyCode)||(t=this.context.invoke("editor.getLastRange").getWordRange(),n=t.toString(),this.hints.length&&n?(this.$content.empty(),(e=N.rect2bnd(M.last(t.getClientRects())))&&(this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(e,t){e.match.test(n)&&i.createGroup(t,n).appendTo(i.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))):this.hide())},ht.prototype.show=function(){this.$popover.show()},ht.prototype.hide=function(){this.$popover.hide()},a=ht;function ht(e){var n=this;this.context=e,this.ui=b.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}b.summernote=b.extend(b.summernote,{version:"0.8.12",plugins:{},dom:we,range:Ne,options:{langInfo:b.summernote.lang["en-US"],modules:{editor:l,clipboard:c,dropzone:u,codeview:d,statusbar:p,fullscreen:h,handle:f,hintPopover:a,autoLink:m,autoSync:g,autoReplace:v,placeholder:et,buttons:E,toolbar:C,linkDialog:k,linkPopover:rt,imageDialog:w,imagePopover:t,tablePopover:S,videoDialog:i,helpDialog:s,airPopover:r},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),b.summernote=b.extend(b.summernote,{ui:x})},"object"==typeof n&&void 0!==t?o(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],o):o((i||self).jQuery)},{jquery:624}],220:[function(e,Kt,t){!function(f,w){function t(e,t){return t.toUpperCase()}function i(){g.addEventListener?(g.removeEventListener("DOMContentLoaded",M,!1),f.removeEventListener("load",M,!1)):(g.detachEvent("onreadystatechange",M),f.detachEvent("onload",M))}var o,n,m=typeof w,e=f.location,g=f.document,r=g.documentElement,a=f.jQuery,s=f.$,l={},d=[],c="1.10.2",v=d.concat,u=d.push,p=d.slice,h=d.indexOf,y=l.toString,b=l.hasOwnProperty,x=c.trim,ye=function(e,t){return new ye.fn.init(e,t,n)},k=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,E=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_=/^[\],:{}\s]*$/,N=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,P=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,I=/^-ms-/,R=/-([\da-z])/gi,M=function(e){!g.addEventListener&&"load"!==e.type&&"complete"!==g.readyState||(i(),ye.ready())};function L(e){var t=e.length,n=ye.type(e);return!ye.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&0<t&&t-1 in e)))}ye.fn=ye.prototype={jquery:c,constructor:ye,init:function(e,t,n){var i,o;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):ye.isFunction(e)?n.ready(e):(e.selector!==w&&(this.selector=e.selector,this.context=e.context),ye.makeArray(e,this));if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:S.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof ye?t[0]:t,ye.merge(this,ye.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),T.test(i[1])&&ye.isPlainObject(t))for(i in t)ye.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=g.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return n.find(e);this.length=1,this[0]=o}return this.context=g,this.selector=e,this},selector:"",length:0,toArray:function(){return p.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){e=ye.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e,t){return ye.each(this,e,t)},ready:function(e){return ye.ready.promise().done(e),this},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},map:function(n){return this.pushStack(ye.map(this,function(e,t){return n.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:u,sort:[].sort,splice:[].splice},ye.fn.init.prototype=ye.fn,ye.extend=ye.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[1]||{},a=2),"object"==typeof r||ye.isFunction(r)||(r={}),s===a&&(r=this,--a);a<s;a++)if(null!=(i=arguments[a]))for(n in i)o=r[n],t=i[n],r!==t&&(l&&t&&(ye.isPlainObject(t)||(e=ye.isArray(t)))?(o=e?(e=!1,o&&ye.isArray(o)?o:[]):o&&ye.isPlainObject(o)?o:{},r[n]=ye.extend(l,o,t)):t!==w&&(r[n]=t));return r},ye.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),noConflict:function(e){return f.$===ye&&(f.$=s),e&&f.jQuery===ye&&(f.jQuery=a),ye},isReady:!1,readyWait:1,holdReady:function(e){e?ye.readyWait++:ye.ready(!0)},ready:function(e){if(!0===e?!--ye.readyWait:!ye.isReady){if(!g.body)return setTimeout(ye.ready);(ye.isReady=!0)!==e&&0<--ye.readyWait||(o.resolveWith(g,[ye]),ye.fn.trigger&&ye(g).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ye.type(e)},isArray:Array.isArray||function(e){return"array"===ye.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[y.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==ye.type(e)||e.nodeType||ye.isWindow(e))return!1;try{if(e.constructor&&!b.call(e,"constructor")&&!b.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ye.support.ownLast)for(var t in e)return b.call(e,t);for(t in e);return t===w||b.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||g;var i=T.exec(e),n=!n&&[];return i?[t.createElement(i[1])]:(i=ye.buildFragment([e],t,n),n&&ye(n).remove(),ye.merge([],i.childNodes))},parseJSON:function(e){return f.JSON&&f.JSON.parse?f.JSON.parse(e):null===e?e:"string"==typeof e&&((e=ye.trim(e))&&_.test(e.replace(A,"@").replace(P,"]").replace(N,"")))?Function("return "+e)():(ye.error("Invalid JSON: "+e),w)},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{f.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=w}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||ye.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&ye.trim(e)&&(f.execScript||function(e){f.eval.call(f,e)})(e)},camelCase:function(e){return e.replace(I,"ms-").replace(R,t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,o=0,r=e.length,a=L(e);if(n){if(a)for(;o<r&&!1!==(i=t.apply(e[o],n));o++);else for(o in e)if(i=t.apply(e[o],n),!1===i)break}else if(a)for(;o<r&&!1!==(i=t.call(e[o],o,e[o]));o++);else for(o in e)if(i=t.call(e[o],o,e[o]),!1===i)break;return e},trim:x&&!x.call("\ufeff ")?function(e){return null==e?"":x.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){t=t||[];return null!=e&&(L(Object(e))?ye.merge(t,"string"==typeof e?[e]:e):u.call(t,e)),t},inArray:function(e,t,n){var i;if(t){if(h)return h.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,i=e.length,o=0;if("number"==typeof n)for(;o<n;o++)e[i++]=t[o];else for(;t[o]!==w;)e[i++]=t[o++];return e.length=i,e},grep:function(e,t,n){var i=[],o=0,r=e.length;for(n=!!n;o<r;o++)n!==!!t(e[o],o)&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,r=e.length,a=[];if(L(e))for(;o<r;o++)null!=(i=t(e[o],o,n))&&(a[a.length]=i);else for(o in e)i=t(e[o],o,n),null!=i&&(a[a.length]=i);return v.apply([],a)},guid:1,proxy:function(e,t){var n,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ye.isFunction(e)?(n=p.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(p.call(arguments)))}).guid=e.guid=e.guid||ye.guid++,i):w},access:function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===ye.type(n))for(s in o=!0,n)ye.access(e,t,s,n[s],!0,r,a);else if(i!==w&&(o=!0,ye.isFunction(i)||(a=!0),t=c?a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(ye(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,i||[]),t)e.style[o]=r[o];return i}}),ye.ready.promise=function(e){if(!o)if(o=ye.Deferred(),"complete"===g.readyState)setTimeout(ye.ready);else if(g.addEventListener)g.addEventListener("DOMContentLoaded",M,!1),f.addEventListener("load",M,!1);else{g.attachEvent("onreadystatechange",M),f.attachEvent("onload",M);var n=!1;try{n=null==f.frameElement&&g.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!ye.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}i(),ye.ready()}}()}return o.promise(e)},ye.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),n=ye(g),function(n,i){var e,d,w,k,r,t,p,E,c,h,C,o,f,m,a,s,g,b="sizzle"+-new Date,v=n.document,S=0,y=0,l=oe(),u=oe(),x=oe(),T=!1,_=function(e,t){return e===t&&(T=!0),0},N=typeof i,A={}.hasOwnProperty,P=[],I=P.pop,R=P.push,M=P.push,L=P.slice,D=P.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B=O.replace("w","w#"),H="\\["+F+"*("+O+")"+F+"*(?:([*^$|!~]?=)"+F+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+B+")|)|)"+F+"*\\]",$=":("+O+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+H.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),U=RegExp("^"+F+"*,"+F+"*"),V=RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=RegExp(F+"*[+~]"),W=RegExp("="+F+"*([^\\]'\"]*)"+F+"*\\]","g"),K=RegExp($),G=RegExp("^"+B+"$"),Y={ID:RegExp("^#("+O+")"),CLASS:RegExp("^\\.("+O+")"),TAG:RegExp("^("+O.replace("w","w*")+")"),ATTR:RegExp("^"+H),PSEUDO:RegExp("^"+$),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:RegExp("^(?:"+j+")$","i"),needsContext:RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,ee=/'|\\/g,te=RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(55296|i>>10,56320|1023&i)};try{M.apply(P=L.call(v.childNodes),v.childNodes),P[v.childNodes.length].nodeType}catch(e){M={apply:P.length?function(e,t){R.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ie(e,t,n,i){var o,r,a,s,l,c,u;if((t?t.ownerDocument||t:v)!==C&&h(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=(t=t||C).nodeType)&&9!==o)return[];if(f&&!i){if(c=Q.exec(e))if(u=c[1]){if(9===o){if(!(s=t.getElementById(u))||!s.parentNode)return n;if(s.id===u)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&g(t,s)&&s.id===u)return n.push(s),n}else{if(c[2])return M.apply(n,t.getElementsByTagName(e)),n;if((u=c[3])&&d.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(u)),n}if(d.qsa&&(!m||!m.test(e))){if(l=s=b,c=t,u=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(a=de(e),(s=t.getAttribute("id"))?l=s.replace(ee,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",r=a.length;r--;)a[r]=l+pe(a[r]);c=q.test(e)&&t.parentNode||t,u=a.join(",")}if(u)try{return M.apply(n,c.querySelectorAll(u)),n}catch(e){}finally{s||t.removeAttribute("id")}}}return function(e,t,n,i){var o,r,a,s,l,c=de(e);if(!i&&1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(a=r[0]).type&&d.getById&&9===t.nodeType&&f&&k.relative[r[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;e=e.slice(r.shift().value.length)}for(o=Y.needsContext.test(e)?0:r.length;o--&&(a=r[o],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(te,ne),q.test(r[0].type)&&t.parentNode||t))){if(r.splice(o,1),!(e=i.length&&pe(r)))return M.apply(n,i),n;break}}return p(e,c)(i,t,!f,n,q.test(e)),n}(e.replace(z,"$1"),t,n,i)}function oe(){var n=[];function i(e,t){return n.push(e+=" ")>k.cacheLength&&delete i[n.shift()],i[e]=t}return i}function re(e){return e[b]=!0,e}function ae(e){var t=C.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function se(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(a){return re(function(r){return r=+r,re(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}for(e in t=ie.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},d=ie.support={},h=ie.setDocument=function(e){var l=e?e.ownerDocument||e:v,e=l.defaultView;return l!==C&&9===l.nodeType&&l.documentElement?(o=(C=l).documentElement,f=!t(l),e&&e.attachEvent&&e!==e.top&&e.attachEvent("onbeforeunload",function(){h()}),d.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ae(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=ae(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),d.getById=ae(function(e){return o.appendChild(e).id=b,!l.getElementsByName||!l.getElementsByName(b).length}),d.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!=N&&f){e=t.getElementById(e);return e&&e.parentNode?[e]:[]}},k.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(te,ne);return function(e){e=typeof e.getAttributeNode!=N&&e.getAttributeNode("id");return e&&e.value===t}}),k.find.TAG=d.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!=N?t.getElementsByTagName(e):i}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},k.find.CLASS=d.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!=N&&f?t.getElementsByClassName(e):i},a=[],m=[],(d.qsa=X.test(l.querySelectorAll))&&(ae(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),ae(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(d.matchesSelector=X.test(s=o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ae(function(e){d.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",$)}),m=m.length&&RegExp(m.join("|")),a=a.length&&RegExp(a.join("|")),g=X.test(o.contains)||o.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=o.compareDocumentPosition?function(e,t){if(e===t)return T=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===l||g(v,e)?-1:t===l||g(v,t)?1:c?D.call(c,e)-D.call(c,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(e===t)return T=!0,0;if(!o||!r)return e===l?-1:t===l?1:o?-1:r?1:c?D.call(c,e)-D.call(c,t):0;if(o===r)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?le(a[i],s[i]):a[i]===v?-1:s[i]===v?1:0},l):C},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&h(e),t=t.replace(W,"='$1']"),!(!d.matchesSelector||!f||a&&a.test(t)||m&&m.test(t)))try{var n=s.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,C,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==C&&h(e),g(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==C&&h(e);var n=k.attrHandle[t.toLowerCase()],n=n&&A.call(k.attrHandle,t.toLowerCase())?n(e,t,!f):i;return n===i?d.attributes||!f?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null:n},ie.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],i=0,o=0;if(T=!d.detectDuplicates,c=!d.sortStable&&e.slice(0),e.sort(_),T){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},r=ie.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=r(t);return n},(k=ie.selectors={cacheLength:50,createPseudo:re,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]&&e[4]!==i?e[2]=e[4]:n&&K.test(n)&&(t=de(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=N&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=ie.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,f,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),y="of-type"===e;return 1===f&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=g!=v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),p=!n&&!y;if(u){if(g){for(;c;){for(r=e;r=r[c];)if(y?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&p){for(s=(i=(o=u[b]||(u[b]={}))[h]||[])[0]===S&&i[1],a=i[0]===S&&i[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===e){o[h]=[S,s,a];break}}else if(p&&(i=(e[b]||(e[b]={}))[h])&&i[0]===S)a=i[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++a||(p&&((r[b]||(r[b]={}))[h]=[S,a]),r!==e)););return(a-=m)===f||0==a%f&&0<=a/f}}},PSEUDO:function(e,r){var t,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[b]?a(r):1<a.length?(t=[e,e,"",r],k.setFilters.hasOwnProperty(e.toLowerCase())?re(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=D.call(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:re(function(e){var i=[],o=[],s=p(e.replace(z,"$1"));return s[b]?re(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),!o.pop()}}),has:re(function(t){return function(e){return 0<ie(t,e).length}}),contains:re(function(t){return function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:re(function(n){return G.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=f?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if("@"<e.nodeName||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ce(function(){return[0]}),last:ce(function(e,t){return[t-1]}),eq:ce(function(e,t,n){return[n<0?n+t:n]}),even:ce(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ce(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ce(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:ce(function(e,t,n){for(var i=n<0?n+t:n;t>++i;)e.push(i);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})k.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ue(){}function de(e,t){var n,i,o,r,a,s,l,c=u[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=k.preFilter;a;){for(r in n&&!(i=U.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=V.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),a=a.slice(n.length)),k.filter)!(i=Y[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):u(e,s).slice(0)}function pe(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function he(s,e,t){var l=e.dir,c=t&&"parentNode"===l,u=y++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||c)return s(e,t,n)}:function(e,t,n){var i,o,r,a=S+" "+u;if(n){for(;e=e[l];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||c)if((o=(r=e[b]||(e[b]={}))[l])&&o[0]===a){if(!0===(i=o[1])||i===w)return!0===i}else if((o=r[l]=[a])[1]=s(e,t,n)||w,!0===o[1])return!0}}function fe(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function me(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)!(r=e[s])||n&&!n(r,i,o)||(a.push(r),c&&t.push(s));return a}function ge(h,f,m,g,v,e){return g&&!g[b]&&(g=ge(g)),v&&!v[b]&&(v=ge(v,e)),re(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)ie(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!h||!e&&f?u:me(u,s,h,n,i),p=m?v||(e?h:c||g)?[]:t:d;if(m&&m(d,p,n,i),g)for(o=me(p,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(p[l[r]]=!(d[l[r]]=a));if(e){if(v||h){if(v){for(o=[],r=p.length;r--;)(a=p[r])&&o.push(d[r]=a);v(null,p=[],o,i)}for(r=p.length;r--;)(a=p[r])&&-1<(o=v?D.call(e,a):s[r])&&(e[o]=!(t[o]=a))}}else p=me(p===t?p.splice(c,p.length):p),v?v(null,t,p,i):M.apply(t,p)})}function ve(g,v){function e(e,t,n,i,o){var r,a,s,l=[],c=0,u="0",d=e&&[],p=null!=o,h=E,f=e||x&&k.find.TAG("*",o&&t.parentNode||t),m=S+=null==h?1:Math.random()||.1;for(p&&(E=t!==C&&t,w=y);null!=(r=f[u]);u++){if(x&&r){for(a=0;s=g[a++];)if(s(r,t,n)){i.push(r);break}p&&(S=m,w=++y)}b&&((r=!s&&r)&&c--,e&&d.push(r))}if(c+=u,b&&u!==c){for(a=0;s=v[a++];)s(d,l,t,n);if(e){if(0<c)for(;u--;)d[u]||l[u]||(l[u]=I.call(i));l=me(l)}M.apply(i,l),p&&!e&&0<l.length&&1<c+v.length&&ie.uniqueSort(i)}return p&&(S=m,E=h),d}var y=0,b=0<v.length,x=0<g.length;return b?re(e):e}ue.prototype=k.filters=k.pseudos,k.setFilters=new ue,p=ie.compile=function(e,t){var n,i=[],o=[],r=x[e+" "];if(!r){for(n=(t=t||de(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=k.relative[t[0].type],s=a||k.relative[" "],l=a?1:0,c=he(function(e){return e===i},s,!0),u=he(function(e){return-1<D.call(i,e)},s,!0),d=[function(e,t,n){return!a&&(n||t!==E)||((i=t).nodeType?c:u)(e,t,n)}];l<r;l++)if(n=k.relative[t[l].type])d=[he(fe(d),n)];else{if((n=k.filter[t[l].type].apply(null,t[l].matches))[b]){for(o=++l;o<r&&!k.relative[t[o].type];o++);return ge(1<l&&fe(d),1<l&&pe(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(z,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&pe(t))}d.push(n)}return fe(d)}(t[n]))[b]?i:o).push(r);r=x(e,ve(o,i))}return r},d.sortStable=b.split("").sort(_).join("")===b,d.detectDuplicates=T,h(),d.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(C.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){return n?i:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?i:e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se(j,function(e,t,n){return n?i:(n=e.getAttributeNode(t))&&n.specified?n.value:!0===e[t]?t.toLowerCase():null}),ye.find=ie,ye.expr=ie.selectors,ye.expr[":"]=ye.expr.pseudos,ye.unique=ie.uniqueSort,ye.text=ie.getText,ye.isXMLDoc=ie.isXML,ye.contains=ie.contains}(f);var D={};ye.Callbacks=function(o){var e,n;o="string"==typeof o?D[o]||(n=D[e=o]={},ye.each(e.match(E)||[],function(e,t){n[t]=!0}),n):ye.extend({},o);function i(e){for(t=o.memory&&e,a=!0,l=c||0,c=0,s=u.length,r=!0;u&&l<s;l++)if(!1===u[l].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}r=!1,u&&(d?d.length&&i(d.shift()):t?u=[]:p.disable())}var r,t,a,s,l,c,u=[],d=!o.once&&[],p={add:function(){var e;return u&&(e=u.length,function i(e){ye.each(e,function(e,t){var n=ye.type(t);"function"===n?o.unique&&p.has(t)||u.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),r?s=u.length:t&&(c=e,i(t))),this},remove:function(){return u&&ye.each(arguments,function(e,t){for(var n;-1<(n=ye.inArray(t,u,n));)u.splice(n,1),r&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return e?-1<ye.inArray(e,u):!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=d=t=w,this},disabled:function(){return!u},lock:function(){return d=w,t||p.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!u||a&&!d||(t=[e,(t=t||[]).slice?t.slice():t],r?d.push(t):i(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},ye.extend({Deferred:function(e){var a=[["resolve","done",ye.Callbacks("once memory"),"resolved"],["reject","fail",ye.Callbacks("once memory"),"rejected"],["notify","progress",ye.Callbacks("memory")]],o="pending",s={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var r=arguments;return ye.Deferred(function(o){ye.each(a,function(e,t){var n=t[0],i=ye.isFunction(r[e])&&r[e];l[t[1]](function(){var e=i&&i.apply(this,arguments);e&&ye.isFunction(e.promise)?e.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[n+"With"](this===s?o.promise():this,i?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?ye.extend(e,s):s}},l={};return s.pipe=s.then,ye.each(a,function(e,t){var n=t[2],i=t[3];s[t[1]]=n.add,i&&n.add(function(){o=i},a[1^e][2].disable,a[2][2].lock),l[t[0]]=function(){return l[t[0]+"With"](this===l?s:this,arguments),this},l[t[0]+"With"]=n.fireWith}),s.promise(l),e&&e.call(l,l),l},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?p.call(arguments):e,i===o?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var o,n,i,r=0,a=p.call(arguments),s=a.length,l=1!==s||e&&ye.isFunction(e.promise)?s:0,c=1===l?e:ye.Deferred();if(1<s)for(o=Array(s),n=Array(s),i=Array(s);r<s;r++)a[r]&&ye.isFunction(a[r].promise)?a[r].promise().done(t(r,i,a)).fail(c.reject).progress(t(r,n,o)):--l;return l||c.resolveWith(i,a),c.promise()}}),ye.support=function(o){var e,t,n,i,r,a,s,l,c,u=g.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=u.getElementsByTagName("*")||[],!(t=u.getElementsByTagName("a")[0])||!t.style||!e.length)return o;a=(i=g.createElement("select")).appendChild(g.createElement("option")),n=u.getElementsByTagName("input")[0],t.style.cssText="top:1px;float:left;opacity:.5",o.getSetAttribute="t"!==u.className,o.leadingWhitespace=3===u.firstChild.nodeType,o.tbody=!u.getElementsByTagName("tbody").length,o.htmlSerialize=!!u.getElementsByTagName("link").length,o.style=/top/.test(t.getAttribute("style")),o.hrefNormalized="/a"===t.getAttribute("href"),o.opacity=/^0.5/.test(t.style.opacity),o.cssFloat=!!t.style.cssFloat,o.checkOn=!!n.value,o.optSelected=a.selected,o.enctype=!!g.createElement("form").enctype,o.html5Clone="<:nav></:nav>"!==g.createElement("nav").cloneNode(!0).outerHTML,o.inlineBlockNeedsLayout=!1,o.shrinkWrapBlocks=!1,o.pixelPosition=!1,o.deleteExpando=!0,o.noCloneEvent=!0,o.reliableMarginRight=!0,o.boxSizingReliable=!0,n.checked=!0,o.noCloneChecked=n.cloneNode(!0).checked,i.disabled=!0,o.optDisabled=!a.disabled;try{delete u.test}catch(e){o.deleteExpando=!1}for(c in(n=g.createElement("input")).setAttribute("value",""),o.input=""===n.getAttribute("value"),n.value="t",n.setAttribute("type","radio"),o.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),(r=g.createDocumentFragment()).appendChild(n),o.appendChecked=n.checked,o.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){o.noCloneEvent=!1}),u.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})u.setAttribute(s="on"+c,"t"),o[c+"Bubbles"]=s in f||!1===u.attributes[s].expando;for(c in u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===u.style.backgroundClip,ye(o))break;return o.ownLast="0"!==c,ye(function(){var e,t,n="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",i=g.getElementsByTagName("body")[0];i&&((e=g.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(e).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(t=u.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",o.reliableHiddenOffsets=l&&0===t[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ye.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){o.boxSizing=4===u.offsetWidth}),f.getComputedStyle&&(o.pixelPosition="1%"!==(f.getComputedStyle(u,null)||{}).top,o.boxSizingReliable="4px"===(f.getComputedStyle(u,null)||{width:"4px"}).width,(t=u.appendChild(g.createElement("div"))).style.cssText=u.style.cssText=n,t.style.marginRight=t.style.width="0",u.style.width="1px",o.reliableMarginRight=!parseFloat((f.getComputedStyle(t,null)||{}).marginRight)),typeof u.style.zoom!=m&&(u.innerHTML="",u.style.cssText=n+"width:1px;padding:1px;display:inline;zoom:1",o.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",o.shrinkWrapBlocks=3!==u.offsetWidth,o.inlineBlockNeedsLayout&&(i.style.zoom=1)),i.removeChild(e),u=null)}),e=i=r=t=n=null,o}({});var j=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,F=/([A-Z])/g;function O(e,t,n,i){if(ye.acceptData(e)){var o,r=ye.expando,a=e.nodeType,s=a?ye.cache:e,l=a?e[r]:e[r]&&r;if(l&&s[l]&&(i||s[l].data)||n!==w||"string"!=typeof t)return s[l=l||(a?e[r]=d.pop()||ye.guid++:r)]||(s[l]=a?{}:{toJSON:ye.noop}),"object"!=typeof t&&"function"!=typeof t||(i?s[l]=ye.extend(s[l],t):s[l].data=ye.extend(s[l].data,t)),l=s[l],i||(l.data||(l.data={}),l=l.data),n!==w&&(l[ye.camelCase(t)]=n),"string"==typeof t?null==(o=l[t])&&(o=l[ye.camelCase(t)]):o=l,o}}function B(e,t,n){if(ye.acceptData(e)){var i,o,r=e.nodeType,a=r?ye.cache:e,s=r?e[ye.expando]:ye.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){o=(t=ye.isArray(t)?t.concat(ye.map(t,ye.camelCase)):t in i?[t]:(t=ye.camelCase(t))in i?[t]:t.split(" ")).length;for(;o--;)delete i[t[o]];if(n?!$(i):!ye.isEmptyObject(i))return}(n||(delete a[s].data,$(a[s])))&&(r?ye.cleanData([e],!0):ye.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function H(e,t,n){if(n===w&&1===e.nodeType){var i="data-"+t.replace(F,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:j.test(n)?ye.parseJSON(n):n)}catch(e){}ye.data(e,t,n)}else n=w}return n}function $(e){for(var t in e)if(("data"!==t||!ye.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}ye.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ye.cache[e[ye.expando]]:e[ye.expando])&&!$(e)},data:function(e,t,n){return O(e,t,n)},removeData:function(e,t){return B(e,t)},_data:function(e,t,n){return O(e,t,n,!0)},_removeData:function(e,t){return B(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ye.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),ye.fn.extend({data:function(e,t){var n,i,o=null,r=0,a=this[0];if(e!==w)return"object"==typeof e?this.each(function(){ye.data(this,e)}):1<arguments.length?this.each(function(){ye.data(this,e,t)}):a?H(a,e,ye.data(a,e)):null;if(this.length&&(o=ye.data(a),1===a.nodeType&&!ye._data(a,"parsedAttrs"))){for(n=a.attributes;n.length>r;r++)0===(i=n[r].name).indexOf("data-")&&H(a,i=ye.camelCase(i.slice(5)),o[i]);ye._data(a,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){ye.removeData(this,e)})}}),ye.extend({queue:function(e,t,n){var i;return e?(i=ye._data(e,t=(t||"fx")+"queue"),n&&(!i||ye.isArray(n)?i=ye._data(e,t,ye.makeArray(n)):i.push(n)),i||[]):w},dequeue:function(e,t){t=t||"fx";var n=ye.queue(e,t),i=n.length,o=n.shift(),r=ye._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){ye.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye._data(e,n)||ye._data(e,n,{empty:ye.Callbacks("once memory").add(function(){ye._removeData(e,t+"queue"),ye._removeData(e,n)})})}}),ye.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ye.queue(this[0],t):n===w?this:this.each(function(){var e=ye.queue(this,t,n);ye._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ye.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ye.dequeue(this,e)})},delay:function(i,e){return i=ye.fx&&ye.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=ye.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=w),e=e||"fx";s--;)(i=ye._data(a[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}});var z,U,V=/[\t\r\n\f]/g,q=/\r/g,W=/^(?:input|select|textarea|button|object)$/i,K=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Y=ye.support.getSetAttribute,X=ye.support.input;ye.fn.extend({attr:function(e,t){return ye.access(this,ye.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ye.removeAttr(this,e)})},prop:function(e,t){return ye.access(this,ye.prop,e,t,1<arguments.length)},removeProp:function(e){return e=ye.propFix[e]||e,this.each(function(){try{this[e]=w,delete this[e]}catch(e){}})},addClass:function(t){var e,n,i,o,r,a=0,s=this.length,l="string"==typeof t&&t;if(ye.isFunction(t))return this.each(function(e){ye(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(E)||[];a<s;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(V," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n.className=ye.trim(i)}return this},removeClass:function(t){var e,n,i,o,r,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ye.isFunction(t))return this.each(function(e){ye(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(E)||[];a<s;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(V," "):"")){for(r=0;o=e[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");n.className=t?ye.trim(i):""}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"==r?t?this.addClass(o):this.removeClass(o):ye.isFunction(o)?this.each(function(e){ye(this).toggleClass(o.call(this,e,this.className,t),t)}):this.each(function(){if("string"==r)for(var e,t=0,n=ye(this),i=o.match(E)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!=m&&"boolean"!=r||(this.className&&ye._data(this,"__className__",this.className),this.className=!this.className&&!1!==o&&ye._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(V," ").indexOf(t))return!0;return!1},val:function(t){var e,n,i,o=this[0];return arguments.length?(i=ye.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,ye(this).val()):t)?e="":"number"==typeof e?e+="":ye.isArray(e)&&(e=ye.map(e,function(e){return null==e?"":e+""})),(n=ye.valHooks[this.type]||ye.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,e,"value")!==w||(this.value=e))})):o?(n=ye.valHooks[o.type]||ye.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&(e=n.get(o,"value"))!==w?e:"string"==typeof(e=o.value)?e.replace(q,""):null==e?"":e:void 0}}),ye.extend({valHooks:{option:{get:function(e){var t=ye.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,r=o?null:[],a=o?i+1:n.length,s=i<0?a:o?i:0;s<a;s++)if(!(!(t=n[s]).selected&&s!==i||(ye.support.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&ye.nodeName(t.parentNode,"optgroup"))){if(t=ye(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=ye.makeArray(t),a=o.length;a--;)((i=o[a]).selected=0<=ye.inArray(ye(i).val(),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute==m?ye.prop(e,t,n):(1===r&&ye.isXMLDoc(e)||(t=t.toLowerCase(),i=ye.attrHooks[t]||(ye.expr.match.bool.test(t)?U:z)),n===w?i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=ye.find.attr(e,t))?w:o:null!==n?i&&"set"in i&&(o=i.set(e,n,t))!==w?o:(e.setAttribute(t,n+""),n):(ye.removeAttr(e,t),w))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(E);if(r&&1===e.nodeType)for(;n=r[o++];)i=ye.propFix[n]||n,ye.expr.match.bool.test(n)?X&&Y||!G.test(n)?e[i]=!1:e[ye.camelCase("default-"+n)]=e[i]=!1:ye.attr(e,n,""),e.removeAttribute(Y?n:i)},attrHooks:{type:{set:function(e,t){if(!ye.support.radioValue&&"radio"===t&&ye.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!ye.isXMLDoc(e))&&(t=ye.propFix[t]||t,o=ye.propHooks[t]),n!==w?o&&"set"in o&&(i=o.set(e,n,t))!==w?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ye.find.attr(e,"tabindex");return t?parseInt(t,10):W.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:-1}}}}),U={set:function(e,t,n){return!1===t?ye.removeAttr(e,n):X&&Y||!G.test(n)?e.setAttribute(!Y&&ye.propFix[n]||n,n):e[ye.camelCase("default-"+n)]=e[n]=!0,n}},ye.each(ye.expr.match.bool.source.match(/\w+/g),function(e,t){var o=ye.expr.attrHandle[t]||ye.find.attr;ye.expr.attrHandle[t]=X&&Y||!G.test(t)?function(e,t,n){var i=ye.expr.attrHandle[t],n=n?w:(ye.expr.attrHandle[t]=w)!=o(e,t,n)?t.toLowerCase():null;return ye.expr.attrHandle[t]=i,n}:function(e,t,n){return n?w:e[ye.camelCase("default-"+t)]?t.toLowerCase():null}}),X&&Y||(ye.attrHooks.value={set:function(e,t,n){return ye.nodeName(e,"input")?(e.defaultValue=t,w):z&&z.set(e,t,n)}}),Y||(z={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:w}},ye.expr.attrHandle.id=ye.expr.attrHandle.name=ye.expr.attrHandle.coords=function(e,t,n){return n?w:(t=e.getAttributeNode(t))&&""!==t.value?t.value:null},ye.valHooks.button={get:function(e,t){t=e.getAttributeNode(t);return t&&t.specified?t.value:w},set:z.set},ye.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""!==t&&t,n)}},ye.each(["width","height"],function(e,n){ye.attrHooks[n]={set:function(e,t){return""===t?(e.setAttribute(n,"auto"),t):w}}})),ye.support.hrefNormalized||ye.each(["href","src"],function(e,t){ye.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ye.support.style||(ye.attrHooks.style={get:function(e){return e.style.cssText||w},set:function(e,t){return e.style.cssText=t+""}}),ye.support.optSelected||(ye.propHooks.selected={get:function(e){e=e.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ye.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ye.propFix[this.toLowerCase()]=this}),ye.support.enctype||(ye.propFix.enctype="encoding"),ye.each(["radio","checkbox"],function(){ye.valHooks[this]={set:function(e,t){return ye.isArray(t)?e.checked=0<=ye.inArray(ye(e).val(),t):w}},ye.support.checkOn||(ye.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Q=/^(?:input|select|textarea)$/i,Z=/^key/,J=/^(?:mouse|contextmenu)|click/,ee=/^(?:focusinfocus|focusoutblur)$/,te=/^([^.]*)(?:\.(.+)|)$/;function ne(){return!0}function ie(){return!1}function oe(){try{return g.activeElement}catch(e){}}ye.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,h,f=ye._data(e);if(f)for(n.handler&&(n=(s=n).handler,o=s.selector),n.guid||(n.guid=ye.guid++),(r=f.events)||(r=f.events={}),(c=f.handle)||((c=f.handle=function(e){return typeof ye==m||e&&ye.event.triggered===e.type?w:ye.event.dispatch.apply(c.elem,arguments)}).elem=e),a=(t=(t||"").match(E)||[""]).length;a--;)d=h=(u=te.exec(t[a])||[])[1],p=(u[2]||"").split(".").sort(),d&&(l=ye.event.special[d]||{},d=(o?l.delegateType:l.bindType)||d,l=ye.event.special[d]||{},u=ye.extend({type:d,origType:h,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ye.expr.match.needsContext.test(o),namespace:p.join(".")},s),(h=r[d])||((h=r[d]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,p,c)||(e.addEventListener?e.addEventListener(d,c,!1):e.attachEvent&&e.attachEvent("on"+d,c))),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),ye.event.global[d]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,h,f,m,g=ye.hasData(e)&&ye._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(E)||[""]).length;c--;)if(h=m=(s=te.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=ye.event.special[h]||{},p=u[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)a=p[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(p.splice(r,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));l&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||ye.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)ye.event.remove(e,h+t[c],n,i,!0);ye.isEmptyObject(u)&&(delete g.handle,ye._removeData(e,"events"))}},trigger:function(e,t,n,i){var o,r,a,s,l,c,u=[n||g],d=b.call(e,"type")?e.type:e,p=b.call(e,"namespace")?e.namespace.split("."):[],h=l=n=n||g;if(3!==n.nodeType&&8!==n.nodeType&&!ee.test(d+ye.event.triggered)&&(0<=d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),r=d.indexOf(":")<0&&"on"+d,(e=e[ye.expando]?e:new ye.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=w,e.target||(e.target=n),t=null==t?[e]:ye.makeArray(t,[e]),s=ye.event.special[d]||{},i||!s.trigger||!1!==s.trigger.apply(n,t))){if(!i&&!s.noBubble&&!ye.isWindow(n)){for(a=s.delegateType||d,ee.test(a+d)||(h=h.parentNode);h;h=h.parentNode)u.push(h),l=h;l===(n.ownerDocument||g)&&u.push(l.defaultView||l.parentWindow||f)}for(c=0;(h=u[c++])&&!e.isPropagationStopped();)e.type=1<c?a:s.bindType||d,(o=(ye._data(h,"events")||{})[e.type]&&ye._data(h,"handle"))&&o.apply(h,t),(o=r&&h[r])&&ye.acceptData(h)&&o.apply&&!1===o.apply(h,t)&&e.preventDefault();if(e.type=d,!i&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(u.pop(),t))&&ye.acceptData(n)&&r&&n[d]&&!ye.isWindow(n)){(l=n[r])&&(n[r]=null),ye.event.triggered=d;try{n[d]()}catch(e){}ye.event.triggered=w,l&&(n[r]=l)}return e.result}},dispatch:function(e){e=ye.event.fix(e);var t,n,i,o,r,a=p.call(arguments),s=(ye._data(this,"events")||{})[e.type]||[],l=ye.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(r=ye.event.handlers.call(this,e,s),t=0;(i=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(n=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(n.namespace)||(e.handleObj=n,e.data=n.data,(n=((ye.event.special[n.origType]||{}).handle||n.handler).apply(i.elem,a))!==w&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],r=0;r<s;r++)o[n=(i=t[r]).selector+" "]===w&&(o[n]=i.needsContext?0<=ye(n,this).index(l):ye.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return t.length>s&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ye.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=J.test(o)?this.mouseHooks:Z.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ye.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||g),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||g).documentElement,n=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||o===w||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==oe()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===oe()&&this.blur?(this.blur(),!1):w},delegateType:"focusout"},click:{trigger:function(){return ye.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):w},_default:function(e){return ye.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==w&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){e=ye.extend(new ye.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ye.event.trigger(e,null,t):ye.event.dispatch.call(t,e),e.isDefaultPrevented()&&n.preventDefault()}},ye.removeEvent=g.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){t="on"+t;e.detachEvent&&(typeof e[t]==m&&(e[t]=null),e.detachEvent(t,n))},ye.Event=function(e,t){return this instanceof ye.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?ne:ie):this.type=e,t&&ye.extend(this,t),this.timeStamp=e&&e.timeStamp||ye.now(),this[ye.expando]=!0,w):new ye.Event(e,t)},ye.Event.prototype={isDefaultPrevented:ie,isPropagationStopped:ie,isImmediatePropagationStopped:ie,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ne,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ne,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ne,this.stopPropagation()}},ye.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,o){ye.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||ye.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),ye.support.submitBubbles||(ye.event.special.submit={setup:function(){return!ye.nodeName(this,"form")&&(ye.event.add(this,"click._submit keypress._submit",function(e){e=e.target,e=ye.nodeName(e,"input")||ye.nodeName(e,"button")?e.form:w;e&&!ye._data(e,"submitBubbles")&&(ye.event.add(e,"submit._submit",function(e){e._submit_bubble=!0}),ye._data(e,"submitBubbles",!0))}),w)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ye.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ye.nodeName(this,"form")&&(ye.event.remove(this,"._submit"),w)}}),ye.support.changeBubbles||(ye.event.special.change={setup:function(){return Q.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ye.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ye.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ye.event.simulate("change",this,e,!0)})),!1):(ye.event.add(this,"beforeactivate._change",function(e){e=e.target;Q.test(e.nodeName)&&!ye._data(e,"changeBubbles")&&(ye.event.add(e,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ye.event.simulate("change",this.parentNode,e,!0)}),ye._data(e,"changeBubbles",!0))}),w)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):w},teardown:function(){return ye.event.remove(this,"._change"),!Q.test(this.nodeName)}}),ye.support.focusinBubbles||ye.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){ye.event.simulate(t,e.target,ye.event.fix(e),!0)}var i=0;ye.event.special[t]={setup:function(){0==i++&&g.addEventListener(e,n,!0)},teardown:function(){0==--i&&g.removeEventListener(e,n,!0)}}}),ye.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){for(r in"string"!=typeof t&&(n=n||t,t=w),e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=w):null==i&&("string"==typeof t?(i=n,n=w):(i=n,n=t,t=w)),!1===i)i=ie;else if(!i)return this;return 1===o&&(a=i,(i=function(e){return ye().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ye.guid++)),this.each(function(){ye.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ye(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=w),!1===n&&(n=ie),this.each(function(){ye.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ye.event.trigger(e,t,n,!0):w}});var re=/^.[^:#\[\.,]*$/,ae=/^(?:parents|prev(?:Until|All))/,se=ye.expr.match.needsContext,le={children:!0,contents:!0,next:!0,prev:!0};function ce(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function ue(e,n,i){if(ye.isFunction(n))return ye.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return ye.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(re.test(n))return ye.filter(n,e,i);n=ye.filter(n,e)}return ye.grep(e,function(e){return 0<=ye.inArray(e,n)!==i})}function de(e){var t=pe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}ye.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ye(e).filter(function(){for(t=0;t<o;t++)if(ye.contains(i[t],this))return!0}));for(t=0;t<o;t++)ye.find(e,i[t],n);return(n=this.pushStack(1<o?ye.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ye(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(ye.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ue(this,e||[],!0))},filter:function(e){return this.pushStack(ue(this,e||[],!1))},is:function(e){return!!ue(this,"string"==typeof e&&se.test(e)?ye(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=se.test(e)||"string"!=typeof e?ye(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ye.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(1<r.length?ye.unique(r):r)},index:function(e){return e?"string"==typeof e?ye.inArray(this[0],ye(e)):ye.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){e="string"==typeof e?ye(e,t):ye.makeArray(e&&e.nodeType?[e]:e),e=ye.merge(this.get(),e);return this.pushStack(ye.unique(e))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ye.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return ye.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ye.dir(e,"parentNode",n)},next:function(e){return ce(e,"nextSibling")},prev:function(e){return ce(e,"previousSibling")},nextAll:function(e){return ye.dir(e,"nextSibling")},prevAll:function(e){return ye.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ye.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye.dir(e,"previousSibling",n)},siblings:function(e){return ye.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ye.sibling(e.firstChild)},contents:function(e){return ye.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ye.merge([],e.childNodes)}},function(i,o){ye.fn[i]=function(e,t){var n=ye.map(this,o,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=ye.filter(t,n)),1<this.length&&(le[i]||(n=ye.unique(n)),ae.test(i)&&(n=n.reverse())),this.pushStack(n)}}),ye.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ye.find.matchesSelector(i,e)?[i]:[]:ye.find.matches(e,ye.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(n===w||1!==o.nodeType||!ye(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var pe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",he=/ jQuery\d+="(?:null|\d+)"/g,fe=RegExp("<(?:"+pe+")[\\s/>]","i"),me=/^\s+/,ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ve=/<([\w:]+)/,be=/<tbody/i,xe=/<|&#?\w+;/,we=/<(?:script|style|link)/i,ke=/^(?:checkbox|radio)$/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^$|\/(?:java|ecma)script/i,Se=/^true\/(.*)/,Te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ye.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ne=de(g).appendChild(g.createElement("div"));function Ae(e,t){return ye.nodeName(e,"table")&&ye.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Pe(e){return e.type=(null!==ye.find.attr(e,"type"))+"/"+e.type,e}function Ie(e){var t=Se.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Re(e,t){for(var n,i=0;null!=(n=e[i]);i++)ye._data(n,"globalEval",!t||ye._data(t[i],"globalEval"))}function Me(e,t){if(1===t.nodeType&&ye.hasData(e)){var n,i,o,r=ye._data(e),e=ye._data(t,r),a=r.events;if(a)for(n in delete e.handle,e.events={},a)for(i=0,o=a[n].length;i<o;i++)ye.event.add(t,n,a[n][i]);e.data&&(e.data=ye.extend({},e.data))}}function Le(e,t){var n,i,o=0,r=typeof e.getElementsByTagName!=m?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!=m?e.querySelectorAll(t||"*"):w;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||ye.nodeName(i,t)?r.push(i):ye.merge(r,Le(i,t));return t===w||t&&ye.nodeName(e,t)?ye.merge([e],r):r}function De(e){ke.test(e.type)&&(e.defaultChecked=e.checked)}_e.optgroup=_e.option,_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,ye.fn.extend({text:function(e){return ye.access(this,function(e){return e===w?ye.text(this):this.empty().append((this[0]&&this[0].ownerDocument||g).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ae(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ye.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ye.cleanData(Le(n)),n.parentNode&&(t&&ye.contains(n.ownerDocument,n)&&Re(Le(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ye.cleanData(Le(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ye.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ye.clone(this,e,t)})},html:function(e){return ye.access(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===w)return 1===t.nodeType?t.innerHTML.replace(he,""):w;if(!("string"!=typeof e||we.test(e)||!ye.support.htmlSerialize&&fe.test(e)||!ye.support.leadingWhitespace&&me.test(e)||_e[(ve.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(ge,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(ye.cleanData(Le(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=ye.map(this,function(e){return[e.nextSibling,e.parentNode]}),o=0;return this.domManip(arguments,function(e){var t=i[o++],n=i[o++];n&&(t&&t.parentNode!==n&&(t=this.nextSibling),ye(this).remove(),n.insertBefore(e,t))},!0),o?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i,o){n=v.apply([],n);var e,t,r,a,s,l,c=0,u=this.length,d=this,p=u-1,h=n[0],f=ye.isFunction(h);if(f||!(u<=1||"string"!=typeof h||ye.support.checkClone)&&Ee.test(h))return this.each(function(e){var t=d.eq(e);f&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i,o)});if(u&&(e=(l=ye.buildFragment(n,this[0].ownerDocument,!1,!o&&this)).firstChild,1===l.childNodes.length&&(l=e),e)){for(r=(a=ye.map(Le(l,"script"),Pe)).length;c<u;c++)t=l,c!==p&&(t=ye.clone(t,!0,!0),r&&ye.merge(a,Le(t,"script"))),i.call(this[c],t,c);if(r)for(s=a[a.length-1].ownerDocument,ye.map(a,Ie),c=0;c<r;c++)t=a[c],Ce.test(t.type||"")&&!ye._data(t,"globalEval")&&ye.contains(s,t)&&(t.src?ye._evalUrl(t.src):ye.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Te,"")));l=e=null}return this}}),ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ye.fn[e]=function(e){for(var t,n=0,i=[],o=ye(e),r=o.length-1;n<=r;n++)t=n===r?this:this.clone(!0),ye(o[n])[a](t),u.apply(i,t.get());return this.pushStack(i)}}),ye.extend({clone:function(e,t,n){var i,o,r,a,s,l=ye.contains(e.ownerDocument,e);if(ye.support.html5Clone||ye.isXMLDoc(e)||!fe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ne.innerHTML=e.outerHTML,Ne.removeChild(r=Ne.firstChild)),!(ye.support.noCloneEvent&&ye.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ye.isXMLDoc(e)))for(i=Le(r),s=Le(e),a=0;null!=(o=s[a]);++a)i[a]&&function(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ye.support.noCloneEvent&&t[ye.expando]){for(i in(o=ye._data(t)).events)ye.removeEvent(t,i,o.handle);t.removeAttribute(ye.expando)}"script"===n&&t.text!==e.text?(Pe(t).text=e.text,Ie(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ye.support.html5Clone&&e.innerHTML&&!ye.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ke.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}(o,i[a]);if(t)if(n)for(s=s||Le(e),i=i||Le(r),a=0;null!=(o=s[a]);a++)Me(o,i[a]);else Me(e,r);return 0<(i=Le(r,"script")).length&&Re(i,!l&&Le(e,"script")),i=s=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c,u,d=e.length,p=de(t),h=[],f=0;f<d;f++)if((r=e[f])||0===r)if("object"===ye.type(r))ye.merge(h,r.nodeType?[r]:r);else if(xe.test(r)){for(s=s||p.appendChild(t.createElement("div")),l=(ve.exec(r)||["",""])[1].toLowerCase(),u=_e[l]||_e._default,s.innerHTML=u[1]+r.replace(ge,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!ye.support.leadingWhitespace&&me.test(r)&&h.push(t.createTextNode(me.exec(r)[0])),!ye.support.tbody)for(o=(r="table"!==l||be.test(r)?"<table>"!==u[1]||be.test(r)?0:s:s.firstChild)&&r.childNodes.length;o--;)ye.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ye.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(r));for(s&&p.removeChild(s),ye.support.appendChecked||ye.grep(Le(h,"input"),De),f=0;r=h[f++];)if((!i||-1===ye.inArray(r,i))&&(a=ye.contains(r.ownerDocument,r),s=Le(p.appendChild(r),"script"),a&&Re(s),n))for(o=0;r=s[o++];)Ce.test(r.type||"")&&n.push(r);return s=null,p},cleanData:function(e,t){for(var n,i,o,r,a=0,s=ye.expando,l=ye.cache,c=ye.support.deleteExpando,u=ye.event.special;null!=(n=e[a]);a++)if((t||ye.acceptData(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)u[i]?ye.event.remove(n,i):ye.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!=m?n.removeAttribute(s):n[s]=null,d.push(o))}},_evalUrl:function(e){return ye.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ye.fn.extend({wrapAll:function(t){return ye.isFunction(t)?this.each(function(e){ye(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ye(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this);var e},wrapInner:function(n){return ye.isFunction(n)?this.each(function(e){ye(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ye(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=ye.isFunction(t);return this.each(function(e){ye(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){ye.nodeName(this,"body")||ye(this).replaceWith(this.childNodes)}).end()}});var je,Fe,Oe,Be=/alpha\([^)]*\)/i,He=/opacity\s*=\s*([^)]*)/,$e=/^(top|right|bottom|left)$/,ze=/^(none|table(?!-c[ea]).+)/,Ue=/^margin/,Ve=RegExp("^("+k+")(.*)$","i"),qe=RegExp("^("+k+")(?!px)[a-z%]+$","i"),We=RegExp("^([+-])=("+k+")","i"),Ke={BODY:"block"},Ge={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:0,fontWeight:400},Xe=["Top","Right","Bottom","Left"],Qe=["Webkit","O","Moz","ms"];function Ze(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=Qe.length;o--;)if((t=Qe[o]+n)in e)return t;return i}function Je(e,t){return"none"===ye.css(e=t||e,"display")||!ye.contains(e.ownerDocument,e)}function et(e,t){for(var n,i,o,r=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(r[a]=ye._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Je(i)&&(r[a]=ye._data(i,"olddisplay",ot(i.nodeName)))):r[a]||(o=Je(i),(n&&"none"!==n||!o)&&ye._data(i,"olddisplay",o?n:ye.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function tt(e,t,n){var i=Ve.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function nt(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=ye.css(e,n+Xe[r],!0,o)),i?("content"===n&&(a-=ye.css(e,"padding"+Xe[r],!0,o)),"margin"!==n&&(a-=ye.css(e,"border"+Xe[r]+"Width",!0,o))):(a+=ye.css(e,"padding"+Xe[r],!0,o),"padding"!==n&&(a+=ye.css(e,"border"+Xe[r]+"Width",!0,o)));return a}function it(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Fe(e),a=ye.support.boxSizing&&"border-box"===ye.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=Oe(e,t,r))<0||null==o)&&(o=e.style[t]),qe.test(o))return o;i=a&&(ye.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+nt(e,t,n||(a?"border":"content"),i,r)+"px"}function ot(e){var t=g,n=Ke[e];return n||("none"!==(n=rt(e,t))&&n||((t=((je=(je||ye("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||je[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=rt(e,t),je.detach()),Ke[e]=n),n}function rt(e,t){e=ye(t.createElement(e)).appendTo(t.body),t=ye.css(e[0],"display");return e.remove(),t}ye.fn.extend({css:function(e,t){return ye.access(this,function(e,t,n){var i,o,r={},a=0;if(ye.isArray(t)){for(o=Fe(e),i=t.length;a<i;a++)r[t[a]]=ye.css(e,t[a],!1,o);return r}return n!==w?ye.style(e,t,n):ye.css(e,t)},e,t,1<arguments.length)},show:function(){return et(this,!0)},hide:function(){return et(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Je(this)?ye(this).show():ye(this).hide()})}}),ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Oe(e,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ye.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=ye.camelCase(t),l=e.style;if(t=ye.cssProps[s]||(ye.cssProps[s]=Ze(l,s)),a=ye.cssHooks[t]||ye.cssHooks[s],n===w)return a&&"get"in a&&(o=a.get(e,!1,i))!==w?o:l[t];if("string"===(r=typeof n)&&(o=We.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ye.css(e,t)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||ye.cssNumber[s]||(n+="px"),ye.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&(n=a.set(e,n,i))===w)))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var o,r=ye.camelCase(t);return t=ye.cssProps[r]||(ye.cssProps[r]=Ze(e.style,r)),"normal"===(o=(o=(r=ye.cssHooks[t]||ye.cssHooks[r])&&"get"in r?r.get(e,!0,n):o)===w?Oe(e,t,i):o)&&t in Ye&&(o=Ye[t]),""===n||n?(t=parseFloat(o),!0===n||ye.isNumeric(t)?t||0:o):o}}),f.getComputedStyle?(Fe=function(e){return f.getComputedStyle(e,null)},Oe=function(e,t,n){var i=n||Fe(e),o=i?i.getPropertyValue(t)||i[t]:w,r=e.style;return i&&(""!==o||ye.contains(e.ownerDocument,e)||(o=ye.style(e,t)),qe.test(o)&&Ue.test(t)&&(n=r.width,e=r.minWidth,t=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=e,r.maxWidth=t)),o}):g.documentElement.currentStyle&&(Fe=function(e){return e.currentStyle},Oe=function(e,t,n){var i,o=n||Fe(e),r=o?o[t]:w,a=e.style;return null==r&&a&&a[t]&&(r=a[t]),qe.test(r)&&!$e.test(t)&&(i=a.left,(o=(n=e.runtimeStyle)&&n.left)&&(n.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=i,o&&(n.left=o)),""===r?"auto":r}),ye.each(["height","width"],function(e,o){ye.cssHooks[o]={get:function(e,t,n){return t?0===e.offsetWidth&&ze.test(ye.css(e,"display"))?ye.swap(e,Ge,function(){return it(e,o,n)}):it(e,o,n):w},set:function(e,t,n){var i=n&&Fe(e);return tt(0,t,n?nt(e,o,n,ye.support.boxSizing&&"border-box"===ye.css(e,"boxSizing",!1,i),i):0)}}}),ye.support.opacity||(ye.cssHooks.opacity={get:function(e,t){return He.test((t&&e.currentStyle?e.currentStyle:e.style).filter||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ye.isNumeric(t)?"alpha(opacity="+100*t+")":"",e=i&&i.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===ye.trim(e.replace(Be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=Be.test(e)?e.replace(Be,o):e+" "+o)}}),ye(function(){ye.support.reliableMarginRight||(ye.cssHooks.marginRight={get:function(e,t){return t?ye.swap(e,{display:"inline-block"},Oe,[e,"marginRight"]):w}}),!ye.support.pixelPosition&&ye.fn.position&&ye.each(["top","left"],function(e,n){ye.cssHooks[n]={get:function(e,t){return t?(t=Oe(e,n),qe.test(t)?ye(e).position()[n]+"px":t):w}}})}),ye.expr&&ye.expr.filters&&(ye.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ye.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ye.css(e,"display"))},ye.expr.filters.visible=function(e){return!ye.expr.filters.hidden(e)}),ye.each({margin:"",padding:"",border:"Width"},function(o,r){ye.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+Xe[t]+r]=i[t]||i[t-2]||i[0];return n}},Ue.test(o)||(ye.cssHooks[o+r].set=tt)});var at=/%20/g,st=/\[\]$/,lt=/\r?\n/g,ct=/^(?:submit|button|image|reset|file)$/i,ut=/^(?:input|select|textarea|keygen)/i;ye.fn.extend({serialize:function(){return ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ye.prop(this,"elements");return e?ye.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ye(this).is(":disabled")&&ut.test(this.nodeName)&&!ct.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=ye(this).val();return null==n?null:ye.isArray(n)?ye.map(n,function(e){return{name:t.name,value:e.replace(lt,"\r\n")}}):{name:t.name,value:n.replace(lt,"\r\n")}}).get()}}),ye.param=function(e,t){function n(e,t){t=ye.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,o=[];if(t===w&&(t=ye.ajaxSettings&&ye.ajaxSettings.traditional),ye.isArray(e)||e.jquery&&!ye.isPlainObject(e))ye.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(ye.isArray(e))ye.each(e,function(e,t){o||st.test(i)?r(i,t):n(i+"["+("object"==typeof t?e:"")+"]",t,o,r)});else if(o||"object"!==ye.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&").replace(at,"+")},ye.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){ye.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),ye.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var dt,pt,ht=ye.now(),ft=/\?/,mt=/#.*$/,gt=/([?&])_=[^&]*/,vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,yt=/^(?:GET|HEAD)$/,bt=/^\/\//,xt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,wt=ye.fn.load,kt={},Et={},Ct="*/".concat("*");try{pt=e.href}catch(e){(pt=g.createElement("a")).href="",pt=pt.href}function St(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(E)||[];if(ye.isFunction(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function Tt(t,i,o,r){var a={},s=t===Et;function l(e){var n;return a[e]=!0,ye.each(t[e]||[],function(e,t){t=t(i,o,r);return"string"!=typeof t||s||a[t]?s?!(n=t):w:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function _t(e,t){var n,i,o=ye.ajaxSettings.flatOptions||{};for(i in t)t[i]!==w&&((o[i]?e:n=n||{})[i]=t[i]);return n&&ye.extend(!0,e,n),e}dt=xt.exec(pt.toLowerCase())||[],ye.fn.load=function(e,t,n){if("string"!=typeof e&&wt)return wt.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return 0<=s&&(i=e.slice(s,e.length),e=e.slice(0,s)),ye.isFunction(t)?(n=t,t=w):t&&"object"==typeof t&&(r="POST"),0<a.length&&ye.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?ye("<div>").append(ye.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},ye.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ye.fn[t]=function(e){return this.on(t,e)}}),ye.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ye.parseJSON,"text xml":ye.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_t(_t(e,ye.ajaxSettings),t):_t(ye.ajaxSettings,e)},ajaxPrefilter:St(kt),ajaxTransport:St(Et),ajax:function(e,t){"object"==typeof e&&(t=e,e=w);var n,l,c,u,d,p,i,h=ye.ajaxSetup({},t=t||{}),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?ye(f):ye.event,g=ye.Deferred(),v=ye.Callbacks("once memory"),y=h.statusCode||{},o={},r={},b=0,a="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!i)for(i={};t=vt.exec(c);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?c:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=r[n]=r[n]||e,o[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){if(e)if(b<2)for(var t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){e=e||a;return p&&p.abort(e),s(0,e),this}};if(g.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||pt)+"").replace(mt,"").replace(bt,dt[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=ye.trim(h.dataType||"*").toLowerCase().match(E)||[""],null==h.crossDomain&&(e=xt.exec(h.url.toLowerCase()),h.crossDomain=!(!e||e[1]===dt[1]&&e[2]===dt[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(dt[3]||("http:"===dt[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ye.param(h.data,h.traditional)),Tt(kt,h,t,x),2===b)return x;for(n in(d=h.global)&&0==ye.active++&&ye.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!yt.test(h.type),l=h.url,h.hasContent||(h.data&&(l=h.url+=(ft.test(l)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=gt.test(l)?l.replace(gt,"$1_="+ht++):l+(ft.test(l)?"&":"?")+"_="+ht++)),h.ifModified&&(ye.lastModified[l]&&x.setRequestHeader("If-Modified-Since",ye.lastModified[l]),ye.etag[l]&&x.setRequestHeader("If-None-Match",ye.etag[l])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ct+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(n,h.headers[n]);if(h.beforeSend&&(!1===h.beforeSend.call(f,x,h)||2===b))return x.abort();for(n in a="abort",{success:1,error:1,complete:1})x[n](h[n]);if(p=Tt(Et,h,t,x)){x.readyState=1,d&&m.trigger("ajaxSend",[x,h]),h.async&&0<h.timeout&&(u=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,p.send(o,s)}catch(e){if(!(b<2))throw e;s(-1,e)}}else s(-1,"No Transport");function s(e,t,n,i){var o,r,a,s=t;2!==b&&(b=2,u&&clearTimeout(u),p=w,c=i||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){var i,o,r,a,s=e.contents,l=e.dataTypes;for(;"*"===l[0];)l.shift(),o===w&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}i=i||a}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):w}(h,x,n)),a=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];r=u.shift();for(;r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(h,a,x,i),i?(h.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(ye.lastModified[l]=n),(n=x.getResponseHeader("etag"))&&(ye.etag[l]=n)),204===e||"HEAD"===h.type?s="nocontent":304===e?s="notmodified":(s=a.state,o=a.data,i=!(r=a.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),x.status=e,x.statusText=(t||s)+"",i?g.resolveWith(f,[o,s,x]):g.rejectWith(f,[x,s,r]),x.statusCode(y),y=w,d&&m.trigger(i?"ajaxSuccess":"ajaxError",[x,h,i?o:r]),v.fireWith(f,[x,s]),d&&(m.trigger("ajaxComplete",[x,h]),--ye.active||ye.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return ye.get(e,t,n,"json")},getScript:function(e,t){return ye.get(e,w,t,"script")}}),ye.each(["get","post"],function(e,o){ye[o]=function(e,t,n,i){return ye.isFunction(t)&&(i=i||n,n=t,t=w),ye.ajax({url:e,type:o,dataType:i,data:t,success:n})}}),ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ye.globalEval(e),e}}}),ye.ajaxPrefilter("script",function(e){e.cache===w&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ye.ajaxTransport("script",function(t){if(t.crossDomain){var i,o=g.head||ye("head")[0]||g.documentElement;return{send:function(e,n){(i=g.createElement("script")).async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(e,t){!t&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(w,!0)}}}});var Nt=[],At=/(=)\?(?=&|$)|\?\?/;ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||ye.expando+"_"+ht++;return this[e]=!0,e}}),ye.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(At.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=ye.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(At,"$1"+i):!1!==e.jsonp&&(e.url+=(ft.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||ye.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=f[i],f[i]=function(){r=arguments},n.always(function(){f[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Nt.push(i)),r&&ye.isFunction(o)&&o(r[0]),r=o=w}),"script"):w});var Pt,It=0,Rt=f.ActiveXObject&&function(){for(var e in Pt)Pt[e](w,!0)};function Mt(){try{return new f.XMLHttpRequest}catch(e){}}ye.ajaxSettings.xhr=f.ActiveXObject?function(){return!this.isLocal&&Mt()||function(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:Mt,e=ye.ajaxSettings.xhr(),ye.support.cors=!!e&&"withCredentials"in e,(e=ye.support.ajax=!!e)&&ye.ajaxTransport(function(c){var u;if(!c.crossDomain||ye.support.cors)return{send:function(e,a){var s,t,l=c.xhr();if(c.username?l.open(c.type,c.url,c.async,c.username,c.password):l.open(c.type,c.url,c.async),c.xhrFields)for(t in c.xhrFields)l[t]=c.xhrFields[t];c.mimeType&&l.overrideMimeType&&l.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)l.setRequestHeader(t,e[t])}catch(e){}l.send(c.hasContent&&c.data||null),u=function(e,t){var n,i,o,r;try{if(u&&(t||4===l.readyState))if(u=w,s&&(l.onreadystatechange=ye.noop,Rt&&delete Pt[s]),t)4!==l.readyState&&l.abort();else{r={},n=l.status,i=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(r.text=l.responseText);try{o=l.statusText}catch(e){o=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=r.text?200:404}}catch(e){t||a(-1,e)}r&&a(n,o,r,i)},c.async?4===l.readyState?setTimeout(u):(s=++It,Rt&&(Pt||(Pt={},ye(f).unload(Rt)),Pt[s]=u),l.onreadystatechange=u):u()},abort:function(){u&&u(w,!0)}}});var Lt,Dt,jt=/^(?:toggle|show|hide)$/,Ft=RegExp("^(?:([+-])=|)("+k+")([a-z%]*)$","i"),Ot=/queueHooks$/,Bt=[function(t,e,n){var i,o,r,a,s,l,c=this,u={},d=t.style,p=t.nodeType&&Je(t),h=ye._data(t,"fxshow");for(i in n.queue||(null==(s=ye._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ye.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ye.css(t,"display")&&"none"===ye.css(t,"float")&&(ye.support.inlineBlockNeedsLayout&&"inline"!==ot(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ye.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),e)if(o=e[i],jt.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(p?"hide":"show"))continue;u[i]=h&&h[i]||ye.style(t,i)}if(!ye.isEmptyObject(u))for(i in h?"hidden"in h&&(p=h.hidden):h=ye._data(t,"fxshow",{}),r&&(h.hidden=!p),p?ye(t).show():c.done(function(){ye(t).hide()}),c.done(function(){for(var e in ye._removeData(t,"fxshow"),u)ye.style(t,e,u[e])}),u)a=zt(p?h[i]:0,i,c),i in h||(h[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],Ht={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),t=Ft.exec(t),o=t&&t[3]||(ye.cssNumber[e]?"":"px"),r=(ye.cssNumber[e]||"px"!==o&&+i)&&Ft.exec(ye.css(n.elem,e)),a=1,s=20;if(r&&r[3]!==o)for(o=o||r[3],t=t||[],r=+i||1;ye.style(n.elem,e,(r/=a=a||".5")+o),a!==(a=n.cur()/i)&&1!==a&&--s;);return t&&(r=n.start=+r||+i||0,n.unit=o,n.end=t[1]?r+(t[1]+1)*t[2]:+t[2]),n}]};function $t(){return setTimeout(function(){Lt=w}),Lt=ye.now()}function zt(e,t,n){for(var i,o=(Ht[t]||[]).concat(Ht["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function Ut(o,e,t){var n,r,i=0,a=Bt.length,s=ye.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Lt||$t(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(t);return s.notifyWith(o,[c,t,e]),t<1&&i?e:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:ye.extend({},e),opts:ye.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Lt||$t(),duration:t.duration,tweens:[],createTween:function(e,t){e=ye.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),u=c.props;for(function(e,t){var n,i,o,r,a;for(n in e)if(i=ye.camelCase(n),o=t[i],r=e[n],ye.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),a=ye.cssHooks[i],a&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);i<a;i++)if(n=Bt[i].call(c,o,u,c.opts))return n;return ye.map(u,zt,c),ye.isFunction(c.opts.start)&&c.opts.start.call(o,c),ye.fx.timer(ye.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Vt(e,t,n,i,o){return new Vt.prototype.init(e,t,n,i,o)}function qt(e,t){var n,i={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=Xe[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Wt(e){return ye.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}ye.Animation=ye.extend(Ut,{tweener:function(e,t){for(var n,i=0,o=(e=ye.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<o;i++)n=e[i],Ht[n]=Ht[n]||[],Ht[n].unshift(t)},prefilter:function(e,t){t?Bt.unshift(e):Bt.push(e)}}),((ye.Tween=Vt).prototype={constructor:Vt,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ye.cssNumber[n]?"":"px")},cur:function(){var e=Vt.propHooks[this.prop];return(e&&e.get?e:Vt.propHooks._default).get(this)},run:function(e){var t=Vt.propHooks[this.prop];return this.pos=e=this.options.duration?ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(t&&t.set?t:Vt.propHooks._default).set(this),this}}).init.prototype=Vt.prototype,(Vt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ye.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ye.fx.step[e.prop]?ye.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ye.cssProps[e.prop]]||ye.cssHooks[e.prop])?ye.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Vt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ye.each(["toggle","show","hide"],function(e,i){var o=ye.fn[i];ye.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(qt(i,!0),e,t,n)}}),ye.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Je).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=ye.isEmptyObject(t),r=ye.speed(e,n,i),i=function(){var e=Ut(this,ye.extend({},t),r);(o||ye._data(this,"finish"))&&e.stop(!0)};return i.finish=i,o||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(o,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=w),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=ye.timers,i=ye._data(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&Ot.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||ye.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=ye._data(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=ye.timers,r=n?n.length:0;for(t.finish=!0,ye.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ye.each({slideDown:qt("show"),slideUp:qt("hide"),slideToggle:qt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){ye.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),ye.speed=function(e,t,n){var i=e&&"object"==typeof e?ye.extend({},e):{complete:n||!n&&t||ye.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ye.isFunction(t)&&t};return i.duration=ye.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ye.fx.speeds?ye.fx.speeds[i.duration]:ye.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ye.isFunction(i.old)&&i.old.call(this),i.queue&&ye.dequeue(this,i.queue)},i},ye.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ye.timers=[],ye.fx=Vt.prototype.init,ye.fx.tick=function(){var e,t=ye.timers,n=0;for(Lt=ye.now();t.length>n;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ye.fx.stop(),Lt=w},ye.fx.timer=function(e){e()&&ye.timers.push(e)&&ye.fx.start()},ye.fx.interval=13,ye.fx.start=function(){Dt=Dt||setInterval(ye.fx.tick,ye.fx.interval)},ye.fx.stop=function(){clearInterval(Dt),Dt=null},ye.fx.speeds={slow:600,fast:200,_default:400},ye.fx.step={},ye.expr&&ye.expr.filters&&(ye.expr.filters.animated=function(t){return ye.grep(ye.timers,function(e){return t===e.elem}).length}),ye.fn.offset=function(t){if(arguments.length)return t===w?this:this.each(function(e){ye.offset.setOffset(this,t,e)});var e,n={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(e=o.documentElement,ye.contains(e,i)?(typeof i.getBoundingClientRect!=m&&(n=i.getBoundingClientRect()),o=Wt(o),{top:n.top+(o.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(o.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},ye.offset={setOffset:function(e,t,n){var i=ye.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,a=ye(e),s=a.offset(),l=ye.css(e,"top"),c=ye.css(e,"left"),u={},c=("absolute"===i||"fixed"===i)&&-1<ye.inArray("auto",[l,c])?(r=(o=a.position()).top,o.left):(r=parseFloat(l)||0,parseFloat(c)||0);null!=(t=ye.isFunction(t)?t.call(e,n,s):t).top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+c),"using"in t?t.using.call(e,u):a.css(u)}},ye.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ye.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),(n=!ye.nodeName(e[0],"html")?e.offset():n).top+=ye.css(e[0],"borderTopWidth",!0),n.left+=ye.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ye.css(i,"marginTop",!0),left:t.left-n.left-ye.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||r;e&&!ye.nodeName(e,"html")&&"static"===ye.css(e,"position");)e=e.offsetParent;return e||r})}}),ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r=/Y/.test(o);ye.fn[t]=function(e){return ye.access(this,function(e,t,n){var i=Wt(e);return n===w?i?o in i?i[o]:i.document.documentElement[t]:e[t]:(i?i.scrollTo(r?ye(i).scrollLeft():n,r?n:ye(i).scrollTop()):e[t]=n,w)},t,e,arguments.length,null)}}),ye.each({Height:"height",Width:"width"},function(r,a){ye.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,e){ye.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return ye.access(this,function(e,t,n){var i;return ye.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):n===w?ye.css(e,t,o):ye.style(e,t,n,o)},a,n?e:w,n,null)}})}),ye.fn.size=function(){return this.length},ye.fn.andSelf=ye.fn.addBack,"object"==typeof Kt&&Kt&&"object"==typeof Kt.exports?Kt.exports=ye:(f.jQuery=f.$=ye,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ye}))}(window)},{}],221:[function(e,t,n){},{}],222:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],223:[function(n,i,o){!function(Yi){!function(){var e,t;e=this,t=function(e){"use strict";var t,F=(t=e)&&"object"==typeof t&&"default"in t?t:{default:t};function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function H(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw o}}}}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Yi?Yi:"undefined"!=typeof self?self:{};function l(e,t){return e(t={exports:{}},t.exports),t.exports}function c(e){try{return!!e()}catch(e){return!0}}function d(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function p(e){return E.call(e).slice(8,-1)}function h(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function f(e){return S(h(e))}function m(e){return I?P.createElement(e):{}}function g(t,n){try{z(y,t,n)}catch(e){y[t]=n}return n}var v=function(e){return e&&e.Math==Math&&e},y=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof a&&a)||function(){return this}()||Function("return this")(),b=!c(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),x={}.propertyIsEnumerable,w=Object.getOwnPropertyDescriptor,k={f:w&&!x.call({1:2},1)?function(e){e=w(this,e);return!!e&&e.enumerable}:x},E={}.toString,C="".split,S=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==p(e)?C.call(e,""):Object(e)}:Object,T=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_=function(e,t){if(!T(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!T(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!T(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!T(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},N={}.hasOwnProperty,A=function(e,t){return N.call(e,t)},P=y.document,I=T(P)&&T(P.createElement),R=!b&&!c(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),M=Object.getOwnPropertyDescriptor,L={f:b?M:function(e,t){if(e=f(e),t=_(t,!0),R)try{return M(e,t)}catch(e){}if(A(e,t))return d(!k.f.call(e,t),e[t])}},D=function(e){if(!T(e))throw TypeError(String(e)+" is not an object");return e},j=Object.defineProperty,$={f:b?j:function(e,t,n){if(D(e),t=_(t,!0),D(n),R)try{return j(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},z=b?function(e,t,n){return $.f(e,t,d(1,n))}:function(e,t,n){return e[t]=n,e},U="__core-js_shared__",V=y[U]||g(U,{}),q=Function.toString;"function"!=typeof V.inspectSource&&(V.inspectSource=function(e){return q.call(e)});function W(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++re+ae).toString(36)}var K,G,Y,X,Q,Z,J,ee,te=V.inspectSource,ne=y.WeakMap,ie="function"==typeof ne&&/native code/.test(te(ne)),oe=l(function(e){(e.exports=function(e,t){return V[e]||(V[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),re=0,ae=Math.random(),se=oe("keys"),le=function(e){return se[e]||(se[e]=W(e))},ce={},ue=y.WeakMap;J=ie?(K=V.state||(V.state=new ue),G=K.get,Y=K.has,X=K.set,Q=function(e,t){return t.facade=e,X.call(K,e,t),t},Z=function(e){return G.call(K,e)||{}},function(e){return Y.call(K,e)}):(ee=le("state"),ce[ee]=!0,Q=function(e,t){return t.facade=e,z(e,ee,t),t},Z=function(e){return A(e,ee)?e[ee]:{}},function(e){return A(e,ee)});function de(e){return"function"==typeof e?e:void 0}function pe(e){return 0<e?Ce(Ee(e),9007199254740991):0}function he(e,t){return(e=Ee(e))<0?Se(e+t,0):Te(e,t)}function fe(e,t){var n,i=f(e),o=0,r=[];for(n in i)!A(ce,n)&&A(i,n)&&r.push(n);for(;t.length>o;)A(i,n=t[o++])&&(~_e(r,n)||r.push(n));return r}function me(e,t){var n,i,o,r,a=e.target,s=e.global,l=e.stat;if(n=s?y:l?y[a]||g(a,{}):(y[a]||{}).prototype)for(i in t){if(o=t[i],r=e.noTargetGet?(r=Be(n,i))&&r.value:n[i],!Oe(s?i:a+(l?".":"#")+i,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;!function(e,t){for(var n=Re(t),i=$.f,o=L.f,r=0;r<n.length;r++){var a=n[r];A(e,a)||i(e,a,o(t,a))}}(o,r)}(e.sham||r&&r.sham)&&z(o,"sham",!0),ye(n,i,o,e)}}var ge,ve={set:Q,get:Z,has:J,enforce:function(e){return J(e)?Z(e):Q(e,{})},getterFor:function(n){return function(e){var t;if(!T(e)||(t=Z(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}},ye=l(function(e){var t=ve.get,s=ve.enforce,l=String(String).split("String");(e.exports=function(e,t,n,i){var o=!!i&&!!i.unsafe,r=!!i&&!!i.enumerable,a=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||A(n,"name")||z(n,"name",t),(i=s(n)).source||(i.source=l.join("string"==typeof t?t:""))),e!==y?(o?!a&&e[t]&&(r=!0):delete e[t],r?e[t]=n:z(e,t,n)):r?e[t]=n:g(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||te(this)})}),be=y,xe=function(e,t){return arguments.length<2?de(be[e])||de(y[e]):be[e]&&be[e][t]||y[e]&&y[e][t]},we=Math.ceil,ke=Math.floor,Ee=function(e){return isNaN(e=+e)?0:(0<e?ke:we)(e)},Ce=Math.min,Se=Math.max,Te=Math.min,v=function(s){return function(e,t,n){var i,o=f(e),r=pe(o.length),a=he(n,r);if(s&&t!=t){for(;a<r;)if((i=o[a++])!=i)return!0}else for(;a<r;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}},a={includes:v(!0),indexOf:v(!1)},_e=a.indexOf,Ne=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ae=Ne.concat("length","prototype"),Pe={f:Object.getOwnPropertyNames||function(e){return fe(e,Ae)}},Ie={f:Object.getOwnPropertySymbols},Re=xe("Reflect","ownKeys")||function(e){var t=Pe.f(D(e)),n=Ie.f;return n?t.concat(n(e)):t},Me=/#|\.prototype\./,x=function(e,t){e=De[Le(e)];return e==Fe||e!=je&&("function"==typeof t?c(t):!!t)},Le=x.normalize=function(e){return String(e).replace(Me,".").toLowerCase()},De=x.data={},je=x.NATIVE="N",Fe=x.POLYFILL="P",Oe=x,Be=L.f,He="\t\n\v\f\r                　\u2028\u2029\ufeff",U="["+He+"]",$e=RegExp("^"+U+U+"*"),ze=RegExp(U+U+"*$"),ne=function(t){return function(e){e=String(h(e));return 1&t&&(e=e.replace($e,"")),e=2&t?e.replace(ze,""):e}},ie={start:ne(1),end:ne(2),trim:ne(3)},Ue=ie.trim;me({target:"String",proto:!0,forced:(ge="trim",c(function(){return He.trim()||"​᠎"!="​᠎".trim()||He.trim.name!==ge}))},{trim:function(){return Ue(this)}});var ue=function(e,t){var n=[][e];return!!n&&c(function(){n.call(null,t||function(){throw 1},1)})},Ve=[].join,v=S!=Object,x=ue("join",",");me({target:"Array",proto:!0,forced:v||!x},{join:function(e){return Ve.call(f(this),void 0===e?",":e)}});var qe=function(){var e=D(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function We(e,t){return RegExp(e,t)}var U={UNSUPPORTED_Y:c(function(){var e=We("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:c(function(){var e=We("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Ke=RegExp.prototype.exec,Ge=String.prototype.replace,ne=Ke,Ye=(v=/a/,x=/b*/g,Ke.call(v,"a"),Ke.call(x,"a"),0!==v.lastIndex||0!==x.lastIndex),Xe=U.UNSUPPORTED_Y||U.BROKEN_CARET,Qe=void 0!==/()??/.exec("")[1],Ze=ne=Ye||Qe||Xe?function(e){var t,n,i,o,r=this,a=Xe&&r.sticky,s=qe.call(r),l=r.source,c=0,u=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(r.lastIndex),0<r.lastIndex&&(!r.multiline||r.multiline&&"\n"!==e[r.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",s)),Qe&&(n=new RegExp("^"+l+"$(?!\\s)",s)),Ye&&(t=r.lastIndex),i=Ke.call(a?n:r,u),a?i?(i.input=i.input.slice(c),i[0]=i[0].slice(c),i.index=r.lastIndex,r.lastIndex+=i[0].length):r.lastIndex=0:Ye&&i&&(r.lastIndex=r.global?i.index+i[0].length:t),Qe&&i&&1<i.length&&Ge.call(i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i}:ne;me({target:"RegExp",proto:!0,forced:/./.exec!==Ze},{exec:Ze});var Je="process"==p(y.process),v=xe("navigator","userAgent")||"",x=y.process,ne=x&&x.versions,x=ne&&ne.v8;x?Lt=(vt=x.split("."))[0]+vt[1]:v&&(!(vt=v.match(/Edge\/(\d+)/))||74<=vt[1])&&(vt=v.match(/Chrome\/(\d+)/))&&(Lt=vt[1]);function et(e){return A(at,e)&&(rt||"string"==typeof at[e])||(rt&&A(st,e)?at[e]=st[e]:at[e]=lt("Symbol."+e)),at[e]}function tt(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}function nt(e,t,n){return t+(n?yt(e,t).length:1)}function it(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==p(e))throw TypeError("RegExp#exec called on incompatible receiver");return Ze.call(e,t)}var ot=Lt&&+Lt,rt=!!Object.getOwnPropertySymbols&&!c(function(){return!Symbol.sham&&(Je?38===ot:37<ot&&ot<41)}),ne=rt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,at=oe("wks"),st=y.Symbol,lt=ne?st:st&&st.withoutSetter||W,ct=et("species"),ut=!c(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),dt="$0"==="a".replace(/./,"$0"),x=et("replace"),pt=!!/./[x]&&""===/./[x]("a","$0"),ht=!c(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};e="ab".split(e);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}),v=function(n,e,t,i){var r,o,a=et(n),s=!c(function(){var e={};return e[a]=function(){return 7},7!=""[n](e)}),l=s&&!c(function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[ct]=function(){return t},t.flags="",t[a]=/./[a]),t.exec=function(){return e=!0,null},t[a](""),!e});s&&l&&("replace"!==n||ut&&dt&&!pt)&&("split"!==n||ht)||(r=/./[a],t=(l=t(a,""[n],function(e,t,n,i,o){return t.exec===Ze?s&&!o?{done:!0,value:r.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}},{REPLACE_KEEPS_$0:dt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:pt}))[0],o=l[1],ye(String.prototype,n,t),ye(RegExp.prototype,a,2==e?function(e,t){return o.call(e,this,t)}:function(e){return o.call(e,this)})),i&&z(RegExp.prototype[a],"sham",!0)},ft=et("match"),mt=function(e){var t;return T(e)&&(void 0!==(t=e[ft])?!!t:"RegExp"==p(e))},gt=et("species"),vt=function(r){return function(e,t){var n,i=String(h(e)),o=Ee(t),e=i.length;return o<0||e<=o?r?"":void 0:(t=i.charCodeAt(o))<55296||56319<t||o+1===e||(n=i.charCodeAt(o+1))<56320||57343<n?r?i.charAt(o):t:r?i.slice(o,o+2):n-56320+(t-55296<<10)+65536}},yt=(vt(!1),vt(!0)),bt=[].push,xt=Math.min,wt=4294967295,kt=!c(function(){return!RegExp(wt,"y")});v("split",2,function(o,m,g){var v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var n=String(h(this)),i=void 0===t?wt:t>>>0;if(0==i)return[];if(void 0===e)return[n];if(!mt(e))return m.call(n,e,i);for(var o,r,a,s=[],t=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,c=new RegExp(e.source,t+"g");(o=Ze.call(c,n))&&!((r=c.lastIndex)>l&&(s.push(n.slice(l,o.index)),1<o.length&&o.index<n.length&&bt.apply(s,o.slice(1)),a=o[0].length,l=r,s.length>=i));)c.lastIndex===o.index&&c.lastIndex++;return l===n.length?!a&&c.test("")||s.push(""):s.push(n.slice(l)),s.length>i?s.slice(0,i):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:m.call(this,e,t)}:m;return[function(e,t){var n=h(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,n,t):v.call(String(n),e,t)},function(e,t){var n=g(v,e,this,t,v!==m);if(n.done)return n.value;var i,o=D(e),r=String(this),n=(n=RegExp,void 0===(e=D(o).constructor)||null==(i=D(e)[gt])?n:tt(i)),a=o.unicode,i=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(kt?"y":"g"),s=new n(kt?o:"^(?:"+o.source+")",i),l=void 0===t?wt:t>>>0;if(0==l)return[];if(0===r.length)return null===it(s,r)?[r]:[];for(var c=0,u=0,d=[];u<r.length;){s.lastIndex=kt?u:0;var p,h=it(s,kt?r:r.slice(u));if(null===h||(p=xt(pe(s.lastIndex+(kt?0:u)),r.length))===c)u=nt(r,u,a);else{if(d.push(r.slice(c,u)),d.length===l)return d;for(var f=1;f<=h.length-1;f++)if(d.push(h[f]),d.length===l)return d;u=c=p}}return d.push(r.slice(c)),d}]},!kt);function Et(){}function Ct(e){return"<script>"+e+"<\/script>"}var St,Tt=Object.keys||function(e){return fe(e,Ne)},_t=b?Object.defineProperties:function(e,t){D(e);for(var n,i=Tt(t),o=i.length,r=0;r<o;)$.f(e,n=i[r++],t[n]);return e},Nt=xe("document","documentElement"),At=le("IE_PROTO"),Pt=function(){try{St=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Pt=St?function(e){e.write(Ct("")),e.close();var t=e.parentWindow.Object;return e=null,t}(St):((t=m("iframe")).style.display="none",Nt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ct("document.F=Object")),e.close(),e.F);for(var n=Ne.length;n--;)delete Pt.prototype[Ne[n]];return Pt()};ce[At]=!0;var It=Object.create||function(e,t){var n;return null!==e?(Et.prototype=D(e),n=new Et,Et.prototype=null,n[At]=e):n=Pt(),void 0===t?n:_t(n,t)},Rt=et("unscopables"),Mt=Array.prototype;null==Mt[Rt]&&$.f(Mt,Rt,{configurable:!0,value:It(null)});var Lt=function(e){Mt[Rt][e]=!0},Dt=a.includes;me({target:"Array",proto:!0},{includes:function(e){return Dt(this,e,1<arguments.length?arguments[1]:void 0)}}),Lt("includes");function jt(e){return Object(h(e))}function Ft(e,t,n){(t=_(t))in e?$.f(e,t,d(0,n)):e[t]=n}function Ot(e,t){var n;return new(void 0===(n=Bt(e)&&("function"==typeof(n=e.constructor)&&(n===Array||Bt(n.prototype))||T(n)&&null===(n=n[Ht]))?void 0:n)?Array:n)(0===t?0:t)}var Bt=Array.isArray||function(e){return"Array"==p(e)},Ht=et("species"),$t=et("species"),oe=function(t){return 51<=ot||!c(function(){var e=[];return(e.constructor={})[$t]=function(){return{foo:1}},1!==e[t](Boolean).foo})},zt=et("isConcatSpreadable"),Ut=9007199254740991,Vt="Maximum allowed index exceeded",ne=51<=ot||!c(function(){var e=[];return e[zt]=!1,e.concat()[0]!==e}),x=oe("concat");me({target:"Array",proto:!0,forced:!ne||!x},{concat:function(e){for(var t,n,i,o=jt(this),r=Ot(o,0),a=0,s=-1,l=arguments.length;s<l;s++)if(function(e){if(!T(e))return!1;var t=e[zt];return void 0!==t?!!t:Bt(e)}(i=-1===s?o:arguments[s])){if(a+(n=pe(i.length))>Ut)throw TypeError(Vt);for(t=0;t<n;t++,a++)t in i&&Ft(r,a,i[t])}else{if(Ut<=a)throw TypeError(Vt);Ft(r,a++,i)}return r.length=a,r}});var qt=[].push,vt=function(f){var m=1==f,g=2==f,v=3==f,y=4==f,b=6==f,x=7==f,w=5==f||b;return function(e,t,n,i){for(var o,r,a,s,l=jt(e),c=S(l),u=(s=n,tt(a=t),void 0===s?a:function(e,t,n){return a.call(s,e,t,n)}),d=pe(c.length),p=0,i=i||Ot,h=m?i(e,d):g||x?i(e,0):void 0;p<d;p++)if((w||p in c)&&(r=u(o=c[p],p,l),f))if(m)h[p]=r;else if(r)switch(f){case 3:return!0;case 5:return o;case 6:return p;case 2:qt.call(h,o)}else switch(f){case 4:return!1;case 7:qt.call(h,o)}return b?-1:v||y?y:h}},ne={forEach:vt(0),map:vt(1),filter:vt(2),some:vt(3),every:vt(4),find:vt(5),findIndex:vt(6),filterOut:vt(7)},Wt=ne.find,Kt=!0;"find"in[]&&Array(1).find(function(){Kt=!1}),me({target:"Array",proto:!0,forced:Kt},{find:function(e){return Wt(this,e,1<arguments.length?arguments[1]:void 0)}}),Lt("find");function Gt(e){if(mt(e))throw TypeError("The method doesn't accept regular expressions");return e}var Yt=et("match"),x=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[Yt]=!1,"/./"[t](n)}catch(t){}}return!1};me({target:"String",proto:!0,forced:!x("includes")},{includes:function(e){return!!~String(h(this)).indexOf(Gt(e),1<arguments.length?arguments[1]:void 0)}});var Xt,Qt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Zt=ne.forEach,Jt=ue("forEach")?[].forEach:function(e){return Zt(this,e,1<arguments.length?arguments[1]:void 0)};for(Xt in Qt){var en=y[Xt],en=en&&en.prototype;if(en&&en.forEach!==Jt)try{z(en,"forEach",Jt)}catch(e){en.forEach=Jt}}var tn=ie.trim,nn=y.parseFloat,vt=1/nn(He+"-0")!=-1/0?function(e){var t=tn(String(e)),e=nn(t);return 0===e&&"-"==t.charAt(0)?-0:e}:nn;me({global:!0,forced:parseFloat!=vt},{parseFloat:vt});var on=k.f,vt=function(s){return function(e){for(var t,n=f(e),i=Tt(n),o=i.length,r=0,a=[];r<o;)t=i[r++],b&&!on.call(n,t)||a.push(s?[t,n[t]]:n[t]);return a}},rn=[vt(!0),vt(!1)][0];me({target:"Object",stat:!0},{entries:function(e){return rn(e)}});var an=a.indexOf,sn=[].indexOf,ln=!!sn&&1/[1].indexOf(1,-0)<0,vt=ue("indexOf");me({target:"Array",proto:!0,forced:ln||!vt},{indexOf:function(e){return ln?sn.apply(this,arguments)||0:an(this,e,1<arguments.length?arguments[1]:void 0)}});var cn=[],un=cn.sort,a=c(function(){cn.sort(void 0)}),vt=c(function(){cn.sort(null)}),ue=ue("sort");me({target:"Array",proto:!0,forced:a||!vt||!ue},{sort:function(e){return void 0===e?un.call(jt(this)):un.call(jt(this),tt(e))}});var dn=Math.floor,pn="".replace,hn=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fn=/\$([$&'`]|\d{1,2})/g,mn=Math.max,gn=Math.min;v("replace",2,function(o,x,w,e){var k=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=e.REPLACE_KEEPS_$0,C=k?"$":"$0";return[function(e,t){var n=h(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,n,t):x.call(String(n),e,t)},function(e,t){if(!k&&E||"string"==typeof t&&-1===t.indexOf(C)){var n=w(x,e,this,t);if(n.done)return n.value}var i=D(e),o=String(this),r="function"==typeof t;r||(t=String(t));var a,s=i.global;s&&(a=i.unicode,i.lastIndex=0);for(var l=[];;){var c=it(i,o);if(null===c)break;if(l.push(c),!s)break;""===String(c[0])&&(i.lastIndex=nt(o,pe(i.lastIndex),a))}for(var u,d="",p=0,h=0;h<l.length;h++){for(var c=l[h],f=String(c[0]),m=mn(gn(Ee(c.index),o.length),0),g=[],v=1;v<c.length;v++)g.push(void 0===(u=c[v])?u:String(u));var y,b=c.groups,b=r?(y=[f].concat(g,m,o),void 0!==b&&y.push(b),String(t.apply(void 0,y))):function(r,a,s,l,c,e){var u=s+r.length,d=l.length,t=fn;return void 0!==c&&(c=jt(c),t=hn),pn.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return r;case"`":return a.slice(0,s);case"'":return a.slice(u);case"<":n=c[t.slice(1,-1)];break;default:var i=+t;if(0==i)return e;if(d<i){var o=dn(i/10);return 0!==o&&o<=d?void 0===l[o-1]?t.charAt(1):l[o-1]+t.charAt(1):e}n=l[i-1]}return void 0===n?"":n})}(f,o,m,g,b,t);p<=m&&(d+=o.slice(p,m)+b,p=m+f.length)}return d+o.slice(p)}]});var vn=Object.assign,yn=Object.defineProperty,ue=!vn||c(function(){if(b&&1!==vn({b:1},vn(yn({},"a",{enumerable:!0,get:function(){yn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=vn({},e)[n]||Tt(vn({},t)).join("")!=i})?function(e,t){for(var n=jt(e),i=arguments.length,o=1,r=Ie.f,a=k.f;o<i;)for(var s,l=S(arguments[o++]),c=r?Tt(l).concat(r(l)):Tt(l),u=c.length,d=0;d<u;)s=c[d++],b&&!a.call(l,s)||(n[s]=l[s]);return n}:vn;me({target:"Object",stat:!0,forced:Object.assign!==ue},{assign:ue});var bn=ne.filter,ue=oe("filter");me({target:"Array",proto:!0,forced:!ue},{filter:function(e){return bn(this,e,1<arguments.length?arguments[1]:void 0)}});var xn=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};v("search",1,function(i,o,r){return[function(e){var t=h(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=r(o,e,this);if(t.done)return t.value;var n=D(e),t=String(this),e=n.lastIndex;xn(e,0)||(n.lastIndex=0);t=it(n,t);return xn(n.lastIndex,e)||(n.lastIndex=e),null===t?-1:t.index}]});var wn=ie.trim,kn=y.parseInt,En=/^[+-]?0[Xx]/,v=8!==kn(He+"08")||22!==kn(He+"0x16")?function(e,t){e=wn(String(e));return kn(e,t>>>0||(En.test(e)?16:10))}:kn;me({global:!0,forced:parseInt!=v},{parseInt:v});var Cn=ne.map,v=oe("map");me({target:"Array",proto:!0,forced:!v},{map:function(e){return Cn(this,e,1<arguments.length?arguments[1]:void 0)}});var Sn=ne.findIndex,Tn=!0;"findIndex"in[]&&Array(1).findIndex(function(){Tn=!1}),me({target:"Array",proto:!0,forced:Tn},{findIndex:function(e){return Sn(this,e,1<arguments.length?arguments[1]:void 0)}}),Lt("findIndex");var _n=Object.setPrototypeOf||("__proto__"in{}?function(){var n,i=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),i=e instanceof Array}catch(n){}return function(e,t){return D(e),function(e){if(!T(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(t),i?n.call(e,t):e.__proto__=t,e}}():void 0),Nn=function(e,t,n){var i,o;return _n&&"function"==typeof(i=t.constructor)&&i!==n&&T(o=i.prototype)&&o!==n.prototype&&_n(e,o),e},v=et("species"),An=$.f,ne=Pe.f,Pn=ve.set,In=et("match"),Rn=y.RegExp,Mn=Rn.prototype,Ln=/a/g,Dn=/a/g,jn=new Rn(Ln)!==Ln,Fn=U.UNSUPPORTED_Y;if(b&&Oe("RegExp",!jn||Fn||c(function(){return Dn[In]=!1,Rn(Ln)!=Ln||Rn(Dn)==Dn||"/a/i"!=Rn(Ln,"i")}))){for(var On=function(e,t){var n,i=this instanceof On,o=mt(e),r=void 0===t;if(!i&&o&&e.constructor===On&&r)return e;jn?o&&!r&&(e=e.source):e instanceof On&&(r&&(t=qe.call(e)),e=e.source),Fn&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,""));i=Nn(jn?new Rn(e,t):Rn(e,t),i?this:Mn,On);return Fn&&n&&Pn(i,{sticky:n}),i},Bn=ne(Rn),Hn=0;Bn.length>Hn;)!function(t){t in On||An(On,t,{configurable:!0,get:function(){return Rn[t]},set:function(e){Rn[t]=e}})}(Bn[Hn++]);(Mn.constructor=On).prototype=Mn,ye(y,"RegExp",On)}ne=xe("RegExp"),xe=$.f,b&&ne&&!ne[v]&&xe(ne,v,{configurable:!0,get:function(){return this}});var $n=RegExp.prototype,zn=$n.toString,ne=c(function(){return"/a/b"!=zn.call({source:"a",flags:"b"})}),v="toString"!=zn.name;(ne||v)&&ye(RegExp.prototype,"toString",function(){var e=D(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in $n)?qe.call(e):n)},{unsafe:!0});v={};v[et("toStringTag")]="z";var v="[object z]"===String(v),Un=et("toStringTag"),Vn="Arguments"==p(function(){return arguments}()),qn=v?p:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Un))?e:Vn?p(t):"Object"==(e=p(t))&&"function"==typeof t.callee?"Arguments":e};v||ye(Object.prototype,"toString",v?{}.toString:function(){return"[object "+qn(this)+"]"},{unsafe:!0});var v=oe("slice"),Wn=et("species"),Kn=[].slice,Gn=Math.max;me({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var n,i,o,r=f(this),a=pe(r.length),s=he(e,a),l=he(void 0===t?a:t,a);if(Bt(r)&&((n="function"==typeof(n=r.constructor)&&(n===Array||Bt(n.prototype))||T(n)&&null===(n=n[Wn])?void 0:n)===Array||void 0===n))return Kn.call(r,s,l);for(i=new(void 0===n?Array:n)(Gn(l-s,0)),o=0;s<l;s++,o++)s in r&&Ft(i,o,r[s]);return i.length=o,i}});var Yn,v=!c(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Xn=le("IE_PROTO"),Qn=Object.prototype,Zn=v?Object.getPrototypeOf:function(e){return e=jt(e),A(e,Xn)?e[Xn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Qn:null},Jn=et("iterator"),le=!1;[].keys&&("next"in(v=[].keys())?(v=Zn(Zn(v)))!==Object.prototype&&(Yn=v):le=!0),null!=Yn&&!c(function(){var e={};return Yn[Jn].call(e)!==e})||(Yn={}),A(Yn,Jn)||z(Yn,Jn,function(){return this});function ei(e,t,n){e&&!A(e=n?e:e.prototype,ii)&&ni(e,ii,{configurable:!0,value:t})}function ti(){return this}var le={IteratorPrototype:Yn,BUGGY_SAFARI_ITERATORS:le},ni=$.f,ii=et("toStringTag"),oi=le.IteratorPrototype,ri=le.IteratorPrototype,ai=le.BUGGY_SAFARI_ITERATORS,si=et("iterator"),li="values",ci="Array Iterator",ui=ve.set,di=ve.getterFor(ci),pi=function(e,t,n,i,o){(c=n).prototype=It(oi,{next:d(1,i)}),ei(c,"Array Iterator",!1);var r=function(e){if(e===o&&l)return l;if(!ai&&e in a)return a[e];switch(e){case"keys":case li:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},i=!1,a=e.prototype,s=a[si]||a["@@iterator"]||a[o],l=!ai&&s||r(o),c=a.entries||s;return c&&(e=Zn(c.call(new e)),ri!==Object.prototype&&e.next&&(Zn(e)!==ri&&(_n?_n(e,ri):"function"!=typeof e[si]&&z(e,si,ti)),ei(e,"Array Iterator",!0))),s&&s.name!==li&&(i=!0,l=function(){return s.call(this)}),a[si]!==l&&z(a,si,l),r={values:r(li),keys:r("keys"),entries:r("entries")},me({target:t,proto:!0,forced:ai||i},r),r}(Array,"Array",function(e,t){ui(this,{type:ci,target:f(e),index:0,kind:t})},function(){var e=di(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values");Lt("keys"),Lt("values"),Lt("entries");var hi,fi=et("iterator"),mi=et("toStringTag"),gi=pi.values;for(hi in Qt){var vi=y[hi],yi=vi&&vi.prototype;if(yi){if(yi[fi]!==gi)try{z(yi,fi,gi)}catch(e){yi[fi]=gi}if(yi[mi]||z(yi,mi,hi),Qt[hi])for(var bi in pi)if(yi[bi]!==pi[bi])try{z(yi,bi,pi[bi])}catch(e){yi[bi]=pi[bi]}}}var oe=oe("splice"),xi=Math.max,wi=Math.min;me({target:"Array",proto:!0,forced:!oe},{splice:function(e,t){var n,i,o,r,a,s,l=jt(this),c=pe(l.length),u=he(e,c),e=arguments.length;if(0===e?n=i=0:i=1===e?(n=0,c-u):(n=e-2,wi(xi(Ee(t),0),c-u)),9007199254740991<c+n-i)throw TypeError("Maximum allowed length exceeded");for(o=Ot(l,i),r=0;r<i;r++)(a=u+r)in l&&Ft(o,r,l[a]);if(n<(o.length=i)){for(r=u;r<c-i;r++)s=r+n,(a=r+i)in l?l[s]=l[a]:delete l[s];for(r=c;c-i+n<r;r--)delete l[r-1]}else if(i<n)for(r=c-i;u<r;r--)s=r+n-1,(a=r+i-1)in l?l[s]=l[a]:delete l[s];for(r=0;r<n;r++)l[r+u]=arguments[r+2];return l.length=c-i+n,o}});function ki(e){var t,n,i,o,r,a,s,l=_(e,!1);if("string"==typeof l&&2<l.length)if(43===(t=(l=Si(l)).charCodeAt(0))||45===t){if(88===(e=l.charCodeAt(2))||120===e)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(r=(o=l.slice(2)).length,a=0;a<r;a++)if((s=o.charCodeAt(a))<48||i<s)return NaN;return parseInt(o,n)}return+l}var oe=Pe.f,Ei=L.f,Ci=$.f,Si=ie.trim,Ti="Number",_i=y.Number,Ni=_i.prototype,Ai=p(It(Ni))==Ti;if(Oe(Ti,!_i(" 0o1")||!_i("0b1")||_i("+0x1"))){for(var Pi,Ii=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof Ii&&(Ai?c(function(){Ni.valueOf.call(t)}):p(t)!=Ti)?Nn(new _i(ki(e)),t,Ii):ki(e)},Ri=b?oe(_i):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Mi=0;Ri.length>Mi;Mi++)A(_i,Pi=Ri[Mi])&&!A(Ii,Pi)&&Ci(Ii,Pi,Ei(_i,Pi));(Ii.prototype=Ni).constructor=Ii,ye(y,Ti,Ii)}var Li=[].reverse,ie=[1,2];me({target:"Array",proto:!0,forced:String(ie)===String(ie.reverse())},{reverse:function(){return Bt(this)&&(this.length=this.length),Li.call(this)}});oe=4;try{var Di=F.default.fn.dropdown.Constructor.VERSION;void 0!==Di&&(oe=parseInt(Di,10))}catch(e){}try{var ji=bootstrap.Tooltip.VERSION;void 0!==ji&&(oe=parseInt(ji,10))}catch(e){}Di={3:{iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen",search:"glyphicon-search",clearSearch:"glyphicon-trash"},classes:{buttonsPrefix:"btn",buttons:"default",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"pull",inputGroup:"input-group",inputPrefix:"input-",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],toolbarDropdownItem:'<li class="dropdown-item-marker" role="menuitem"><label>%s</label></li>',toolbarDropdownSeparator:'<li class="divider"></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<span class="input-group-btn">%s</span></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},4:{iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<div class="input-group-append">%s</div></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},5:{iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{dataToggle:"data-bs-toggle",toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<div class="input-group-append">%s</div></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}}}[oe],ie={height:void 0,classes:"table table-bordered table-hover",buttons:{},theadClasses:"",headerStyle:function(e){return{}},rowStyle:function(e,t){return{}},rowAttributes:function(e,t){return{}},undefinedText:"-",locale:void 0,virtualScroll:!1,virtualScrollItemHeight:void 0,sortable:!0,sortClass:void 0,silentSort:!0,sortName:void 0,sortOrder:void 0,sortReset:!1,sortStable:!1,rememberOrder:!1,serverSort:!0,customSort:void 0,columns:[[]],data:[],url:void 0,method:"get",cache:!0,contentType:"application/json",dataType:"json",ajax:void 0,ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},totalField:"total",totalNotFilteredField:"totalNotFiltered",dataField:"rows",footerField:"footer",pagination:!1,paginationParts:["pageInfo","pageSize","pageList"],showExtendedPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,totalNotFiltered:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchHighlight:!1,searchOnEnterKey:!1,strictSearch:!1,searchSelector:!1,visibleSearch:!1,showButtonIcons:!0,showButtonText:!1,showSearchButton:!1,showSearchClearButton:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:void 0,showHeader:!0,showFooter:!1,footerStyle:function(e){return{}},searchAccentNeutralise:!1,showColumns:!1,showColumnsToggleAll:!1,showColumnsSearch:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,filterOptions:{filterAlgorithm:"and"},idField:void 0,selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:function(e){e=e.tagName;return["A","BUTTON"].includes(e)},singleSelect:!1,checkboxHeader:!0,maintainMetaData:!1,multipleSelectRow:!1,uniqueId:void 0,cardView:!1,detailView:!1,detailViewIcon:!0,detailViewByClick:!1,detailViewAlign:"left",detailFormatter:function(e,t){return""},detailFilter:function(e,t){return!0},toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsOrder:["paginationSwitch","refresh","toggle","fullscreen","columns"],buttonsPrefix:Di.classes.buttonsPrefix,buttonsClass:Di.classes.buttons,icons:Di.icons,iconSize:void 0,iconsPrefix:Di.iconsPrefix,loadingFontSize:"auto",loadingTemplate:function(e){return'<span class="loading-wrap">\n      <span class="loading-text">'.concat(e,'</span>\n      <span class="animation-wrap"><span class="animation-dot"></span></span>\n      </span>\n    ')},onAll:function(e,t){return!1},onClickCell:function(e,t,n,i){return!1},onDblClickCell:function(e,t,n,i){return!1},onClickRow:function(e,t){return!1},onDblClickRow:function(e,t){return!1},onSort:function(e,t){return!1},onCheck:function(e){return!1},onUncheck:function(e){return!1},onCheckAll:function(e){return!1},onUncheckAll:function(e){return!1},onCheckSome:function(e){return!1},onUncheckSome:function(e){return!1},onLoadSuccess:function(e){return!1},onLoadError:function(e){return!1},onColumnSwitch:function(e,t){return!1},onPageChange:function(e,t){return!1},onSearch:function(e){return!1},onToggle:function(e){return!1},onPreBody:function(e){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onPostFooter:function(){return!1},onExpandRow:function(e,t,n){return!1},onCollapseRow:function(e,t){return!1},onRefreshOptions:function(e){return!1},onRefresh:function(e){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1}},ji={formatLoadingMessage:function(){return"Loading, please wait"},formatRecordsPerPage:function(e){return"".concat(e," rows per page")},formatShowingRows:function(e,t,n,i){return void 0!==i&&0<i&&n<i?"Showing ".concat(e," to ").concat(t," of ").concat(n," rows (filtered from ").concat(i," total rows)"):"Showing ".concat(e," to ").concat(t," of ").concat(n," rows")},formatSRPaginationPreText:function(){return"previous page"},formatSRPaginationPageText:function(e){return"to page ".concat(e)},formatSRPaginationNextText:function(){return"next page"},formatDetailPagination:function(e){return"Showing ".concat(e," rows")},formatSearch:function(){return"Search"},formatClearSearch:function(){return"Clear Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatPaginationSwitchDown:function(){return"Show pagination"},formatPaginationSwitchUp:function(){return"Hide pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatToggleOn:function(){return"Show card view"},formatToggleOff:function(){return"Hide card view"},formatColumns:function(){return"Columns"},formatColumnsToggleAll:function(){return"Toggle all"},formatFullscreen:function(){return"Fullscreen"},formatAllRows:function(){return"All"}};Object.assign(ie,ji);var Fi={VERSION:"1.18.3",THEME:"bootstrap".concat(oe),CONSTANTS:Di,DEFAULTS:ie,COLUMN_DEFAULTS:{field:void 0,title:void 0,titleTooltip:void 0,class:void 0,width:void 0,widthUnit:"px",rowspan:void 0,colspan:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,cellStyle:void 0,radio:!1,checkbox:!1,checkboxEnabled:!0,clickToSelect:!0,showSelectTitle:!1,sortable:!1,sortName:void 0,order:"asc",sorter:void 0,visible:!0,switchable:!0,cardVisible:!0,searchable:!0,formatter:void 0,footerFormatter:void 0,detailFormatter:void 0,searchFormatter:!0,searchHighlightFormatter:!1,escape:!1,events:void 0},METHODS:["getOptions","refreshOptions","getData","getSelections","load","append","prepend","remove","removeAll","insertRow","updateRow","getRowByUniqueId","updateByUniqueId","removeByUniqueId","updateCell","updateCellByUniqueId","showRow","hideRow","getHiddenRows","showColumn","hideColumn","getVisibleColumns","getHiddenColumns","showAllColumns","hideAllColumns","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","destroy","resetView","showLoading","hideLoading","togglePagination","toggleFullscreen","toggleView","resetSearch","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","toggleDetailView","expandRow","collapseRow","expandRowByUniqueId","collapseRowByUniqueId","expandAllRows","collapseAllRows","updateColumnTitle","updateFormatText"],EVENTS:{"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","post-footer.bs.table":"onPostFooter","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"},LOCALES:{en:ji,"en-US":ji}},ie=c(function(){Tt(1)});me({target:"Object",stat:!0,forced:ie},{keys:function(e){return Tt(jt(e))}});var ji=L.f,Oi="".startsWith,Bi=Math.min,ie=x("startsWith"),Hi=!(ie||(!(Hi=ji(String.prototype,"startsWith"))||Hi.writable));me({target:"String",proto:!0,forced:!Hi&&!ie},{startsWith:function(e){var t=String(h(this));Gt(e);var n=pe(Bi(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return Oi?Oi.call(t,e,n):t.slice(n,n+e.length)===e}});var $i,ie=L.f,zi="".endsWith,Ui=Math.min,x=x("endsWith"),$i=!(x||(!($i=ie(String.prototype,"endsWith"))||$i.writable));me({target:"String",proto:!0,forced:!$i&&!x},{endsWith:function(e){var t=String(h(this));Gt(e);var n=1<arguments.length?arguments[1]:void 0,i=pe(t.length),i=void 0===n?i:Ui(pe(n),i),e=String(e);return zi?zi.call(t,e,i):t.slice(i-e.length,i)===e}});var Vi={getSearchInput:function(e){return"string"==typeof e.options.searchSelector?F.default(e.options.searchSelector):e.$toolbar.find(".search input")},sprintf:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=!0,r=0,e=e.replace(/%s/g,function(){var e=n[r++];return void 0===e?(o=!1,""):e});return o?e:""},isObject:function(e){return e instanceof Object&&!Array.isArray(e)},isEmptyObject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.entries(e).length&&e.constructor===Object},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getFieldTitle:function(e,t){var n,i=H(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.field===t)return o.title}}catch(e){i.e(e)}finally{i.f()}return""},setFieldIndex:function(e){var t,n=0,i=[],o=H(e[0]);try{for(o.s();!(t=o.n()).done;)n+=t.value.colspan||1}catch(e){o.e(e)}finally{o.f()}for(var r=0;r<e.length;r++){i[r]=[];for(var a=0;a<n;a++)i[r][a]=!1}for(var s=0;s<e.length;s++){var l,c=H(e[s]);try{for(c.s();!(l=c.n()).done;){var u=l.value,d=u.rowspan||1,p=u.colspan||1,h=i[s].indexOf(!1);u.colspanIndex=h,1===p?(u.fieldIndex=h,void 0===u.field&&(u.field=h)):u.colspanGroup=u.colspan;for(var f=0;f<d;f++)for(var m=0;m<p;m++)i[s+f][h+m]=!0}}catch(e){c.e(e)}finally{c.f()}}},normalizeAccent:function(e){return"string"!=typeof e?e:e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},updateFieldGroup:function(e){var t,n,i=(t=[]).concat.apply(t,u(e)),o=H(e);try{for(o.s();!(n=o.n()).done;){var r,a=H(n.value);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(1<s.colspanGroup){for(var l=0,c=s.colspanIndex;c<s.colspanIndex+s.colspanGroup;c++)!function(t){i.find(function(e){return e.fieldIndex===t}).visible&&l++}(c);s.colspan=l,s.visible=0<l}}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}},getScrollBarWidth:function(){var e,t,n;return void 0===this.cachedWidth&&(n=F.default("<div/>").addClass("fixed-table-scroll-inner"),(e=F.default("<div/>").addClass("fixed-table-scroll-outer")).append(n),F.default("body").append(e),t=n[0].offsetWidth,e.css("overflow","scroll"),t===(n=n[0].offsetWidth)&&(n=e[0].clientWidth),e.remove(),this.cachedWidth=t-n),this.cachedWidth},calculateObjectValue:function(e,t,n,i){var o=t;if("string"==typeof t){var r=t.split(".");if(1<r.length){var a,o=window,s=H(r);try{for(s.s();!(a=s.n()).done;)o=o[a.value]}catch(e){s.e(e)}finally{s.f()}}else o=window[t]}return null!==o&&"object"===O(o)?o:"function"==typeof o?o.apply(e,n||[]):!o&&"string"==typeof t&&this.sprintf.apply(this,[t].concat(u(n)))?this.sprintf.apply(this,[t].concat(u(n))):i},compareObjects:function(e,t,n){var i=Object.keys(e),o=Object.keys(t);if(n&&i.length!==o.length)return!1;for(var r=0,a=i;r<a.length;r++){var s=a[r];if(o.includes(s)&&e[s]!==t[s])return!1}return!0},escapeHTML:function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):e},unescapeHTML:function(e){return"string"==typeof e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&#x60;/g,"`"):e},getRealDataAttr:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=B(n[t],2),o=i[0],r=i[1],i=o.split(/(?=[A-Z])/).join("-").toLowerCase();i!==o&&(e[i]=r,delete e[o])}return e},getItemField:function(e,t,n){var i=e;if("string"!=typeof t||e.hasOwnProperty(t))return n?this.escapeHTML(e[t]):e[t];var o,r=H(t.split("."));try{for(r.s();!(o=r.n()).done;)var a=o.value,i=i&&i[a]}catch(e){r.e(e)}finally{r.f()}return n?this.escapeHTML(i):i},isIEBrowser:function(){return navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)},findIndex:function(e,t){var n,i=H(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(JSON.stringify(o)===JSON.stringify(t))return e.indexOf(o)}}catch(e){i.e(e)}finally{i.f()}return-1},trToData:function(c,e){var u=this,t=[],d=[];return e.each(function(s,e){var e=F.default(e),l={};l._id=e.attr("id"),l._class=e.attr("class"),l._data=u.getRealDataAttr(e.data()),l._style=e.attr("style"),e.find(">td,>th").each(function(e,t){for(var t=F.default(t),n=+t.attr("colspan")||1,i=+t.attr("rowspan")||1,o=e;d[s]&&d[s][o];o++);for(var r=o;r<o+n;r++)for(var a=s;a<s+i;a++)d[a]||(d[a]=[]),d[a][r]=!0;e=c[o].field;l[e]=t.html().trim(),l["_".concat(e,"_id")]=t.attr("id"),l["_".concat(e,"_class")]=t.attr("class"),l["_".concat(e,"_rowspan")]=t.attr("rowspan"),l["_".concat(e,"_colspan")]=t.attr("colspan"),l["_".concat(e,"_title")]=t.attr("title"),l["_".concat(e,"_data")]=u.getRealDataAttr(t.data()),l["_".concat(e,"_style")]=t.attr("style")}),t.push(l)}),t},sort:function(e,t,n,i,o,r){return null==e&&(e=""),null==t&&(t=""),i&&e===t&&(e=o,t=r),this.isNumeric(e)&&this.isNumeric(t)?(e=parseFloat(e))<(t=parseFloat(t))?-1*n:t<e?n:0:e===t?0:-1===(e="string"!=typeof e?e.toString():e).localeCompare(t)?-1*n:n},getEventName:function(e){var t=(t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")||"".concat(+new Date).concat(~~(1e6*Math.random()));return"".concat(e,"-").concat(t)},hasDetailViewIcon:function(e){return e.detailView&&e.detailViewIcon&&!e.cardView},getDetailViewIndexOffset:function(e){return this.hasDetailViewIcon(e)&&"right"!==e.detailViewAlign?1:0},checkAutoMergeCells:function(e){var t,n=H(e);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,o=0,r=Object.keys(i);o<r.length;o++){var a=r[o];if(a.startsWith("_")&&(a.endsWith("_rowspan")||a.endsWith("_colspan")))return!0}}catch(e){n.e(e)}finally{n.f()}return!1},deepCopy:function(e){return void 0===e?e:F.default.extend(!0,Array.isArray(e)?[]:{},e)}},qi=(n(Gi,[{key:"initDOM",value:function(e,t){void 0===this.clusterHeight&&(this.cache.scrollTop=this.scrollEl.scrollTop,this.cache.data=this.contentEl.innerHTML=e[0]+e[0]+e[0],this.getRowsHeight(e));var n=this.initData(e,this.getNum(t)),i=n.rows.join(""),o=this.checkChanges("data",i),r=this.checkChanges("top",n.topOffset),a=this.checkChanges("bottom",n.bottomOffset),e=[];o&&r?(n.topOffset&&e.push(this.getExtra("top",n.topOffset)),e.push(i),n.bottomOffset&&e.push(this.getExtra("bottom",n.bottomOffset)),this.contentEl.innerHTML=e.join(""),t&&(this.contentEl.scrollTop=this.cache.scrollTop)):a&&(this.contentEl.lastChild.style.height="".concat(n.bottomOffset,"px"))}},{key:"getRowsHeight",value:function(){var e;void 0===this.itemHeight&&(e=(e=this.contentEl.children)[Math.floor(e.length/2)],this.itemHeight=e.offsetHeight),this.blockHeight=50*this.itemHeight,this.clusterRows=200,this.clusterHeight=4*this.blockHeight}},{key:"getNum",value:function(e){return this.scrollTop=(e?this.cache:this.scrollEl).scrollTop,Math.floor(this.scrollTop/(this.clusterHeight-this.blockHeight))||0}},{key:"initData",value:function(e,t){if(e.length<50)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:e};var n=Math.max((this.clusterRows-50)*t,0),i=n+this.clusterRows,o=Math.max(n*this.itemHeight,0),r=Math.max((e.length-i)*this.itemHeight,0),a=[],t=n;o<1&&t++;for(var s=n;s<i;s++)e[s]&&a.push(e[s]);return{topOffset:o,bottomOffset:r,rowsAbove:t,rows:a}}},{key:"checkChanges",value:function(e,t){var n=t!==this.cache[e];return this.cache[e]=t,n}},{key:"getExtra",value:function(e,t){var n=document.createElement("tr");return n.className="virtual-scroll-".concat(e),t&&(n.style.height="".concat(t,"px")),n.outerHTML}}]),Gi),Wi=(n(Ki,[{key:"init",value:function(){this.initConstants(),this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}},{key:"initConstants",value:function(){var e=this.options;this.constants=Fi.CONSTANTS,this.constants.theme=F.default.fn.bootstrapTable.theme,this.constants.dataToggle=this.constants.html.dataToggle||"data-toggle";var t=e.buttonsPrefix?"".concat(e.buttonsPrefix,"-"):"";this.constants.buttonsClass=[e.buttonsPrefix,t+e.buttonsClass,Vi.sprintf("".concat(t,"%s"),e.iconSize)].join(" ").trim(),this.buttons=Vi.calculateObjectValue(this,e.buttons,[],{}),"object"!==O(this.buttons)&&(this.buttons={}),"string"==typeof e.icons&&(e.icons=Vi.calculateObjectValue(null,e.icons))}},{key:"initLocale",value:function(){var e,t;this.options.locale&&(e=F.default.fn.bootstrapTable.locales,(t=this.options.locale.split(/-|_/))[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),e[this.options.locale]?F.default.extend(this.options,e[this.options.locale]):e[t.join("-")]?F.default.extend(this.options,e[t.join("-")]):e[t[0]]&&F.default.extend(this.options,e[t[0]]))}},{key:"initContainer",value:function(){var e=["top","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",t=["bottom","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"",n=Vi.calculateObjectValue(this.options,this.options.loadingTemplate,[this.options.formatLoadingMessage()]);this.$container=F.default('\n      <div class="bootstrap-table '.concat(this.constants.theme,'">\n      <div class="fixed-table-toolbar"></div>\n      ').concat(e,'\n      <div class="fixed-table-container">\n      <div class="fixed-table-header"><table></table></div>\n      <div class="fixed-table-body">\n      <div class="fixed-table-loading">\n      ').concat(n,'\n      </div>\n      </div>\n      <div class="fixed-table-footer"></div>\n      </div>\n      ').concat(t,"\n      </div>\n    ")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$el.find("tfoot"),this.options.buttonsToolbar?this.$toolbar=F.default("body").find(this.options.buttonsToolbar):this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.$tableLoading.addClass(this.options.classes),this.options.height&&(this.$tableContainer.addClass("fixed-height"),this.options.showFooter&&this.$tableContainer.addClass("has-footer"),this.options.classes.split(" ").includes("table-bordered")&&(this.$tableBody.append('<div class="fixed-table-border"></div>'),this.$tableBorder=this.$tableBody.find(".fixed-table-border"),this.$tableLoading.addClass("fixed-table-border")),this.$tableFooter=this.$container.find(".fixed-table-footer"))}},{key:"initTable",value:function(){var e,i=this,o=[];this.$header=this.$el.find(">thead"),this.$header.length?this.options.theadClasses&&this.$header.addClass(this.options.theadClasses):this.$header=F.default('<thead class="'.concat(this.options.theadClasses,'"></thead>')).appendTo(this.$el),this._headerTrClasses=[],this._headerTrStyles=[],this.$header.find("tr").each(function(e,t){var t=F.default(t),n=[];t.find("th").each(function(e,t){t=F.default(t);void 0!==t.data("field")&&t.data("field","".concat(t.data("field"))),n.push(F.default.extend({},{title:t.html(),class:t.attr("class"),titleTooltip:t.attr("title"),rowspan:t.attr("rowspan")?+t.attr("rowspan"):void 0,colspan:t.attr("colspan")?+t.attr("colspan"):void 0},t.data()))}),o.push(n),t.attr("class")&&i._headerTrClasses.push(t.attr("class")),t.attr("style")&&i._headerTrStyles.push(t.attr("style"))}),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=F.default.extend(!0,[],o,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],Vi.setFieldIndex(this.options.columns),this.options.columns.forEach(function(e,n){e.forEach(function(e,t){e=F.default.extend({},Ki.COLUMN_DEFAULTS,e);void 0!==e.fieldIndex&&(i.columns[e.fieldIndex]=e,i.fieldsColumnsIndex[e.field]=e.fieldIndex),i.options.columns[n][t]=e})}),this.options.data.length||(e=Vi.trToData(this.columns,this.$el.find(">tbody>tr"))).length&&(this.options.data=e,this.fromHtml=!0),this.options.pagination&&"server"!==this.options.sidePagination||(this.footerData=Vi.trToData(this.columns,this.$el.find(">tfoot>tr"))),this.footerData&&this.$el.find("tfoot").html("<tr></tr>"),!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}},{key:"initHeader",value:function(){var m=this,g={},i=[];this.header={fields:[],styles:[],classes:[],formatters:[],detailFormatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},Vi.updateFieldGroup(this.options.columns),this.options.columns.forEach(function(e,h){var f=[];f.push("<tr".concat(Vi.sprintf(' class="%s"',m._headerTrClasses[h])," ").concat(Vi.sprintf(' style="%s"',m._headerTrStyles[h]),">"));var t,n="";0===h&&Vi.hasDetailViewIcon(m.options)&&(t=1<m.options.columns.length?' rowspan="'.concat(m.options.columns.length,'"'):"",n='<th class="detail"'.concat(t,'>\n          <div class="fht-cell"></div>\n          </th>')),n&&"right"!==m.options.detailViewAlign&&f.push(n),e.forEach(function(e,t){var n=Vi.sprintf(' class="%s"',e.class),i=e.widthUnit,o=parseFloat(e.width),r=Vi.sprintf("text-align: %s; ",e.halign||e.align),a=Vi.sprintf("text-align: %s; ",e.align),s=Vi.sprintf("vertical-align: %s; ",e.valign);if(s+=Vi.sprintf("width: %s; ",!e.checkbox&&!e.radio||o?o?o+i:void 0:e.showSelectTitle?void 0:"36px"),void 0!==e.fieldIndex||e.visible){var o=Vi.calculateObjectValue(null,m.options.headerStyle,[e]),l=[],i="";if(o&&o.css)for(var c=0,u=Object.entries(o.css);c<u.length;c++){var d=B(u[c],2),p=d[0],d=d[1];l.push("".concat(p,": ").concat(d))}if(o&&o.classes&&(i=Vi.sprintf(' class="%s"',e.class?[e.class,o.classes].join(" "):o.classes)),void 0!==e.fieldIndex){if(m.header.fields[e.fieldIndex]=e.field,m.header.styles[e.fieldIndex]=a+s,m.header.classes[e.fieldIndex]=n,m.header.formatters[e.fieldIndex]=e.formatter,m.header.detailFormatters[e.fieldIndex]=e.detailFormatter,m.header.events[e.fieldIndex]=e.events,m.header.sorters[e.fieldIndex]=e.sorter,m.header.sortNames[e.fieldIndex]=e.sortName,m.header.cellStyles[e.fieldIndex]=e.cellStyle,m.header.searchables[e.fieldIndex]=e.searchable,!e.visible)return;if(m.options.cardView&&!e.cardVisible)return;g[e.field]=e}f.push("<th".concat(Vi.sprintf(' title="%s"',e.titleTooltip)),e.checkbox||e.radio?Vi.sprintf(' class="bs-checkbox %s"',e.class||""):i||n,Vi.sprintf(' style="%s"',r+s+l.join("; ")),Vi.sprintf(' rowspan="%s"',e.rowspan),Vi.sprintf(' colspan="%s"',e.colspan),Vi.sprintf(' data-field="%s"',e.field),0===t&&0<h?" data-not-first-th":"",">"),f.push(Vi.sprintf('<div class="th-inner %s">',m.options.sortable&&e.sortable?"sortable both":""));s=m.options.escape?Vi.escapeHTML(e.title):e.title,t=s;e.checkbox&&(s="",!m.options.singleSelect&&m.options.checkboxHeader&&(s='<label><input name="btSelectAll" type="checkbox" /><span></span></label>'),m.header.stateField=e.field),e.radio&&(s="",m.header.stateField=e.field),!s&&e.showSelectTitle&&(s+=t),f.push(s),f.push("</div>"),f.push('<div class="fht-cell"></div>'),f.push("</div>"),f.push("</th>")}}),n&&"right"===m.options.detailViewAlign&&f.push(n),f.push("</tr>"),3<f.length&&i.push(f.join(""))}),this.$header.html(i.join("")),this.$header.find("th[data-field]").each(function(e,t){F.default(t).data(g[F.default(t).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(e){var t=F.default(e.currentTarget);if(m.options.detailView&&!t.parent().hasClass("bs-checkbox")&&t.closest(".bootstrap-table")[0]!==m.$container[0])return!1;m.options.sortable&&t.parent().data().sortable&&m.onSort(e)}),this.$header.children().children().off("keypress").on("keypress",function(e){m.options.sortable&&F.default(e.currentTarget).data().sortable&&13===(e.keyCode||e.which)&&m.onSort(e)});var e=Vi.getEventName("resize.bootstrap-table",this.$el.attr("id"));F.default(window).off(e),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),F.default(window).on(e,function(){return m.resetView()})),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(e){e.stopPropagation();e=F.default(e.currentTarget).prop("checked");m[e?"checkAll":"uncheckAll"](),m.updateSelected()})}},{key:"initData",value:function(e,t){"append"===t?this.options.data=this.options.data.concat(e):"prepend"===t?this.options.data=[].concat(e).concat(this.options.data):(e=e||Vi.deepCopy(this.options.data),this.options.data=Array.isArray(e)?e:e[this.options.dataField]),this.data=u(this.options.data),this.options.sortReset&&(this.unsortedData=u(this.data)),"server"!==this.options.sidePagination&&this.initSort()}},{key:"initSort",value:function(){var r=this,a=this.options.sortName,s="desc"===this.options.sortOrder?-1:1,l=this.header.fields.indexOf(this.options.sortName);-1!==l?(this.options.sortStable&&this.data.forEach(function(e,t){e.hasOwnProperty("_position")||(e._position=t)}),this.options.customSort?Vi.calculateObjectValue(this.options,this.options.customSort,[this.options.sortName,this.options.sortOrder,this.data]):this.data.sort(function(e,t){r.header.sortNames[l]&&(a=r.header.sortNames[l]);var n=Vi.getItemField(e,a,r.options.escape),i=Vi.getItemField(t,a,r.options.escape),o=Vi.calculateObjectValue(r.header,r.header.sorters[l],[n,i,e,t]);return void 0!==o?r.options.sortStable&&0===o?s*(e._position-t._position):s*o:Vi.sort(n,i,s,r.options.sortStable,e._position,t._position)}),void 0!==this.options.sortClass&&(clearTimeout(0),setTimeout(function(){r.$el.removeClass(r.options.sortClass);var e=r.$header.find('[data-field="'.concat(r.options.sortName,'"]')).index();r.$el.find("tr td:nth-child(".concat(e+1,")")).addClass(r.options.sortClass)},250))):this.options.sortReset&&(this.data=u(this.unsortedData))}},{key:"onSort",value:function(e){var t=e.type,n=e.currentTarget,e="keypress"===t?F.default(n):F.default(n).parent(),t=this.$header.find("th").eq(e.index());if(this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===e.data("field")?(void 0===(n=this.options.sortOrder)?this.options.sortOrder="asc":"asc"===n?this.options.sortOrder="desc":"desc"===this.options.sortOrder&&(this.options.sortOrder=this.options.sortReset?void 0:"asc"),void 0===this.options.sortOrder&&(this.options.sortName=void 0)):(this.options.sortName=e.data("field"),this.options.rememberOrder?this.options.sortOrder="asc"===e.data("order")?"desc":"asc":this.options.sortOrder=this.columns[this.fieldsColumnsIndex[e.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[e.data("field")]].order),this.trigger("sort",this.options.sortName,this.options.sortOrder),e.add(t).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination&&this.options.serverSort)return this.options.pageNumber=1,void this.initServer(this.options.silentSort);this.initSort(),this.initBody()}},{key:"initToolbar",value:function(){var e,a=this,s=this.options,t=[],n=0,l=0;this.$toolbar.find(".bs-bars").children().length&&F.default("body").append(F.default(s.toolbar)),this.$toolbar.html(""),"string"!=typeof s.toolbar&&"object"!==O(s.toolbar)||F.default(Vi.sprintf('<div class="bs-bars %s-%s"></div>',this.constants.classes.pull,s.toolbarAlign)).appendTo(this.$toolbar).append(F.default(s.toolbar)),t=['<div class="'.concat(["columns","columns-".concat(s.buttonsAlign),this.constants.classes.buttonsGroup,"".concat(this.constants.classes.pull,"-").concat(s.buttonsAlign)].join(" "),'">')],"string"==typeof s.buttonsOrder&&(s.buttonsOrder=s.buttonsOrder.replace(/\[|\]| |'/g,"").split(",")),this.buttons=Object.assign(this.buttons,{paginationSwitch:{text:s.pagination?s.formatPaginationSwitchUp():s.formatPaginationSwitchDown(),icon:s.pagination?s.icons.paginationSwitchDown:s.icons.paginationSwitchUp,render:!1,event:this.togglePagination,attributes:{"aria-label":s.formatPaginationSwitch(),title:s.formatPaginationSwitch()}},refresh:{text:s.formatRefresh(),icon:s.icons.refresh,render:!1,event:this.refresh,attributes:{"aria-label":s.formatRefresh(),title:s.formatRefresh()}},toggle:{text:s.formatToggle(),icon:s.icons.toggleOff,render:!1,event:this.toggleView,attributes:{"aria-label":s.formatToggleOn(),title:s.formatToggleOn()}},fullscreen:{text:s.formatFullscreen(),icon:s.icons.fullscreen,render:!1,event:this.toggleFullscreen,attributes:{"aria-label":s.formatFullscreen(),title:s.formatFullscreen()}},columns:{render:!1,html:function(){var e,o=[];o.push('<div class="keep-open '.concat(a.constants.classes.buttonsDropdown,'" title="').concat(s.formatColumns(),'">\n            <button class="').concat(a.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(a.constants.dataToggle,'="dropdown"\n            aria-label="Columns" title="').concat(s.formatColumns(),'">\n            ').concat(s.showButtonIcons?Vi.sprintf(a.constants.html.icon,s.iconsPrefix,s.icons.columns):"","\n            ").concat(s.showButtonText?s.formatColumns():"","\n            ").concat(a.constants.html.dropdownCaret,"\n            </button>\n            ").concat(a.constants.html.toolbarDropdown[0])),s.showColumnsSearch&&(o.push(Vi.sprintf(a.constants.html.toolbarDropdownItem,Vi.sprintf('<input type="text" class="%s" name="columnsSearch" placeholder="%s" autocomplete="off">',a.constants.classes.input,s.formatSearch()))),o.push(a.constants.html.toolbarDropdownSeparator)),s.showColumnsToggleAll&&(e=a.getVisibleColumns().length===a.columns.filter(function(e){return!a.isSelectionColumn(e)}).length,o.push(Vi.sprintf(a.constants.html.toolbarDropdownItem,Vi.sprintf('<input type="checkbox" class="toggle-all" %s> <span>%s</span>',e?'checked="checked"':"",s.formatColumnsToggleAll()))),o.push(a.constants.html.toolbarDropdownSeparator));var r=0;return a.columns.forEach(function(e){e.visible&&r++}),a.columns.forEach(function(e,t){var n,i;a.isSelectionColumn(e)||s.cardView&&!e.cardVisible||(n=e.visible?' checked="checked"':"",i=r<=s.minimumCountColumns&&n?' disabled="disabled"':"",e.switchable&&(o.push(Vi.sprintf(a.constants.html.toolbarDropdownItem,Vi.sprintf('<input type="checkbox" data-field="%s" value="%s"%s%s> <span>%s</span>',e.field,t,n,i,e.title))),l++))}),o.push(a.constants.html.toolbarDropdown[1],"</div>"),o.join("")}}});for(var i={},o=0,r=Object.entries(this.buttons);o<r.length;o++){var c=B(r[o],2),u=c[0],d=c[1],p=void 0;if(d.hasOwnProperty("html"))"function"==typeof d.html?p=d.html():"string"==typeof d.html&&(p=d.html);else{if(p='<button class="'.concat(this.constants.buttonsClass,'" type="button" name="').concat(u,'"'),d.hasOwnProperty("attributes"))for(var h=0,f=Object.entries(d.attributes);h<f.length;h++){var m=B(f[h],2),g=m[0],m=m[1];p+=" ".concat(g,'="').concat(m,'"')}p+=">",s.showButtonIcons&&d.hasOwnProperty("icon")&&(p+="".concat(Vi.sprintf(this.constants.html.icon,s.iconsPrefix,d.icon)," ")),s.showButtonText&&d.hasOwnProperty("text")&&(p+=d.text),p+="</button>"}i[u]=p;var v="show".concat(u.charAt(0).toUpperCase()).concat(u.substring(1)),c=s[v];!(!d.hasOwnProperty("render")||d.hasOwnProperty("render")&&d.render)||void 0!==c&&!0!==c||(s[v]=!0),s.buttonsOrder.includes(u)||s.buttonsOrder.push(u)}var y,b=H(s.buttonsOrder);try{for(b.s();!(y=b.n()).done;){var x=y.value;s["show".concat(x.charAt(0).toUpperCase()).concat(x.substring(1))]&&t.push(i[x])}}catch(e){b.e(e)}finally{b.f()}t.push("</div>"),(this.showToolbar||2<t.length)&&this.$toolbar.append(t.join(""));for(var w,k,E,C=0,S=Object.entries(this.buttons);C<S.length;C++){var T=B(S[C],2),_=T[0],N=T[1];if(N.hasOwnProperty("event")&&("function"!=typeof N.event&&"string"!=typeof N.event||"continue"!==function(){var e="string"==typeof N.event?window[N.event]:N.event;return a.$toolbar.find('button[name="'.concat(_,'"]')).off("click").on("click",function(){return e.call(a)}),"continue"}()))for(var A=0,P=Object.entries(N.event);A<P.length;A++)!function(){var e=B(P[A],2),t=e[0],e=e[1],n="string"==typeof e?window[e]:e;a.$toolbar.find('button[name="'.concat(_,'"]')).off(t).on(t,function(){return n.call(a)})}()}s.showColumns&&(w=(e=this.$toolbar.find(".keep-open")).find('input[type="checkbox"]:not(".toggle-all")'),k=e.find('input[type="checkbox"].toggle-all'),l<=s.minimumCountColumns&&e.find("input").prop("disabled",!0),e.find("li, label").off("click").on("click",function(e){e.stopImmediatePropagation()}),w.off("click").on("click",function(e){e=e.currentTarget,e=F.default(e);a._toggleColumn(e.val(),e.prop("checked"),!1),a.trigger("column-switch",e.data("field"),e.prop("checked")),k.prop("checked",w.filter(":checked").length===a.columns.filter(function(e){return!a.isSelectionColumn(e)}).length)}),k.off("click").on("click",function(e){e=e.currentTarget;a._toggleAllColumns(F.default(e).prop("checked"))}),s.showColumnsSearch&&(D=e.find('[name="columnsSearch"]'),E=e.find(".dropdown-item-marker"),D.on("keyup paste change",function(e){var e=e.currentTarget,n=F.default(e).val().toLowerCase();E.show(),w.each(function(e,t){t=F.default(t).parents(".dropdown-item-marker");t.text().toLowerCase().includes(n)||t.hide()})})));function I(e){var t="keyup drop blur mouseup";e.off(t).on(t,function(e){s.searchOnEnterKey&&13!==e.keyCode||[37,38,39,40].includes(e.keyCode)||(clearTimeout(n),n=setTimeout(function(){a.onSearch({currentTarget:e.currentTarget})},s.searchTimeOut))})}var R,M,L,D,j;(s.search||this.showSearchClearButton)&&"string"!=typeof s.searchSelector?(t=[],R=Vi.sprintf(this.constants.html.searchButton,this.constants.buttonsClass,s.formatSearch(),s.showButtonIcons?Vi.sprintf(this.constants.html.icon,s.iconsPrefix,s.icons.search):"",s.showButtonText?s.formatSearch():""),L=Vi.sprintf(this.constants.html.searchClearButton,this.constants.buttonsClass,s.formatClearSearch(),s.showButtonIcons?Vi.sprintf(this.constants.html.icon,s.iconsPrefix,s.icons.clearSearch):"",s.showButtonText?s.formatClearSearch():""),D=M='<input class="'.concat(this.constants.classes.input,"\n        ").concat(Vi.sprintf(" %s%s",this.constants.classes.inputPrefix,s.iconSize),'\n        search-input" type="search" placeholder="').concat(s.formatSearch(),'" autocomplete="off">'),(s.showSearchButton||s.showSearchClearButton)&&(L=(s.showSearchButton?R:"")+(s.showSearchClearButton?L:""),D=s.search?Vi.sprintf(this.constants.html.inputGroup,M,L):L),t.push(Vi.sprintf('\n        <div class="'.concat(this.constants.classes.pull,"-").concat(s.searchAlign," search ").concat(this.constants.classes.inputGroup,'">\n          %s\n        </div>\n      '),D)),this.$toolbar.append(t.join("")),j=Vi.getSearchInput(this),s.showSearchButton?(this.$toolbar.find(".search button[name=search]").off("click").on("click",function(){clearTimeout(n),n=setTimeout(function(){a.onSearch({currentTarget:j})},s.searchTimeOut)}),s.searchOnEnterKey&&I(j)):I(j),s.showSearchClearButton&&this.$toolbar.find(".search button[name=clearSearch]").click(function(){a.resetSearch()})):"string"==typeof s.searchSelector&&I(Vi.getSearchInput(this))}},{key:"onSearch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.currentTarget,n=e.firedByInitSearchText,e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0!==t&&F.default(t).length&&e){e=F.default(t).val().trim();if(this.options.trimOnSearch&&F.default(t).val()!==e&&F.default(t).val(e),this.searchText===e)return;t!==Vi.getSearchInput(this)[0]&&!F.default(t).hasClass("search-input")||(this.searchText=e,this.options.searchText=e)}n||(this.options.pageNumber=1),this.initSearch(),n&&"client"!==this.options.sidePagination||this.updatePagination(),this.trigger("search",this.searchText)}},{key:"initSearch",value:function(){var d=this;if(this.filterOptions=this.filterOptions||this.options.filterOptions,"server"!==this.options.sidePagination){if(this.options.customSearch)return this.data=Vi.calculateObjectValue(this.options,this.options.customSearch,[this.options.data,this.searchText,this.filterColumns]),void(this.options.sortReset&&(this.unsortedData=u(this.data)));var p=this.searchText&&(this.fromHtml?Vi.escapeHTML(this.searchText):this.searchText).toLowerCase(),r=Vi.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.options.searchAccentNeutralise&&(p=Vi.normalizeAccent(p)),"function"==typeof this.filterOptions.filterAlgorithm?this.data=this.options.data.filter(function(e){return d.filterOptions.filterAlgorithm.apply(null,[e,r])}):"string"==typeof this.filterOptions.filterAlgorithm&&(this.data=r?this.options.data.filter(function(e){var t=d.filterOptions.filterAlgorithm;if("and"===t){for(var n in r)if(Array.isArray(r[n])&&!r[n].includes(e[n])||!Array.isArray(r[n])&&e[n]!==r[n])return!1}else if("or"===t){var i,o=!1;for(i in r)(Array.isArray(r[i])&&r[i].includes(e[i])||!Array.isArray(r[i])&&e[i]===r[i])&&(o=!0);return o}return!0}):u(this.options.data));var h=this.getVisibleFields();this.data=p?this.data.filter(function(e,t){for(var n=0;n<d.header.fields.length;n++)if(d.header.searchables[n]&&(!d.options.visibleSearch||-1!==h.indexOf(d.header.fields[n]))){var i=Vi.isNumeric(d.header.fields[n])?parseInt(d.header.fields[n],10):d.header.fields[n],o=d.columns[d.fieldsColumnsIndex[i]],r=void 0;if("string"==typeof i)for(var r=e,a=i.split("."),s=0;s<a.length;s++)null!==r[a[s]]&&(r=r[a[s]]);else r=e[i];if(d.options.searchAccentNeutralise&&(r=Vi.normalizeAccent(r)),"string"==typeof(r=o&&o.searchFormatter?Vi.calculateObjectValue(o,d.header.formatters[n],[r,e,t,o.field],r):r)||"number"==typeof r)if(d.options.strictSearch){if("".concat(r).toLowerCase()===p)return!0}else{var i=/(?:(<=|=>|=<|>=|>|<)(?:\s+)?(-?\d+)?|(-?\d+)?(\s+)?(<=|=>|=<|>=|>|<))/gm.exec(d.searchText),l=!1;if(i){var o=i[1]||"".concat(i[5],"l"),i=i[2]||i[3],c=parseInt(r,10),u=parseInt(i,10);switch(o){case">":case"<l":l=u<c;break;case"<":case">l":l=c<u;break;case"<=":case"=<":case">=l":case"=>l":l=c<=u;break;case">=":case"=>":case"<=l":case"=<l":l=u<=c}}if(l||"".concat(r).toLowerCase().includes(p))return!0}}return!1}):this.data,this.options.sortReset&&(this.unsortedData=u(this.data)),this.initSort()}}},{key:"initPagination",value:function(){var n=this,i=this.options;if(i.pagination){this.$pagination.show();var e,t,o,r,a=[],s=!1,l=this.getData({includeHiddenRows:!1}),c=(c="string"==typeof(c=i.pageList)?c.replace(/\[|\]| /g,"").toLowerCase().split(","):c).map(function(e){return"string"==typeof e?e.toLowerCase()===i.formatAllRows().toLowerCase()||["all","unlimited"].includes(e.toLowerCase())?i.formatAllRows():+e:e});if(this.paginationParts=i.paginationParts,"string"==typeof this.paginationParts&&(this.paginationParts=this.paginationParts.replace(/\[|\]| |'/g,"").split(",")),"server"!==i.sidePagination&&(i.totalRows=l.length),this.totalPages=0,i.totalRows&&(i.pageSize===i.formatAllRows()&&(i.pageSize=i.totalRows,s=!0),this.totalPages=1+~~((i.totalRows-1)/i.pageSize),i.totalPages=this.totalPages),0<this.totalPages&&i.pageNumber>this.totalPages&&(i.pageNumber=this.totalPages),this.pageFrom=(i.pageNumber-1)*i.pageSize+1,this.pageTo=i.pageNumber*i.pageSize,this.pageTo>i.totalRows&&(this.pageTo=i.totalRows),this.options.pagination&&"server"!==this.options.sidePagination&&(this.options.totalNotFiltered=this.options.data.length),this.options.showExtendedPagination||(this.options.totalNotFiltered=void 0),(this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&a.push('<div class="'.concat(this.constants.classes.pull,"-").concat(i.paginationDetailHAlign,' pagination-detail">')),(this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort"))&&(f=this.paginationParts.includes("pageInfoShort")?i.formatDetailPagination(i.totalRows):i.formatShowingRows(this.pageFrom,this.pageTo,i.totalRows,i.totalNotFiltered),a.push('<span class="pagination-info">\n      '.concat(f,"\n      </span>"))),this.paginationParts.includes("pageSize")&&(a.push('<div class="page-list">'),r=['<div class="'.concat(this.constants.classes.paginationDropdown,'">\n        <button class="').concat(this.constants.buttonsClass,' dropdown-toggle" type="button" ').concat(this.constants.dataToggle,'="dropdown">\n        <span class="page-size">\n        ').concat(s?i.formatAllRows():i.pageSize,"\n        </span>\n        ").concat(this.constants.html.dropdownCaret,"\n        </button>\n        ").concat(this.constants.html.pageDropdown[0])],c.forEach(function(e,t){(!i.smartDisplay||0===t||c[t-1]<i.totalRows||e===i.formatAllRows())&&(t=s?e===i.formatAllRows()?n.constants.classes.dropdownActive:"":e===i.pageSize?n.constants.classes.dropdownActive:"",r.push(Vi.sprintf(n.constants.html.pageDropdownItem,t,e)))}),r.push("".concat(this.constants.html.pageDropdown[1],"</div>")),a.push(i.formatRecordsPerPage(r.join("")))),(this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&a.push("</div></div>"),this.paginationParts.includes("pageList")){a.push('<div class="'.concat(this.constants.classes.pull,"-").concat(i.paginationHAlign,' pagination">'),Vi.sprintf(this.constants.html.pagination[0],Vi.sprintf(" pagination-%s",i.iconSize)),Vi.sprintf(this.constants.html.paginationItem," page-pre",i.formatSRPaginationPreText(),i.paginationPreText)),t=this.totalPages<i.paginationSuccessivelySize?(o=1,this.totalPages):(o=i.pageNumber-i.paginationPagesBySide)+2*i.paginationPagesBySide,i.pageNumber<i.paginationSuccessivelySize-1&&(t=i.paginationSuccessivelySize),(o=i.paginationSuccessivelySize>this.totalPages-o?o-(i.paginationSuccessivelySize-(this.totalPages-o))+1:o)<1&&(o=1),t>this.totalPages&&(t=this.totalPages);var u=Math.round(i.paginationPagesBySide/2),d=function(e){return Vi.sprintf(n.constants.html.paginationItem,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")+(e===i.pageNumber?" ".concat(n.constants.classes.paginationActive):""),i.formatSRPaginationPageText(e),e)};if(1<o){var p=i.paginationPagesBySide;for(o<=p&&(p=o-1),e=1;e<=p;e++)a.push(d(e));o-1===p+1?a.push(d(e=o-1)):p<o-1&&(o-2*i.paginationPagesBySide>i.paginationPagesBySide&&i.paginationUseIntermediate?(e=Math.round((o-u)/2+u),a.push(d(e," page-intermediate"))):a.push(Vi.sprintf(this.constants.html.paginationItem," page-first-separator disabled","","...")))}for(e=o;e<=t;e++)a.push(d(e));if(this.totalPages>t){var h=this.totalPages-(i.paginationPagesBySide-1);for(t+1===(h=h<=t?t+1:h)-1?a.push(d(e=t+1)):t+1<h&&(this.totalPages-t>2*i.paginationPagesBySide&&i.paginationUseIntermediate?(e=Math.round((this.totalPages-u-t)/2+t),a.push(d(e," page-intermediate"))):a.push(Vi.sprintf(this.constants.html.paginationItem," page-last-separator disabled","","..."))),e=h;e<=this.totalPages;e++)a.push(d(e))}a.push(Vi.sprintf(this.constants.html.paginationItem," page-next",i.formatSRPaginationNextText(),i.paginationNextText)),a.push(this.constants.html.pagination[1],"</div>")}this.$pagination.html(a.join(""));var f=["bottom","both"].includes(i.paginationVAlign)?" ".concat(this.constants.classes.dropup):"";this.$pagination.last().find(".page-list > div").addClass(f),i.onlyInfoPagination||(o=this.$pagination.find(".page-list a"),u=this.$pagination.find(".page-pre"),h=this.$pagination.find(".page-next"),f=this.$pagination.find(".page-item").not(".page-next, .page-pre, .page-last-separator, .page-first-separator"),this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),i.smartDisplay&&(c.length<2||i.totalRows<=c[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"](),i.paginationLoop||(1===i.pageNumber&&u.addClass("disabled"),i.pageNumber===this.totalPages&&h.addClass("disabled")),s&&(i.pageSize=i.formatAllRows()),o.off("click").on("click",function(e){return n.onPageListChange(e)}),u.off("click").on("click",function(e){return n.onPagePre(e)}),h.off("click").on("click",function(e){return n.onPageNext(e)}),f.off("click").on("click",function(e){return n.onPageNumber(e)}))}else this.$pagination.hide()}},{key:"updatePagination",value:function(e){e&&F.default(e.currentTarget).hasClass("disabled")||(this.options.maintainMetaData||this.resetRows(),this.initPagination(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize),"server"===this.options.sidePagination?this.initServer():this.initBody())}},{key:"onPageListChange",value:function(e){e.preventDefault();var t=F.default(e.currentTarget);return t.parent().addClass(this.constants.classes.dropdownActive).siblings().removeClass(this.constants.classes.dropdownActive),this.options.pageSize=t.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+t.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(e),!1}},{key:"onPagePre",value:function(e){return e.preventDefault(),this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(e),!1}},{key:"onPageNext",value:function(e){return e.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(e),!1}},{key:"onPageNumber",value:function(e){if(e.preventDefault(),this.options.pageNumber!==+F.default(e.currentTarget).text())return this.options.pageNumber=+F.default(e.currentTarget).text(),this.updatePagination(e),!1}},{key:"initRow",value:function(A,P,e,t){var I=this,R=[],n={},M=[],i="",o={},r=[];if(!(-1<Vi.findIndex(this.hiddenRows,A))){if((n=Vi.calculateObjectValue(this.options,this.options.rowStyle,[A,P],n))&&n.css)for(var a=0,s=Object.entries(n.css);a<s.length;a++){var l=B(s[a],2),c=l[0],l=l[1];M.push("".concat(c,": ").concat(l))}if(o=Vi.calculateObjectValue(this.options,this.options.rowAttributes,[A,P],o))for(var u=0,d=Object.entries(o);u<d.length;u++){var p=B(d[u],2),h=p[0],p=p[1];r.push("".concat(h,'="').concat(Vi.escapeHTML(p),'"'))}if(A._data&&!Vi.isEmptyObject(A._data))for(var f=0,m=Object.entries(A._data);f<m.length;f++){var g=B(m[f],2),v=g[0],g=g[1];if("index"===v)return;i+=" data-".concat(v,"='").concat("object"===O(g)?JSON.stringify(g):g,"'")}R.push("<tr",Vi.sprintf(" %s",r.length?r.join(" "):void 0),Vi.sprintf(' id="%s"',Array.isArray(A)?void 0:A._id),Vi.sprintf(' class="%s"',n.classes||(Array.isArray(A)?void 0:A._class)),Vi.sprintf(' style="%s"',Array.isArray(A)?void 0:A._style),' data-index="'.concat(P,'"'),Vi.sprintf(' data-uniqueid="%s"',Vi.getItemField(A,this.options.uniqueId,!1)),Vi.sprintf(' data-has-detail-view="%s"',this.options.detailView&&Vi.calculateObjectValue(null,this.options.detailFilter,[P,A])?"true":void 0),Vi.sprintf("%s",i),">"),this.options.cardView&&R.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));n="";return Vi.hasDetailViewIcon(this.options)&&(n="<td>",Vi.calculateObjectValue(null,this.options.detailFilter,[P,A])&&(n+='\n          <a class="detail-icon" href="#">\n          '.concat(Vi.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),n+="</td>"),n&&"right"!==this.options.detailViewAlign&&R.push(n),this.header.fields.forEach(function(e,t){var n="",i=Vi.getItemField(A,e,I.options.escape),o="",r="",a={},s="",l=I.header.classes[t],c="",u="",d="",p="",h="",f="",m=I.columns[t];if((!I.fromHtml&&!I.autoMergeCells||void 0!==i||m.checkbox||m.radio)&&m.visible&&(!I.options.cardView||m.cardVisible)){if(m.escape&&(i=Vi.escapeHTML(i)),M.concat([I.header.styles[t]]).length&&(u+="".concat(M.concat([I.header.styles[t]]).join("; "))),A["_".concat(e,"_style")]&&(u+="".concat(A["_".concat(e,"_style")])),u&&(c=' style="'.concat(u,'"')),A["_".concat(e,"_id")]&&(s=Vi.sprintf(' id="%s"',A["_".concat(e,"_id")])),A["_".concat(e,"_class")]&&(l=Vi.sprintf(' class="%s"',A["_".concat(e,"_class")])),A["_".concat(e,"_rowspan")]&&(p=Vi.sprintf(' rowspan="%s"',A["_".concat(e,"_rowspan")])),A["_".concat(e,"_colspan")]&&(h=Vi.sprintf(' colspan="%s"',A["_".concat(e,"_colspan")])),A["_".concat(e,"_title")]&&(f=Vi.sprintf(' title="%s"',A["_".concat(e,"_title")])),(a=Vi.calculateObjectValue(I.header,I.header.cellStyles[t],[i,A,P,e],a)).classes&&(l=' class="'.concat(a.classes,'"')),a.css){for(var g=[],v=0,y=Object.entries(a.css);v<y.length;v++){var b=B(y[v],2),x=b[0],b=b[1];g.push("".concat(x,": ").concat(b))}c=' style="'.concat(g.concat(I.header.styles[t]).join("; "),'"')}var w,k,E,C,o=Vi.calculateObjectValue(m,I.header.formatters[t],[i,A,P,e],i);if(m.checkbox||m.radio||(o=null==o?I.options.undefinedText:o),m.searchable&&I.searchText&&I.options.searchHighlight&&(C="",w=new RegExp("(".concat(I.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gim"),E="<mark>$1</mark>",C=o&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(o)?(u=(k=(new DOMParser).parseFromString(o.toString(),"text/html").documentElement.textContent).replace(w,E),o.replace(new RegExp("(>\\s*)(".concat(k,")(\\s*)"),"gm"),"$1".concat(u,"$3"))):o.toString().replace(w,E),o=Vi.calculateObjectValue(m,m.searchHighlightFormatter,[o,I.searchText],C)),A["_".concat(e,"_data")]&&!Vi.isEmptyObject(A["_".concat(e,"_data")]))for(var S=0,T=Object.entries(A["_".concat(e,"_data")]);S<T.length;S++){var _=B(T[S],2),N=_[0],_=_[1];if("index"===N)return;d+=" data-".concat(N,'="').concat(_,'"')}m.checkbox||m.radio?(r=m.checkbox?"checkbox":r,r=m.radio?"radio":r,E=m.class||"",C=Vi.isObject(o)&&o.hasOwnProperty("checked")?o.checked:(!0===o||i)&&!1!==o,m=!m.checkboxEnabled||o&&o.disabled,n=[I.options.cardView?'<div class="card-view '.concat(E,'">'):'<td class="bs-checkbox '.concat(E,'"').concat(l).concat(c,">"),'<label>\n            <input\n            data-index="'.concat(P,'"\n            name="').concat(I.options.selectItemName,'"\n            type="').concat(r,'"\n            ').concat(Vi.sprintf('value="%s"',A[I.options.idField]),"\n            ").concat(Vi.sprintf('checked="%s"',C?"checked":void 0),"\n            ").concat(Vi.sprintf('disabled="%s"',m?"disabled":void 0)," />\n            <span></span>\n            </label>"),I.header.formatters[t]&&"string"==typeof o?o:"",I.options.cardView?"</div>":"</td>"].join(""),A[I.header.stateField]=!0===o||!!i||o&&o.checked):I.options.cardView?(e=I.options.showHeader?'<span class="card-view-title '.concat(a.classes,'"').concat(c,">").concat(Vi.getFieldTitle(I.columns,e),"</span>"):"",n='<div class="card-view">'.concat(e,'<span class="card-view-value ').concat(a.classes,'"').concat(c,">").concat(o,"</span></div>"),I.options.smartDisplay&&""===o&&(n='<div class="card-view"></div>')):n="<td".concat(s).concat(l).concat(c).concat(d).concat(p).concat(h).concat(f,">").concat(o,"</td>"),R.push(n)}}),n&&"right"===this.options.detailViewAlign&&R.push(n),this.options.cardView&&R.push("</div></td>"),R.push("</tr>"),R.join("")}}},{key:"initBody",value:function(e){var t=this,n=this.getData();this.trigger("pre-body",n),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=F.default("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=n.length);var i=[],o=F.default(document.createDocumentFragment()),r=!1;this.autoMergeCells=Vi.checkAutoMergeCells(n.slice(this.pageFrom-1,this.pageTo));for(var a=this.pageFrom-1;a<this.pageTo;a++){var s=n[a],s=this.initRow(s,a,n,o),r=r||!!s;s&&"string"==typeof s&&(this.options.virtualScroll?i.push(s):o.append(s))}r?this.options.virtualScroll?(this.virtualScroll&&this.virtualScroll.destroy(),this.virtualScroll=new qi({rows:i,fixedScroll:e,scrollEl:this.$tableBody[0],contentEl:this.$body[0],itemHeight:this.options.virtualScrollItemHeight,callback:function(){t.fitHeader(),t.initBodyEvent()}})):this.$body.html(o):this.$body.html('<tr class="no-records-found">'.concat(Vi.sprintf('<td colspan="%s">%s</td>',this.getVisibleFields().length+Vi.getDetailViewIndexOffset(this.options),this.options.formatNoMatches()),"</tr>")),e||this.scrollTo(0),this.initBodyEvent(),this.updateSelected(),this.initFooter(),this.resetView(),"server"!==this.options.sidePagination&&(this.options.totalRows=n.length),this.trigger("post-body",n)}},{key:"initBodyEvent",value:function(){var c=this;this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(e){var t,n=F.default(e.currentTarget),i=n.parent(),o=F.default(e.target).parents(".card-views").children(),r=F.default(e.target).parents(".card-view"),a=i.data("index"),s=c.data[a],l=c.options.cardView?o.index(r):n[0].cellIndex,o=c.getVisibleFields()[l-Vi.getDetailViewIndexOffset(c.options)],r=c.columns[c.fieldsColumnsIndex[o]],l=Vi.getItemField(s,o,c.options.escape);n.find(".detail-icon").length||(c.trigger("click"===e.type?"click-cell":"dbl-click-cell",o,l,s,n),c.trigger("click"===e.type?"click-row":"dbl-click-row",s,i,o),"click"===e.type&&c.options.clickToSelect&&r.clickToSelect&&!Vi.calculateObjectValue(c.options,c.options.ignoreClickToSelectOn,[e.target])&&(t=i.find(Vi.sprintf('[name="%s"]',c.options.selectItemName))).length&&t[0].click(),"click"===e.type&&c.options.detailViewByClick&&c.toggleDetailView(a,c.header.detailFormatters[c.fieldsColumnsIndex[o]]))}).off("mousedown").on("mousedown",function(e){c.multipleSelectRowCtrlKey=e.ctrlKey||e.metaKey,c.multipleSelectRowShiftKey=e.shiftKey}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(e){return e.preventDefault(),c.toggleDetailView(F.default(e.currentTarget).parent().parent().data("index")),!1}),this.$selectItem=this.$body.find(Vi.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(e){e.stopImmediatePropagation();e=F.default(e.currentTarget);c._toggleCheck(e.prop("checked"),e.data("index"))}),this.header.events.forEach(function(e,t){var n=e;if(n){"string"==typeof n&&(n=Vi.calculateObjectValue(null,n));var s=c.header.fields[t],l=c.getVisibleFields().indexOf(s);if(-1!==l){l+=Vi.getDetailViewIndexOffset(c.options);for(var i in n)!function(r){if(!n.hasOwnProperty(r))return;var a=n[r];c.$body.find(">tr:not(.no-records-found)").each(function(e,t){var o=F.default(t),n=o.find(c.options.cardView?".card-views>.card-view":">td").eq(l),i=r.indexOf(" "),t=r.substring(0,i),i=r.substring(i+1);n.find(i).off(t).on(t,function(e){var t=o.data("index"),n=c.data[t],i=n[s];a.apply(c,[e,i,n,t])})})}(i)}}})}},{key:"initServer",value:function(i,e,t){var o=this,n={},r=this.header.fields.indexOf(this.options.sortName),a={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[r]&&(a.sortName=this.header.sortNames[r]),this.options.pagination&&"server"===this.options.sidePagination&&(a.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,a.pageNumber=this.options.pageNumber),t||this.options.url||this.options.ajax){if("limit"===this.options.queryParamsType&&(a={search:a.searchText,sort:a.sortName,order:a.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(a.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),a.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,0===a.limit&&delete a.limit)),this.options.search&&"server"===this.options.sidePagination&&this.columns.filter(function(e){return!e.searchable}).length){a.searchable=[];var s,l=H(this.columns);try{for(l.s();!(s=l.n()).done;){var c=s.value;!c.checkbox&&c.searchable&&(this.options.visibleSearch&&c.visible||!this.options.visibleSearch)&&a.searchable.push(c.field)}}catch(i){l.e(i)}finally{l.f()}}if(Vi.isEmptyObject(this.filterColumnsPartial)||(a.filter=JSON.stringify(this.filterColumnsPartial,null)),F.default.extend(a,e||{}),!1!==(n=Vi.calculateObjectValue(this.options,this.options.queryParams,[a],n))){i||this.showLoading();t=F.default.extend({},Vi.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:t||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(n):n,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e,t,n){e=Vi.calculateObjectValue(o.options,o.options.responseHandler,[e,n],e);o.load(e),o.trigger("load-success",e,n&&n.status,n),i||o.hideLoading(),"server"===o.options.sidePagination&&0<e[o.options.totalField]&&!e[o.options.dataField].length&&o.updatePagination()},error:function(e){var t=[];"server"===o.options.sidePagination&&((t={})[o.options.totalField]=0,t[o.options.dataField]=[]),o.load(t),o.trigger("load-error",e&&e.status,e),i||o.$tableLoading.hide()}});return this.options.ajax?Vi.calculateObjectValue(this,this.options.ajax,[t],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=F.default.ajax(t)),n}}}},{key:"initSearchText",value:function(){var e;this.options.search&&(this.searchText="")!==this.options.searchText&&((e=Vi.getSearchInput(this)).val(this.options.searchText),this.onSearch({currentTarget:e,firedByInitSearchText:!0}))}},{key:"getCaret",value:function(){var n=this;this.$header.find("th").each(function(e,t){F.default(t).find(".sortable").removeClass("desc asc").addClass(F.default(t).data("field")===n.options.sortName?n.options.sortOrder:"both")})}},{key:"updateSelected",value:function(){var e=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.each(function(e,t){F.default(t).closest("tr")[F.default(t).prop("checked")?"addClass":"removeClass"]("selected")})}},{key:"updateRows",value:function(){var n=this;this.$selectItem.each(function(e,t){n.data[F.default(t).data("index")][n.header.stateField]=F.default(t).prop("checked")})}},{key:"resetRows",value:function(){var e,t=H(this.data);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(n[this.header.stateField]=!1)}}catch(e){t.e(e)}finally{t.f()}this.initHiddenRows()}},{key:"trigger",value:function(e){for(var t="".concat(e,".bs.table"),n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(e=this.options)[Ki.EVENTS[t]].apply(e,[].concat(i,[this])),this.$el.trigger(F.default.Event(t,{sender:this}),i),(e=this.options).onAll.apply(e,[t].concat([].concat(i,[this]))),this.$el.trigger(F.default.Event("all.bs.table",{sender:this}),[t,i])}},{key:"resetHeader",value:function(){var e=this;clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(function(){return e.fitHeader()},this.$el.is(":hidden")?100:0)}},{key:"fitHeader",value:function(){var o=this;if(this.$el.is(":hidden"))this.timeoutId_=setTimeout(function(){return o.fitHeader()},100);else{var e=this.$tableBody.get(0),t=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?Vi.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());e=F.default(":focus");0<e.length&&(0<(e=e.parents("th")).length&&(void 0===(e=e.attr("data-field"))||0<(e=this.$header.find("[data-field='".concat(e,"']"))).length&&e.find(":input").addClass("focus-temp"))),this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css("margin-right",t).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),this.$tableLoading.css("width",this.$el.outerWidth());t=F.default(".focus-temp:visible:eq(0)");0<t.length&&(t.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(e,t){o.$header_.find(Vi.sprintf('th[data-field="%s"]',F.default(t).data("field"))).data(F.default(t).data())});for(var r=this.getVisibleFields(),a=this.$header_.find("th"),n=this.$body.find(">tr:not(.no-records-found,.virtual-scroll-top)").eq(0);n.length&&n.find('>td[colspan]:not([colspan="1"])').length;)n=n.next();var s=n.find("> *").length;n.find("> *").each(function(e,t){var n,i=F.default(t);Vi.hasDetailViewIcon(o.options)&&(0===e&&"right"!==o.options.detailViewAlign||e===s-1&&"right"===o.options.detailViewAlign)?(n=(t=a.filter(".detail")).innerWidth()-t.find(".fht-cell").width(),t.find(".fht-cell").width(i.innerWidth()-n)):(n=e-Vi.getDetailViewIndexOffset(o.options),n=(e=1<(e=o.$header_.find(Vi.sprintf('th[data-field="%s"]',r[n]))).length?F.default(a[i[0].cellIndex]):e).innerWidth()-e.find(".fht-cell").width(),e.find(".fht-cell").width(i.innerWidth()-n))}),this.horizontalScroll(),this.trigger("post-header")}}},{key:"initFooter",value:function(){if(this.options.showFooter&&!this.options.cardView){var e=this.getData(),t=[],n="";(n=Vi.hasDetailViewIcon(this.options)?'<th class="detail"><div class="th-inner"></div><div class="fht-cell"></div></th>':n)&&"right"!==this.options.detailViewAlign&&t.push(n);var i,o=H(this.columns);try{for(o.s();!(i=o.n()).done;){var r,a,s=i.value,l=[],c={},u=Vi.sprintf(' class="%s"',s.class);if(s.visible&&(!(this.footerData&&0<this.footerData.length)||s.field in this.footerData[0])){if(this.options.cardView&&!s.cardVisible)return;if(r=Vi.sprintf("text-align: %s; ",s.falign||s.align),a=Vi.sprintf("vertical-align: %s; ",s.valign),(c=Vi.calculateObjectValue(null,this.options.footerStyle,[s]))&&c.css)for(var d=0,p=Object.entries(c.css);d<p.length;d++){var h=B(p[d],2),f=h[0],m=h[1];l.push("".concat(f,": ").concat(m))}c&&c.classes&&(u=Vi.sprintf(' class="%s"',s.class?[s.class,c.classes].join(" "):c.classes)),t.push("<th",u,Vi.sprintf(' style="%s"',r+a+l.concat().join("; ")));var g=0;(g=this.footerData&&0<this.footerData.length?this.footerData[0]["_".concat(s.field,"_colspan")]||0:g)&&t.push(' colspan="'.concat(g,'" ')),t.push(">"),t.push('<div class="th-inner">');var v="";this.footerData&&0<this.footerData.length&&(v=this.footerData[0][s.field]||""),t.push(Vi.calculateObjectValue(s,s.footerFormatter,[e,v],v)),t.push("</div>"),t.push('<div class="fht-cell"></div>'),t.push("</div>"),t.push("</th>")}}}catch(e){o.e(e)}finally{o.f()}n&&"right"===this.options.detailViewAlign&&t.push(n),this.options.height||this.$tableFooter.length||(this.$el.append("<tfoot><tr></tr></tfoot>"),this.$tableFooter=this.$el.find("tfoot")),this.$tableFooter.find("tr").length||this.$tableFooter.html("<table><thead><tr></tr></thead></table>"),this.$tableFooter.find("tr").html(t.join("")),this.trigger("post-footer",this.$tableFooter)}}},{key:"fitFooter",value:function(){var o=this;if(this.$el.is(":hidden"))setTimeout(function(){return o.fitFooter()},100);else{var e=this.$tableBody.get(0),e=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?Vi.getScrollBarWidth():0;this.$tableFooter.css("margin-right",e).find("table").css("width",this.$el.outerWidth()).attr("class",this.$el.attr("class"));var r=this.$tableFooter.find("th"),t=this.$body.find(">tr:first-child:not(.no-records-found)");for(r.find(".fht-cell").width("auto");t.length&&t.find('>td[colspan]:not([colspan="1"])').length;)t=t.next();var a=t.find("> *").length;t.find("> *").each(function(e,t){var n,i=F.default(t);Vi.hasDetailViewIcon(o.options)&&(0===e&&"left"===o.options.detailViewAlign||e===a-1&&"right"===o.options.detailViewAlign)?(n=(t=r.filter(".detail")).innerWidth()-t.find(".fht-cell").width(),t.find(".fht-cell").width(i.innerWidth()-n)):(e=(n=r.eq(e)).innerWidth()-n.find(".fht-cell").width(),n.find(".fht-cell").width(i.innerWidth()-e))}),this.horizontalScroll()}}},{key:"horizontalScroll",value:function(){var t=this;this.$tableBody.off("scroll").on("scroll",function(){var e=t.$tableBody.scrollLeft();t.options.showHeader&&t.options.height&&t.$tableHeader.scrollLeft(e),t.options.showFooter&&!t.options.cardView&&t.$tableFooter.scrollLeft(e),t.trigger("scroll-body",t.$tableBody)})}},{key:"getVisibleFields",value:function(){var e,t=[],n=H(this.header.fields);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=this.columns[this.fieldsColumnsIndex[i]];o&&o.visible&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"initHiddenRows",value:function(){this.hiddenRows=[]}},{key:"getOptions",value:function(){var e=F.default.extend({},this.options);return delete e.data,F.default.extend(!0,{},e)}},{key:"refreshOptions",value:function(e){Vi.compareObjects(this.options,e,!0)||(this.options=F.default.extend(this.options,e),this.trigger("refresh-options",this.options),this.destroy(),this.init())}},{key:"getData",value:function(e){var t,a=this,n=this.options.data;return!(this.searchText||this.options.customSearch||void 0!==this.options.sortName||this.enableCustomSort)&&Vi.isEmptyObject(this.filterColumns)&&Vi.isEmptyObject(this.filterColumnsPartial)||e&&e.unfiltered||(n=this.data),e&&e.useCurrentPage&&(n=n.slice(this.pageFrom-1,this.pageTo)),e&&!e.includeHiddenRows&&(t=this.getHiddenRows(),n=n.filter(function(e){return-1===Vi.findIndex(t,e)})),e&&e.formatted&&n.forEach(function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=B(n[t],2),o=i[0],r=i[1],i=a.columns[a.fieldsColumnsIndex[o]];if(!i)return;e[o]=Vi.calculateObjectValue(i,a.header.formatters[i.fieldIndex],[r,e,e.index,i.field],r)}}),n}},{key:"getSelections",value:function(){var t=this;return(this.options.maintainMetaData?this.options:this).data.filter(function(e){return!0===e[t.header.stateField]})}},{key:"load",value:function(e){var t=e;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=t[this.options.totalField],this.options.totalNotFiltered=t[this.options.totalNotFilteredField],this.footerData=t[this.options.footerField]?[t[this.options.footerField]]:void 0),e=t.fixedScroll,t=Array.isArray(t)?t:t[this.options.dataField],this.initData(t),this.initSearch(),this.initPagination(),this.initBody(e)}},{key:"append",value:function(e){this.initData(e,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"prepend",value:function(e){this.initData(e,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"remove",value:function(e){for(var t=0,n=this.options.data.length-1;0<=n;n--){var i=this.options.data[n];(i.hasOwnProperty(e.field)||"$index"===e.field)&&(!i.hasOwnProperty(e.field)&&"$index"===e.field&&e.values.includes(n)||e.values.includes(i[e.field]))&&(t++,this.options.data.splice(n,1))}t&&("server"===this.options.sidePagination&&(this.options.totalRows-=t,this.data=u(this.options.data)),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"removeAll",value:function(){0<this.options.data.length&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"insertRow",value:function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("row")&&(this.options.data.splice(e.index,0,e.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"updateRow",value:function(e){var t,n=H(Array.isArray(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.hasOwnProperty("index")&&i.hasOwnProperty("row")&&(i.hasOwnProperty("replace")&&i.replace?this.options.data[i.index]=i.row:F.default.extend(this.options.data[i.index],i.row))}}catch(e){n.e(e)}finally{n.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"getRowByUniqueId",value:function(e){for(var t,n,i=this.options.uniqueId,o=e,r=null,a=this.options.data.length-1;0<=a;a--){if((t=this.options.data[a]).hasOwnProperty(i))n=t[i];else{if(!t._data||!t._data.hasOwnProperty(i))continue;n=t._data[i]}if("string"==typeof n?o=o.toString():"number"==typeof n&&(Number(n)===n&&n%1==0?o=parseInt(o):n===Number(n)&&0!==n&&(o=parseFloat(o))),n===o){r=t;break}}return r}},{key:"updateByUniqueId",value:function(e){var t,n=H(Array.isArray(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var i,o=t.value;o.hasOwnProperty("id")&&o.hasOwnProperty("row")&&(-1!==(i=this.options.data.indexOf(this.getRowByUniqueId(o.id)))&&(o.hasOwnProperty("replace")&&o.replace?this.options.data[i]=o.row:F.default.extend(this.options.data[i],o.row)))}}catch(e){n.e(e)}finally{n.f()}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"removeByUniqueId",value:function(e){var t=this.options.data.length,e=this.getRowByUniqueId(e);e&&this.options.data.splice(this.options.data.indexOf(e),1),t!==this.options.data.length&&("server"===this.options.sidePagination&&(--this.options.totalRows,this.data=u(this.options.data)),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"updateCell",value:function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("field")&&e.hasOwnProperty("value")&&(this.data[e.index][e.field]=e.value,!1!==e.reinit&&(this.initSort(),this.initBody(!0)))}},{key:"updateCellByUniqueId",value:function(e){var i=this;(Array.isArray(e)?e:[e]).forEach(function(e){var t=e.id,n=e.field,e=e.value,t=i.options.data.indexOf(i.getRowByUniqueId(t));-1!==t&&(i.options.data[t][n]=e)}),!1!==e.reinit&&(this.initSort(),this.initBody(!0))}},{key:"showRow",value:function(e){this._toggleRow(e,!0)}},{key:"hideRow",value:function(e){this._toggleRow(e,!1)}},{key:"_toggleRow",value:function(e,t){var n;e.hasOwnProperty("index")?n=this.getData()[e.index]:e.hasOwnProperty("uniqueId")&&(n=this.getRowByUniqueId(e.uniqueId)),n&&(e=Vi.findIndex(this.hiddenRows,n),t||-1!==e?t&&-1<e&&this.hiddenRows.splice(e,1):this.hiddenRows.push(n),this.initBody(!0),this.initPagination())}},{key:"getHiddenRows",value:function(e){if(e)return this.initHiddenRows(),this.initBody(!0),void this.initPagination();var t,n=[],i=H(this.getData());try{for(i.s();!(t=i.n()).done;){var o=t.value;this.hiddenRows.includes(o)&&n.push(o)}}catch(e){i.e(e)}finally{i.f()}return this.hiddenRows=n}},{key:"showColumn",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach(function(e){t._toggleColumn(t.fieldsColumnsIndex[e],!0,!0)})}},{key:"hideColumn",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach(function(e){t._toggleColumn(t.fieldsColumnsIndex[e],!1,!0)})}},{key:"_toggleColumn",value:function(e,t,n){var i;-1!==e&&this.columns[e].visible!==t&&(this.columns[e].visible=t,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)&&(i=this.$toolbar.find('.keep-open input:not(".toggle-all")').prop("disabled",!1),n&&i.filter(Vi.sprintf('[value="%s"]',e)).prop("checked",t),i.filter(":checked").length<=this.options.minimumCountColumns&&i.filter(":checked").prop("disabled",!0))}},{key:"getVisibleColumns",value:function(){var t=this;return this.columns.filter(function(e){return e.visible&&!t.isSelectionColumn(e)})}},{key:"getHiddenColumns",value:function(){return this.columns.filter(function(e){return!e.visible})}},{key:"isSelectionColumn",value:function(e){return e.radio||e.checkbox}},{key:"showAllColumns",value:function(){this._toggleAllColumns(!0)}},{key:"hideAllColumns",value:function(){this._toggleAllColumns(!1)}},{key:"_toggleAllColumns",value:function(t){var e,n,i=this,o=H(this.columns.slice().reverse());try{for(o.s();!(e=o.n()).done;){var r=e.value;r.switchable&&(!t&&this.options.showColumns&&this.getVisibleColumns().length===this.options.minimumCountColumns||(r.visible=t))}}catch(t){o.e(t)}finally{o.f()}this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns&&(n=this.$toolbar.find('.keep-open input[type="checkbox"]:not(".toggle-all")').prop("disabled",!1),t?n.prop("checked",t):n.get().reverse().forEach(function(e){n.filter(":checked").length>i.options.minimumCountColumns&&F.default(e).prop("checked",t)}),n.filter(":checked").length<=this.options.minimumCountColumns&&n.filter(":checked").prop("disabled",!0))}},{key:"mergeCells",value:function(e){var t,n,i=e.index,o=this.getVisibleFields().indexOf(e.field),r=e.rowspan||1,a=e.colspan||1,s=this.$body.find(">tr");o+=Vi.getDetailViewIndexOffset(this.options);e=s.eq(i).find(">td").eq(o);if(!(i<0||o<0||i>=this.data.length)){for(t=i;t<i+r;t++)for(n=o;n<o+a;n++)s.eq(t).find(">td").eq(n).hide();e.attr("rowspan",r).attr("colspan",a).show()}}},{key:"checkAll",value:function(){this._toggleCheckAll(!0)}},{key:"uncheckAll",value:function(){this._toggleCheckAll(!1)}},{key:"_toggleCheckAll",value:function(e){var t=this.getSelections();this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.filter(":enabled").prop("checked",e),this.updateRows(),this.updateSelected();var n=this.getSelections();e?this.trigger("check-all",n,t):this.trigger("uncheck-all",n,t)}},{key:"checkInvert",value:function(){var e=this.$selectItem.filter(":enabled"),t=e.filter(":checked");e.each(function(e,t){F.default(t).prop("checked",!F.default(t).prop("checked"))}),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",t),t=this.getSelections(),this.trigger("check-some",t)}},{key:"check",value:function(e){this._toggleCheck(!0,e)}},{key:"uncheck",value:function(e){this._toggleCheck(!1,e)}},{key:"_toggleCheck",value:function(e,t){var n=this.$selectItem.filter('[data-index="'.concat(t,'"]')),i=this.data[t];if(n.is(":radio")||this.options.singleSelect||this.options.multipleSelectRow&&!this.multipleSelectRowCtrlKey&&!this.multipleSelectRowShiftKey){var o,r=H(this.options.data);try{for(r.s();!(o=r.n()).done;)o.value[this.header.stateField]=!1}catch(e){r.e(e)}finally{r.f()}this.$selectItem.filter(":checked").not(n).prop("checked",!1)}if(i[this.header.stateField]=e,this.options.multipleSelectRow){if(this.multipleSelectRowShiftKey&&0<=this.multipleSelectRowLastSelectedIndex)for(var a=B(this.multipleSelectRowLastSelectedIndex<t?[this.multipleSelectRowLastSelectedIndex,t]:[t,this.multipleSelectRowLastSelectedIndex],2),i=a[0],s=a[1],l=i+1;l<s;l++)this.data[l][this.header.stateField]=!0,this.$selectItem.filter('[data-index="'.concat(l,'"]')).prop("checked",!0);this.multipleSelectRowCtrlKey=!1,this.multipleSelectRowShiftKey=!1,this.multipleSelectRowLastSelectedIndex=e?t:-1}n.prop("checked",e),this.updateSelected(),this.trigger(e?"check":"uncheck",this.data[t],n)}},{key:"checkBy",value:function(e){this._toggleCheckBy(!0,e)}},{key:"uncheckBy",value:function(e){this._toggleCheckBy(!1,e)}},{key:"_toggleCheckBy",value:function(n,i){var o,r=this;i.hasOwnProperty("field")&&i.hasOwnProperty("values")&&(o=[],this.data.forEach(function(e,t){return!!e.hasOwnProperty(i.field)&&void(i.values.includes(e[i.field])&&(t=r.$selectItem.filter(":enabled").filter(Vi.sprintf('[data-index="%s"]',t)),(t=n?t.not(":checked"):t.filter(":checked")).length&&(t.prop("checked",n),e[r.header.stateField]=n,o.push(e),r.trigger(n?"check":"uncheck",e,t))))}),this.updateSelected(),this.trigger(n?"check-some":"uncheck-some",o))}},{key:"refresh",value:function(e){e&&e.url&&(this.options.url=e.url),e&&e.pageNumber&&(this.options.pageNumber=e.pageNumber),e&&e.pageSize&&(this.options.pageSize=e.pageSize),this.trigger("refresh",this.initServer(e&&e.silent,e&&e.query,e&&e.url))}},{key:"destroy",value:function(){this.$el.insertBefore(this.$container),F.default(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")}},{key:"resetView",value:function(e){var t,n,i=0;e&&e.height&&(this.options.height=e.height),this.$selectAll.prop("checked",0<this.$selectItem.length&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.$tableContainer.toggleClass("has-card-view",this.options.cardView),!this.options.cardView&&this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),i+=this.$header.outerHeight(!0)+1):(this.$tableHeader.hide(),this.trigger("post-header")),!this.options.cardView&&this.options.showFooter&&(this.$tableFooter.show(),this.fitFooter(),this.options.height&&(i+=this.$tableFooter.outerHeight(!0))),this.$container.hasClass("fullscreen")?(this.$tableContainer.css("height",""),this.$tableContainer.css("width","")):this.options.height&&(this.$tableBorder&&(this.$tableBorder.css("width",""),this.$tableBorder.css("height","")),t=this.$toolbar.outerHeight(!0),n=this.$pagination.outerHeight(!0),e=this.options.height-t-n,n=(t=this.$tableBody.find(">table")).outerHeight(),this.$tableContainer.css("height","".concat(e,"px")),this.$tableBorder&&t.is(":visible")&&(n=e-n-2,this.$tableBody[0].scrollWidth-this.$tableBody.innerWidth()&&(n-=Vi.getScrollBarWidth()),this.$tableBorder.css("width","".concat(t.outerWidth(),"px")),this.$tableBorder.css("height","".concat(n,"px")))),this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),this.$tableFooter.hide()):(this.getCaret(),this.$tableContainer.css("padding-bottom","".concat(i,"px"))),this.trigger("reset-view")}},{key:"showLoading",value:function(){this.$tableLoading.toggleClass("open",!0);var e=this.options.loadingFontSize;"auto"===this.options.loadingFontSize&&(e=.04*this.$tableLoading.width(),e=Math.max(12,e),e=Math.min(32,e),e="".concat(e,"px")),this.$tableLoading.find(".loading-text").css("font-size",e)}},{key:"hideLoading",value:function(){this.$tableLoading.toggleClass("open",!1)}},{key:"togglePagination",value:function(){this.options.pagination=!this.options.pagination;var e=this.options.showButtonIcons?this.options.pagination?this.options.icons.paginationSwitchDown:this.options.icons.paginationSwitchUp:"",t=this.options.showButtonText?this.options.pagination?this.options.formatPaginationSwitchUp():this.options.formatPaginationSwitchDown():"";this.$toolbar.find('button[name="paginationSwitch"]').html("".concat(Vi.sprintf(this.constants.html.icon,this.options.iconsPrefix,e)," ").concat(t)),this.updatePagination()}},{key:"toggleFullscreen",value:function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen"),this.resetView()}},{key:"toggleView",value:function(){this.options.cardView=!this.options.cardView,this.initHeader();var e=this.options.showButtonIcons?this.options.cardView?this.options.icons.toggleOn:this.options.icons.toggleOff:"",t=this.options.showButtonText?this.options.cardView?this.options.formatToggleOff():this.options.formatToggleOn():"";this.$toolbar.find('button[name="toggle"]').html("".concat(Vi.sprintf(this.constants.html.icon,this.options.iconsPrefix,e)," ").concat(t)),this.initBody(),this.trigger("toggle",this.options.cardView)}},{key:"resetSearch",value:function(e){var t=Vi.getSearchInput(this);t.val(e||""),this.onSearch({currentTarget:t})}},{key:"filterBy",value:function(e,t){this.filterOptions=Vi.isEmptyObject(t)?this.options.filterOptions:F.default.extend(this.options.filterOptions,t),this.filterColumns=Vi.isEmptyObject(e)?{}:e,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}},{key:"scrollTo",value:function(e){var t={unit:"px",value:0};"object"===O(e)?t=Object.assign(t,e):"string"==typeof e&&"bottom"===e?t.value=this.$tableBody[0].scrollHeight:"string"!=typeof e&&"number"!=typeof e||(t.value=e);var n=t.value;"rows"===t.unit&&(n=0,this.$body.find("> tr:lt(".concat(t.value,")")).each(function(e,t){n+=F.default(t).outerHeight(!0)})),this.$tableBody.scrollTop(n)}},{key:"getScrollPosition",value:function(){return this.$tableBody.scrollTop()}},{key:"selectPage",value:function(e){0<e&&e<=this.options.totalPages&&(this.options.pageNumber=e,this.updatePagination())}},{key:"prevPage",value:function(){1<this.options.pageNumber&&(this.options.pageNumber--,this.updatePagination())}},{key:"nextPage",value:function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}},{key:"toggleDetailView",value:function(e,t){this.$body.find(Vi.sprintf('> tr[data-index="%s"]',e)).next().is("tr.detail-view")?this.collapseRow(e):this.expandRow(e,t),this.resetView()}},{key:"expandRow",value:function(e,t){var n=this.data[e],i=this.$body.find(Vi.sprintf('> tr[data-index="%s"][data-has-detail-view]',e));i.next().is("tr.detail-view")||(this.options.detailViewIcon&&i.find("a.detail-icon").html(Vi.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailClose)),i.after(Vi.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',i.children("td").length)),i=i.next().find("td"),t=t||this.options.detailFormatter,t=Vi.calculateObjectValue(this.options,t,[e,n,i],""),1===i.length&&i.append(t),this.trigger("expand-row",e,n,i))}},{key:"expandRowByUniqueId",value:function(e){e=this.getRowByUniqueId(e);e&&this.expandRow(this.data.indexOf(e))}},{key:"collapseRow",value:function(e){var t=this.data[e],n=this.$body.find(Vi.sprintf('> tr[data-index="%s"][data-has-detail-view]',e));n.next().is("tr.detail-view")&&(this.options.detailViewIcon&&n.find("a.detail-icon").html(Vi.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen)),this.trigger("collapse-row",e,t,n.next()),n.next().remove())}},{key:"collapseRowByUniqueId",value:function(e){e=this.getRowByUniqueId(e);e&&this.collapseRow(this.data.indexOf(e))}},{key:"expandAllRows",value:function(){for(var e=this.$body.find("> tr[data-index][data-has-detail-view]"),t=0;t<e.length;t++)this.expandRow(F.default(e[t]).data("index"))}},{key:"collapseAllRows",value:function(){for(var e=this.$body.find("> tr[data-index][data-has-detail-view]"),t=0;t<e.length;t++)this.collapseRow(F.default(e[t]).data("index"))}},{key:"updateColumnTitle",value:function(n){n.hasOwnProperty("field")&&n.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[n.field]].title=this.options.escape?Vi.escapeHTML(n.title):n.title,this.columns[this.fieldsColumnsIndex[n.field]].visible&&(this.$header.find("th[data-field]").each(function(e,t){if(F.default(t).data("field")===n.field)return F.default(F.default(t).find(".th-inner")[0]).text(n.title),!1}),this.resetView()))}},{key:"updateFormatText",value:function(e,t){/^format/.test(e)&&this.options[e]&&("string"==typeof t?this.options[e]=function(){return t}:"function"==typeof t&&(this.options[e]=t),this.initToolbar(),this.initPagination(),this.initBody())}}]),Ki);function Ki(e,t){i(this,Ki),this.options=t,this.$el=F.default(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0}function Gi(e){var t=this;i(this,Gi),this.rows=e.rows,this.scrollEl=e.scrollEl,this.contentEl=e.contentEl,this.callback=e.callback,this.itemHeight=e.itemHeight,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows,e.fixedScroll),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;function n(){t.lastCluster!==(t.lastCluster=t.getNum())&&(t.initDOM(t.rows),t.callback())}this.scrollEl.addEventListener("scroll",n,!1),this.destroy=function(){t.contentEl.innerHtml="",t.scrollEl.removeEventListener("scroll",n,!1)}}return Wi.VERSION=Fi.VERSION,Wi.DEFAULTS=Fi.DEFAULTS,Wi.LOCALES=Fi.LOCALES,Wi.COLUMN_DEFAULTS=Fi.COLUMN_DEFAULTS,Wi.METHODS=Fi.METHODS,Wi.EVENTS=Fi.EVENTS,F.default.BootstrapTable=Wi,F.default.fn.bootstrapTable=function(o){for(var r,e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return this.each(function(e,t){var n=F.default(t).data("bootstrap.table"),i=F.default.extend({},Wi.DEFAULTS,F.default(t).data(),"object"===O(o)&&o);if("string"==typeof o){if(!Fi.METHODS.includes(o))throw new Error("Unknown method: ".concat(o));if(!n)return;r=n[o].apply(n,a),"destroy"===o&&F.default(t).removeData("bootstrap.table")}n||(n=new F.default.BootstrapTable(t,i),F.default(t).data("bootstrap.table",n),n.init())}),void 0===r?this:r},F.default.fn.bootstrapTable.Constructor=Wi,F.default.fn.bootstrapTable.theme=Fi.THEME,F.default.fn.bootstrapTable.VERSION=Fi.VERSION,F.default.fn.bootstrapTable.defaults=Wi.DEFAULTS,F.default.fn.bootstrapTable.columnDefaults=Wi.COLUMN_DEFAULTS,F.default.fn.bootstrapTable.events=Wi.EVENTS,F.default.fn.bootstrapTable.locales=Wi.LOCALES,F.default.fn.bootstrapTable.methods=Wi.METHODS,F.default.fn.bootstrapTable.utils=Vi,F.default(function(){F.default('[data-toggle="table"]').bootstrapTable()}),Wi},"object"==typeof o&&void 0!==i?i.exports=t(n("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).BootstrapTable=t(e.jQuery)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:624}],224:[function(e,t,n){var i,o;i=this,o=function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(t),r=i(n);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var l="transitionend";function c(e){var t=this,n=!1;return u.default(this).one(d.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||d.triggerTransitionEnd(t)},e),this}var d={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=(e=e.getAttribute("href"))&&"#"!==e?e.trim():"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=u.default(e).css("transition-duration"),n=u.default(e).css("transition-delay"),i=parseFloat(t),e=parseFloat(n);return i||e?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){u.default(e).trigger(l)},supportsTransitionEnd:function(){return Boolean(l)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=t[i],a=r&&d.isElement(r)?"element":null==(a=r)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+o+'".')}var a},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?d.findShadowRoot(e.parentNode):null;e=e.getRootNode();return e instanceof ShadowRoot?e:null},jQueryDetection:function(){if(void 0===u.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=u.default.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};d.jQueryDetection(),u.default.fn.emulateTransitionEnd=c,u.default.event.special[d.TRANSITION_END]={bindType:l,delegateType:l,handle:function(e){if(u.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var p="alert",h="bs.alert",f=u.default.fn[p],m=function(){function i(e){this._element=e}var e=i.prototype;return e.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},e.dispose=function(){u.default.removeData(this._element,h),this._element=null},e._getRootElement=function(e){var t=d.getSelectorFromElement(e),n=!1;return n=(n=t?document.querySelector(t):n)||u.default(e).closest(".alert")[0]},e._triggerCloseEvent=function(e){var t=u.default.Event("close.bs.alert");return u.default(e).trigger(t),t},e._removeElement=function(t){var e,n=this;u.default(t).removeClass("show"),u.default(t).hasClass("fade")?(e=d.getTransitionDurationFromElement(t),u.default(t).one(d.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(e)):this._destroyElement(t)},e._destroyElement=function(e){u.default(e).detach().trigger("closed.bs.alert").remove()},i._jQueryInterface=function(n){return this.each(function(){var e=u.default(this),t=e.data(h);t||(t=new i(this),e.data(h,t)),"close"===n&&t[n](this)})},i._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},a(i,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),i}();u.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',m._handleDismiss(new m)),u.default.fn[p]=m._jQueryInterface,u.default.fn[p].Constructor=m,u.default.fn[p].noConflict=function(){return u.default.fn[p]=f,m._jQueryInterface};var g="button",v="bs.button",t="."+v,n=".data-api",y=u.default.fn[g],b="active",x='[data-toggle^="button"]',w='input:not([type="hidden"])',k=function(){function o(e){this._element=e,this.shouldAvoidTriggerChange=!1}var e=o.prototype;return e.toggle=function(){var e,t=!0,n=!0,i=u.default(this._element).closest('[data-toggle="buttons"]')[0];!i||(e=this._element.querySelector(w))&&("radio"===e.type&&(e.checked&&this._element.classList.contains(b)?t=!1:(i=i.querySelector(".active"))&&u.default(i).removeClass(b)),t&&("checkbox"!==e.type&&"radio"!==e.type||(e.checked=!this._element.classList.contains(b)),this.shouldAvoidTriggerChange||u.default(e).trigger("change")),e.focus(),n=!1),this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(b)),t&&u.default(this._element).toggleClass(b))},e.dispose=function(){u.default.removeData(this._element,v),this._element=null},o._jQueryInterface=function(n,i){return this.each(function(){var e=u.default(this),t=e.data(v);t||(t=new o(this),e.data(v,t)),t.shouldAvoidTriggerChange=i,"toggle"===n&&t[n]()})},a(o,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),o}();u.default(document).on("click.bs.button.data-api",x,function(e){var t,n=e.target,i=n;!(n=!u.default(n).hasClass("btn")?u.default(n).closest(".btn")[0]:n)||n.hasAttribute("disabled")||n.classList.contains("disabled")||(t=n.querySelector(w))&&(t.hasAttribute("disabled")||t.classList.contains("disabled"))?e.preventDefault():"INPUT"!==i.tagName&&"LABEL"===n.tagName||k._jQueryInterface.call(u.default(n),"toggle","INPUT"===i.tagName)}).on("focus.bs.button.data-api blur.bs.button.data-api",x,function(e){var t=u.default(e.target).closest(".btn")[0];u.default(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),u.default(window).on("load.bs.button.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,n=e.length;t<n;t++){var i=e[t],o=i.querySelector(w);o.checked||o.hasAttribute("checked")?i.classList.add(b):i.classList.remove(b)}for(var r=0,a=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;r<a;r++){var s=e[r];"true"===s.getAttribute("aria-pressed")?s.classList.add(b):s.classList.remove(b)}}),u.default.fn[g]=k._jQueryInterface,u.default.fn[g].Constructor=k,u.default.fn[g].noConflict=function(){return u.default.fn[g]=y,k._jQueryInterface};var E="carousel",C="bs.carousel",S="."+C,T=u.default.fn[E],_={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},N={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},A="next",P="prev",I="slid"+S,R="active",M=".active.carousel-item",L={TOUCH:"touch",PEN:"pen"},D=function(){function o(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=o.prototype;return e.next=function(){this._isSliding||this._slide(A)},e.nextWhenVisible=function(){var e=u.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(P)},e.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(d.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(e){var t=this;this._activeElement=this._element.querySelector(M);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)u.default(this._element).one(I,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();this._slide(n<e?A:P,this._items[e])}},e.dispose=function(){u.default(this._element).off(S),u.default.removeData(this._element,C),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(e){return e=s({},_,e),d.typeCheckConfig(E,e,N),e},e._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);e<=40||(e=e/this.touchDeltaX,(this.touchDeltaX=0)<e&&this.prev(),e<0&&this.next())},e._addEventListeners=function(){var t=this;this._config.keyboard&&u.default(this._element).on("keydown.bs.carousel",function(e){return t._keydown(e)}),"hover"===this._config.pause&&u.default(this._element).on("mouseenter.bs.carousel",function(e){return t.pause(e)}).on("mouseleave.bs.carousel",function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var e,t,n=this;this._touchSupported&&(e=function(e){n._pointerEvent&&L[e.originalEvent.pointerType.toUpperCase()]?n.touchStartX=e.originalEvent.clientX:n._pointerEvent||(n.touchStartX=e.originalEvent.touches[0].clientX)},t=function(e){n._pointerEvent&&L[e.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=e.originalEvent.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(e){return n.cycle(e)},500+n._config.interval))},u.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(e){return e.preventDefault()}),this._pointerEvent?(u.default(this._element).on("pointerdown.bs.carousel",e),u.default(this._element).on("pointerup.bs.carousel",t),this._element.classList.add("pointer-event")):(u.default(this._element).on("touchstart.bs.carousel",e),u.default(this._element).on("touchmove.bs.carousel",function(e){(e=e).originalEvent.touches&&1<e.originalEvent.touches.length?n.touchDeltaX=0:n.touchDeltaX=e.originalEvent.touches[0].clientX-n.touchStartX}),u.default(this._element).on("touchend.bs.carousel",t)))},e._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},e._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},e._getItemByDirection=function(e,t){var n=e===A,i=e===P,o=this._getItemIndex(t),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return t;e=(o+(e===P?-1:1))%this._items.length;return-1==e?this._items[this._items.length-1]:this._items[e]},e._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(M)),n=u.default.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:i,to:n});return u.default(this._element).trigger(n),n},e._setActiveIndicatorElement=function(e){var t;this._indicatorsElement&&(t=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),u.default(t).removeClass(R),(e=this._indicatorsElement.children[this._getItemIndex(e)])&&u.default(e).addClass(R))},e._updateInterval=function(){var e=this._activeElement||this._element.querySelector(M);e&&((e=parseInt(e.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval)},e._slide=function(e,t){var n,i,o,r=this,a=this._element.querySelector(M),s=this._getItemIndex(a),l=t||a&&this._getItemByDirection(e,a),c=this._getItemIndex(l),t=Boolean(this._interval),e=e===A?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right");l&&u.default(l).hasClass(R)?this._isSliding=!1:this._triggerSlideEvent(l,e).isDefaultPrevented()||a&&l&&(this._isSliding=!0,t&&this.pause(),this._setActiveIndicatorElement(l),this._activeElement=l,o=u.default.Event(I,{relatedTarget:l,direction:e,from:s,to:c}),u.default(this._element).hasClass("slide")?(u.default(l).addClass(i),d.reflow(l),u.default(a).addClass(n),u.default(l).addClass(n),c=d.getTransitionDurationFromElement(a),u.default(a).one(d.TRANSITION_END,function(){u.default(l).removeClass(n+" "+i).addClass(R),u.default(a).removeClass(R+" "+i+" "+n),r._isSliding=!1,setTimeout(function(){return u.default(r._element).trigger(o)},0)}).emulateTransitionEnd(c)):(u.default(a).removeClass(R),u.default(l).addClass(R),this._isSliding=!1,u.default(this._element).trigger(o)),t&&this.cycle())},o._jQueryInterface=function(i){return this.each(function(){var e=u.default(this).data(C),t=s({},_,u.default(this).data());"object"==typeof i&&(t=s({},t,i));var n="string"==typeof i?i:t.slide;if(e||(e=new o(this,t),u.default(this).data(C,e)),"number"==typeof i)e.to(i);else if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}else t.interval&&t.ride&&(e.pause(),e.cycle())})},o._dataApiClickHandler=function(e){var t,n,i=d.getSelectorFromElement(this);!i||(t=u.default(i)[0])&&u.default(t).hasClass("carousel")&&(n=s({},u.default(t).data(),u.default(this).data()),(i=this.getAttribute("data-slide-to"))&&(n.interval=!1),o._jQueryInterface.call(u.default(t),n),i&&u.default(t).data(C).to(i),e.preventDefault())},a(o,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return _}}]),o}();u.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",D._dataApiClickHandler),u.default(window).on("load.bs.carousel.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,n=e.length;t<n;t++){var i=u.default(e[t]);D._jQueryInterface.call(i,i.data())}}),u.default.fn[E]=D._jQueryInterface,u.default.fn[E].Constructor=D,u.default.fn[E].noConflict=function(){return u.default.fn[E]=T,D._jQueryInterface};var j="collapse",F="bs.collapse",t="."+F,O=u.default.fn[j],B={toggle:!0,parent:""},H={toggle:"boolean",parent:"(string|element)"},$="show",z="collapse",U="collapsing",V="collapsed",q='[data-toggle="collapse"]',W=function(){function r(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(q)),i=0,o=n.length;i<o;i++){var r=n[i],a=d.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(a)).filter(function(e){return e===t});null!==a&&0<s.length&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=r.prototype;return e.toggle=function(){u.default(this._element).hasClass($)?this.hide():this.show()},e.show=function(){var e,t,n,i,o=this;this._isTransitioning||u.default(this._element).hasClass($)||(i=this._parent&&0===(i=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return"string"==typeof o._config.parent?e.getAttribute("data-parent")===o._config.parent:e.classList.contains(z)})).length?null:i)&&(n=u.default(i).not(this._selector).data(F))&&n._isTransitioning||(e=u.default.Event("show.bs.collapse"),u.default(this._element).trigger(e),e.isDefaultPrevented()||(i&&(r._jQueryInterface.call(u.default(i).not(this._selector),"hide"),n||u.default(i).data(F,null)),t=this._getDimension(),u.default(this._element).removeClass(z).addClass(U),this._element.style[t]=0,this._triggerArray.length&&u.default(this._triggerArray).removeClass(V).attr("aria-expanded",!0),this.setTransitioning(!0),n="scroll"+(t[0].toUpperCase()+t.slice(1)),i=d.getTransitionDurationFromElement(this._element),u.default(this._element).one(d.TRANSITION_END,function(){u.default(o._element).removeClass(U).addClass(z+" "+$),o._element.style[t]="",o.setTransitioning(!1),u.default(o._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(i),this._element.style[t]=this._element[n]+"px"))},e.hide=function(){var e=this;if(!this._isTransitioning&&u.default(this._element).hasClass($)){var t=u.default.Event("hide.bs.collapse");if(u.default(this._element).trigger(t),!t.isDefaultPrevented()){t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",d.reflow(this._element),u.default(this._element).addClass(U).removeClass(z+" "+$);var n=this._triggerArray.length;if(0<n)for(var i=0;i<n;i++){var o=this._triggerArray[i],r=d.getSelectorFromElement(o);null!==r&&(u.default([].slice.call(document.querySelectorAll(r))).hasClass($)||u.default(o).addClass(V).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[t]="";t=d.getTransitionDurationFromElement(this._element);u.default(this._element).one(d.TRANSITION_END,function(){e.setTransitioning(!1),u.default(e._element).removeClass(U).addClass(z).trigger("hidden.bs.collapse")}).emulateTransitionEnd(t)}}},e.setTransitioning=function(e){this._isTransitioning=e},e.dispose=function(){u.default.removeData(this._element,F),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(e){return(e=s({},B,e)).toggle=Boolean(e.toggle),d.typeCheckConfig(j,e,H),e},e._getDimension=function(){return u.default(this._element).hasClass("width")?"width":"height"},e._getParent=function(){var e,n=this;d.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var t='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',t=[].slice.call(e.querySelectorAll(t));return u.default(t).each(function(e,t){n._addAriaAndCollapsedClass(r._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function(e,t){e=u.default(e).hasClass($);t.length&&u.default(t).toggleClass(V,!e).attr("aria-expanded",e)},r._getTargetFromElement=function(e){e=d.getSelectorFromElement(e);return e?document.querySelector(e):null},r._jQueryInterface=function(i){return this.each(function(){var e=u.default(this),t=e.data(F),n=s({},B,e.data(),"object"==typeof i&&i?i:{});if(!t&&n.toggle&&"string"==typeof i&&/show|hide/.test(i)&&(n.toggle=!1),t||(t=new r(this,n),e.data(F,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},a(r,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return B}}]),r}();u.default(document).on("click.bs.collapse.data-api",q,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=u.default(this),e=d.getSelectorFromElement(this),e=[].slice.call(document.querySelectorAll(e));u.default(e).each(function(){var e=u.default(this),t=e.data(F)?"toggle":n.data();W._jQueryInterface.call(e,t)})}),u.default.fn[j]=W._jQueryInterface,u.default.fn[j].Constructor=W,u.default.fn[j].noConflict=function(){return u.default.fn[j]=O,W._jQueryInterface};var K="dropdown",G="bs.dropdown",Y="."+G,n=".data-api",X=u.default.fn[K],Q=new RegExp("38|40|27"),Z="hide"+Y,J="hidden"+Y,x="click"+Y+n,t="keydown"+Y+n,ee="disabled",te="show",ne="dropdown-menu-right",ie='[data-toggle="dropdown"]',oe=".dropdown-menu",re={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},ae={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},se=function(){function c(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=c.prototype;return e.toggle=function(){var e;this._element.disabled||u.default(this._element).hasClass(ee)||(e=u.default(this._menu).hasClass(te),c._clearMenus(),e||this.show(!0))},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||u.default(this._element).hasClass(ee)||u.default(this._menu).hasClass(te))){var t={relatedTarget:this._element},n=u.default.Event("show.bs.dropdown",t),i=c._getParentFromElement(this._element);if(u.default(i).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===r.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");e=this._element;"parent"===this._config.reference?e=i:d.isElement(this._config.reference)&&(e=this._config.reference,void 0!==this._config.reference.jquery&&(e=this._config.reference[0])),"scrollParent"!==this._config.boundary&&u.default(i).addClass("position-static"),this._popper=new r.default(e,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===u.default(i).closest(".navbar-nav").length&&u.default(document.body).children().on("mouseover",null,u.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),u.default(this._menu).toggleClass(te),u.default(i).toggleClass(te).trigger(u.default.Event("shown.bs.dropdown",t))}}},e.hide=function(){var e,t,n;this._element.disabled||u.default(this._element).hasClass(ee)||!u.default(this._menu).hasClass(te)||(e={relatedTarget:this._element},t=u.default.Event(Z,e),n=c._getParentFromElement(this._element),u.default(n).trigger(t),t.isDefaultPrevented()||(this._popper&&this._popper.destroy(),u.default(this._menu).toggleClass(te),u.default(n).toggleClass(te).trigger(u.default.Event(J,e))))},e.dispose=function(){u.default.removeData(this._element,G),u.default(this._element).off(Y),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;u.default(this._element).on("click.bs.dropdown",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(e){return e=s({},this.constructor.Default,u.default(this._element).data(),e),d.typeCheckConfig(K,e,this.constructor.DefaultType),e},e._getMenuElement=function(){var e;return this._menu||(e=c._getParentFromElement(this._element))&&(this._menu=e.querySelector(oe)),this._menu},e._getPlacement=function(){var e=u.default(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=u.default(this._menu).hasClass(ne)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":u.default(this._menu).hasClass(ne)&&(t="bottom-end"),t},e._detectNavbar=function(){return 0<u.default(this._element).closest(".navbar").length},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),s({},e,this._config.popperConfig)},c._jQueryInterface=function(t){return this.each(function(){var e=u.default(this).data(G);if(e||(e=new c(this,"object"==typeof t?t:null),u.default(this).data(G,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},c._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(ie)),n=0,i=t.length;n<i;n++){var o,r,a=c._getParentFromElement(t[n]),s=u.default(t[n]).data(G),l={relatedTarget:t[n]};e&&"click"===e.type&&(l.clickEvent=e),s&&(o=s._menu,u.default(a).hasClass(te)&&(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&u.default.contains(a,e.target)||(r=u.default.Event(Z,l),u.default(a).trigger(r),r.isDefaultPrevented()||("ontouchstart"in document.documentElement&&u.default(document.body).children().off("mouseover",null,u.default.noop),t[n].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),u.default(o).removeClass(te),u.default(a).removeClass(te).trigger(u.default.Event(J,l))))))}},c._getParentFromElement=function(e){var t,n=d.getSelectorFromElement(e);return(t=n?document.querySelector(n):t)||e.parentNode},c._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||u.default(e.target).closest(oe).length)):Q.test(e.which))&&!this.disabled&&!u.default(this).hasClass(ee)){var t=c._getParentFromElement(this),n=u.default(t).hasClass(te);if(n||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!n||27===e.which||32===e.which)return 27===e.which&&u.default(t.querySelector(ie)).trigger("focus"),void u.default(this).trigger("click");n=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(e){return u.default(e).is(":visible")});0!==n.length&&(t=n.indexOf(e.target),38===e.which&&0<t&&t--,40===e.which&&t<n.length-1&&t++,n[t=t<0?0:t].focus())}}},a(c,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return re}},{key:"DefaultType",get:function(){return ae}}]),c}();u.default(document).on(t,ie,se._dataApiKeydownHandler).on(t,oe,se._dataApiKeydownHandler).on(x+" keyup.bs.dropdown.data-api",se._clearMenus).on(x,ie,function(e){e.preventDefault(),e.stopPropagation(),se._jQueryInterface.call(u.default(this),"toggle")}).on(x,".dropdown form",function(e){e.stopPropagation()}),u.default.fn[K]=se._jQueryInterface,u.default.fn[K].Constructor=se,u.default.fn[K].noConflict=function(){return u.default.fn[K]=X,se._jQueryInterface};var le="modal",ce="bs.modal",ue="."+ce,de=u.default.fn[le],pe={backdrop:!0,keyboard:!0,focus:!0,show:!0},he={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},fe="hidden"+ue,me="show"+ue,ge="focusin"+ue,ve="resize"+ue,ye="click.dismiss"+ue,be="keydown.dismiss"+ue,xe="mousedown.dismiss"+ue,we="modal-open",ke="fade",Ee="show",Ce="modal-static",Se=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Te=".sticky-top",_e=function(){function o(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=o.prototype;return e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e.show=function(e){var t,n=this;this._isShown||this._isTransitioning||(u.default(this._element).hasClass(ke)&&(this._isTransitioning=!0),t=u.default.Event(me,{relatedTarget:e}),u.default(this._element).trigger(t),this._isShown||t.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),u.default(this._element).on(ye,'[data-dismiss="modal"]',function(e){return n.hide(e)}),u.default(this._dialog).on(xe,function(){u.default(n._element).one("mouseup.dismiss.bs.modal",function(e){u.default(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)})))},e.hide=function(e){var t=this;e&&e.preventDefault(),this._isShown&&!this._isTransitioning&&(e=u.default.Event("hide.bs.modal"),u.default(this._element).trigger(e),this._isShown&&!e.isDefaultPrevented()&&(this._isShown=!1,(e=u.default(this._element).hasClass(ke))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),u.default(document).off(ge),u.default(this._element).removeClass(Ee),u.default(this._element).off(ye),u.default(this._dialog).off(xe),e?(e=d.getTransitionDurationFromElement(this._element),u.default(this._element).one(d.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(e)):this._hideModal()))},e.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return u.default(e).off(ue)}),u.default(document).off(ge),u.default.removeData(this._element,ce),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(e){return e=s({},pe,e),d.typeCheckConfig(le,e,he),e},e._triggerBackdropTransition=function(){var e,t,n=this,i=u.default.Event("hidePrevented.bs.modal");u.default(this._element).trigger(i),i.isDefaultPrevented()||((e=this._element.scrollHeight>document.documentElement.clientHeight)||(this._element.style.overflowY="hidden"),this._element.classList.add(Ce),t=d.getTransitionDurationFromElement(this._dialog),u.default(this._element).off(d.TRANSITION_END),u.default(this._element).one(d.TRANSITION_END,function(){n._element.classList.remove(Ce),e||u.default(n._element).one(d.TRANSITION_END,function(){n._element.style.overflowY=""}).emulateTransitionEnd(n._element,t)}).emulateTransitionEnd(t),this._element.focus())},e._showElement=function(e){var t=this,n=u.default(this._element).hasClass(ke),i=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),u.default(this._dialog).hasClass("modal-dialog-scrollable")&&i?i.scrollTop=0:this._element.scrollTop=0,n&&d.reflow(this._element),u.default(this._element).addClass(Ee),this._config.focus&&this._enforceFocus();var o=u.default.Event("shown.bs.modal",{relatedTarget:e}),e=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,u.default(t._element).trigger(o)};n?(n=d.getTransitionDurationFromElement(this._dialog),u.default(this._dialog).one(d.TRANSITION_END,e).emulateTransitionEnd(n)):e()},e._enforceFocus=function(){var t=this;u.default(document).off(ge).on(ge,function(e){document!==e.target&&t._element!==e.target&&0===u.default(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown?u.default(this._element).on(be,function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()}):this._isShown||u.default(this._element).off(be)},e._setResizeEvent=function(){var t=this;this._isShown?u.default(window).on(ve,function(e){return t.handleUpdate(e)}):u.default(window).off(ve)},e._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){u.default(document.body).removeClass(we),e._resetAdjustments(),e._resetScrollbar(),u.default(e._element).trigger(fe)})},e._removeBackdrop=function(){this._backdrop&&(u.default(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(e){var t,n=this,i=u.default(this._element).hasClass(ke)?ke:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),u.default(this._backdrop).appendTo(document.body),u.default(this._element).on(ye,function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._triggerBackdropTransition():n.hide())}),i&&d.reflow(this._backdrop),u.default(this._backdrop).addClass(Ee),e&&(i?(t=d.getTransitionDurationFromElement(this._backdrop),u.default(this._backdrop).one(d.TRANSITION_END,e).emulateTransitionEnd(t)):e())):!this._isShown&&this._backdrop?(u.default(this._backdrop).removeClass(Ee),i=function(){n._removeBackdrop(),e&&e()},u.default(this._element).hasClass(ke)?(t=d.getTransitionDurationFromElement(this._backdrop),u.default(this._backdrop).one(d.TRANSITION_END,i).emulateTransitionEnd(t)):i()):e&&e()},e._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var e,t,o=this;this._isBodyOverflowing&&(e=[].slice.call(document.querySelectorAll(Se)),t=[].slice.call(document.querySelectorAll(Te)),u.default(e).each(function(e,t){var n=t.style.paddingRight,i=u.default(t).css("padding-right");u.default(t).data("padding-right",n).css("padding-right",parseFloat(i)+o._scrollbarWidth+"px")}),u.default(t).each(function(e,t){var n=t.style.marginRight,i=u.default(t).css("margin-right");u.default(t).data("margin-right",n).css("margin-right",parseFloat(i)-o._scrollbarWidth+"px")}),e=document.body.style.paddingRight,t=u.default(document.body).css("padding-right"),u.default(document.body).data("padding-right",e).css("padding-right",parseFloat(t)+this._scrollbarWidth+"px")),u.default(document.body).addClass(we)},e._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Se));u.default(e).each(function(e,t){var n=u.default(t).data("padding-right");u.default(t).removeData("padding-right"),t.style.paddingRight=n||""});e=[].slice.call(document.querySelectorAll(Te));u.default(e).each(function(e,t){var n=u.default(t).data("margin-right");void 0!==n&&u.default(t).css("margin-right",n).removeData("margin-right")});e=u.default(document.body).data("padding-right");u.default(document.body).removeData("padding-right"),document.body.style.paddingRight=e||""},e._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},o._jQueryInterface=function(n,i){return this.each(function(){var e=u.default(this).data(ce),t=s({},pe,u.default(this).data(),"object"==typeof n&&n?n:{});if(e||(e=new o(this,t),u.default(this).data(ce,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](i)}else t.show&&e.show(i)})},a(o,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return pe}}]),o}();u.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t,n=this,i=d.getSelectorFromElement(this);i&&(t=document.querySelector(i));i=u.default(t).data(ce)?"toggle":s({},u.default(t).data(),u.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var o=u.default(t).one(me,function(e){e.isDefaultPrevented()||o.one(fe,function(){u.default(n).is(":visible")&&n.focus()})});_e._jQueryInterface.call(u.default(t),i,this)}),u.default.fn[le]=_e._jQueryInterface,u.default.fn[le].Constructor=_e,u.default.fn[le].noConflict=function(){return u.default.fn[le]=de,_e._jQueryInterface};var Ne=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],x={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ae=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Pe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Ie(e,r,t){if(0===e.length)return e;if(t&&"function"==typeof t)return t(e);for(var e=(new window.DOMParser).parseFromString(e,"text/html"),a=Object.keys(r),s=[].slice.call(e.body.querySelectorAll("*")),n=function(e,t){var n=s[e],i=n.nodeName.toLowerCase();if(-1===a.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var e=[].slice.call(n.attributes),o=[].concat(r["*"]||[],r[i]||[]);e.forEach(function(e){!function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Ne.indexOf(n)||Boolean(e.nodeValue.match(Ae)||e.nodeValue.match(Pe));for(var i=t.filter(function(e){return e instanceof RegExp}),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return 1}(e,o)&&n.removeAttribute(e.nodeName)})},i=0,o=s.length;i<o;i++)n(i);return e.body.innerHTML}var Re="tooltip",Me="bs.tooltip",Le="."+Me,De=u.default.fn[Re],je="bs-tooltip",Fe=new RegExp("(^|\\s)"+je+"\\S+","g"),Oe=["sanitize","whiteList","sanitizeFn"],Be={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},He={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},$e={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:x,popperConfig:null},ze="show",Ue={HIDE:"hide"+Le,HIDDEN:"hidden"+Le,SHOW:"show"+Le,SHOWN:"shown"+Le,INSERTED:"inserted"+Le,CLICK:"click"+Le,FOCUSIN:"focusin"+Le,FOCUSOUT:"focusout"+Le,MOUSEENTER:"mouseenter"+Le,MOUSELEAVE:"mouseleave"+Le},Ve="fade",qe="show",We="hover",Ke=function(){function o(e,t){if(void 0===r.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var e=o.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(e){var t,n;this._isEnabled&&(e?(t=this.constructor.DATA_KEY,(n=u.default(e.currentTarget).data(t))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),u.default(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)):u.default(this.getTipElement()).hasClass(qe)?this._leave(null,this):this._enter(null,this))},e.dispose=function(){clearTimeout(this._timeout),u.default.removeData(this.element,this.constructor.DATA_KEY),u.default(this.element).off(this.constructor.EVENT_KEY),u.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&u.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===u.default(this.element).css("display"))throw new Error("Please use show on visible elements");var e,n,i=u.default.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(u.default(this.element).trigger(i),n=d.findShadowRoot(this.element),e=u.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element),!i.isDefaultPrevented()&&e&&(n=this.getTipElement(),i=d.getUID(this.constructor.NAME),n.setAttribute("id",i),this.element.setAttribute("aria-describedby",i),this.setContent(),this.config.animation&&u.default(n).addClass(Ve),e="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,i=this._getAttachment(e),this.addAttachmentClass(i),e=this._getContainer(),u.default(n).data(this.constructor.DATA_KEY,this),u.default.contains(this.element.ownerDocument.documentElement,this.tip)||u.default(n).appendTo(e),u.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new r.default(this.element,n,this._getPopperConfig(i)),u.default(n).addClass(qe),u.default(n).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&u.default(document.body).children().on("mouseover",null,u.default.noop),i=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,u.default(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)},u.default(this.tip).hasClass(Ve)?(n=d.getTransitionDurationFromElement(this.tip),u.default(this.tip).one(d.TRANSITION_END,i).emulateTransitionEnd(n)):i()))},e.hide=function(e){function t(){n._hoverState!==ze&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),u.default(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()}var n=this,i=this.getTipElement(),o=u.default.Event(this.constructor.Event.HIDE);u.default(this.element).trigger(o),o.isDefaultPrevented()||(u.default(i).removeClass(qe),"ontouchstart"in document.documentElement&&u.default(document.body).children().off("mouseover",null,u.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger[We]=!1,u.default(this.tip).hasClass(Ve)?(o=d.getTransitionDurationFromElement(i),u.default(i).one(d.TRANSITION_END,t).emulateTransitionEnd(o)):t(),this._hoverState="")},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(e){u.default(this.getTipElement()).addClass(je+"-"+e)},e.getTipElement=function(){return this.tip=this.tip||u.default(this.config.template)[0],this.tip},e.setContent=function(){var e=this.getTipElement();this.setElementContent(u.default(e.querySelectorAll(".tooltip-inner")),this.getTitle()),u.default(e).removeClass("fade show")},e.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Ie(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?u.default(t).parent().is(e)||e.empty().append(t):e.text(u.default(t).text())},e.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},e._getPopperConfig=function(e){var t=this;return s({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:d.isElement(this.config.container)?u.default(this.config.container):u.default(document).find(this.config.container)},e._getAttachment=function(e){return He[e.toUpperCase()]},e._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(e){var t;"click"===e?u.default(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(e){return n.toggle(e)}):"manual"!==e&&(t=e===We?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,e=e===We?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT,u.default(n.element).on(t,n.config.selector,function(e){return n._enter(e)}).on(e,n.config.selector,function(e){return n._leave(e)}))}),this._hideModalHandler=function(){n.element&&n.hide()},u.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==e||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||u.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),u.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?"focus":We]=!0),u.default(t.getTipElement()).hasClass(qe)||t._hoverState===ze?t._hoverState=ze:(clearTimeout(t._timeout),t._hoverState=ze,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===ze&&t.show()},t.config.delay.show):t.show())},e._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||u.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),u.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?"focus":We]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},e._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},e._getConfig=function(e){var t=u.default(this.element).data();return Object.keys(t).forEach(function(e){-1!==Oe.indexOf(e)&&delete t[e]}),"number"==typeof(e=s({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),d.typeCheckConfig(Re,e,this.constructor.DefaultType),e.sanitize&&(e.template=Ie(e.template,e.whiteList,e.sanitizeFn)),e},e._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},e._cleanTipClass=function(){var e=u.default(this.getTipElement()),t=e.attr("class").match(Fe);null!==t&&t.length&&e.removeClass(t.join(""))},e._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},e._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(u.default(e).removeClass(Ve),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},o._jQueryInterface=function(i){return this.each(function(){var e=u.default(this),t=e.data(Me),n="object"==typeof i&&i;if((t||!/dispose|hide/.test(i))&&(t||(t=new o(this,n),e.data(Me,t)),"string"==typeof i)){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},a(o,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return $e}},{key:"NAME",get:function(){return Re}},{key:"DATA_KEY",get:function(){return Me}},{key:"Event",get:function(){return Ue}},{key:"EVENT_KEY",get:function(){return Le}},{key:"DefaultType",get:function(){return Be}}]),o}();u.default.fn[Re]=Ke._jQueryInterface,u.default.fn[Re].Constructor=Ke,u.default.fn[Re].noConflict=function(){return u.default.fn[Re]=De,Ke._jQueryInterface};var Ge="popover",Ye="bs.popover",Xe="."+Ye,Qe=u.default.fn[Ge],Ze="bs-popover",Je=new RegExp("(^|\\s)"+Ze+"\\S+","g"),et=s({},Ke.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),tt=s({},Ke.DefaultType,{content:"(string|element|function)"}),nt={HIDE:"hide"+Xe,HIDDEN:"hidden"+Xe,SHOW:"show"+Xe,SHOWN:"shown"+Xe,INSERTED:"inserted"+Xe,CLICK:"click"+Xe,FOCUSIN:"focusin"+Xe,FOCUSOUT:"focusout"+Xe,MOUSEENTER:"mouseenter"+Xe,MOUSELEAVE:"mouseleave"+Xe},it=function(e){var t;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var n=i.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(e){u.default(this.getTipElement()).addClass(Ze+"-"+e)},n.getTipElement=function(){return this.tip=this.tip||u.default(this.config.template)[0],this.tip},n.setContent=function(){var e=u.default(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var e=u.default(this.getTipElement()),t=e.attr("class").match(Je);null!==t&&0<t.length&&e.removeClass(t.join(""))},i._jQueryInterface=function(n){return this.each(function(){var e=u.default(this).data(Ye),t="object"==typeof n?n:null;if((e||!/dispose|hide/.test(n))&&(e||(e=new i(this,t),u.default(this).data(Ye,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return et}},{key:"NAME",get:function(){return Ge}},{key:"DATA_KEY",get:function(){return Ye}},{key:"Event",get:function(){return nt}},{key:"EVENT_KEY",get:function(){return Xe}},{key:"DefaultType",get:function(){return tt}}]),i}(Ke);u.default.fn[Ge]=it._jQueryInterface,u.default.fn[Ge].Constructor=it,u.default.fn[Ge].noConflict=function(){return u.default.fn[Ge]=Qe,it._jQueryInterface};var ot="scrollspy",rt="bs.scrollspy",at="."+rt,st=u.default.fn[ot],lt={offset:10,method:"auto",target:""},ct={offset:"number",method:"string",target:"(string|element)"},ut="active",dt=".nav, .list-group",pt=".nav-link",ht=".list-group-item",ft=function(){function n(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+pt+","+this._config.target+" "+ht+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,u.default(this._scrollElement).on("scroll.bs.scrollspy",function(e){return n._process(e)}),this.refresh(),this._process()}var e=n.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?e:this._config.method,o="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var t,n=d.getSelectorFromElement(e);if(t=n?document.querySelector(n):t){e=t.getBoundingClientRect();if(e.width||e.height)return[u.default(t)[i]().top+o,n]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){u.default.removeData(this._element,rt),u.default(this._scrollElement).off(at),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(e){var t;return"string"!=typeof(e=s({},lt,"object"==typeof e&&e?e:{})).target&&d.isElement(e.target)&&((t=u.default(e.target).attr("id"))||(t=d.getUID(ot),u.default(e.target).attr("id",t)),e.target="#"+t),d.typeCheckConfig(ot,e,ct),e},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),e=u.default([].slice.call(document.querySelectorAll(e.join(","))));e.hasClass("dropdown-item")?(e.closest(".dropdown").find(".dropdown-toggle").addClass(ut),e.addClass(ut)):(e.addClass(ut),e.parents(dt).prev(pt+", "+ht).addClass(ut),e.parents(dt).prev(".nav-item").children(pt).addClass(ut)),u.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains(ut)}).forEach(function(e){return e.classList.remove(ut)})},n._jQueryInterface=function(t){return this.each(function(){var e=u.default(this).data(rt);if(e||(e=new n(this,"object"==typeof t&&t),u.default(this).data(rt,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},a(n,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return lt}}]),n}();u.default(window).on("load.bs.scrollspy.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var n=u.default(e[t]);ft._jQueryInterface.call(n,n.data())}}),u.default.fn[ot]=ft._jQueryInterface,u.default.fn[ot].Constructor=ft,u.default.fn[ot].noConflict=function(){return u.default.fn[ot]=st,ft._jQueryInterface};var mt="bs.tab",gt=u.default.fn.tab,vt="active",yt="> li > .active",bt=function(){function i(e){this._element=e}var e=i.prototype;return e.show=function(){var e,t,n,i,o,r,a=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&u.default(this._element).hasClass(vt)||u.default(this._element).hasClass("disabled")||(r=u.default(this._element).closest(".nav, .list-group")[0],t=d.getSelectorFromElement(this._element),r&&(o="UL"===r.nodeName||"OL"===r.nodeName?yt:".active",n=(n=u.default.makeArray(u.default(r).find(o)))[n.length-1]),i=u.default.Event("hide.bs.tab",{relatedTarget:this._element}),o=u.default.Event("show.bs.tab",{relatedTarget:n}),n&&u.default(n).trigger(i),u.default(this._element).trigger(o),o.isDefaultPrevented()||i.isDefaultPrevented()||(t&&(e=document.querySelector(t)),this._activate(this._element,r),r=function(){var e=u.default.Event("hidden.bs.tab",{relatedTarget:a._element}),t=u.default.Event("shown.bs.tab",{relatedTarget:n});u.default(n).trigger(e),u.default(a._element).trigger(t)},e?this._activate(e,e.parentNode,r):r()))},e.dispose=function(){u.default.removeData(this._element,mt),this._element=null},e._activate=function(e,t,n){var i=this,o=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?u.default(t).children(".active"):u.default(t).find(yt))[0],r=n&&o&&u.default(o).hasClass("fade"),t=function(){return i._transitionComplete(e,o,n)};o&&r?(r=d.getTransitionDurationFromElement(o),u.default(o).removeClass("show").one(d.TRANSITION_END,t).emulateTransitionEnd(r)):t()},e._transitionComplete=function(e,t,n){var i;t&&(u.default(t).removeClass(vt),(i=u.default(t.parentNode).find("> .dropdown-menu .active")[0])&&u.default(i).removeClass(vt),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)),u.default(e).addClass(vt),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),d.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&u.default(e.parentNode).hasClass("dropdown-menu")&&((t=u.default(e).closest(".dropdown")[0])&&(t=[].slice.call(t.querySelectorAll(".dropdown-toggle")),u.default(t).addClass(vt)),e.setAttribute("aria-expanded",!0)),n&&n()},i._jQueryInterface=function(n){return this.each(function(){var e=u.default(this),t=e.data(mt);if(t||(t=new i(this),e.data(mt,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),i}();u.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),bt._jQueryInterface.call(u.default(this),"show")}),u.default.fn.tab=bt._jQueryInterface,u.default.fn.tab.Constructor=bt,u.default.fn.tab.noConflict=function(){return u.default.fn.tab=gt,bt._jQueryInterface};var xt="toast",wt="bs.toast",x="."+wt,kt=u.default.fn[xt],Et="click.dismiss"+x,Ct="show",St={animation:"boolean",autohide:"boolean",delay:"number"},Tt={animation:!0,autohide:!0,delay:500},_t=function(){function i(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var e=i.prototype;return e.show=function(){var e,t=this,n=u.default.Event("show.bs.toast");u.default(this._element).trigger(n),n.isDefaultPrevented()||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),e=function(){t._element.classList.remove("showing"),t._element.classList.add(Ct),u.default(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout(function(){t.hide()},t._config.delay))},this._element.classList.remove("hide"),d.reflow(this._element),this._element.classList.add("showing"),this._config.animation?(n=d.getTransitionDurationFromElement(this._element),u.default(this._element).one(d.TRANSITION_END,e).emulateTransitionEnd(n)):e())},e.hide=function(){var e;this._element.classList.contains(Ct)&&(e=u.default.Event("hide.bs.toast"),u.default(this._element).trigger(e),e.isDefaultPrevented()||this._close())},e.dispose=function(){this._clearTimeout(),this._element.classList.contains(Ct)&&this._element.classList.remove(Ct),u.default(this._element).off(Et),u.default.removeData(this._element,wt),this._element=null,this._config=null},e._getConfig=function(e){return e=s({},Tt,u.default(this._element).data(),"object"==typeof e&&e?e:{}),d.typeCheckConfig(xt,e,this.constructor.DefaultType),e},e._setListeners=function(){var e=this;u.default(this._element).on(Et,'[data-dismiss="toast"]',function(){return e.hide()})},e._close=function(){function e(){n._element.classList.add("hide"),u.default(n._element).trigger("hidden.bs.toast")}var t,n=this;this._element.classList.remove(Ct),this._config.animation?(t=d.getTransitionDurationFromElement(this._element),u.default(this._element).one(d.TRANSITION_END,e).emulateTransitionEnd(t)):e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},i._jQueryInterface=function(n){return this.each(function(){var e=u.default(this),t=e.data(wt);if(t||(t=new i(this,"object"==typeof n&&n),e.data(wt,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](this)}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return St}},{key:"Default",get:function(){return Tt}}]),i}();u.default.fn[xt]=_t._jQueryInterface,u.default.fn[xt].Constructor=_t,u.default.fn[xt].noConflict=function(){return u.default.fn[xt]=kt,_t._jQueryInterface},e.Alert=m,e.Button=k,e.Carousel=D,e.Collapse=W,e.Dropdown=se,e.Modal=_e,e.Popover=it,e.Scrollspy=ft,e.Tab=bt,e.Toast=_t,e.Tooltip=Ke,e.Util=d,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?o(n,e("jquery"),e("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],o):o((i="undefined"!=typeof globalThis?globalThis:i||self).bootstrap={},i.jQuery,i.Popper)},{jquery:624,"popper.js":843}],225:[function(e,t,n){"use strict";var v=e("min-dom").domify,y=e("min-dom").query,p=e("min-dom").queryAll,r=e("min-dom").remove,l=e("min-dom").classes,a=e("min-dom").closest,b=e("min-dom").attr,i=e("min-dom").delegate,o=e("min-dom").matches,x=e("lodash/forEach"),s=e("lodash/filter"),c=e("lodash/get"),u=e("lodash/keys"),d=e("lodash/isEmpty"),h=e("lodash/isArray"),f=e("lodash/xor"),m=e("lodash/debounce"),g=e("selection-update"),w=e("scroll-tabs").default,k=e("bpmn-js/lib/util/ModelUtil").getBusinessObject,E="bpp-hidden";function C(e){return"checkbox"===e.type||"radio"===e.type}function S(e){return b(e,"contenteditable")}function T(e,t){var n=p("input[name], textarea[name], select[name], [contenteditable]",e);return n&&n.length||(n=o(e,"option")?[e]:n),n=!t?s(n,function(e){return!a(e,"."+E)}):n}function _(e){var i={},e=T(e);return x(e,function(e){var t=e.value,n=b(e,"name")||b(e,"data-name");C(e)?t=e.checked?!b(e,"value")||e.value:null:S(e)&&(t=e.innerText),null!==t&&(i[n]=t)}),i}function N(e){var t,n=y("[data-list-entry-container]",e);return n?(t=[],n=n.children||[],x(n,function(e){t.push(_(e))})):t=_(e),t}function A(t,n){return!(t&&!n)&&u(t).concat(u(n)).every(function(e){return t[e]===n[e]})}function P(e){return M(R(L(R(L(e,"groups")),"entries")),"id")}function I(e,t,n,i,o,r){this._eventBus=t,this._modeling=n,this._commandStack=o,this._canvas=r,this._propertiesProvider=i,this._init(e)}I.$inject=["config.propertiesPanel","eventBus","modeling","propertiesProvider","commandStack","canvas"],(t.exports=I).prototype._init=function(e){var t=this._canvas,n=this._eventBus,i=this;n.on("root.added",function(e){e=e.element;D(e)||i.update(e)}),n.on("selection.changed",function(e){e=e.newSelection[0];D(t.getRootElement())||i.update(e)}),n.on(["propertiesPanel.changed","propertiesPanel.resized"],function(e){var t,n=y(".bpp-properties-tab-bar",i._container);n&&((t=w.get(n))||(t=w(n,{selectors:{tabsContainer:".bpp-properties-tabs-links",tab:".bpp-properties-tabs-links li",ignore:".bpp-hidden",active:".bpp-active"}})).on("scroll",function(e,t,n){e=y("[data-tab-target]",e),e=b(e,"data-tab-target");i.activateTab(e)}),t.update())}),n.on("elements.changed",function(e){var t=i._current,t=t&&t.element;t&&-1!==e.elements.indexOf(t)&&i.update(t)}),n.on("elementTemplates.changed",function(){var e=i._current,e=e&&e.element;e&&i.update(e)}),n.on("diagram.destroy",function(){i.detach()}),this._container=v('<div class="bpp-properties-panel"></div>'),this._bindListeners(this._container),e&&e.parent&&this.attachTo(e.parent)},I.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),"string"==typeof(e=e.get&&e.constructor.prototype.jquery?e.get(0):e)&&(e=y(e));var t=this._container;e.appendChild(t),this._emit("attach")},I.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach"),t.removeChild(e))},I.prototype.activateTab=function(e){var n="string"==typeof e?e:e.id,t=this._current.panel,e=p(".bpp-properties-tab",t),t=p(".bpp-properties-tab-link",t);x(e,function(e){var t=b(e,"data-tab");l(e).toggle("bpp-active",n===t)}),x(t,function(e){var t=y("[data-tab-target]",e),t=b(t,"data-tab-target");l(e).toggle("bpp-active",n===t)})},I.prototype.update=function(e){var t=this._current,n=!0;void 0===e&&(e=this._canvas.getRootElement());var i,o=this._propertiesProvider.getTabs(e);(n=t&&t.element===e?this._entriesChanged(t,o):n)&&(t&&((n=y(".bpp-properties-tab.bpp-active",t.panel))&&(i=b(n,"data-tab")),r(t.panel)),this._current=this._create(e,o),i?this.activateTab(i):this.activateTab(this._current.tabs[0])),this._current&&this._updateActivation(this._current),this._emit("changed")},I.prototype._entriesChanged=function(e,t){e=u(e.entries),t=u(P(t));return!d(f(e,t))},I.prototype._emit=function(e){this._eventBus.fire("propertiesPanel."+e,{panel:this,current:this._current})},I.prototype._bindListeners=function(e){function t(e){var t=e.delegateTarget,n=a(t,"[data-entry]");if(n){var i=b(n,"data-entry"),o=r.getEntry(i),i=N(n);if("change"===e.type){t=b(t,"data-on-change");if(t)if(!r.executeAction(o,n,t,e))return r.update(r._current.element)}r.applyChanges(o,i,n),r.updateState(o,n)}}var r=this;i.bind(e,"input, textarea, [contenteditable]","input",m(t,300)),i.bind(e,"input, textarea, select, [contenteditable]","change",t),i.bind(e,"select","keydown",function(e){46===e.keyCode&&(e.stopPropagation(),e.preventDefault())}),i.bind(e,"[data-action]","click",function(e){var t=e.delegateTarget,n=a(t,"[data-entry]"),i=b(t,"data-action"),t=b(n,"data-entry"),t=r.getEntry(t);r.executeAction(t,n,i,e)&&(e=N(n),r.applyChanges(t,e,n)),r.updateState(t,n)}),i.bind(e,"[data-blur]","blur",function(e,t){var n,i=e.delegateTarget,o=a(i,"[data-entry]");o&&(n=b(i,"data-blur"),i=b(o,"data-entry"),i=r.getEntry(i),r.executeAction(i,o,n,e)&&(e=N(o),r.applyChanges(i,e,o)),r.updateState(i,o))},!0),i.bind(e,".bpp-properties-tabs-links [data-tab-target]","click",function(e){e.preventDefault();e=e.delegateTarget,e=b(e,"data-tab-target");r.activateTab(e)})},I.prototype.updateState=function(e,t){this.updateShow(e,t),this.updateDisable(e,t)},I.prototype.updateShow=function(i,o){var e,r=this._current;r&&(e=p("[data-show]",o)||[],x(e,function(e){var t=b(e,"data-show"),n=c(i,t);n&&(t=a(e,"[data-scope]")||o,n(r.element,o,e,t)||!1?l(e).remove(E):l(e).add(E))}))},I.prototype.updateDisable=function(i,o){var e,r=this._current;r&&(e=p("[data-disable]",o)||[],x(e,function(e){var t=b(e,"data-disable"),n=c(i,t);n&&(t=a(e,"[data-scope]")||o,t=n(r.element,o,e,t)||!1,b(e,"disabled",t?"":null))}))},I.prototype.executeAction=function(e,t,n,i){var o=this._current;if(o){var r=c(e,n);if(r){n=a(i.target,"[data-scope]")||t;return r.apply(e,[o.element,t,i,n])}}},I.prototype.applyChanges=function(e,t,n){var i,o,r,a=this._current.element;i=t,o=e.oldValues,(h(i)?i.length===o.length&&i.every(function(e,t){return A(e,o[t])}):A(i,o))||(n=e.set(a,t,n),h(n)?n.length&&(r={cmd:"properties-panel.multi-command-executor",context:R(n)}):r=n,r?this._commandStack.execute(r.cmd,r.context||{element:a}):this.update(a))},I.prototype.applyValidationErrors=function(i,e){var o=!0,e=T(e,!0);return x(e,function(e){var t=b(e,"name")||b(e,"data-name"),n=i&&i[t],t=y(".bpp-error-message",e.parentNode);n?(o=!1,t||(t=v("<div></div>"),l(t).add("bpp-error-message"),e.parentNode.insertBefore(t,e.nextSibling)),t.innerHTML=n,l(e).add("invalid")):(l(e).remove("invalid"),t&&e.parentNode.removeChild(t))}),o},I.prototype.validate=function(e,t,n){var i=this._current,o=!0;if(n=n||y('[data-entry="'+e.id+'"]',i.panel),t instanceof Array)for(var r=y("[data-list-entry-container]",n).children||[],a=0;a<t.length;a++){var s,l=t[a];e.validateListItem&&(s=e.validateListItem(i.element,l,n,a),l=r[a],o=this.applyValidationErrors(s,l)&&o)}else e.validate&&(this.validationErrors=e.validate(i.element,t,n),o=this.applyValidationErrors(this.validationErrors,n)&&o);return o},I.prototype.getEntry=function(e){return this._current&&this._current.entries[e]};var R=e("lodash/flattenDeep"),M=e("lodash/keyBy"),L=e("lodash/map");function D(e){return"__implicitroot"===e.id}I.prototype._create=function(e,t){if(!e)return null;var n=this._container,i=this._createPanel(e,t);n.appendChild(i);var o=P(t),n=M(R(L(t,"groups")),"id");return{tabs:t,groups:n,entries:o,element:e,panel:i}},I.prototype._bindTemplate=function(a,s,l,c,u){var d=this._eventBus;var e,t,n;n=(n=p(t="input[name], textarea[name], [data-value], [contenteditable]",e=c))&&n.length||!o(e,t)?n:[e];x(n,function(e){var t,n,i,o,r;"value"in e||"true"===S(e)?(t=b(e,"name")||b(e,"data-name"),n=l[t],r=t,(r=d.fire("propertiesPanel.isPropertyEditable",{entry:s,propertyName:r,element:a}))&&s.editable&&(r=s.editable(a,c,e,t,n,u)),b(e,"readonly",r?null:""),b(e,"disabled",r?null:""),s.setControlValue?s.setControlValue(a,c,e,t,n,u):C(e)?(o=n,r=(i=e).value,i.checked=o===r||!b(i,"value")&&o):"select-one"===e.type?(i=e,void 0!==(o=n)&&(i.value=o)):function(e,t){var n,i=S(e),o=i?e.innerText:e.value;void 0===t&&(t="");o!==t&&(document.activeElement===e&&(n=g(function(e){return S(e)?function(e){var t=window.getSelection(),n=t.focusNode,i=t.focusOffset,t=t.anchorOffset;if(!n)throw new Error("not selected");if(e.contains(n))return{start:Math.min(i,t),end:Math.max(i,t)};throw new Error("not selected")}(e):{start:e.selectionStart,end:e.selectionEnd}}(e),o,t)),i?e.innerText=t:e.value=t,n&&function(e,t){S(e)?function(e,t){var n;n=e.firstChild||e,(e=document.createRange()).setStart(n,t.start),e.setEnd(n,t.end),(t=window.getSelection()).removeAllRanges(),t.addRange(e)}(e,t):(e.selectionStart=t.start,e.selectionEnd=t.end)}(e,n))}(e,n)):(t=b(e,"data-value"),n=l[t],s.setControlValue?s.setControlValue(a,c,e,t,n,u):(n=n,e.textContent=n))})},I.prototype._updateActivation=function(r){var h=this,f=this._eventBus,m=r.element;function g(e,t){l(e).toggle(E,!t)}function a(e,t,n){e=y(t,e);e&&(e.textContent=n)}var s=r.panel;x(r.tabs,function(e){var t,i=y("[data-tab="+e.id+"]",s),n=y("[data-tab-target="+e.id+"]",s).parentNode,o=!1;x(e.groups,function(e){var t,n,d=!1,p=y("[data-group="+e.id+"]",i);x(e.entries,function(e){var t=y('[data-entry="'+e.id+'"]',p),n=f.fire("propertiesPanel.isEntryVisible",{entry:e,element:m});d=d||n,g(t,n);var i="get"in e?e.get(m,t):{};if(i instanceof Array){for(var o=y("[data-list-entry-container]",t),r=o.children||[],a=0;a<i.length;a++){var s=i[a],l=r[a];l||(l=v(e.createListEntryTemplate(s,a,o)),o.appendChild(l)),b(l,"data-index",a),h._bindTemplate(m,e,s,l,a)}for(var c=r.length-i.length,u=0;u<c;u++)o.removeChild(o.lastChild)}else h._bindTemplate(m,e,i,t);h.updateState(e,t),h.validate(e,i,t),e.oldValues=N(t)}),"function"==typeof e.label&&a(p,".group-label",e.label(m,p)),d=d&&(t=m,n=p,"function"!=typeof(e=e).enabled||e.enabled(t,n)),o=o||d,g(p,d)}),o=o&&(t=m,"function"!=typeof(e=e).enabled||e.enabled(t)),g(i,o),g(n,o),t=o,n=l(n=i).has("bpp-active"),!t&&n&&h.activateTab(r.tabs[0])}),a(s,"[data-label-id]",k(m).id||"")},I.prototype._createPanel=function(e,t){var o=this,n=v('<div class="bpp-properties"></div>'),i=v('<div class="bpp-properties-header"><div class="label" data-label-id></div><div class="search"><input type="search" placeholder="Search for property" /><button><span>Search</span></button></div></div>'),r=v('<div class="bpp-properties-tab-bar"></div>'),a=v('<ul class="bpp-properties-tabs-links"></ul>'),s=v('<div class="bpp-properties-tabs-container"></div>');return n.appendChild(i),x(t,function(e,t){if(!e.id)throw new Error("tab must have an id");var n=v('<div class="bpp-properties-tab" data-tab="'+e.id+'"></div>'),i=v('<li class="bpp-properties-tab-link"><a href data-tab-target="'+e.id+'">'+e.label+"</a></li>"),e=e.groups;x(e,function(e){if(!e.id)throw new Error("group must have an id");var i=v('<div class="bpp-properties-group" data-group="'+e.id+'"><span class="group-toggle"></span><span class="group-label">'+e.label+"</span></div>");i.querySelector(".group-toggle").addEventListener("click",function(e){l(i).toggle("group-closed"),e.preventDefault(),e.stopPropagation()}),i.addEventListener("click",function(e){!e.defaultPrevented&&l(i).has("group-closed")&&l(i).remove("group-closed")}),x(e.entries,function(e){if(!e.id)throw new Error("entry must have an id");var t=e.html;(t="string"==typeof t?v(t):t).get&&t.constructor.prototype.jquery&&(t=t.get(0));var n=v('<div class="bpp-properties-entry" data-entry="'+e.id+'"></div>');x(e.cssClasses||[],function(e){l(n).add(e)}),n.appendChild(t),i.appendChild(n),o.updateState(e,n)}),n.appendChild(i)}),a.appendChild(i),s.appendChild(n)}),r.appendChild(a),n.appendChild(r),n.appendChild(s),n}},{"bpmn-js/lib/util/ModelUtil":419,"lodash/debounce":795,"lodash/filter":797,"lodash/flattenDeep":800,"lodash/forEach":801,"lodash/get":802,"lodash/isArray":806,"lodash/isEmpty":810,"lodash/keyBy":817,"lodash/keys":818,"lodash/map":819,"lodash/xor":833,"min-dom":835,"scroll-tabs":846,"selection-update":847}],226:[function(e,t,n){"use strict";var o=e("svg.js"),r=e("min-dom/lib/query"),i=e("../util/EventHelper"),a=i.RESET_SIMULATION_EVENT,s=i.PLAY_SIMULATION_EVENT,l=i.PAUSE_SIMULATION_EVENT,c=i.TERMINATE_EVENT,u=i.PROCESS_INSTANCE_FINISHED_EVENT,d=i.ANIMATION_CREATED_EVENT,p=e("../util/ElementHelper").isAncestor,h=e("../util/GeometryUtil").distance;function f(n,e){var i=window.animation=this;this._eventBus=e,this.animations=[],this.hiddenAnimations=[],this.animationSpeed=1,e.on("import.done",function(){var e=o(n._svg),t=r(".viewport",n._svg),t=o.adopt(t);i.group=e.group().attr("id","token-simulation"),t.put(i.group)}),e.on(c,function(e){var n=e.element.parent;i.animations.forEach(function(t){p(n,t.element)&&(t.animation.stop(),i.animations=i.animations.filter(function(e){return e!==t}))})}),e.on(u,function(e){var n=e.parent;i.animations.forEach(function(t){e.processInstanceId!==t.processInstanceId&&!p(n,t.element)||(t.animation.stop(),i.animations=i.animations.filter(function(e){return e!==t}))})}),e.on(a,function(){i.animations.forEach(function(e){e.animation.stop()}),i.animations=[],i.hiddenAnimations=[]}),e.on(l,function(){i.animations.forEach(function(e){e.animation.pause()})}),e.on(s,function(){i.animations.forEach(function(e){e.animation.play()})})}function m(e,t,n){this.gfx=this.fx=e,this.waypoints=t,this.done=n,this.create()}f.prototype.createAnimation=function(e,t,n){var i=this;if(this.group){var o=this._createTokenGfx(t),r=new m(o,e.waypoints,function(){i.animations=i.animations.filter(function(e){return e.animation!==r}),n&&n()});return this.hiddenAnimations.includes(t)&&o.hide(),o.fx._speed=this.animationSpeed,this.animations.push({tokenGfx:o,animation:r,element:e,processInstanceId:t}),this._eventBus.fire(d,{tokenGfx:o,animation:r,element:e,processInstanceId:t}),r}},f.prototype.setAnimationSpeed=function(t){this.animations.forEach(function(e){e.tokenGfx.fx._speed=t}),this.animationSpeed=t},f.prototype._createTokenGfx=function(e){var t=this.group.group().attr("class","token").hide();return t.circle(20,20).attr("fill","#52b415").attr("class","circle"),t.text(e.toString()).attr("transform","translate(10, -7)").attr("text-anchor","middle").attr("class","text"),t},f.prototype.showProcessInstanceAnimations=function(t){this.animations.forEach(function(e){e.processInstanceId===t&&e.tokenGfx.show()}),this.hiddenAnimations=this.hiddenAnimations.filter(function(e){return e!==t})},f.prototype.hideProcessInstanceAnimations=function(t){this.animations.forEach(function(e){e.processInstanceId===t&&e.tokenGfx.hide()}),this.hiddenAnimations.push(t)},f.$inject=["canvas","eventBus"],t.exports=f,m.prototype.create=function(){var e=this.gfx,r=this.waypoints,t=this.done,a=this.fx;e.show().move(r[0].x-10,r[0].y-10),r.forEach(function(e,t){var n,i,o;0<t&&(n=e.x-10,i=e.y-10,o=1===t?"<":"-",2==r.length&&(o="<>"),e=20*h(r[t-1],e),a=a.animate(e,o,0).move(n,i))}),a.after(function(){e.remove(),t()})},m.prototype.play=function(){this.gfx.play()},m.prototype.pause=function(){this.gfx.pause()},m.prototype.stop=function(){this.fx.stop(),this.gfx.remove()}},{"../util/ElementHelper":280,"../util/EventHelper":281,"../util/GeometryUtil":282,"min-dom/lib/query":288,"svg.js":850}],227:[function(e,t,n){"use strict";var i=e("../../util/ElementHelper").isAncestor,o=e("../../util/EventHelper"),s=o.TOGGLE_MODE_EVENT,l=o.RESET_SIMULATION_EVENT,c=o.TERMINATE_EVENT,u=o.UPDATE_ELEMENTS_EVENT,d=o.UPDATE_ELEMENT_EVENT,p=o.PROCESS_INSTANCE_SHOWN_EVENT,h=e("./handler/BoundaryEventHandler"),f=e("./handler/ExclusiveGatewayHandler"),m=e("./handler/IntermediateCatchEventHandler"),g=e("./handler/ProcessHandler"),v=e("./handler/StartEventHandler");function r(e,t,n,i,o,r){var a=this;this._elementRegistry=t,this._overlays=n,this._injector=i,this._canvas=o,this._processInstances=r,this.overlayIds={},this.handlers={},this.registerHandler("bpmn:ExclusiveGateway",f),this.registerHandler("bpmn:IntermediateCatchEvent",m),this.registerHandler("bpmn:SubProcess",g),this.registerHandler("bpmn:SubProcess",h),this.registerHandler("bpmn:StartEvent",v),e.on(s,500,function(e){e.simulationModeActive?a.openContextPads():a.closeContextPads()}),e.on(l,500,function(){a.closeContextPads(),a.openContextPads()}),e.on(c,500,function(e){e=e.element.parent;a.closeContextPads(e)}),e.on(u,500,function(e){e.elements.forEach(function(e){a.closeElementContextPads(e),a.openElementContextPads(e)})}),e.on(d,500,function(e){e=e.element;a.closeElementContextPads(e),a.openElementContextPads(e)}),e.on(p,function(e){e=e.processInstanceId,e=r.getProcessInstance(e).parent;a.closeContextPads(e),a.openContextPads(e)})}r.prototype.registerHandler=function(e,t){t=this._injector.instantiate(t);this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},r.prototype.openContextPads=function(t){var n=this;t=t||this._canvas.getRootElement(),this._elementRegistry.forEach(function(e){n.handlers[e.type]&&i(t,e)&&n.openElementContextPads(e)})},r.prototype.openElementContextPads=function(t){var n,i;this.handlers[t.type]&&(n=[],this.handlers[t.type].forEach(function(e){e=e.createContextPads(t);e&&e.forEach(function(e){e&&n.push(e)})}),i=this,n.forEach(function(e){var t=i._overlays.add(e.element,"context-menu",{position:{top:-15,left:-15},html:e.html,show:{minZoom:.5}});i.overlayIds[e.element.id]=t}))},r.prototype.closeContextPads=function(t){var n=this;t=t||this._canvas.getRootElement(),this._elementRegistry.forEach(function(e){i(t,e)&&n.closeElementContextPads(e)})},r.prototype.closeElementContextPads=function(e){var t=this;e.attachers&&0<e.attachers.length&&e.attachers.forEach(function(e){t.closeElementContextPads(e)}),e.children&&0<e.children.length&&e.children.forEach(function(e){t.closeElementContextPads(e)});var n=this.overlayIds[e.id];n&&(this._overlays.remove(n),delete this.overlayIds[e.id])},r.$inject=["eventBus","elementRegistry","overlays","injector","canvas","processInstances"],t.exports=r},{"../../util/ElementHelper":280,"../../util/EventHelper":281,"./handler/BoundaryEventHandler":228,"./handler/ExclusiveGatewayHandler":229,"./handler/IntermediateCatchEventHandler":230,"./handler/ProcessHandler":231,"./handler/StartEventHandler":232}],228:[function(e,t,n){"use strict";var a=e("min-dom/lib/domify"),s=e("min-dom/lib/event"),l=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),c=e.GENERATE_TOKEN_EVENT,u=e.UPDATE_ELEMENT_EVENT;function i(e,t,n){this._eventBus=e,this._processInstances=t,this._processInstanceSettings=n}i.prototype.createContextPads=function(i){if(i.attachers.length&&this._processInstances.getProcessInstances(i).length){var t=i.incoming.filter(function(e){return l(e,"bpmn:SequenceFlow")}),o=this,r=[];return i.attachers.forEach(function(n){var e=n.outgoing.filter(function(e){return l(e,"bpmn:SequenceFlow")});t.length&&e.length&&(e=a('<div class="context-pad" title="Trigger Event"><i class="fa fa-play"></i></div>'),r.push({element:n,html:e}),s.bind(e,"click",function(){o._processInstances.getProcessInstances(i).forEach(function(t){var e=t.parentProcessInstanceId;n.businessObject.cancelActivity&&(i.children.forEach(function(e){e.tokenCount&&e.tokenCount[t.processInstanceId]&&e.tokenCount[t.processInstanceId]--}),o._processInstances.finish(t.processInstanceId),o._eventBus.fire(u,{element:i})),o._eventBus.fire(c,{element:n,processInstanceId:e})})}))}),r}},i.$inject=["eventBus","processInstances","processInstanceSettings"],t.exports=i},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281,"min-dom/lib/domify":286,"min-dom/lib/event":287}],229:[function(e,t,n){"use strict";var i=e("../../../util/ElementHelper").is,o=e("min-dom/lib/domify"),r=e("min-dom/lib/event");function a(e){this._exclusiveGatewaySettings=e}a.prototype.createContextPads=function(e){var t=this;if(!(e.outgoing.filter(function(e){return i(e,"bpmn:SequenceFlow")}).length<2)){var n=o('<div class="context-pad" title="Set Sequence Flow"><i class="fa fa-code-fork"></i></div>');return r.bind(n,"click",function(){t._exclusiveGatewaySettings.setSequenceFlow(e)}),[{element:e,html:n}]}},a.$inject=["exclusiveGatewaySettings"],t.exports=a},{"../../../util/ElementHelper":280,"min-dom/lib/domify":286,"min-dom/lib/event":287}],230:[function(e,t,n){"use strict";var s=e("min-dom/lib/domify"),l=e("min-dom/lib/event"),c=e("../../../util/ElementHelper").is,u=e("../../../util/EventHelper").GENERATE_TOKEN_EVENT;function i(e){this._eventBus=e}i.prototype.createContextPads=function(e){var t=e.parent.shownProcessInstance,n=e.incoming.filter(function(e){return c(e,"bpmn:SequenceFlow")}),i=[];n.forEach(function(e){e=e.source;c(e,"bpmn:EventBasedGateway")&&e.tokenCount&&e.tokenCount[t]&&i.push(e)});var o=e.outgoing.filter(function(e){return c(e,"bpmn:SequenceFlow")});if(n.length&&o.length){var r,a=this;if(e.tokenCount&&e.tokenCount[t])r=s('<div class="context-pad" title="Trigger Event"><i class="fa fa-play"></i></div>'),l.bind(r,"click",function(){e.tokenCount[t]--,a._eventBus.fire(u,{element:e,processInstanceId:t})});else{if(!i.length)return;r=s('<div class="context-pad" title="Trigger Event"><i class="fa fa-play"></i></div>'),l.bind(r,"click",function(){i.forEach(function(e){e.tokenCount[t]--}),a._eventBus.fire(u,{element:e,processInstanceId:t})})}return[{element:e,html:r}]}},i.$inject=["eventBus"],t.exports=i},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281,"min-dom/lib/domify":286,"min-dom/lib/event":287}],231:[function(e,t,n){"use strict";var i=e("min-dom/lib/domify"),o=e("min-dom/lib/event");function r(e,t){this._processInstances=e,this._processInstanceSettings=t}r.prototype.createContextPads=function(e){var t=this;if(!(this._processInstances.getProcessInstances(e).filter(function(e){return!e.isFinished}).length<2)){var n=i('<div class="context-pad" title="View Process Instances"><i class="fa fa-list-ol"></i></div>');return o.bind(n,"click",function(){t._processInstanceSettings.showNext(e)}),[{element:e,html:n}]}},r.$inject=["processInstances","processInstanceSettings"],t.exports=r},{"min-dom/lib/domify":286,"min-dom/lib/event":287}],232:[function(e,t,n){"use strict";var o=e("min-dom/lib/domify"),r=e("min-dom/lib/event"),a=e("../../../util/ElementHelper").is,s=e("../../../util/EventHelper").GENERATE_TOKEN_EVENT;function i(e,t,n){this._eventBus=e,this._elementRegistry=t,this._animation=n}i.prototype.createContextPads=function(e){var t=!1;if(this._elementRegistry.forEach(function(e){e.tokenCount&&Object.values(e.tokenCount).forEach(function(e){e&&(t=!0)})}),!(a(e.parent,"bpmn:SubProcess")||t||this._animation.animations.length)){var n=this,i=o('<div class="context-pad"><i class="fa fa-play"></i></div>');return r.bind(i,"click",function(){n._eventBus.fire(s,{element:e})}),[{element:e,html:i}]}},i.$inject=["eventBus","elementRegistry","animation"],t.exports=i},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281,"min-dom/lib/domify":286,"min-dom/lib/event":287}],233:[function(e,t,n){t.exports=e("./ContextPads")},{"./ContextPads":227}],234:[function(e,t,n){"use strict";var i=e("min-dom/lib/domify"),e=e("../../util/EventHelper"),o=e.TOGGLE_MODE_EVENT,r=e.RESET_SIMULATION_EVENT,a=e.GENERATE_TOKEN_EVENT;function s(e,t){var n=this;this._overlays=e,t.on(o,function(e){e.simulationModeActive||n.removeElementNotifications()}),t.on([r,a],function(){n.removeElementNotifications()})}s.prototype.addElementNotifications=function(e,t){var n=this;e.forEach(function(e){n.addElementNotification(e,t)})},s.prototype.addElementNotification=function(e,t){var n={top:-15,right:15},t='<div class="element-notification '+(t.type||"")+'">'+(t.icon?'<i class="fa '+t.icon+'"></i>':"")+('<span class="text">'+t.text+"</span>"||"")+"</div>",t=i(t);this._overlays.add(e,"element-notification",{position:n,html:t,show:{minZoom:.5}})},s.prototype.removeElementNotifications=function(e){var t=this;e?e.forEach(function(e){t.removeElementNotification(e)}):this._overlays.remove({type:"element-notification"})},s.prototype.removeElementNotification=function(e){this._overlays.remove({element:e})},s.$inject=["overlays","eventBus"],t.exports=s},{"../../util/EventHelper":281,"min-dom/lib/domify":286}],235:[function(e,t,n){t.exports=e("./ElementNotifications")},{"./ElementNotifications":234}],236:[function(e,t,n){"use strict";var a=e("min-dom/lib/classes"),i=e("../../util/ElementHelper"),s=i.is,o=i.supportedElements,e=e("../../util/EventHelper"),l=e.TOGGLE_MODE_EVENT,c=e.GENERATE_TOKEN_EVENT,r=["bpmn:Process","bpmn:Collaboration","bpmn:Participant","bpmn:Lane","bpmn:TextAnnotation"];function u(e){return e.labelTarget}function d(e,t,n,i,o){var r=this;this._eventBus=e,this._elementRegistry=t,this._elementNotifications=o,this._notifications=i,this.canvasParent=n.getContainer().parentNode,e.on(c,2e4,function(e){e=e.element;if(s(e,"bpmn:StartEvent"))return r.allElementsSupported()?void 0:(r.showWarnings(),a(r.canvasParent).add("warning"),!0)}),e.on(l,function(e){e.simulationModeActive||a(r.canvasParent).remove("warning")})}d.prototype.allElementsSupported=function(){var t=!0;return this._elementRegistry.forEach(function(e){s(e,r)||s(e,o)||u(e)||(t=!1)}),t},d.prototype.showWarnings=function(e){var t=this,n=[];this._elementRegistry.forEach(function(e){s(e,r)||s(e,o)||u(e)||(t.showWarning(e),n.indexOf(e.type)&&(t._notifications.showNotification(e.type+" not supported","warning"),n.push(e.type)))})},d.prototype.showWarning=function(e){this._elementNotifications.addElementNotification(e,{type:"warning",icon:"fa-exclamation-triangle",text:"Not supported"})},d.$inject=["eventBus","elementRegistry","canvas","notifications","elementNotifications"],t.exports=d},{"../../util/ElementHelper":280,"../../util/EventHelper":281,"min-dom/lib/classes":284}],237:[function(e,t,n){t.exports=e("./ElementSupport")},{"./ElementSupport":236}],238:[function(e,t,n){"use strict";var i=e("../../util/ElementHelper").is,o=e("../../util/EventHelper").TOGGLE_MODE_EVENT;function r(e){return i(e,"bpmn:SequenceFlow")}function a(e,t,n){var i=this;this._elementRegistry=t,this._graphicsFactory=n,e.on(o,function(e){e.simulationModeActive?i.setSequenceFlowsDefault():i.resetSequenceFlows()})}a.prototype.setSequenceFlowsDefault=function(){var t=this;this._elementRegistry.filter(function(e){return i(e,"bpmn:ExclusiveGateway")}).forEach(function(e){e.outgoing.filter(r).length&&t.setSequenceFlow(e,e.outgoing.filter(r)[0])})},a.prototype.resetSequenceFlows=function(){var t=this;this._elementRegistry.filter(function(e){return i(e,"bpmn:ExclusiveGateway")}).forEach(function(e){e.outgoing.filter(r).length&&t.resetSequenceFlow(e)})},a.prototype.resetSequenceFlow=function(e){e.sequenceFlow&&delete e.sequenceFlow},a.prototype.setSequenceFlow=function(t){var e,n,i=this,o=t.outgoing.filter(r);o.length&&(n=t.sequenceFlow,t.sequenceFlow=n?(e=(n=(e=t).outgoing.filter(r)).indexOf(e.sequenceFlow),n[e+1]||n[0]):o[0],t.outgoing.forEach(function(e){e===t.sequenceFlow?i.setColor(e,"#000"):i.setColor(e,"#999")}))},a.prototype.setColor=function(e,t){e.businessObject.di.set("stroke",t);t=this._elementRegistry.getGraphics(e);this._graphicsFactory.update("connection",e,t)},a.$inject=["eventBus","elementRegistry","graphicsFactory"],t.exports=a},{"../../util/ElementHelper":280,"../../util/EventHelper":281}],239:[function(e,t,n){t.exports=e("./ExclusiveGatewaySettings")},{"./ExclusiveGatewaySettings":238}],240:[function(e,t,n){"use strict";var o=e("min-dom/lib/domify"),r=e("min-dom/lib/classes"),i=e("min-dom/lib/event"),a=e("min-dom/lib/query"),s=e("../../util/ElementHelper"),l=s.getBusinessObject,c=s.is,u=s.isTypedEvent,e=e("../../util/EventHelper"),d=e.GENERATE_TOKEN_EVENT,p=e.CONSUME_TOKEN_EVENT,h=e.TOGGLE_MODE_EVENT,f=e.RESET_SIMULATION_EVENT,m=e.PROCESS_INSTANCE_CREATED_EVENT;function g(e){return e&&e.businessObject.name}function v(e,t,n,i){var o=this;this._notifications=t,this._tokenSimulationPalette=n,this._canvas=i,this._init(),e.on(d,function(e){var t,n=e.element,i=g(n);c(n,"bpmn:StartEvent")?o.log(i||"Start Event","info","bpmn-icon-start-event-none"):c(n,"bpmn:Task")?o.log(i||"Task","info","bpmn-icon-task"):c(n,"bpmn:BusinessRuleTask")?o.log(i||"Business Rule Task","info","bpmn-icon-business-rule"):c(n,"bpmn:ManualTask")?o.log(i||"Manual Task","info","bpmn-icon-manual"):c(n,"bpmn:ScriptTask")?o.log(i||"Script Task","info","bpmn-icon-script"):c(n,"bpmn:ServiceTask")?o.log(i||"Service Task","info","bpmn-icon-service"):c(n,"bpmn:UserTask")?o.log(i||"User Task","info","bpmn-icon-user"):c(n,"bpmn:ExclusiveGateway")?n.outgoing.length<2||(t=i||"Gateway",(e=g(n.sequenceFlow))&&(t=t.concat(' <i class="fa fa-angle-right" aria-hidden="true"></i> '+e)),o.log(t,"info","bpmn-icon-gateway-xor")):c(n,["bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent"])&&o.log(i||"Intermediate Event","info","bpmn-icon-intermediate-event-none")}),e.on(p,function(e){var t=e.element,e=g(t);c(t,"bpmn:EndEvent")&&(u(l(t),"bpmn:TerminateEventDefinition")?o.log(e||"Terminate End Event","info","bpmn-icon-end-event-terminate"):o.log(e||"End Event","info","bpmn-icon-end-event-none"))}),e.on(m,function(e){var t=e.processInstanceId,e=e.parent;c(e,"bpmn:Process")?o.log("Process "+t+" started","success","fa-check"):o.log("Subprocess "+t+" started","info","fa-check")}),e.on(h,function(e){e.simulationModeActive||(o.emptyLog(),r(o.container).add("hidden"))}),e.on(f,function(e){o.emptyLog(),r(o.container).add("hidden")})}v.prototype._init=function(){var e=this;this.container=o('<div class="token-simulation-log hidden"><div class="header"><i class="fa fa-align-left"></i><button class="close"><i class="fa fa-times" aria-hidden="true"></i></button></div><div class="content"><p class="entry placeholder">No Entries</p></div></div>'),this.placeholder=a(".placeholder",this.container),this.content=a(".content",this.container),i.bind(this.content,"wheel",function(e){e.stopPropagation()}),i.bind(this.content,"mousedown",function(e){e.stopPropagation()}),this.close=a(".close",this.container),i.bind(this.close,"click",function(){r(e.container).add("hidden")}),this.icon=a(".fa-align-left",this.container),i.bind(this.icon,"click",function(){r(e.container).add("hidden")}),this._canvas.getContainer().appendChild(this.container),this.paletteEntry=o('<div class="entry" title="Show Simulation Log"><i class="fa fa-align-left"></i></div>'),i.bind(this.paletteEntry,"click",function(){r(e.container).remove("hidden")}),this._tokenSimulationPalette.addEntry(this.paletteEntry,3)},v.prototype.toggle=function(){var e=this.container;r(e).has("hidden")?r(e).remove("hidden"):r(e).add("hidden")},v.prototype.log=function(e,t,n){r(this.placeholder).add("hidden");var i=new Date,i=i.toLocaleTimeString()+":"+i.getUTCMilliseconds();this._notifications.showNotification(e,t,n);n=(n=n||"fa-info").includes("bpmn")?'<span class="icon '+n+'">':'<i class="icon fa '+n+'"></i>',e=o('<p class="entry '+t+'"><span class="date">'+i+"</span>"+n+"</span>"+e+"</p>");this.content.appendChild(e),this.content.scrollTop=this.content.scrollHeight},v.prototype.emptyLog=function(){for(;this.content.firstChild;)this.content.removeChild(this.content.firstChild);this.placeholder=o('<p class="entry placeholder">No Entries</p>'),this.content.appendChild(this.placeholder)},v.$inject=["eventBus","notifications","tokenSimulationPalette","canvas"],t.exports=v},{"../../util/ElementHelper":280,"../../util/EventHelper":281,"min-dom/lib/classes":284,"min-dom/lib/domify":286,"min-dom/lib/event":287,"min-dom/lib/query":288}],241:[function(e,t,n){t.exports=e("./Log")},{"./Log":240}],242:[function(e,t,n){"use strict";var o=e("min-dom/lib/domify"),i=e("../../util/EventHelper").TOGGLE_MODE_EVENT;function r(e,t){var n=this;this._eventBus=e,this._canvas=t,this._init(),e.on(i,function(e){e.simulationModeActive||n.removeAll()})}r.prototype._init=function(){this.container=o('<div class="notifications"></div>'),this._canvas.getContainer().appendChild(this.container)},r.prototype.showNotification=function(e,t,n){var n=(n=n||"fa-info").includes("bpmn")?'<i class="'+n+'"></i>':'<i class="fa '+n+'"></i>',i=o('<div class="notification '+t+'"><span class="icon">'+n+"</span>"+e+"</div>");for(this.container.appendChild(i);5<this.container.children.length;)this.container.children[0].remove();setTimeout(function(){i.remove()},2e3)},r.prototype.removeAll=function(){for(;this.container.children.length;)this.container.children[0].remove()},r.$inject=["eventBus","canvas"],t.exports=r},{"../../util/EventHelper":281,"min-dom/lib/domify":286}],243:[function(e,t,n){t.exports=e("./Notifications")},{"./Notifications":242}],244:[function(e,t,n){"use strict";var i=e("min-dom/lib/domify"),o=e("min-dom/lib/classes"),r=e("../../util/EventHelper").TOGGLE_MODE_EVENT;function a(e,t){var n=this;this._canvas=t,this.entries=[],this._init(),e.on(r,function(e){e.simulationModeActive?o(n.container).remove("hidden"):o(n.container).add("hidden")})}a.prototype._init=function(){this.container=i('<div class="token-simulation-palette hidden"></div>'),this._canvas.getContainer().appendChild(this.container)},a.prototype.addEntry=function(e,t){var n=0;this.entries.forEach(function(e){t>=e.index&&n++}),this.container.insertBefore(e,this.container.childNodes[n]),this.entries.push({entry:e,index:t})},a.$inject=["eventBus","canvas"],t.exports=a},{"../../util/EventHelper":281,"min-dom/lib/classes":284,"min-dom/lib/domify":286}],245:[function(e,t,n){t.exports=e("./Palette")},{"./Palette":244}],246:[function(e,t,n){"use strict";var i=e("min-dom/lib/domify"),o=e("min-dom/lib/classes"),r=e("min-dom/lib/event"),e=e("../../util/EventHelper"),a=e.TOGGLE_MODE_EVENT,s=e.PLAY_SIMULATION_EVENT,l=e.PAUSE_SIMULATION_EVENT,c=e.RESET_SIMULATION_EVENT,u=e.ANIMATION_CREATED_EVENT,d=e.PROCESS_INSTANCE_CREATED_EVENT,p='<i class="fa fa-play"></i>';function h(e,t,n,i){var o=this;this._eventBus=e,this._tokenSimulationPalette=t,this._notifications=n,this.canvasParent=i.getContainer().parentNode,this.isActive=!1,this.isPaused=!1,this._init(),e.on(d,function(e){e.parent.parent||(o.activate(),o.unpause(),n.showNotification("Start Simulation","info"))}),e.on([c,a],function(){o.deactivate(),o.unpause()}),e.on(u,function(e){e=e.animation;o.isPaused&&e.pause()})}h.prototype._init=function(){this.paletteEntry=i('<div class="entry disabled" title="Play/Pause Simulation">'+p+"</div>"),r.bind(this.paletteEntry,"click",this.toggle.bind(this)),this._tokenSimulationPalette.addEntry(this.paletteEntry,1)},h.prototype.toggle=function(){this.isActive&&(this.isPaused?this.unpause():this.pause())},h.prototype.pause=function(){this.isActive&&(o(this.paletteEntry).remove("active"),o(this.canvasParent).add("paused"),this.paletteEntry.innerHTML=p,this._eventBus.fire(l),this._notifications.showNotification("Pause Simulation","info"),this.isPaused=!0)},h.prototype.unpause=function(){this.isActive&&(o(this.paletteEntry).add("active"),o(this.canvasParent).remove("paused"),this.paletteEntry.innerHTML='<i class="fa fa-pause"></i>',this._eventBus.fire(s),this._notifications.showNotification("Play Simulation","info"),this.isPaused=!1)},h.prototype.activate=function(){this.isActive=!0,o(this.paletteEntry).remove("disabled")},h.prototype.deactivate=function(){this.isActive=!1,o(this.paletteEntry).remove("active"),o(this.paletteEntry).add("disabled")},h.$inject=["eventBus","tokenSimulationPalette","notifications","canvas"],t.exports=h},{"../../util/EventHelper":281,"min-dom/lib/classes":284,"min-dom/lib/domify":286,"min-dom/lib/event":287}],247:[function(e,t,n){t.exports=e("./PauseSimulation")},{"./PauseSimulation":246}],248:[function(e,t,n){"use strict";var o=e("../../util/EventHelper").TOGGLE_MODE_EVENT;function i(e,t,n){var i=this;this._elementRegistry=t,this._graphicsFactory=n,this.elementColors={},e.on(o,5e4,function(e){e.simulationModeActive?i.preserveColors():i.resetColors()})}i.prototype.preserveColors=function(){var t=this;this._elementRegistry.forEach(function(e){t.elementColors[e.id]={stroke:e.businessObject.di.get("stroke"),fill:e.businessObject.di.get("fill")},t.setColor(e,"#000","#fff")})},i.prototype.resetColors=function(){var t=this;this._elementRegistry.forEach(function(e){t.elementColors[e.id]&&t.setColor(e,t.elementColors[e.id].stroke,t.elementColors[e.id].fill)}),this.elementColors={}},i.prototype.setColor=function(e,t,n){var i=e.businessObject;i.di.set("stroke",t),i.di.set("fill",n);i=this._elementRegistry.getGraphics(e),n=e.waypoints?"connection":"shape";this._graphicsFactory.update(n,e,i)},i.$inject=["eventBus","elementRegistry","graphicsFactory"],t.exports=i},{"../../util/EventHelper":281}],249:[function(e,t,n){t.exports=e("./PreserveElementColors")},{"./PreserveElementColors":248}],250:[function(e,t,n){"use strict";var e=e("../../util/EventHelper"),i=e.TOGGLE_MODE_EVENT,o=e.RESET_SIMULATION_EVENT;function r(e){this.nextProcessInstanceId=1,e.on(i,this.reset.bind(this)),e.on(o,this.reset.bind(this))}r.prototype.getNext=function(){var e=this.nextProcessInstanceId;return this.nextProcessInstanceId++,e},r.prototype.reset=function(){this.nextProcessInstanceId=1},r.$inject=["eventBus"],t.exports=r},{"../../util/EventHelper":281}],251:[function(e,t,n){t.exports=e("./ProcessInstanceIds")},{"./ProcessInstanceIds":250}],252:[function(e,t,n){"use strict";var e=e("../../util/EventHelper"),a=e.TOGGLE_MODE_EVENT,s=e.PROCESS_INSTANCE_CREATED_EVENT,l=e.PROCESS_INSTANCE_FINISHED_EVENT,i=e.PROCESS_INSTANCE_SHOWN_EVENT,o=e.PROCESS_INSTANCE_HIDDEN_EVENT;function r(e,t,i,o){var r=this;this._animation=e,this._eventBus=t,this._processInstances=i,this._elementRegistry=o,this._eventBus.on(s,500,function(e){var t=e.parent,n=e.processInstanceId,e=i.getProcessInstances(t).filter(function(e){return!e.isFinished});1===e.length?r.showProcessInstance(n,t):1<e.length&&r.hideProcessInstance(n)}),this._eventBus.on(l,500,function(e){var t=e.parent,n=e.processInstanceId,e=i.getProcessInstances(t).filter(function(e){return n!==e.processInstanceId&&!e.isFinished});e.length&&n===t.shownProcessInstance?r.showProcessInstance(e[0].processInstanceId,t):delete t.shownProcessInstance,t.parent||o.forEach(function(e){delete e.shownProcessInstance})}),t.on(a,function(){o.forEach(function(e){delete e.shownProcessInstance})})}r.prototype.showProcessInstance=function(e,t){this._animation.showProcessInstanceAnimations(e),t.shownProcessInstance=e,this._eventBus.fire(i,{processInstanceId:e})},r.prototype.hideProcessInstance=function(e){this._animation.hideProcessInstanceAnimations(e),this._eventBus.fire(o,{processInstanceId:e})},r.prototype.showNext=function(e){var t=this,n=this._processInstances.getProcessInstances(e),i=e.shownProcessInstance,o=0;for(let e=0;e<n.length&&n[e].processInstanceId!==i;e++)o++;n.forEach(function(e){t.hideProcessInstance(e.processInstanceId)}),o===n.length-1?this.showProcessInstance(n[0].processInstanceId,e):this.showProcessInstance(n[o+1].processInstanceId,e)},r.$inject=["animation","eventBus","processInstances","elementRegistry"],t.exports=r},{"../../util/EventHelper":281}],253:[function(e,t,n){t.exports=e("./ProcessInstanceSettings")},{"./ProcessInstanceSettings":252}],254:[function(e,t,n){"use strict";var e=e("../../util/EventHelper"),i=e.TOGGLE_MODE_EVENT,o=e.RESET_SIMULATION_EVENT,r=e.PROCESS_INSTANCE_CREATED_EVENT,a=e.PROCESS_INSTANCE_FINISHED_EVENT;function s(e,t){var n=this;this._eventBus=e,this._processInstanceIds=t,this.processInstances=[],e.on([i,o],function(){n.processInstances=[]})}s.prototype.create=function(e,t){var n=this._processInstanceIds.getNext(),t={parent:e,processInstanceId:n,parentProcessInstanceId:t};return this.processInstances.push(t),this._eventBus.fire(r,t),n},s.prototype.remove=function(t){this.processInstances=this.processInstances.filter(function(e){return e.processInstanceId!==t})},s.prototype.finish=function(t){var e=this.processInstances.find(function(e){return e.processInstanceId===t});this._eventBus.fire(a,e),e.isFinished=!0},s.prototype.getProcessInstances=function(t,e){if(!t)return this.processInstances;var n=this.processInstances.filter(function(e){return e.parent===t});return n=e&&!0!==e.includeFinished?n.filter(function(e){return!e.isFinished}):n},s.prototype.getProcessInstance=function(t){return this.processInstances.find(function(e){return e.processInstanceId===t})},s.$inject=["eventBus","processInstanceIds"],t.exports=s},{"../../util/EventHelper":281}],255:[function(e,t,n){t.exports=e("./ProcessInstances")},{"./ProcessInstances":254}],256:[function(e,t,n){"use strict";var i=e("min-dom/lib/domify"),r=e("min-dom/lib/classes"),o=e("min-dom/lib/event"),a=e("../../util/ElementHelper").is,e=e("../../util/EventHelper"),s=e.TOGGLE_MODE_EVENT,l=e.GENERATE_TOKEN_EVENT,c=e.RESET_SIMULATION_EVENT;function u(e,t,n,i){var o=this;this._eventBus=e,this._tokenSimulationPalette=t,this._notifications=n,this._elementRegistry=i,this._init(),e.on(l,function(e){a(e.element,"bpmn:StartEvent")&&r(o.paletteEntry).remove("disabled")}),e.on(s,function(e){e.simulationModeActive||o.resetSimulation()})}u.prototype._init=function(){var e=this;this.paletteEntry=i('<div class="entry disabled" title="Reset Simulation"><i class="fa fa-refresh"></i></div>'),o.bind(this.paletteEntry,"click",function(){e.resetSimulation(),e._notifications.showNotification("Reset Simulation","info")}),this._tokenSimulationPalette.addEntry(this.paletteEntry,2)},u.prototype.resetSimulation=function(){r(this.paletteEntry).add("disabled"),this._elementRegistry.forEach(function(e){void 0!==e.tokenCount&&delete e.tokenCount}),this._eventBus.fire(c)},u.$inject=["eventBus","tokenSimulationPalette","notifications","elementRegistry"],t.exports=u},{"../../util/ElementHelper":280,"../../util/EventHelper":281,"min-dom/lib/classes":284,"min-dom/lib/domify":286,"min-dom/lib/event":287}],257:[function(e,t,n){t.exports=e("./ResetSimulation")},{"./ResetSimulation":256}],258:[function(e,t,n){"use strict";var o=e("min-dom/lib/domify"),r=e("min-dom/lib/classes"),a=e("min-dom/lib/event"),s=e("min-dom/lib/query"),l=e("../../util/EventHelper").TOGGLE_MODE_EVENT;function i(e,t,n){var i=this;this._canvas=e,this._animation=t,this._eventBus=n,this._init(),n.on(l,function(e){e.simulationModeActive?r(i.container).remove("hidden"):r(i.container).add("hidden")})}i.prototype._init=function(){var e=this;this.container=o('<div class="set-animation-speed hidden"><i title="Set Animation Speed" class="fa fa-tachometer" aria-hidden="true"></i><div class="animation-speed-buttons"><div title="Slow" id="animation-speed-1" class="animation-speed-button"><i class="fa fa-angle-right" aria-hidden="true"></i></div><div title="Normal" id="animation-speed-2" class="animation-speed-button active"><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-angle-right" aria-hidden="true"></i></div><div title="Fast" id="animation-speed-3" class="animation-speed-button"><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-angle-right" aria-hidden="true"></i></div></div></div>');var t=s("#animation-speed-1",this.container),n=s("#animation-speed-2",this.container),i=s("#animation-speed-3",this.container);a.bind(t,"click",function(){e.setActive(t),e._animation.setAnimationSpeed(.5)}),a.bind(n,"click",function(){e.setActive(n),e._animation.setAnimationSpeed(1)}),a.bind(i,"click",function(){e.setActive(i),e._animation.setAnimationSpeed(1.5)}),this._canvas.getContainer().appendChild(this.container)},i.prototype.setActive=function(e){s.all(".animation-speed-button",this.container).forEach(function(e){r(e).remove("active")}),r(e).add("active")},i.$inject=["canvas","animation","eventBus"],t.exports=i},{"../../util/EventHelper":281,"min-dom/lib/classes":284,"min-dom/lib/domify":286,"min-dom/lib/event":287,"min-dom/lib/query":288}],259:[function(e,t,n){t.exports=e("./SetAnimationSpeed")},{"./SetAnimationSpeed":258}],260:[function(e,t,n){"use strict";var o=e("min-dom/lib/domify"),s=e("min-dom/lib/classes"),r=e("min-dom/lib/event"),i=e("min-dom/lib/query"),l=e("min-dom/lib/clear"),e=e("../../util/EventHelper"),c=e.TOGGLE_MODE_EVENT,u=e.PROCESS_INSTANCE_CREATED_EVENT,d=e.PROCESS_INSTANCE_FINISHED_EVENT,p=e.PROCESS_INSTANCE_SHOWN_EVENT,h=e.PROCESS_INSTANCE_HIDDEN_EVENT,f=e.RESET_SIMULATION_EVENT;function m(e){return null===e}function a(e,t,n,i,o,r){var a=this;this._eventBus=e,this._canvas=t,this._processInstanceSettings=n,this._processInstances=i,this._graphicsFactory=o,this._elementRegistry=r,this.highlightedElement=null,this._init(),e.on(c,function(e){e.simulationModeActive?s(a.container).remove("hidden"):(s(a.container).add("hidden"),l(a.container),m(a.highlightedElement)||(a.removeHighlightFromProcess(a.highlightedElement.element),a.highlightedElement=null))}),e.on(u,function(e){a.addInstance(e)}),e.on(d,function(e){a.removeInstance(e)}),e.on(p,function(e){a.setInstanceShown(e.processInstanceId)}),e.on(h,function(e){a.setInstanceHidden(e.processInstanceId)}),e.on(f,function(){a.removeAllInstances()})}a.prototype._init=function(){this.container=o('<div class="process-instances hidden"></div>'),this._canvas.getContainer().appendChild(this.container)},a.prototype.addInstance=function(e){var t=this,n=e.processInstanceId,i=e.parent,e=o('<div id="instance-'+n+'" class="process-instance" title="View Process Instance '+n+'">'+n+"</div>");r.bind(e,"click",function(){t._processInstances.getProcessInstances(i).forEach(function(e){t._processInstanceSettings.hideProcessInstance(e.processInstanceId)}),t._processInstanceSettings.showProcessInstance(n,i)}),r.bind(e,"mouseenter",function(){t.highlightedElement={element:i,stroke:i.businessObject.di.get("stroke"),fill:i.businessObject.di.get("fill")},t.addHighlightToProcess(i)}),r.bind(e,"mouseleave",function(){t.removeHighlightFromProcess(i),t.highlightedElement=null}),this.container.appendChild(e)},a.prototype.removeInstance=function(e){e=e.processInstanceId,e=i("#instance-"+e,this.container);e&&e.remove()},a.prototype.removeAllInstances=function(){this.container.innerHTML=""},a.prototype.setInstanceShown=function(e){e=i("#instance-"+e,this.container);e&&s(e).add("active")},a.prototype.setInstanceHidden=function(e){e=i("#instance-"+e,this.container);e&&s(e).remove("active")},a.prototype.addHighlightToProcess=function(e){this.setColor(e,"#52b415","#ecfbe3"),e.parent||s(this._canvas.getContainer()).add("highlight")},a.prototype.removeHighlightFromProcess=function(e){m(this.highlightedElement)||(this.setColor(e,this.highlightedElement.stroke,this.highlightedElement.fill),e.parent||s(this._canvas.getContainer()).remove("highlight"))},a.prototype.setColor=function(e,t,n){var i=e.businessObject;i.di.set("stroke",t),i.di.set("fill",n);n=this._elementRegistry.getGraphics(e);this._graphicsFactory.update("connection",e,n)},a.$inject=["eventBus","canvas","processInstanceSettings","processInstances","graphicsFactory","elementRegistry"],t.exports=a},{"../../util/EventHelper":281,"min-dom/lib/classes":284,"min-dom/lib/clear":285,"min-dom/lib/domify":286,"min-dom/lib/event":287,"min-dom/lib/query":288}],261:[function(e,t,n){t.exports=e("./ShowProcessInstance")},{"./ShowProcessInstance":260}],262:[function(e,t,n){"use strict";var i=e("../../util/ElementHelper"),a=i.getBusinessObject,s=i.is,r=i.isAncestor,l=i.isTypedEvent,c=e("../../util/EventHelper").CONSUME_TOKEN_EVENT;function o(e,t,n,i,o,r,a){this._animation=t,this._elementRegistry=n,this._log=i,this._elementNotifications=o,this._canvas=r,this._processInstances=a,e.on(c,250,function(){})}o.prototype.isDeadlock=function(){var t=this,n=[];this._elementRegistry.forEach(function(e){e.tokenCount&&n.push(e)});var o=[],r=[];n.forEach(function(e){e.outgoing.filter(function(e){return s(e,"bpmn:SequenceFlow")}).length||o.push(e),s(e,"bpmn:ParallelGateway")&&e.incoming.filter(function(e){return s(e,"bpmn:SequenceFlow")}).length>e.tokenCount&&o.push(e);var i=[];!function t(n){n.outgoing.forEach(function(e){-1===i.indexOf(e.target)&&(i.push(e.target),l(a(e.target),"bpmn:TerminateEventDefinition")&&r.push(n),t(e.target))})}(e)}),n.length&&!r.length&&o.length&&!this._animation.animations.length&&(t._log.log("Deadlock","warning","fa-exclamation-triangle"),o.forEach(function(e){t._elementNotifications.addElementNotification(e,{type:"warning",icon:"fa-exclamation-triangle",text:"Deadlock"})}))},o.prototype.isFinished=function(e,t){var n=this._processInstances.getProcessInstance(t).parent,i=!1;(n=n||this._canvas.getRootElement()).children.forEach(function(e){e.tokenCount&&e.tokenCount[t]&&e.tokenCount[t].length&&(i=!0)});var o=!1;if(this._animation.animations.forEach(function(e){r(e.element,n)&&e.processInstanceId===t&&(o=!0)}),!i&&!o)return s(n,"bpmn:SubProcess")?this._log.log("Subprocess "+t+" finished","info","fa-check-circle"):(this._log.log("Process "+t+" finished","success","fa-check-circle"),this._elementNotifications.addElementNotification(e,{type:"success",icon:"fa-check-circle",text:"Finished"})),!0},o.$inject=["eventBus","animation","elementRegistry","log","elementNotifications","canvas","processInstances"],t.exports=o},{"../../util/ElementHelper":280,"../../util/EventHelper":281}],263:[function(e,t,n){t.exports=e("./SimulationState")},{"./SimulationState":262}],264:[function(e,t,n){"use strict";var i=e("min-dom/lib/domify"),o=e("min-dom/lib/classes"),r=e("min-dom/lib/event"),a=e("../../../util/EventHelper").TOGGLE_MODE_EVENT;function s(e,t,n){var i=this;this._eventBus=e,this._canvas=t,this.simulationModeActive=!1,e.on("import.done",function(){i.canvasParent=i._canvas.getContainer().parentNode,i._init()})}s.prototype._init=function(){this.container=i(`
    <div class="toggle-mode">
      Token Simulation <span class="toggle"><i class="fa fa-toggle-off"></i></span>
    </div>
  `),r.bind(this.container,"click",this.toggleMode.bind(this)),this._canvas.getContainer().appendChild(this.container)},s.prototype.toggleMode=function(){this.simulationModeActive?(this.container.innerHTML='Token Simulation <span class="toggle"><i class="fa fa-toggle-off"></i></span>',o(this.canvasParent).remove("simulation"),this._eventBus.fire(a,{simulationModeActive:!1})):(this.container.innerHTML='Token Simulation <span class="toggle"><i class="fa fa-toggle-on"></i></span>',o(this.canvasParent).add("simulation"),this._eventBus.fire(a,{simulationModeActive:!0})),this.simulationModeActive=!this.simulationModeActive},s.$inject=["eventBus","canvas"],t.exports=s},{"../../../util/EventHelper":281,"min-dom/lib/classes":284,"min-dom/lib/domify":286,"min-dom/lib/event":287}],265:[function(e,t,n){t.exports=e("./ToggleMode.js")},{"./ToggleMode.js":264}],266:[function(e,t,n){"use strict";var i=e("min-dom/lib/domify"),o=e("../../util/ElementHelper").isAncestor,e=e("../../util/EventHelper"),a=e.TOGGLE_MODE_EVENT,s=e.GENERATE_TOKEN_EVENT,l=e.CONSUME_TOKEN_EVENT,c=e.RESET_SIMULATION_EVENT,u=e.TERMINATE_EVENT,d=e.PROCESS_INSTANCE_SHOWN_EVENT;function r(e,t,n,i,o){var r=this;this._overlays=t,this._elementRegistry=n,this._canvas=i,this._processInstances=o,this.overlayIds={},e.on(a,function(e){e.simulationModeActive||r.removeTokenCounts()}),e.on(c,function(){r.removeTokenCounts()}),e.on(u,function(e){e=e.element.parent;r.removeTokenCounts(e)}),e.on([s,l],500,function(e){e=e.element.parent;r.removeTokenCounts(e),r.addTokenCounts(e)}),e.on(d,function(e){e=e.processInstanceId,e=o.getProcessInstance(e).parent;r.removeTokenCounts(e),r.addTokenCounts(e)})}r.prototype.addTokenCounts=function(t){var n=this,i=(t=t||this._canvas.getRootElement()).shownProcessInstance;if(!i){var e=this._processInstances.getProcessInstances(t);if(!e.length)return;i=e[0].processInstanceId}this._elementRegistry.forEach(function(e){o(t,e)&&n.addTokenCount(e,i)})},r.prototype.addTokenCount=function(e,t){t=e.tokenCount&&e.tokenCount[t];t&&(t=this.createTokenCount(t),t=this._overlays.add(e,"token-count",{position:{bottom:10,left:-15},html:t,show:{minZoom:.5}}),this.overlayIds[e.id]=t)},r.prototype.createTokenCount=function(e){return i('<div class="token-count waiting">'+e+"</div>")},r.prototype.removeTokenCounts=function(t){var n=this;t=t||this._canvas.getRootElement(),this._elementRegistry.forEach(function(e){o(t,e)&&n.removeTokenCount(e)})},r.prototype.removeTokenCount=function(e){var t=this.overlayIds[e.id];t&&(this._overlays.remove(t),delete this.overlayIds[e.id])},r.$inject=["eventBus","overlays","elementRegistry","canvas","processInstances"],t.exports=r},{"../../util/ElementHelper":280,"../../util/EventHelper":281,"min-dom/lib/domify":286}],267:[function(e,t,n){t.exports=e("./TokenCount")},{"./TokenCount":266}],268:[function(e,t,n){"use strict";var o=e("./handler/EndEventHandler"),r=e("./handler/EventBasedGatewayHandler"),a=e("./handler/ExclusiveGatewayHandler"),s=e("./handler/IntermediateCatchEventHandler"),l=e("./handler/IntermediateThrowEventHandler"),c=e("./handler/ParallelGatewayHandler"),u=e("./handler/StartEventHandler"),d=e("./handler/SubProcessHandler"),p=e("./handler/BoundaryEventHandler"),h=e("./handler/TaskHandler"),e=e("../../util/EventHelper"),f=e.GENERATE_TOKEN_EVENT,m=e.CONSUME_TOKEN_EVENT;function i(e,t,n){var i=this;this._injector=n,this.handlers={},this.registerHandler("bpmn:EndEvent",o),this.registerHandler("bpmn:EventBasedGateway",r),this.registerHandler("bpmn:ExclusiveGateway",a),this.registerHandler("bpmn:IntermediateCatchEvent",s),this.registerHandler("bpmn:IntermediateThrowEvent",l),this.registerHandler("bpmn:ParallelGateway",c),this.registerHandler("bpmn:StartEvent",u),this.registerHandler("bpmn:SubProcess",d),this.registerHandler("bpmn:BoundaryEvent",p),this.registerHandler(["bpmn:BusinessRuleTask","bpmn:Task","bpmn:ManualTask","bpmn:ScriptTask","bpmn:ServiceTask","bpmn:UserTask"],h),e.on(f,function(e){var t=e.element;if(!i.handlers[t.type])throw new Error("no handler for type "+t.type);i.handlers[t.type].generate(e)}),e.on(m,function(e){var t=e.element;if(!i.handlers[t.type])throw new Error("no handler for type "+t.type);i.handlers[t.type].consume(e)})}i.prototype.registerHandler=function(e,t){var n=this,i=this._injector.instantiate(t);(e=!Array.isArray(e)?[e]:e).forEach(function(e){n.handlers[e]=i})},i.$inject=["eventBus","animation","injector"],t.exports=i},{"../../util/EventHelper":281,"./handler/BoundaryEventHandler":269,"./handler/EndEventHandler":270,"./handler/EventBasedGatewayHandler":271,"./handler/ExclusiveGatewayHandler":272,"./handler/IntermediateCatchEventHandler":273,"./handler/IntermediateThrowEventHandler":274,"./handler/ParallelGatewayHandler":275,"./handler/StartEventHandler":276,"./handler/SubProcessHandler":277,"./handler/TaskHandler":278}],269:[function(e,t,n){"use strict";var o=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),r=e.CONSUME_TOKEN_EVENT,i=e.UPDATE_ELEMENT_EVENT;function a(e,t,n){this._animation=e,this._eventBus=t,this._elementRegistry=n}a.prototype.consume=function(e){var t=e.element,e=e.processInstanceId;t.tokenCount||(t.tokenCount={}),t.tokenCount[e]||(t.tokenCount[e]=0),t.tokenCount[e]++,this._eventBus.fire(i,{element:t})},a.prototype.generate=function(e){var t=this,n=e.element,i=e.processInstanceId;n.outgoing.filter(function(e){return o(e,"bpmn:SequenceFlow")}).forEach(function(e){t._animation.createAnimation(e,i,function(){t._eventBus.fire(r,{element:e.target,processInstanceId:i})})})},a.$inject=["animation","eventBus","elementRegistry"],t.exports=a},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],270:[function(e,t,n){"use strict";var i=e("../../../util/ElementHelper"),r=i.getBusinessObject,a=i.is,s=i.isAncestor,l=i.getDescendants,c=i.isTypedEvent,e=e("../../../util/EventHelper"),u=e.GENERATE_TOKEN_EVENT,d=e.TERMINATE_EVENT,p=e.UPDATE_ELEMENTS_EVENT;function o(e,t,n,i,o,r){this._animation=e,this._eventBus=t,this._log=n,this._simulationState=i,this._elementRegistry=o,this._processInstances=r}o.prototype.consume=function(e){var t=e.element,n=e.processInstanceId,i=c(r(t),"bpmn:TerminateEventDefinition"),o=a(t.parent,"bpmn:SubProcess");i&&(this._eventBus.fire(d,e),this._elementRegistry.forEach(function(e){s(t.parent,e)&&e.tokenCount&&e.tokenCount[n]&&delete e.tokenCount[n]}),this._processInstances.finish(n));e=this._simulationState.isFinished(t,n);e&&this._processInstances.finish(n),(e||i)&&o&&(o=this._processInstances.getProcessInstance(n),this._eventBus.fire(u,{element:t.parent,processInstanceId:o.parentProcessInstanceId})),this._eventBus.fire(p,{elements:l(this._elementRegistry.getAll(),t.parent)})},o.prototype.generate=function(e){},o.$inject=["animation","eventBus","log","simulationState","elementRegistry","processInstances"],t.exports=o},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],271:[function(e,t,n){"use strict";var i=e("../../../util/ElementHelper").is,o=e("../../../util/EventHelper").UPDATE_ELEMENTS_EVENT;function r(e,t){this._eventBus=e,this._animation=t}r.prototype.consume=function(e){var t=e.element,e=e.processInstanceId;t.tokenCount||(t.tokenCount={}),t.tokenCount[e]||(t.tokenCount[e]=0),t.tokenCount[e]++;var t=t.outgoing,n=[];t.forEach(function(e){e=e.target;i(e,"bpmn:IntermediateCatchEvent")&&n.push(e)}),this._eventBus.fire(o,{elements:n})},r.prototype.generate=function(){},r.$inject=["eventBus","animation"],t.exports=r},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],272:[function(e,t,n){"use strict";var e=e("../../../util/EventHelper"),r=e.CONSUME_TOKEN_EVENT,i=e.GENERATE_TOKEN_EVENT;function o(e,t,n){this._eventBus=e,this._animation=t,this._elementRegistry=n}o.prototype.consume=function(e){var t=e.element;if(!t.sequenceFlow)throw new Error("no sequence flow configured for element "+t.id);this._eventBus.fire(i,e)},o.prototype.generate=function(e){var t=e.element,n=e.processInstanceId;if(!t.sequenceFlow)throw new Error("no sequence flow configured for element "+t.id);var i=this,o=this._elementRegistry.get(t.sequenceFlow.id);this._animation.createAnimation(o,n,function(){i._eventBus.fire(r,{element:o.target,processInstanceId:n})})},o.$inject=["eventBus","animation","elementRegistry"],t.exports=o},{"../../../util/EventHelper":281}],273:[function(e,t,n){"use strict";var r=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),a=e.CONSUME_TOKEN_EVENT,i=e.UPDATE_ELEMENT_EVENT,s=e.UPDATE_ELEMENTS_EVENT;function o(e,t,n){this._animation=e,this._eventBus=t,this._elementRegistry=n}o.prototype.consume=function(e){var t=e.element,e=e.processInstanceId;t.tokenCount||(t.tokenCount={}),t.tokenCount[e]||(t.tokenCount[e]=0),t.tokenCount[e]++,this._eventBus.fire(i,{element:t})},o.prototype.generate=function(e){var t=this,n=e.element,i=e.processInstanceId;n.outgoing.filter(function(e){return r(e,"bpmn:SequenceFlow")}).forEach(function(e){t._animation.createAnimation(e,i,function(){t._eventBus.fire(a,{element:e.target,processInstanceId:i})})});var o=n.parent,n=this._elementRegistry.filter(function(e){return r(e,"bpmn:IntermediateCatchEvent")&&e.parent===o});this._eventBus.fire(s,{elements:n})},o.$inject=["animation","eventBus","elementRegistry"],t.exports=o},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],274:[function(e,t,n){"use strict";var i=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),o=e.CONSUME_TOKEN_EVENT,r=e.GENERATE_TOKEN_EVENT;function a(e,t){this._animation=e,this._eventBus=t}a.prototype.consume=function(e){this._eventBus.fire(r,{element:e})},a.prototype.generate=function(e){var t=this;e.outgoing.filter(function(e){return i(e,"bpmn:SequenceFlow")}).forEach(function(e){t._animation.createAnimation(e,function(){t._eventBus.fire(o,{element:e.target})})})},a.$inject=["animation","eventBus"],t.exports=a},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],275:[function(e,t,n){"use strict";var o=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),r=e.CONSUME_TOKEN_EVENT,i=e.GENERATE_TOKEN_EVENT;function a(e,t){this._animation=e,this._eventBus=t}a.prototype.consume=function(e){var t=e.element,n=e.processInstanceId;t.tokenCount||(t.tokenCount={}),t.tokenCount[n]||(t.tokenCount[n]=0),t.tokenCount[n]++,t.incoming.length===t.tokenCount[n]&&(this._eventBus.fire(i,e),t.tokenCount[n]=0)},a.prototype.generate=function(e){var t=this,n=e.element,i=e.processInstanceId;n.outgoing.filter(function(e){return o(e,"bpmn:SequenceFlow")}).forEach(function(e){t._animation.createAnimation(e,i,function(){t._eventBus.fire(r,{element:e.target,processInstanceId:i})})})},a.$inject=["animation","eventBus"],t.exports=a},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],276:[function(e,t,n){"use strict";var a=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),s=e.CONSUME_TOKEN_EVENT,l=e.UPDATE_ELEMENTS_EVENT;function i(e,t,n,i){this._animation=e,this._eventBus=t,this._elementRegistry=n,this._processInstances=i}i.prototype.consume=function(){},i.prototype.generate=function(e){var t=this,n=e.element,i=e.parentProcessInstanceId,o=n.outgoing.filter(function(e){return a(e,"bpmn:SequenceFlow")}),e=n.parent,r=this._processInstances.create(e,i);o.forEach(function(e){t._animation.createAnimation(e,r,function(){t._eventBus.fire(s,{element:e.target,processInstanceId:r})})}),a(n.parent,"bpmn:SubProcess")||(n=this._elementRegistry.filter(function(e){return a(e,"bpmn:StartEvent")}),this._eventBus.fire(l,{elements:n}))},i.$inject=["animation","eventBus","elementRegistry","processInstances"],t.exports=i},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],277:[function(e,t,n){"use strict";var o=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),r=e.CONSUME_TOKEN_EVENT,a=e.GENERATE_TOKEN_EVENT,s=e.UPDATE_ELEMENT_EVENT;function i(e,t,n){this._animation=e,this._eventBus=t,this._log=n}i.prototype.consume=function(e){var t=e.element,n=e.processInstanceId,i=t.children.filter(function(e){return o(e,"bpmn:StartEvent")})[0];i?(this._log.log("Starting Subprocess","info","fa-sign-in"),this._eventBus.fire(a,{element:i,parentProcessInstanceId:n})):(this._log.log("Skipping Subprocess","info","fa-angle-double-right"),this._eventBus.fire(a,e)),this._eventBus.fire(s,{element:t})},i.prototype.generate=function(e){var t=this,n=e.element,i=e.processInstanceId;n.outgoing.filter(function(e){return o(e,"bpmn:SequenceFlow")}).forEach(function(e){t._animation.createAnimation(e,i,function(){t._eventBus.fire(r,{element:e.target,processInstanceId:i})})}),this._eventBus.fire(s,{element:n})},i.$inject=["animation","eventBus","log"],t.exports=i},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],278:[function(e,t,n){"use strict";var o=e("../../../util/ElementHelper").is,e=e("../../../util/EventHelper"),r=e.CONSUME_TOKEN_EVENT,i=e.GENERATE_TOKEN_EVENT;function a(e,t){this._animation=e,this._eventBus=t}a.prototype.consume=function(e){this._eventBus.fire(i,e)},a.prototype.generate=function(e){var t=this,n=e.element,i=e.processInstanceId;n.outgoing.filter(function(e){return o(e,"bpmn:SequenceFlow")}).forEach(function(e){t._animation.createAnimation(e,i,function(){t._eventBus.fire(r,{element:e.target,processInstanceId:i})})})},a.$inject=["animation","eventBus"],t.exports=a},{"../../../util/ElementHelper":280,"../../../util/EventHelper":281}],279:[function(e,t,n){t.exports=e("./TokenSimulationBehavior")},{"./TokenSimulationBehavior":268}],280:[function(e,t,n){"use strict";var r=e("min-dash").every,a=e("min-dash").some;function i(e,t){for(var n=t.parent;n;){if(n===e)return!0;n=n.parent}return!1}t.exports.is=function(t,e){if("label"!==t.type){Array.isArray(e)||(e=[e]);var n=!1;return e.forEach(function(e){e===t.type&&(n=!0)}),n}},t.exports.isTypedEvent=function(t,i,o){return a(t.eventDefinitions,function(e){return e.$type===i&&(n=t,r(o,function(e,t){return n[t]==e}));var n})},t.exports.getBusinessObject=function(e){return e&&e.businessObject||e},t.exports.isAncestor=i,t.exports.getDescendants=function(e,t){return e.filter(function(e){return i(t,e)})},t.exports.supportedElements=["bpmn:Association","bpmn:BusinessRuleTask","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:EndEvent","bpmn:EventBasedGateway","bpmn:ExclusiveGateway","bpmn:IntermediateCatchEvent","bpmn:ManualTask","bpmn:ParallelGateway","bpmn:Process","bpmn:ScriptTask","bpmn:SequenceFlow","bpmn:ServiceTask","bpmn:StartEvent","bpmn:SubProcess","bpmn:Task","bpmn:TextAnnotation","bpmn:UserTask","bpmn:BoundaryEvent"]},{"min-dash":834}],281:[function(e,t,n){var i="tokenSimulation";t.exports={TOGGLE_MODE_EVENT:i+".toggleMode",GENERATE_TOKEN_EVENT:i+".generateToken",CONSUME_TOKEN_EVENT:i+".consumeToken",PLAY_SIMULATION_EVENT:i+".playSimulation",PAUSE_SIMULATION_EVENT:i+".pauseSimulation",RESET_SIMULATION_EVENT:i+".resetSimulation",TERMINATE_EVENT:i+".terminateEvent",UPDATE_ELEMENTS_EVENT:i+".updateElements",UPDATE_ELEMENT_EVENT:i+".updateElement",PROCESS_INSTANCE_CREATED_EVENT:i+".processInstanceCreated",PROCESS_INSTANCE_FINISHED_EVENT:i+".processInstanceFinished",PROCESS_INSTANCE_SHOWN_EVENT:i+".processInstanceShown",PROCESS_INSTANCE_HIDDEN_EVENT:i+".processInstanceHidden",ANIMATION_CREATED_EVENT:i+".animationCreated"}},{}],282:[function(e,t,n){t.exports.getMid=function(e){e=e.bbox();return{x:e.x+e.width/2,y:e.y+e.height/2}},t.exports.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{}],283:[function(e,t,n){t.exports={__init__:["animation","contextPads","elementNotifications","elementSupport","exclusiveGatewaySettings","log","notifications","pauseSimulation","preserveElementColors","processInstanceIds","processInstanceSettings","processInstances","resetSimulation","setAnimationSpeed","showProcessInstance","simulationState","toggleMode","tokenCount","tokenSimulationBehavior","tokenSimulationPalette"],animation:["type",e("./animation/Animation")],contextPads:["type",e("./features/context-pads")],elementNotifications:["type",e("./features/element-notifications")],elementSupport:["type",e("./features/element-support")],exclusiveGatewaySettings:["type",e("./features/exclusive-gateway-settings")],log:["type",e("./features/log")],notifications:["type",e("./features/notifications")],pauseSimulation:["type",e("./features/pause-simulation")],preserveElementColors:["type",e("./features/preserve-element-colors")],processInstanceIds:["type",e("./features/process-instance-ids")],processInstanceSettings:["type",e("./features/process-instance-settings")],processInstances:["type",e("./features/process-instances")],resetSimulation:["type",e("./features/reset-simulation")],setAnimationSpeed:["type",e("./features/set-animation-speed")],showProcessInstance:["type",e("./features/show-process-instance")],simulationState:["type",e("./features/simulation-state")],toggleMode:["type",e("./features/toggle-mode/viewer")],tokenCount:["type",e("./features/token-count")],tokenSimulationBehavior:["type",e("./features/token-simulation-behavior")],tokenSimulationPalette:["type",e("./features/palette")]}},{"./animation/Animation":226,"./features/context-pads":233,"./features/element-notifications":235,"./features/element-support":237,"./features/exclusive-gateway-settings":239,"./features/log":241,"./features/notifications":243,"./features/palette":245,"./features/pause-simulation":247,"./features/preserve-element-colors":249,"./features/process-instance-ids":251,"./features/process-instance-settings":253,"./features/process-instances":255,"./features/reset-simulation":257,"./features/set-animation-speed":259,"./features/show-process-instance":261,"./features/simulation-state":263,"./features/toggle-mode/viewer":265,"./features/token-count":267,"./features/token-simulation-behavior":279}],284:[function(e,t,n){t.exports=e("component-classes")},{"component-classes":423}],285:[function(e,t,n){t.exports=function(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}},{}],286:[function(e,t,n){t.exports=e("domify")},{domify:620}],287:[function(e,t,n){t.exports=e("component-event")},{"component-event":424}],288:[function(e,t,n){t.exports=e("component-query")},{"component-query":426}],289:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=r(e("inherits")),i=r(e("ids")),o=r(e("./BaseViewer"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){o.default.call(this,e),this.on("import.parse.complete",function(e){e.error||this._collectIds(e.definitions,e.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}(0,n.default)(a,o.default),a.prototype._createModdle=function(e){e=o.default.prototype._createModdle.call(this,e);return e.ids=new i.default([32,36,1]),e},a.prototype._collectIds=function(e,t){var n,i=e.$model.ids;for(n in i.clear(),t)i.claim(n,t[n])}},{"./BaseViewer":290,ids:622,inherits:623}],290:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var c=e("min-dash"),d=e("min-dom"),p=e("tiny-svg"),r=s(e("diagram-js")),i=s(e("bpmn-moddle")),o=s(e("inherits")),u=e("./import/Importer"),n=e("./util/CompatibilityUtil"),a=e("./util/PoweredByUtil");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t,n;e=(0,c.assign)({},f,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),t=this._container,n=a.BPMNIO_IMG,n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100; '+a.LINK_STYLES+'">'+n+"</a>",n=(0,d.domify)(n),t.appendChild(n),d.event.bind(n,"click",function(e){(0,a.open)(),e.preventDefault()}),this._init(this._container,this._moddle,e)}function h(e,t){return e.warnings=t,e}(0,o.default)(l,r.default),l.prototype.importXML=(0,n.wrapForCompatibility)(function(e,s){var l=this;return new Promise(function(r,a){e=l._emit("import.parse.start",{xml:e})||e,l._moddle.fromXML(e,"bpmn:Definitions").then(function(e){var t,n=e.rootElement,i=e.references,o=e.warnings,e=e.elementsById,n=l._emit("import.parse.complete",(t={error:null,definitions:n,elementsById:e,references:i,warnings:o},i=l.get("eventBus").createEvent(t),Object.defineProperty(i,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:t.warnings,references:t.references,elementsById:t.elementsById}}}),i))||n;l.importDefinitions(n,s).then(function(e){e=[].concat(o,e.warnings||[]);return l._emit("import.done",{error:null,warnings:e}),r({warnings:e})}).catch(function(e){var t=[].concat(o,e.warnings||[]);return l._emit("import.done",{error:e,warnings:t}),a(h(e,t))})}).catch(function(e){return l._emit("import.parse.complete",{error:e}),e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+t[2]);return e}(e),l._emit("import.done",{error:e,warnings:e.warnings}),a(e)})})}),l.prototype.importDefinitions=(0,n.wrapForCompatibility)(function(e,i){var o=this;return new Promise(function(t,n){o._setDefinitions(e),o.open(i).then(function(e){e=e.warnings;return t({warnings:e})}).catch(function(e){return n(e)})})}),l.prototype.open=(0,n.wrapForCompatibility)(function(r){var a=this._definitions,s=r,l=this;return new Promise(function(t,n){if(!a){var e=new Error("no XML imported");return n(h(e,[]))}if("string"==typeof r&&(i=a,!(s=(o=r)&&(0,c.find)(i.diagrams,function(e){return e.id===o})||null))){i=new Error("BPMNDiagram <"+r+"> not found");return n(h(i,[]))}var i,o;try{l.clear()}catch(e){return n(h(e,[]))}(0,u.importBpmnDiagram)(l,a,s).then(function(e){e=e.warnings;return t({warnings:e})}).catch(function(e){return n(e)})})}),l.prototype.saveXML=(0,n.wrapForCompatibility)(function(e){e=e||{};var n=this,i=this._definitions;return new Promise(function(t){if(!i)return t({error:new Error("no definitions loaded")});i=n._emit("saveXML.start",{definitions:i})||i,n._moddle.toXML(i,e).then(function(e){e=e.xml,e=n._emit("saveXML.serialized",{xml:e})||e;return t({xml:e})})}).catch(function(e){return{error:e}}).then(function(e){n._emit("saveXML.done",e);var t=e.error;return t?Promise.reject(t):e})}),l.prototype.saveSVG=(0,n.wrapForCompatibility)(function(e){var u=this;return new Promise(function(e,t){var n;u._emit("saveSVG.start");try{var i=u.get("canvas"),o=i.getDefaultLayer(),r=(0,d.query)("defs",i._svg),a=(0,p.innerSVG)(o),s=r?"<defs>"+(0,p.innerSVG)(r)+"</defs>":"",l=o.getBBox(),c='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+s+a+"</svg>"}catch(e){n=e}return u._emit("saveSVG.done",{error:n,svg:c}),n?t(n):e({svg:c})})}),l.prototype._setDefinitions=function(e){this._definitions=e},l.prototype.getModules=function(){return this._modules},l.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach(function(e){e=e.businessObject;e&&e.di&&delete e.di}),r.default.prototype.clear.call(this))},l.prototype.destroy=function(){r.default.prototype.destroy.call(this),(0,d.remove)(this._container)},l.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},l.prototype.off=function(e,t){this.get("eventBus").off(e,t)},l.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),(e="string"==typeof(e=e.get&&e.constructor.prototype.jquery?e.get(0):e)?(0,d.query)(e):e).appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},l.prototype.getDefinitions=function(){return this._definitions},l.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},l.prototype._init=function(e,t,n){var i=n.modules||this.getModules(),o=n.additionalModules||[],o=[].concat([{bpmnjs:["value",this],moddle:["value",t]}],i,o),o=(0,c.assign)((0,c.omit)(n,["additionalModules"]),{canvas:(0,c.assign)({},n.canvas,{container:e}),modules:o});r.default.call(this,o),n&&n.container&&this.attachTo(n.container)},l.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},l.prototype._createContainer=function(e){var t=(0,d.domify)('<div class="bjs-container"></div>');return(0,c.assign)(t.style,{width:m(e.width),height:m(e.height),position:e.position}),t},l.prototype._createModdle=function(e){e=(0,c.assign)({},this._moddleExtensions,e.moddleExtensions);return new i.default(e)},l.prototype._modules=[];var f={width:"100%",height:"100%",position:"relative"};function m(e){return e+((0,c.isNumber)(e)?"px":"")}},{"./import/Importer":413,"./util/CompatibilityUtil":416,"./util/PoweredByUtil":420,"bpmn-moddle":421,"diagram-js":431,inherits:623,"min-dash":834,"min-dom":835,"tiny-svg":851}],291:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=D;var i=L(e("inherits")),o=L(e("./BaseModeler")),r=L(e("./Viewer")),a=L(e("./NavigatedViewer")),s=L(e("diagram-js/lib/navigation/keyboard-move")),l=L(e("diagram-js/lib/navigation/movecanvas")),c=L(e("diagram-js/lib/navigation/touch")),u=L(e("diagram-js/lib/navigation/zoomscroll")),d=L(e("diagram-js/lib/features/align-elements")),p=L(e("./features/auto-place")),h=L(e("./features/auto-resize")),f=L(e("diagram-js/lib/features/auto-scroll")),m=L(e("diagram-js/lib/features/bendpoints")),g=L(e("diagram-js/lib/features/connect")),v=L(e("diagram-js/lib/features/connection-preview")),y=L(e("./features/context-pad")),b=L(e("./features/copy-paste")),x=L(e("diagram-js/lib/features/create")),w=L(e("./features/distribute-elements")),k=L(e("./features/editor-actions")),E=L(e("./features/grid-snapping")),C=L(e("./features/interaction-events")),S=L(e("./features/keyboard")),T=L(e("diagram-js/lib/features/keyboard-move-selection")),_=L(e("./features/label-editing")),N=L(e("./features/modeling")),A=L(e("diagram-js/lib/features/move")),P=L(e("./features/palette")),I=L(e("./features/replace-preview")),R=L(e("diagram-js/lib/features/resize")),M=L(e("./features/snapping")),n=L(e("./features/search")),e=e("./util/CompatibilityUtil");function L(e){return e&&e.__esModule?e:{default:e}}function D(e){o.default.call(this,e)}(0,i.default)(D,o.default),D.Viewer=r.default,D.NavigatedViewer=a.default,D.prototype.createDiagram=(0,e.wrapForCompatibility)(function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')}),D.prototype._interactionModules=[s.default,l.default,c.default,u.default],D.prototype._modelingModules=[d.default,p.default,f.default,h.default,m.default,g.default,v.default,y.default,b.default,x.default,w.default,k.default,E.default,C.default,S.default,T.default,_.default,N.default,A.default,P.default,I.default,R.default,M.default,n.default],D.prototype._modules=[].concat(r.default.prototype._modules,D.prototype._interactionModules,D.prototype._modelingModules)},{"./BaseModeler":289,"./NavigatedViewer":292,"./Viewer":293,"./features/auto-place":302,"./features/auto-resize":305,"./features/context-pad":307,"./features/copy-paste":310,"./features/distribute-elements":314,"./features/editor-actions":316,"./features/grid-snapping":322,"./features/interaction-events":324,"./features/keyboard":326,"./features/label-editing":331,"./features/modeling":388,"./features/palette":394,"./features/replace-preview":399,"./features/search":406,"./features/snapping":410,"./util/CompatibilityUtil":416,"diagram-js/lib/features/align-elements":447,"diagram-js/lib/features/auto-scroll":457,"diagram-js/lib/features/bendpoints":464,"diagram-js/lib/features/connect":471,"diagram-js/lib/features/connection-preview":473,"diagram-js/lib/features/create":480,"diagram-js/lib/features/keyboard-move-selection":502,"diagram-js/lib/features/move":540,"diagram-js/lib/features/resize":558,"diagram-js/lib/navigation/keyboard-move":593,"diagram-js/lib/navigation/movecanvas":595,"diagram-js/lib/navigation/touch":596,"diagram-js/lib/navigation/zoomscroll":599,inherits:623}],292:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i=a(e("inherits")),o=a(e("./Viewer")),r=a(e("diagram-js/lib/navigation/keyboard-move")),n=a(e("diagram-js/lib/navigation/movecanvas")),e=a(e("diagram-js/lib/navigation/zoomscroll"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){o.default.call(this,e)}(0,i.default)(s,o.default),s.prototype._navigationModules=[r.default,n.default,e.default],s.prototype._modules=[].concat(o.default.prototype._modules,s.prototype._navigationModules)},{"./Viewer":293,"diagram-js/lib/navigation/keyboard-move":593,"diagram-js/lib/navigation/movecanvas":595,"diagram-js/lib/navigation/zoomscroll":599,inherits:623}],293:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=l(e("inherits")),o=l(e("./core")),r=l(e("diagram-js/lib/i18n/translate")),a=l(e("diagram-js/lib/features/selection")),n=l(e("diagram-js/lib/features/overlays")),s=l(e("./BaseViewer"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){s.default.call(this,e)}(0,i.default)(c,s.default),c.prototype._modules=[o.default,r.default,a.default,n.default],c.prototype._moddleExtensions={}},{"./BaseViewer":290,"./core":294,"diagram-js/lib/features/overlays":545,"diagram-js/lib/features/selection":567,"diagram-js/lib/i18n/translate":585,inherits:623}],294:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../draw")),e=o(e("../import"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,e.default]};n.default=e},{"../draw":299,"../import":415}],295:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isTypedEvent=function(t,i,o){return(0,r.some)(t.eventDefinitions,function(e){return e.$type===i&&(n=t,(0,r.every)(o,function(e,t){return n[t]==e}));var n})},n.isThrowEvent=function(e){return"bpmn:IntermediateThrowEvent"===e.$type||"bpmn:EndEvent"===e.$type},n.isCollection=function(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection},n.getDi=o,n.getSemantic=function(e){return e.businessObject},n.getFillColor=function(e,t){e=o(e);return e.get("color:background-color")||e.get("bioc:fill")||t||"white"},n.getStrokeColor=s,n.getLabelColor=function(e,t,n){var i=o(e).get("label");return i&&i.get("color:color")||t||s(e,n)},n.getCirclePath=function(e){var t=e.x+e.width/2,n=e.y+e.height/2,e=e.width/2,e=[["M",t,n],["m",0,-e],["a",e,e,0,1,1,0,2*e],["a",e,e,0,1,1,0,-2*e],["z"]];return(0,a.componentsToPath)(e)},n.getRoundRectPath=function(e,t){var n=e.x,i=e.y,o=e.width,e=e.height,t=[["M",n+t,i],["l",o-2*t,0],["a",t,t,0,0,1,t,t],["l",0,e-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-o,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-e],["a",t,t,0,0,1,t,-t],["z"]];return(0,a.componentsToPath)(t)},n.getDiamondPath=function(e){var t=e.width,n=e.height,i=e.x,e=e.y,t=t/2,n=n/2,n=[["M",i+t,e],["l",t,n],["l",-t,n],["l",-t,-n],["z"]];return(0,a.componentsToPath)(n)},n.getRectPath=function(e){var t=e.x,n=e.y,i=e.width,e=e.height,i=[["M",t,n],["l",i,0],["l",0,e],["l",-i,0],["z"]];return(0,a.componentsToPath)(i)};var r=e("min-dash"),a=e("diagram-js/lib/util/RenderUtil");function o(e){return e.businessObject.di}function s(e,t){e=o(e);return e.get("color:border-color")||e.get("bioc:stroke")||t||"black"}},{"diagram-js/lib/util/RenderUtil":616,"min-dash":834}],296:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=o(e("inherits")),P=e("min-dash"),I=o(e("diagram-js/lib/draw/BaseRenderer")),R=e("../util/DiUtil"),M=e("../features/label-editing/LabelUtil"),i=e("../util/ModelUtil"),L=e("diagram-js/lib/util/RenderUtil"),D=e("./BpmnRenderUtil"),j=e("min-dom"),F=e("tiny-svg"),O=e("diagram-js/lib/util/SvgTransformUtil");function o(e){return e&&e.__esModule?e:{default:e}}var B=new(o(e("ids")).default),H=10,$=3,z=.95,U=.35,V=10;function r(e,t,o,l,a,i,n){I.default.call(this,t,n);var c=e&&e.defaultFillColor,u=e&&e.defaultStrokeColor,d=e&&e.defaultLabelColor,r=B.next(),s={},p=o.computeStyle;function h(e,t){var n=(0,P.assign)({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),i=t.ref||{x:0,y:0},o=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var r=(0,F.create)("marker");(0,F.attr)(t.element,n),(0,F.append)(r,t.element),(0,F.attr)(r,{id:e,viewBox:"0 0 20 20",refX:i.x,refY:i.y,markerWidth:20*o,markerHeight:20*o,orient:"auto"});o=(0,j.query)("defs",a._svg);o||(o=(0,F.create)("defs"),(0,F.append)(a._svg,o)),(0,F.append)(o,r),s[e]=r}function f(e){return e.replace(/[^0-9a-zA-z]+/g,"_")}function m(e,t,n){var i=e+"-"+f(t)+"-"+f(n)+"-"+r;return s[i]||function(e,t,n,i){"sequenceflow-end"===t&&(o=(0,F.create)("path"),(0,F.attr)(o,{d:"M 1 5 L 11 10 L 1 15 Z"}),h(e,{element:o,ref:{x:11,y:10},scale:.5,attrs:{fill:i,stroke:i}}));{var o;"messageflow-start"===t&&(o=(0,F.create)("circle"),(0,F.attr)(o,{cx:6,cy:6,r:3.5}),h(e,{element:o,attrs:{fill:n,stroke:i},ref:{x:6,y:6}}))}"messageflow-end"===t&&(r=(0,F.create)("path"),(0,F.attr)(r,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),h(e,{element:r,attrs:{fill:n,stroke:i,strokeLinecap:"butt"},ref:{x:8.5,y:5}}));{var r;"association-start"===t&&(r=(0,F.create)("path"),(0,F.attr)(r,{d:"M 11 5 L 1 10 L 11 15"}),h(e,{element:r,attrs:{fill:"none",stroke:i,strokeWidth:1.5},ref:{x:1,y:10},scale:.5}))}"association-end"===t&&(a=(0,F.create)("path"),(0,F.attr)(a,{d:"M 1 5 L 11 10 L 1 15"}),h(e,{element:a,attrs:{fill:"none",stroke:i,strokeWidth:1.5},ref:{x:12,y:10},scale:.5}));{var a;"conditional-flow-marker"===t&&(a=(0,F.create)("path"),(0,F.attr)(a,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),h(e,{element:a,attrs:{fill:n,stroke:i},ref:{x:-1,y:10},scale:.5}))}"conditional-default-flow-marker"===t&&(t=(0,F.create)("path"),(0,F.attr)(t,{d:"M 6 4 L 10 16"}),h(e,{element:t,attrs:{stroke:i},ref:{x:0,y:10},scale:.5}))}(i,e,t,n),"url(#"+i+")"}function g(e,t,n,i,o){(0,P.isObject)(i)&&(o=i,i=0),i=i||0,"none"===(o=p(o,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete o.fillOpacity;var r=t/2,a=n/2,s=(0,F.create)("circle");return(0,F.attr)(s,{cx:r,cy:a,r:Math.round((t+n)/4-i)}),(0,F.attr)(s,o),(0,F.append)(e,s),s}function v(e,t,n,i,o,r){(0,P.isObject)(o)&&(r=o,o=0),o=o||0,r=p(r,{stroke:"black",strokeWidth:2,fill:"white"});var a=(0,F.create)("rect");return(0,F.attr)(a,{x:o,y:o,width:t-2*o,height:n-2*o,rx:i,ry:i}),(0,F.attr)(a,r),(0,F.append)(e,a),a}function y(e,t,n){n=p(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});n=(0,L.createLine)(t,n);return(0,F.append)(e,n),n}function b(e,t,n){n=p(n,["no-fill"],{strokeWidth:2,stroke:"black"});var i=(0,F.create)("path");return(0,F.attr)(i,{d:t}),(0,F.attr)(i,n),(0,F.append)(e,i),i}function x(e,t,n,i){return b(t,n,(0,P.assign)({"data-marker":e},i))}function w(n){return function(e,t){return N[n](e,t)}}function k(e){return N[e]}function E(e,t){var n=(0,D.getSemantic)(e),i=(0,D.isThrowEvent)(n);return n.eventDefinitions&&1<n.eventDefinitions.length?(n.parallelMultiple?k("bpmn:ParallelMultipleEventDefinition"):k("bpmn:MultipleEventDefinition"))(t,e,i):(0,D.isTypedEvent)(n,"bpmn:MessageEventDefinition")?k("bpmn:MessageEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:TimerEventDefinition")?k("bpmn:TimerEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:ConditionalEventDefinition")?k("bpmn:ConditionalEventDefinition")(t,e):(0,D.isTypedEvent)(n,"bpmn:SignalEventDefinition")?k("bpmn:SignalEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:EscalationEventDefinition")?k("bpmn:EscalationEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:LinkEventDefinition")?k("bpmn:LinkEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:ErrorEventDefinition")?k("bpmn:ErrorEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:CancelEventDefinition")?k("bpmn:CancelEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:CompensateEventDefinition")?k("bpmn:CompensateEventDefinition")(t,e,i):(0,D.isTypedEvent)(n,"bpmn:TerminateEventDefinition")&&k("bpmn:TerminateEventDefinition")(t,e,i)}function C(e,t,n){n=(0,P.assign)({size:{width:100}},n);n=i.createText(t||"",n);return(0,F.classes)(n).add("djs-label"),(0,F.append)(e,n),n}function S(e,t,n){return C(e,(0,D.getSemantic)(t).name,{box:t,align:n,padding:5,style:{fill:(0,D.getLabelColor)(t,d,u)}})}function T(e,t,n){t=C(e,t,{box:{height:30,width:n.height},align:"center-middle",style:{fill:(0,D.getLabelColor)(n,d,u)}}),n=-1*n.height;(0,O.transform)(t,0,-n,270)}function _(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,i=1;i<t.length;i++)n+="L"+t[i].x+","+t[i].y+" ";return n}var N=this.handlers={"bpmn:Event":function(e,t,n){return"fillOpacity"in n||(n.fillOpacity=z),g(e,t.width,t.height,n)},"bpmn:StartEvent":function(e,t){var n={fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)};(0,D.getSemantic)(t).isInterrupting||(n={strokeDasharray:"6",strokeLinecap:"round",fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)});n=k("bpmn:Event")(e,t,n);return E(t,e),n},"bpmn:MessageEventDefinition":function(e,t,n){return b(e,l.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):(0,D.getFillColor)(t,c),stroke:n?(0,D.getFillColor)(t,c):(0,D.getStrokeColor)(t,u)})},"bpmn:TimerEventDefinition":function(e,t){var n=g(e,t.width,t.height,.2*t.height,{strokeWidth:2,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)});b(e,l.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:(0,D.getStrokeColor)(t,u)});for(var i=0;i<12;i++){var o=l.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),r=t.width/2;b(e,o,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*i+","+t.height/2+","+r+")",stroke:(0,D.getStrokeColor)(t,u)})}return n},"bpmn:EscalationEventDefinition":function(e,t,n){return b(e,l.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):"none",stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:ConditionalEventDefinition":function(e,t){return b(e,l.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:LinkEventDefinition":function(e,t,n){return b(e,l.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):"none",stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:ErrorEventDefinition":function(e,t,n){return b(e,l.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):"none",stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:CancelEventDefinition":function(e,t,n){t=b(e,l.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):"none",stroke:(0,D.getStrokeColor)(t,u)});return(0,O.rotate)(t,45),t},"bpmn:CompensateEventDefinition":function(e,t,n){return b(e,l.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):"none",stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:SignalEventDefinition":function(e,t,n){return b(e,l.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):"none",stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:MultipleEventDefinition":function(e,t,n){return b(e,l.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:n?(0,D.getStrokeColor)(t,u):"none"})},"bpmn:ParallelMultipleEventDefinition":function(e,t){return b(e,l.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:EndEvent":function(e,t){var n=k("bpmn:Event")(e,t,{strokeWidth:4,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)});return E(t,e),n},"bpmn:TerminateEventDefinition":function(e,t){return g(e,t.width,t.height,8,{strokeWidth:4,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:IntermediateEvent":function(e,t){var n=k("bpmn:Event")(e,t,{strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)});return g(e,t.width,t.height,$,{strokeWidth:1,fill:(0,D.getFillColor)(t,"none"),stroke:(0,D.getStrokeColor)(t,u)}),E(t,e),n},"bpmn:IntermediateCatchEvent":w("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":w("bpmn:IntermediateEvent"),"bpmn:Activity":function(e,t,n){return"fillOpacity"in(n=n||{})||(n.fillOpacity=z),v(e,t.width,t.height,H,n)},"bpmn:Task":function(e,t){var n={fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)},n=k("bpmn:Activity")(e,t,n);return S(e,t,"center-middle"),A(e,t),n},"bpmn:ServiceTask":function(e,t){var n=k("bpmn:Task")(e,t);return b(e,l.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)}),b(e,l.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:(0,D.getFillColor)(t,c)}),b(e,l.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:UserTask":function(e,t){var n=k("bpmn:Task")(e,t);return b(e,l.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)}),b(e,l.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)}),b(e,l.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:ManualTask":function(e,t){var n=k("bpmn:Task")(e,t);return b(e,l.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:SendTask":function(e,t){var n=k("bpmn:Task")(e,t);return b(e,l.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getFillColor)(t,c)}),n},"bpmn:ReceiveTask":function(e,t){var n=(0,D.getSemantic)(t),i=k("bpmn:Task")(e,t),n=n.instantiate?(g(e,28,28,4.4,{strokeWidth:1}),l.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):l.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}});return b(e,n,{strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)}),i},"bpmn:ScriptTask":function(e,t){var n=k("bpmn:Task")(e,t);return b(e,l.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:BusinessRuleTask":function(e,t){var n=k("bpmn:Task")(e,t),i=b(e,l.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}));(0,F.attr)(i,{strokeWidth:1,fill:(0,D.getFillColor)(t,"#aaaaaa"),stroke:(0,D.getStrokeColor)(t,u)});e=b(e,l.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}));return(0,F.attr)(e,{strokeWidth:1,stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:SubProcess":function(e,t,n){n=(0,P.assign)({fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)},n);var i=k("bpmn:Activity")(e,t,n),n=(0,R.isExpanded)(t);return(0,R.isEventSubProcess)(t)&&(0,F.attr)(i,{strokeDasharray:"1,2"}),S(e,t,n?"center-top":"center-middle"),n?A(e,t):A(e,t,["SubProcessMarker"]),i},"bpmn:AdHocSubProcess":function(e,t){return k("bpmn:SubProcess")(e,t)},"bpmn:Transaction":function(e,t){var n=k("bpmn:SubProcess")(e,t),i=o.style(["no-fill","no-events"],{stroke:(0,D.getStrokeColor)(t,u)});return v(e,t.width,t.height,H-2,$,i),n},"bpmn:CallActivity":function(e,t){return k("bpmn:SubProcess")(e,t,{strokeWidth:5})},"bpmn:Participant":function(e,t){var n={fillOpacity:z,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)},n=k("bpmn:Lane")(e,t,n);return(0,R.isExpanded)(t)?(y(e,[{x:30,y:0},{x:30,y:t.height}],{stroke:(0,D.getStrokeColor)(t,u)}),T(e,(0,D.getSemantic)(t).name,t)):C(e,(0,D.getSemantic)(t).name,{box:t,align:"center-middle",style:{fill:(0,D.getLabelColor)(t,d,u)}}),!(0,D.getSemantic)(t).participantMultiplicity||(0,N.ParticipantMultiplicityMarker)(e,t),n},"bpmn:Lane":function(e,t,n){var i=v(e,t.width,t.height,0,(0,P.assign)({fill:(0,D.getFillColor)(t,c),fillOpacity:U,stroke:(0,D.getStrokeColor)(t,u)},n)),n=(0,D.getSemantic)(t);return"bpmn:Lane"===n.$type&&T(e,n.name,t),i},"bpmn:InclusiveGateway":function(e,t){var n=k("bpmn:Gateway")(e,t);return g(e,t.width,t.height,.24*t.height,{strokeWidth:2.5,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:ExclusiveGateway":function(e,t){var n=k("bpmn:Gateway")(e,t),i=l.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}});return(0,D.getDi)(t).isMarkerVisible&&b(e,i,{strokeWidth:1,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:ComplexGateway":function(e,t){var n=k("bpmn:Gateway")(e,t);return b(e,l.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:ParallelGateway":function(e,t){var n=k("bpmn:Gateway")(e,t);return b(e,l.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getStrokeColor)(t,u)}),n},"bpmn:EventBasedGateway":function(e,t){var n=(0,D.getSemantic)(t),i=k("bpmn:Gateway")(e,t);g(e,t.width,t.height,.2*t.height,{strokeWidth:1,fill:"none",stroke:(0,D.getStrokeColor)(t,u)});var o,r,a=n.eventGatewayType,s=!!n.instantiate;return"Parallel"===a?(n=l.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),n=b(e,n),(0,F.attr)(n,{strokeWidth:1,fill:"none"})):"Exclusive"===a&&(s||(s=g(e,t.width,t.height,.26*t.height),(0,F.attr)(s,{strokeWidth:1,fill:"none",stroke:(0,D.getStrokeColor)(t,u)})),o=l.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}}),r={strokeWidth:2,fill:(0,D.getFillColor)(t,"none"),stroke:(0,D.getStrokeColor)(t,u)},b(e,o,r)),i},"bpmn:Gateway":function(e,t){var n,i,o={fill:(0,D.getFillColor)(t,c),fillOpacity:z,stroke:(0,D.getStrokeColor)(t,u)};return n=e,i=t.width,e=t.height,t=o,e=[{x:o=i/2,y:0},{x:i,y:i=e/2},{x:o,y:e},{x:0,y:i}].map(function(e){return e.x+","+e.y}).join(" "),t=p(t,{stroke:"black",strokeWidth:2,fill:"white"}),i=(0,F.create)("polygon"),(0,F.attr)(i,{points:e}),(0,F.attr)(i,t),(0,F.append)(n,i),i},"bpmn:SequenceFlow":function(e,t){var n=_(t),i=(0,D.getFillColor)(t,c),o=(0,D.getStrokeColor)(t,u),e=b(e,n,{strokeLinejoin:"round",markerEnd:m("sequenceflow-end",i,o),stroke:(0,D.getStrokeColor)(t,u)}),n=(0,D.getSemantic)(t);return t.source&&(t=t.source.businessObject,n.conditionExpression&&t.$instanceOf("bpmn:Activity")&&(0,F.attr)(e,{markerStart:m("conditional-flow-marker",i,o)}),t.default&&(t.$instanceOf("bpmn:Gateway")||t.$instanceOf("bpmn:Activity"))&&t.default===n&&(0,F.attr)(e,{markerStart:m("conditional-default-flow-marker",i,o)})),e},"bpmn:Association":function(e,t,n){var i=(0,D.getSemantic)(t),o=(0,D.getFillColor)(t,c),r=(0,D.getStrokeColor)(t,u);return n=(0,P.assign)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:(0,D.getStrokeColor)(t,u)},n||{}),"One"!==i.associationDirection&&"Both"!==i.associationDirection||(n.markerEnd=m("association-end",o,r)),"Both"===i.associationDirection&&(n.markerStart=m("association-start",o,r)),y(e,t.waypoints,n)},"bpmn:DataInputAssociation":function(e,t){var n=(0,D.getFillColor)(t,c),i=(0,D.getStrokeColor)(t,u);return k("bpmn:Association")(e,t,{markerEnd:m("association-end",n,i)})},"bpmn:DataOutputAssociation":function(e,t){var n=(0,D.getFillColor)(t,c),i=(0,D.getStrokeColor)(t,u);return k("bpmn:Association")(e,t,{markerEnd:m("association-end",n,i)})},"bpmn:MessageFlow":function(e,t){var n,i=(0,D.getSemantic)(t),o=(0,D.getDi)(t),r=(0,D.getFillColor)(t,c),a=(0,D.getStrokeColor)(t,u),s=b(e,_(t),{markerEnd:m("messageflow-end",r,a),markerStart:m("messageflow-start",r,a),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:(0,D.getStrokeColor)(t,u)});return i.messageRef&&(n=s.getPointAtLength(s.getTotalLength()/2),r=l.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:n.x,y:n.y}}),a={strokeWidth:1},"initiating"===o.messageVisibleKind?(a.fill="white",a.stroke="black"):(a.fill="#888",a.stroke="white"),a=b(e,r,a),i=C(e,i.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:(0,D.getStrokeColor)(t,d,u)}}),t=a.getBBox(),a=i.getBBox(),a=n.x-a.width/2,t=n.y+t.height/2+V,(0,O.transform)(i,a,t,0)),s},"bpmn:DataObject":function(e,t){var n=b(e,l.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),{fill:(0,D.getFillColor)(t,c),fillOpacity:z,stroke:(0,D.getStrokeColor)(t,u)}),i=(0,D.getSemantic)(t);return(0,D.isCollection)(i)&&(i=e,e=(t.height-18)/t.height,e=l.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.33,my:e}}),b(i,e,{strokeWidth:2})),n},"bpmn:DataObjectReference":w("bpmn:DataObject"),"bpmn:DataInput":function(e,t){var n=l.getRawPath("DATA_ARROW"),t=k("bpmn:DataObject")(e,t);return b(e,n,{strokeWidth:1}),t},"bpmn:DataOutput":function(e,t){var n=l.getRawPath("DATA_ARROW"),t=k("bpmn:DataObject")(e,t);return b(e,n,{strokeWidth:1,fill:"black"}),t},"bpmn:DataStoreReference":function(e,t){return b(e,l.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:(0,D.getFillColor)(t,c),fillOpacity:z,stroke:(0,D.getStrokeColor)(t,u)})},"bpmn:BoundaryEvent":function(e,t){var n=(0,D.getSemantic)(t).cancelActivity,i={strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)};n||(i.strokeDasharray="6",i.strokeLinecap="round");n=(0,P.assign)({},i,{fillOpacity:1}),i=(0,P.assign)({},i,{fill:"none"}),n=k("bpmn:Event")(e,t,n);return g(e,t.width,t.height,$,i),E(t,e),n},"bpmn:Group":function(e,t){return v(e,t.width,t.height,H,{stroke:(0,D.getStrokeColor)(t,u),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(e,t){return t={width:90,height:30,x:(n=t).width/2+n.x,y:n.height/2+n.y},C(e,(0,M.getLabel)(n),{box:t,fitBox:!0,style:(0,P.assign)({},i.getExternalStyle(),{fill:(0,D.getLabelColor)(n,d,u)})});var n},"bpmn:TextAnnotation":function(e,t){var n=v(e,t.width,t.height,0,0,{fill:"none",stroke:"none"});return b(e,l.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}}),{stroke:(0,D.getStrokeColor)(t,u)}),C(e,(0,D.getSemantic)(t).text||"",{box:t,align:"left-top",padding:5,style:{fill:(0,D.getLabelColor)(t,d,u)}}),n},ParticipantMultiplicityMarker:function(e,t){x("participant-multiplicity",e,l.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:t.width/2/t.width,my:(t.height-15)/t.height}}),{strokeWidth:2,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)})},SubProcessMarker:function(e,t){var n=v(e,14,14,0,{strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)});(0,O.translate)(n,t.width/2-7.5,t.height-20),x("sub-process",e,l.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}}),{fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)})},ParallelMarker:function(e,t,n){x("parallel",e,l.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.parallel)/t.width,my:(t.height-20)/t.height}}),{fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)})},SequentialMarker:function(e,t,n){x("sequential",e,l.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.seq)/t.width,my:(t.height-19)/t.height}}),{fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)})},CompensationMarker:function(e,t,n){x("compensation",e,l.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.compensation)/t.width,my:(t.height-13)/t.height}}),{strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u)})},LoopMarker:function(e,t,n){x("loop",e,l.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.loop)/t.width,my:(t.height-7)/t.height}}),{strokeWidth:1,fill:(0,D.getFillColor)(t,c),stroke:(0,D.getStrokeColor)(t,u),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(e,t,n){x("adhoc",e,l.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.adhoc)/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:(0,D.getStrokeColor)(t,u),stroke:(0,D.getStrokeColor)(t,u)})}};function A(t,n,e){var i=(0,D.getSemantic)(n),o=e&&-1!==e.indexOf("SubProcessMarker")?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10};(0,P.forEach)(e,function(e){k(e)(t,n,o)}),i.isForCompensation&&(0,N.CompensationMarker)(t,n,o),"bpmn:AdHocSubProcess"===i.$type&&(0,N.AdhocMarker)(t,n,o);e=i.loopCharacteristics,i=e&&e.isSequential;e&&(void 0===i&&(0,N.LoopMarker)(t,n,o),!1===i&&(0,N.ParallelMarker)(t,n,o),!0===i&&(0,N.SequentialMarker)(t,n,o))}this._drawPath=b}(0,n.default)(r,I.default),r.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],r.prototype.canRender=function(e){return(0,i.is)(e,"bpmn:BaseElement")},r.prototype.drawShape=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},r.prototype.drawConnection=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},r.prototype.getShapePath=function(e){return(0,i.is)(e,"bpmn:Event")?(0,D.getCirclePath)(e):(0,i.is)(e,"bpmn:Activity")?(0,D.getRoundRectPath)(e,H):((0,i.is)(e,"bpmn:Gateway")?(0,D.getDiamondPath):(0,D.getRectPath))(e)}},{"../features/label-editing/LabelUtil":329,"../util/DiUtil":417,"../util/ModelUtil":419,"./BpmnRenderUtil":295,"diagram-js/lib/draw/BaseRenderer":442,"diagram-js/lib/util/RenderUtil":616,"diagram-js/lib/util/SvgTransformUtil":617,ids:622,inherits:623,"min-dash":834,"min-dom":835,"tiny-svg":851}],297:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,i,o=this.pathMap[e],e=t.abspos?(n=t.abspos.x,t.abspos.y):(n=t.containerWidth*t.position.mx,t.containerHeight*t.position.my),r={};if(t.position){for(var a=t.containerHeight/o.height*t.yScaleFactor,s=t.containerWidth/o.width*t.xScaleFactor,l=0;l<o.heightElements.length;l++)r["y"+l]=o.heightElements[l]*a;for(var c=0;c<o.widthElements.length;c++)r["x"+c]=o.widthElements[c]*s}return t=o.d,i={mx:n,my:e,e:r},String(t).replace(u,function(e,t){return n=e,r=e=i,t.replace(d,function(e,t,n,i,o){t=t||i,r&&"function"==typeof(r=t in r?r[t]:r)&&o&&(r=r())}),r=(null==r||r==e?n:r)+"";var n,r})}};var u=/\{([^}]+)\}/g,d=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],298:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i,r=e("min-dash"),a=(i=e("diagram-js/lib/util/Text"))&&i.__esModule?i:{default:i};var s=12,l=1.2,c=30;function o(e){var n=(0,r.assign)({fontFamily:"Arial, sans-serif",fontSize:s,fontWeight:"normal",lineHeight:l},e&&e.defaultStyle||{}),t=parseInt(n.fontSize,10)-1,i=(0,r.assign)({},n,{fontSize:t},e&&e.externalStyle||{}),o=new a.default({style:n});this.getExternalLabelBounds=function(e,t){t=o.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:i});return{x:Math.round(e.x+e.width/2-t.width/2),y:Math.round(e.y),width:Math.ceil(t.width),height:Math.ceil(t.height)}},this.getTextAnnotationBounds=function(e,t){t=o.getDimensions(t,{box:e,style:n,align:"left-top",padding:5});return{x:e.x,y:e.y,width:e.width,height:Math.max(c,Math.round(t.height))}},this.createText=function(e,t){return o.createText(e,t||{})},this.getDefaultStyle=function(){return n},this.getExternalStyle=function(){return i}}o.$inject=["config.textRenderer"]},{"diagram-js/lib/util/Text":618,"min-dash":834}],299:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./BpmnRenderer")),o=r(e("./TextRenderer")),e=r(e("./PathMap"));function r(e){return e&&e.__esModule?e:{default:e}}e={__init__:["bpmnRenderer"],bpmnRenderer:["type",i.default],textRenderer:["type",o.default],pathMap:["type",e.default]};n.default=e},{"./BpmnRenderer":296,"./PathMap":297,"./TextRenderer":298}],300:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("./BpmnAutoPlaceUtil");function o(e){e.on("autoPlace",function(e){var t=e.shape,e=e.source;return(0,i.getNewShapePosition)(e,t)})}o.$inject=["eventBus"]},{"./BpmnAutoPlaceUtil":301}],301:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getNewShapePosition=function(e,t){if((0,s.is)(t,"bpmn:TextAnnotation"))return r(e,t);if((0,i.isAny)(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"]))return a(e,t);if((0,s.is)(t,"bpmn:FlowNode"))return o(e,t)},n.getFlowNodePosition=o,n.getTextAnnotationPosition=r,n.getDataElementPosition=a;var s=e("../../util/ModelUtil"),i=e("../modeling/util/ModelingUtil"),l=e("diagram-js/lib/layout/LayoutUtil"),c=e("diagram-js/lib/features/auto-place/AutoPlaceUtil");function o(e,t){var n=(0,l.asTRBL)(e),i=(0,l.getMid)(e),o=(0,c.getConnectedDistance)(e,{filter:function(e){return(0,s.is)(e,"bpmn:SequenceFlow")}}),r=30,a="left";(0,s.is)(e,"bpmn:BoundaryEvent")&&-1!==(a=(0,l.getOrientation)(e,e.host,-25)).indexOf("top")&&(r*=-1);i={x:n.right+o+t.width/2,y:i.y+(i=80,-1!=(a=a).indexOf("top")?-1*i:-1!=a.indexOf("bottom")?i:0)};return(0,c.findFreePosition)(e,t,i,(0,c.generateGetNextPosition)({y:{margin:r,minDistance:80}}))}function r(e,t){var n=(0,l.asTRBL)(e),n={x:n.right+t.width/2,y:n.top-50-t.height/2};return(0,c.findFreePosition)(e,t,n,(0,c.generateGetNextPosition)({y:{margin:-30,minDistance:20}}))}function a(e,t){var n=(0,l.asTRBL)(e),n={x:n.right-10+t.width/2,y:n.bottom+40+t.width/2};return(0,c.findFreePosition)(e,t,n,(0,c.generateGetNextPosition)({x:{margin:30,minDistance:30}}))}},{"../../util/ModelUtil":419,"../modeling/util/ModelingUtil":390,"diagram-js/lib/features/auto-place/AutoPlaceUtil":452,"diagram-js/lib/layout/LayoutUtil":589}],302:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/auto-place")),e=o(e("./BpmnAutoPlace"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",e.default]};n.default=e},{"./BpmnAutoPlace":300,"diagram-js/lib/features/auto-place":453}],303:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=r(e("diagram-js/lib/features/auto-resize/AutoResize")),n=r(e("inherits")),o=e("../../util/ModelUtil");function r(e){return e&&e.__esModule?e:{default:e}}function a(e){e.invoke(i.default,this)}a.$inject=["injector"],(0,n.default)(a,i.default),a.prototype.resize=function(e,t,n){(0,o.is)(e,"bpmn:Participant")?this._modeling.resizeLane(e,t,null,n):this._modeling.resizeShape(e,t,null,n)}},{"../../util/ModelUtil":419,"diagram-js/lib/features/auto-resize/AutoResize":454,inherits:623}],304:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i=e("../../util/ModelUtil"),n=a(e("inherits")),o=e("min-dash"),r=a(e("diagram-js/lib/features/auto-resize/AutoResizeProvider"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){r.default.call(this,e),this._modeling=t}(0,n.default)(s,r.default),s.$inject=["eventBus","modeling"],s.prototype.canResize=function(e,t){if(!(0,i.is)(t,"bpmn:Participant")&&!(0,i.is)(t,"bpmn:Lane")&&!(0,i.is)(t,"bpmn:SubProcess"))return!1;var n=!0;return(0,o.forEach)(e,function(e){((0,i.is)(e,"bpmn:Lane")||e.labelTarget)&&(n=!1)}),n}},{"../../util/ModelUtil":419,"diagram-js/lib/features/auto-resize/AutoResizeProvider":455,inherits:623,"min-dash":834}],305:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./BpmnAutoResize")),e=o(e("./BpmnAutoResizeProvider"));function o(e){return e&&e.__esModule?e:{default:e}}e={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",i.default],bpmnAutoResizeProvider:["type",e.default]};n.default=e},{"./BpmnAutoResize":303,"./BpmnAutoResizeProvider":304}],306:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var v=e("min-dash"),y=e("../../util/ModelUtil"),b=e("../../util/DiUtil"),x=e("../modeling/util/ModelingUtil"),w=e("../modeling/util/LaneUtil"),p=e("diagram-js/lib/util/Mouse");function i(e,t,n,i,o,r,a,s,l,c,u,d){e=e||{},i.registerProvider(this),this._contextPad=i,this._modeling=o,this._elementFactory=r,this._connect=a,this._create=s,this._popupMenu=l,this._canvas=c,this._rules=u,this._translate=d,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,function(e){var t,n=e.context.shape;(0,p.hasPrimaryModifier)(e)&&i.isOpen(n)&&((t=i.getEntries(n)).replace&&t.replace.action.click(e,n))})}function k(e,t,n){var t=e.$instanceOf(t),i=!1,e=e.eventDefinitions||[];return(0,v.forEach)(e,function(e){e.$type===n&&(i=!0)}),t&&i}i.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],i.prototype.getContextPadEntries=function(t){var r=this._contextPad,i=this._modeling,a=this._elementFactory,n=this._connect,s=this._create,l=this._popupMenu,c=this._canvas,e=this._rules,u=this._autoPlace,d=this._translate,o={};if("label"===t.type)return o;var p,h=t.businessObject;function f(e,t){n.start(e,t)}function m(i,e,t,o){function n(e,t){var n=a.createShape((0,v.assign)({type:i},o));s.start(e,n,{source:t})}return"string"!=typeof t&&(o=t,t=d("Append {type}",{type:i.replace(/^bpmn:/,"")})),{group:"model",className:e,title:t,action:{dragstart:n,click:u?function(e,t){var n=a.createShape((0,v.assign)({type:i},o));u.append(t,n)}:n}}}function g(n){return function(e,t){i.splitLane(t,n),r.open(t,!0)}}(0,x.isAny)(h,["bpmn:Lane","bpmn:Participant"])&&(0,b.isExpanded)(h)&&(p=(0,w.getChildLanes)(t),(0,v.assign)(o,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:d("Add Lane above"),action:{click:function(e,t){i.addLane(t,"top")}}}}),p.length<2&&(120<=t.height&&(0,v.assign)(o,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:d("Divide into two Lanes"),action:{click:g(2)}}}),180<=t.height&&(0,v.assign)(o,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:d("Divide into three Lanes"),action:{click:g(3)}}})),(0,v.assign)(o,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:d("Add Lane below"),action:{click:function(e,t){i.addLane(t,"bottom")}}}})),(0,y.is)(h,"bpmn:FlowNode")&&((0,y.is)(h,"bpmn:EventBasedGateway")?(0,v.assign)(o,{"append.receive-task":m("bpmn:ReceiveTask","bpmn-icon-receive-task",d("Append ReceiveTask")),"append.message-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",d("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",d("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",d("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",d("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):k(h,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?(0,v.assign)(o,{"append.compensation-activity":m("bpmn:Task","bpmn-icon-task",d("Append compensation activity"),{isForCompensation:!0})}):(0,y.is)(h,"bpmn:EndEvent")||h.isForCompensation||k(h,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||(0,b.isEventSubProcess)(h)||(0,v.assign)(o,{"append.end-event":m("bpmn:EndEvent","bpmn-icon-end-event-none",d("Append EndEvent")),"append.gateway":m("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",d("Append Gateway")),"append.append-task":m("bpmn:Task","bpmn-icon-task",d("Append Task")),"append.intermediate-event":m("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",d("Append Intermediate/Boundary Event"))})),l.isEmpty(t,"bpmn-replace")||(0,v.assign)(o,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:d("Change type"),action:{click:function(e,t){var n,i,o,e=(0,v.assign)((n=t,i=c.getContainer(),o=r.getPad(n).html,n=i.getBoundingClientRect(),o=(i=o.getBoundingClientRect()).top-n.top,{x:i.left-n.left,y:o+i.height+5}),{cursor:{x:e.x,y:e.y}});l.open(t,"bpmn-replace",e)}}}}),(0,x.isAny)(h,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,v.assign)(o,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:d("Connect using "+(h.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:f,dragstart:f}}}),(0,y.is)(h,"bpmn:TextAnnotation")&&(0,v.assign)(o,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:d("Connect using Association"),action:{click:f,dragstart:f}}}),(0,x.isAny)(h,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,v.assign)(o,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:d("Connect using DataInputAssociation"),action:{click:f,dragstart:f}}}),(0,y.is)(h,"bpmn:Group")&&(0,v.assign)(o,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation")});e=e.allowed("elements.delete",{elements:[t]});return(e=(0,v.isArray)(e)?e[0]===t:e)&&(0,v.assign)(o,{delete:{group:"edit",className:"bpmn-icon-trash",title:d("Remove"),action:{click:function(e){i.removeElements([t])}}}}),o}},{"../../util/DiUtil":417,"../../util/ModelUtil":419,"../modeling/util/LaneUtil":389,"../modeling/util/ModelingUtil":390,"diagram-js/lib/util/Mouse":612,"min-dash":834}],307:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=c(e("diagram-js-direct-editing")),o=c(e("diagram-js/lib/features/context-pad")),r=c(e("diagram-js/lib/features/selection")),a=c(e("diagram-js/lib/features/connect")),s=c(e("diagram-js/lib/features/create")),l=c(e("../popup-menu")),e=c(e("./ContextPadProvider"));function c(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default,a.default,s.default,l.default],__init__:["contextPadProvider"],contextPadProvider:["type",e.default]};n.default=e},{"../popup-menu":396,"./ContextPadProvider":306,"diagram-js-direct-editing":428,"diagram-js/lib/features/connect":471,"diagram-js/lib/features/context-pad":475,"diagram-js/lib/features/create":480,"diagram-js/lib/features/selection":567}],308:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var u=e("../../util/ModelUtil"),d=e("min-dash");function p(t,n,e){(0,d.isArray)(e)||(e=[e]),(0,d.forEach)(e,function(e){(0,d.isUndefined)(t[e])||(n[e]=t[e])})}var i=750;function o(s,e,l){var c;e.on("copyPaste.copyElement",i,function(e){var t=e.descriptor,n=e.element,e=t.oldBusinessObject=(0,u.getBusinessObject)(n);if(t.type=n.type,p(e,t,"name"),t.di={},p(e.di,t.di,["fill","stroke","background-color","border-color","color"]),p(e.di,t,"isExpanded"),h(t))return t;e.default&&(t.default=e.default.id)}),e.on("moddleCopy.canCopyProperty",function(e){var t=e.parent,n=e.property;if("processRef"===e.propertyName&&(0,u.is)(t,"bpmn:Participant")&&(0,u.is)(n,"bpmn:Process"))return t=s.create("bpmn:Process"),l.copyElement(n,t)}),e.on("copyPaste.pasteElements",function(){c={}}),e.on("copyPaste.pasteElement",function(e){var o,r,t,n=e.cache,i=e.descriptor,a=i.oldBusinessObject;h(i)?i.businessObject=(0,u.getBusinessObject)(n[i.labelTarget]):(e=s.create(a.$type),i.businessObject=l.copyElement(a,e),o=i,n=n,r=(0,u.getBusinessObject)(o),o.default&&(c[o.default]={element:r,property:"default"}),o.host&&((0,u.getBusinessObject)(o).attachedToRef=(0,u.getBusinessObject)(n[o.host])),c=(0,d.omit)(c,(0,d.reduce)(c,function(e,t,n){var i=t.element,t=t.property;return n===o.id&&(i[t]=r,e.push(o.id)),e},[])),p(i,e,["isExpanded","name"]),t=i,i="oldBusinessObject",(0,d.isArray)(i)||(i=[i]),(0,d.forEach)(i,function(e){t[e]&&delete t[e]}))})}function h(e){return e.labelTarget}o.$inject=["bpmnFactory","eventBus","moddleCopy"]},{"../../util/ModelUtil":419,"min-dash":834}],309:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o,n.getPropertyNames=r;var a=e("min-dash"),i=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing"];function o(e,t,n){this._bpmnFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",function(e){e=e.propertyNames;if(e&&e.length)return(0,a.sortBy)(e,function(e){return"extensionElements"===e})}),e.on("moddleCopy.canCopyProperty",function(e){var t=e.parent,t=(0,a.isObject)(t)&&t.$descriptor,e=e.propertyName;return(!e||-1===i.indexOf(e))&&(!(e&&t&&!(0,a.find)(t.properties,(0,a.matchPattern)({name:e})))&&void 0)}),e.on("moddleCopy.canSetCopiedProperty",function(e){var t,n=e.property;if(t="bpmn:ExtensionElements",(e=n)&&"function"==typeof e.$instanceOf&&e.$instanceOf(t)&&(!n.values||!n.values.length))return!1})}function r(e,n){return(0,a.reduce)(e.properties,function(e,t){return n&&t.default?e:e.concat(t.name)},[])}o.$inject=["eventBus","bpmnFactory","moddle"],o.prototype.copyElement=function(n,i,e){var o=this;e=(e=e&&!(0,a.isArray)(e)?[e]:e)||r(n.$descriptor);var t=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:e,sourceElement:n,targetElement:i});return!1===t||((0,a.isArray)(t)&&(e=t),(0,a.forEach)(e,function(e){(0,a.has)(n,e)&&(t=n.get(e));var t=o.copyProperty(t,i,e);!1!==o._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:i,property:t,propertyName:e})&&(0,a.isDefined)(t)&&i.set(e,t)})),i},o.prototype.copyProperty=function(e,n,i){var o=this,r=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:n,property:e,propertyName:i});if(!1!==r){if(r)return(0,a.isObject)(r)&&r.$type&&!r.$parent&&(r.$parent=n),r;var t=this._moddle.getPropertyDescriptor(n,i);return t.isId||t.isReference?void 0:(0,a.isArray)(e)?(0,a.reduce)(e,function(e,t){return(r=o.copyProperty(t,n,i))?(r.$parent=n,e.concat(r)):e},[]):(0,a.isObject)(e)&&e.$type?this._moddle.getElementDescriptor(e).isGeneric?void 0:((r=o._bpmnFactory.create(e.$type)).$parent=n,r=o.copyElement(e,r)):e}}},{"min-dash":834}],310:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("diagram-js/lib/features/copy-paste")),o=r(e("./BpmnCopyPaste")),e=r(e("./ModdleCopy"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",o.default],moddleCopy:["type",e.default]};n.default=e},{"./BpmnCopyPaste":308,"./ModdleCopy":309,"diagram-js/lib/features/copy-paste":477}],311:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("../../draw/BpmnRenderUtil"),r=e("../../util/ModelUtil"),a=e("min-dash"),s=e("diagram-js/lib/util/Elements"),l=2e3;function i(e,i){e.on("saveXML.start",l,function(){var e,t=i.getRootElement(),n=(0,r.getBusinessObject)(t).di;e=(0,s.selfAndAllChildren)([t],!1),e=(0,a.filter)(e,function(e){return e!==t&&!e.labelTarget}),e=(0,a.map)(e,o.getDi),n.set("planeElement",e)})}i.$inject=["eventBus","canvas"]},{"../../draw/BpmnRenderUtil":295,"../../util/ModelUtil":419,"diagram-js/lib/util/Elements":604,"min-dash":834}],312:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",((i=e("../di-ordering/BpmnDiOrdering"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"../di-ordering/BpmnDiOrdering":311}],313:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("min-dash"),o=e("../modeling/util/ModelingUtil");function r(e){e.registerFilter(function(e){return(0,i.filter)(e,function(e){var t=(0,o.isAny)(e,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:Participant","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(e.labelTarget||t)})})}r.$inject=["distributeElements"]},{"../modeling/util/ModelingUtil":390,"min-dash":834}],314:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/distribute-elements")),e=o(e("./BpmnDistributeElements"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["bpmnDistributeElements"],bpmnDistributeElements:["type",e.default]};n.default=e},{"./BpmnDistributeElements":313,"diagram-js/lib/features/distribute-elements":482}],315:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),h=i(e("diagram-js/lib/features/editor-actions/EditorActions")),f=e("min-dash"),m=e("../../util/ModelUtil"),g=e("diagram-js/lib/util/Elements");function i(e){return e&&e.__esModule?e:{default:e}}function o(e){e.invoke(h.default,this)}(0,n.default)(o,h.default),o.$inject=["injector"],o.prototype._registerDefaultActions=function(e){h.default.prototype._registerDefaultActions.call(this,e);var i=e.get("canvas",!1),o=e.get("elementRegistry",!1),r=e.get("selection",!1),t=e.get("spaceTool",!1),n=e.get("lassoTool",!1),a=e.get("handTool",!1),s=e.get("globalConnect",!1),l=e.get("distributeElements",!1),c=e.get("alignElements",!1),u=e.get("directEditing",!1),d=e.get("searchPad",!1),p=e.get("modeling",!1);i&&o&&r&&this._registerAction("selectElements",function(){var t=i.getRootElement(),e=o.filter(function(e){return e!==t});return r.select(e),e}),t&&this._registerAction("spaceTool",function(){t.toggle()}),n&&this._registerAction("lassoTool",function(){n.toggle()}),a&&this._registerAction("handTool",function(){a.toggle()}),s&&this._registerAction("globalConnectTool",function(){s.toggle()}),r&&l&&this._registerAction("distributeElements",function(e){var t=r.get(),e=e.type;t.length&&l.trigger(t,e)}),r&&c&&this._registerAction("alignElements",function(e){var t,n=r.get(),e=e.type;n.length&&(t=(0,f.filter)(n,function(e){return!(0,m.is)(e,"bpmn:Lane")}),c.trigger(t,e))}),r&&p&&this._registerAction("setColor",function(e){var t=r.get();t.length&&p.setColor(t,e)}),r&&u&&this._registerAction("directEditing",function(){var e=r.get();e.length&&u.activate(e[0])}),d&&this._registerAction("find",function(){d.toggle()}),i&&p&&this._registerAction("moveToOrigin",function(){var t=i.getRootElement(),e=(0,m.is)(t,"bpmn:Collaboration")?o.filter(function(e){return(0,m.is)(e.parent,"bpmn:Collaboration")}):o.filter(function(e){return e!==t&&!(0,m.is)(e.parent,"bpmn:SubProcess")}),n=(0,g.getBBox)(e);p.moveElements(e,{x:-n.x,y:-n.y},t)})}},{"../../util/ModelUtil":419,"diagram-js/lib/features/editor-actions/EditorActions":485,"diagram-js/lib/util/Elements":604,inherits:623,"min-dash":834}],316:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/editor-actions")),e=o(e("./BpmnEditorActions"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],editorActions:["type",e.default]};n.default=e},{"./BpmnEditorActions":315,"diagram-js/lib/features/editor-actions":486}],317:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("../modeling/util/ModelingUtil");function o(e){e.on(["create.init","shape.move.init"],function(e){var t=e.context,e=e.shape;(0,i.isAny)(e,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(t.gridSnappingContext||(t.gridSnappingContext={}),t.gridSnappingContext.snapLocation="top-left")})}o.$inject=["eventBus"]},{"../modeling/util/ModelingUtil":390}],318:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var a=e("../../auto-place/BpmnAutoPlaceUtil"),s=e("diagram-js/lib/layout/LayoutUtil"),l=e("../../../util/ModelUtil"),i=2e3;function o(e,r){e.on("autoPlace",i,function(e){var t=e.source,n=(0,s.getMid)(t),i=e.shape,o=(0,a.getNewShapePosition)(t,i);return["x","y"].forEach(function(e){var t={};o[e]!==n[e]&&(o[e]>n[e]?t.min=o[e]:t.max=o[e],(0,l.is)(i,"bpmn:TextAnnotation")&&(t.offset="x"===e?-i.width/2:-i.height/2),o[e]=r.snapValue(o[e],t))}),o})}o.$inject=["eventBus","gridSnapping"]},{"../../../util/ModelUtil":419,"../../auto-place/BpmnAutoPlaceUtil":301,"diagram-js/lib/layout/LayoutUtil":589}],319:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var r=e("../../../util/ModelUtil"),a=1750;function i(i,e,o){e.on(["create.start","shape.move.start"],a,function(e){var t=e.context,n=t.shape,e=i.getRootElement();(0,r.is)(n,"bpmn:Participant")&&(0,r.is)(e,"bpmn:Process")&&e.children.length&&t.createConstraints&&(n.width=o.snapValue(n.width,{min:n.width}),n.height=o.snapValue(n.height,{min:n.height}))})}i.$inject=["canvas","eventBus","gridSnapping"]},{"../../../util/ModelUtil":419}],320:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),r=i(e("diagram-js/lib/command/CommandInterceptor")),a=e("diagram-js/lib/util/Geometry"),s=e("min-dash");function i(e){return e&&e.__esModule?e:{default:e}}var l=3e3;function o(e,t,i){r.default.call(this,e),this._gridSnapping=t;var o=this;this.postExecuted(["connection.create","connection.layout"],l,function(e){var t=e.context,n=t.connection,e=t.hints||{},t=n.waypoints;e.connectionStart||e.connectionEnd||!1===e.createElementsBehavior||3<t.length&&i.updateWaypoints(n,o.snapMiddleSegments(t))})}o.$inject=["eventBus","gridSnapping","modeling"],(0,n.default)(o,r.default),o.prototype.snapMiddleSegments=function(e){var t,n=this._gridSnapping;e=e.slice();for(var i=1;i<e.length-2;i++)t=function(e,t,n){var i=(0,a.pointsAligned)(t,n),o={};"h"===i&&(o.y=e.snapValue(t.y));"v"===i&&(o.x=e.snapValue(t.x));("x"in o||"y"in o)&&(t=(0,s.assign)({},t,o),n=(0,s.assign)({},n,o));return[t,n]}(n,e[i],e[i+1]),e[i]=t[0],e[i+1]=t[1];return e}},{"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/util/Geometry":607,inherits:623,"min-dash":834}],321:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./AutoPlaceBehavior")),o=r(e("./CreateParticipantBehavior")),e=r(e("./LayoutConnectionBehavior"));function r(e){return e&&e.__esModule?e:{default:e}}e={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingCreateParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",i.default],gridSnappingCreateParticipantBehavior:["type",o.default],gridSnappingLayoutConnectionBehavior:["type",e.default]};n.default=e},{"./AutoPlaceBehavior":318,"./CreateParticipantBehavior":319,"./LayoutConnectionBehavior":320}],322:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./BpmnGridSnapping")),o=r(e("diagram-js/lib/features/grid-snapping")),e=r(e("./behavior"));function r(e){return e&&e.__esModule?e:{default:e}}i={__depends__:[o.default,e.default],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",i.default]};n.default=i},{"./BpmnGridSnapping":317,"./behavior":321,"diagram-js/lib/features/grid-snapping":494}],323:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("../../util/ModelUtil"),o=e("../../util/DiUtil");function r(e,t){this._interactionEvents=t;var n=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(e){var t=e.element,e=e.gfx;return(0,i.is)(t,"bpmn:Lane")?n.createParticipantHit(t,e):(0,i.is)(t,"bpmn:Participant")?(0,o.isExpanded)(t)?n.createParticipantHit(t,e):n.createDefaultHit(t,e):(0,i.is)(t,"bpmn:SubProcess")?(0,o.isExpanded)(t)?n.createSubProcessHit(t,e):n.createDefaultHit(t,e):void 0})}r.$inject=["eventBus","interactionEvents"],r.prototype.createDefaultHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(e,t),!0},r.prototype.createParticipantHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:30,height:e.height}),!0},r.prototype.createSubProcessHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:e.width,height:30}),!0}},{"../../util/DiUtil":417,"../../util/ModelUtil":419}],324:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",((i=e("./BpmnInteractionEvents"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./BpmnInteractionEvents":323}],325:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=i(e("inherits")),o=i(e("diagram-js/lib/features/keyboard/KeyboardBindings"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){e.invoke(o.default,this)}(0,n.default)(r,o.default),r.$inject=["injector"],r.prototype.registerBindings=function(n,i){function e(e,t){i.isRegistered(e)&&n.addListener(t)}o.default.prototype.registerBindings.call(this,n,i),e("selectElements",function(e){e=e.keyEvent;if(n.isKey(["a","A"],e)&&n.isCmd(e))return i.trigger("selectElements"),!0}),e("find",function(e){e=e.keyEvent;if(n.isKey(["f","F"],e)&&n.isCmd(e))return i.trigger("find"),!0}),e("spaceTool",function(e){e=e.keyEvent;if(!n.hasModifier(e))return n.isKey(["s","S"],e)?(i.trigger("spaceTool"),!0):void 0}),e("lassoTool",function(e){e=e.keyEvent;if(!n.hasModifier(e))return n.isKey(["l","L"],e)?(i.trigger("lassoTool"),!0):void 0}),e("handTool",function(e){e=e.keyEvent;if(!n.hasModifier(e))return n.isKey(["h","H"],e)?(i.trigger("handTool"),!0):void 0}),e("globalConnectTool",function(e){e=e.keyEvent;if(!n.hasModifier(e))return n.isKey(["c","C"],e)?(i.trigger("globalConnectTool"),!0):void 0}),e("directEditing",function(e){e=e.keyEvent;if(!n.hasModifier(e))return n.isKey(["e","E"],e)?(i.trigger("directEditing"),!0):void 0})}},{"diagram-js/lib/features/keyboard/KeyboardBindings":504,inherits:623}],326:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/keyboard")),e=o(e("./BpmnKeyboardBindings"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["keyboardBindings"],keyboardBindings:["type",e.default]};n.default=e},{"./BpmnKeyboardBindings":325,"diagram-js/lib/features/keyboard":506}],327:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var u=e("tiny-svg"),d=e("../../util/ModelUtil"),p=e("diagram-js/lib/util/SvgTransformUtil"),h="djs-element-hidden",f="djs-label-hidden";function i(e,i,t,o){var r,a,s,l=this,c=i.getDefaultLayer();e.on("directEditing.activate",function(e){var t,n=e.active;r=n.element.label||n.element,(0,d.is)(r,"bpmn:TextAnnotation")&&(a=i.getAbsoluteBBox(r),s=(0,u.create)("g"),e=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:0,my:0}}),n=l.path=(0,u.create)("path"),(0,u.attr)(n,{d:e,strokeWidth:2,stroke:(e=r,(0,d.getBusinessObject)(e).di.get("stroke")||t||"black")}),(0,u.append)(s,n),(0,u.append)(c,s),(0,p.translate)(s,r.x,r.y)),(0,d.is)(r,"bpmn:TextAnnotation")||r.labelTarget?i.addMarker(r,h):((0,d.is)(r,"bpmn:Task")||(0,d.is)(r,"bpmn:CallActivity")||(0,d.is)(r,"bpmn:SubProcess")||(0,d.is)(r,"bpmn:Participant"))&&i.addMarker(r,f)}),e.on("directEditing.resize",function(e){var t;(0,d.is)(r,"bpmn:TextAnnotation")&&(t=e.height,e=e.dy,e=Math.max(r.height/a.height*(t+e),0),e=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:e,position:{mx:0,my:0}}),(0,u.attr)(l.path,{d:e}))}),e.on(["directEditing.complete","directEditing.cancel"],function(e){e=e.active;e&&(i.removeMarker(e.element.label||e.element,h),i.removeMarker(r,f)),a=r=void 0,s&&((0,u.remove)(s),s=void 0)})}i.$inject=["eventBus","canvas","elementRegistry","pathMap"]},{"../../util/ModelUtil":419,"diagram-js/lib/util/SvgTransformUtil":617,"tiny-svg":851}],328:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var m=e("min-dash"),i=e("./LabelUtil"),g=e("../../util/ModelUtil"),a=e("../modeling/behavior/util/CategoryUtil"),v=e("../modeling/util/ModelingUtil"),y=e("../../util/DiUtil"),b=e("../../util/LabelUtil");function o(e,t,n,i,o,r,a){function s(e,t){(t||(0,v.isAny)(e,["bpmn:Task","bpmn:TextAnnotation","bpmn:Group"])||x(e))&&i.activate(e)}this._bpmnFactory=t,this._canvas=n,this._modeling=o,this._textRenderer=a,i.registerProvider(this),e.on("element.dblclick",function(e){s(e.element,!0)}),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],function(e){i.isActive()&&i.complete()}),e.on(["commandStack.changed"],function(e){i.isActive()&&i.cancel()}),e.on("directEditing.activate",function(e){r.removeResizers()}),e.on("create.end",500,function(e){var t=e.context,n=t.shape,i=e.context.canExecute;e.isTouch||i&&(t.hints&&!1===t.hints.createElementsBehavior||s(n))}),e.on("autoPlace.end",500,function(e){s(e.shape)})}function x(e){return(0,g.is)(e,"bpmn:SubProcess")&&!(0,y.isExpanded)(e)}o.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],o.prototype.activate=function(e){var t=(0,i.getLabel)(e);if(void 0!==t){var n={text:t},t=this.getEditingBBox(e);(0,m.assign)(n,t);t={};return((0,v.isAny)(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||x(e))&&(0,m.assign)(t,{centerVertically:!0}),(0,b.isLabelExternal)(e)&&(0,m.assign)(t,{autoResize:!0}),(0,g.is)(e,"bpmn:TextAnnotation")&&(0,m.assign)(t,{resizable:!0,autoResize:!0}),(0,m.assign)(n,{options:t}),n}},o.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,i=t.getAbsoluteBBox(n),o=i.x+i.width/2,r=i.y+i.height/2,a={x:i.x,y:i.y},s=t.zoom(),l=this._textRenderer.getDefaultStyle(),c=this._textRenderer.getExternalStyle(),u=c.fontSize*s,d=c.lineHeight,p=l.fontSize*s,c=l.lineHeight,l={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};((0,g.is)(e,"bpmn:Lane")||(f=e,(0,g.is)(f,"bpmn:Participant")&&(0,y.isExpanded)(f)))&&((0,m.assign)(a,{width:i.height,height:30*s,x:i.x-i.height/2+15*s,y:r-30*s/2}),(0,m.assign)(l,{fontSize:p+"px",lineHeight:c,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:"rotate(-90deg)"})),((0,v.isAny)(e,["bpmn:Task","bpmn:CallActivity"])||(h=e,(0,g.is)(h,"bpmn:Participant")&&!(0,y.isExpanded)(h))||x(e))&&((0,m.assign)(a,{width:i.width,height:i.height}),(0,m.assign)(l,{fontSize:p+"px",lineHeight:c,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"})),f=e,(0,g.is)(f,"bpmn:SubProcess")&&(0,y.isExpanded)(f)&&((0,m.assign)(a,{width:i.width,x:i.x}),(0,m.assign)(l,{fontSize:p+"px",lineHeight:c,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"}));var r=90*s,h=7*s,f=4*s;return n.labelTarget&&((0,m.assign)(a,{width:r,height:i.height+h+f,x:o-r/2,y:i.y-h}),(0,m.assign)(l,{fontSize:u+"px",lineHeight:d,paddingTop:h+"px",paddingBottom:f+"px"})),!(0,b.isLabelExternal)(n)||(0,b.hasExternalLabel)(n)||(0,b.isLabel)(n)||(n=(0,b.getExternalLabelMid)(e),t=t.getAbsoluteBBox({x:n.x,y:n.y,width:0,height:0}),(0,m.assign)(a,{width:r,height:n=u+h+f,x:t.x-r/2,y:t.y-n/2}),(0,m.assign)(l,{fontSize:u+"px",lineHeight:d,paddingTop:h+"px",paddingBottom:f+"px"})),(0,g.is)(e,"bpmn:TextAnnotation")&&((0,m.assign)(a,{width:i.width,height:i.height,minWidth:30*s,minHeight:10*s}),(0,m.assign)(l,{textAlign:"left",paddingTop:5*s+"px",paddingBottom:7*s+"px",paddingLeft:7*s+"px",paddingRight:5*s+"px",fontSize:p+"px",lineHeight:c})),{bounds:a,style:l}},o.prototype.update=function(e,t,n,i){var o,r;(0,g.is)(e,"bpmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(e),o={x:e.x,y:e.y,width:e.width/o.width*i.width,height:e.height/o.height*i.height}),(0,g.is)(e,"bpmn:Group")&&((0,g.getBusinessObject)(e).categoryValueRef||(r=this._canvas.getRootElement(),r=(0,g.getBusinessObject)(r).$parent,r=(0,a.createCategoryValue)(r,this._bpmnFactory),(0,g.getBusinessObject)(e).categoryValueRef=r)),(r=t)&&r.trim()||(t=null),this._modeling.updateLabel(e,t,o)}},{"../../util/DiUtil":417,"../../util/LabelUtil":418,"../../util/ModelUtil":419,"../modeling/behavior/util/CategoryUtil":372,"../modeling/util/ModelingUtil":390,"./LabelUtil":329,"min-dash":834}],329:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLabel=function(e){var t=e.businessObject,e=r(t);if(e)return"categoryValueRef"===e?function(e){e=e.categoryValueRef;return e&&e.value||""}(t):t[e]||""},n.setLabel=function(e,t,n){var i=e.businessObject,o=r(i);o&&("categoryValueRef"===o?i.categoryValueRef.value=t:i[o]=t);return e};var i=e("../../util/ModelUtil");function r(e){return(0,i.is)(e,"bpmn:FlowElement")||(0,i.is)(e,"bpmn:Participant")||(0,i.is)(e,"bpmn:Lane")||(0,i.is)(e,"bpmn:SequenceFlow")||(0,i.is)(e,"bpmn:MessageFlow")||(0,i.is)(e,"bpmn:DataInput")||(0,i.is)(e,"bpmn:DataOutput")?"name":(0,i.is)(e,"bpmn:TextAnnotation")?"text":(0,i.is)(e,"bpmn:Group")?"categoryValueRef":void 0}},{"../../util/ModelUtil":419}],330:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("../LabelUtil"),s=e("../../../util/LabelUtil"),l=e("../../../util/ModelUtil"),c={width:0,height:0};function i(o,r){function t(e,t){var n=e.label||e,e=e.labelTarget||e;return(0,a.setLabel)(n,t,e!==n),[n,e]}this.preExecute=function(e){var t=e.element,n=t.businessObject,e=e.newLabel;(0,s.isLabel)(t)||!(0,s.isLabelExternal)(t)||(0,s.hasExternalLabel)(t)||u(e)||(e={x:(e=(0,s.getExternalLabelMid)(t)).x,y:e.y+7},o.createLabel(t,e,{id:n.id+"_label",businessObject:n}))},this.execute=function(e){return e.oldLabel=(0,a.getLabel)(e.element),t(e.element,e.newLabel)},this.revert=function(e){return t(e.element,e.oldLabel)},this.postExecute=function(e){var t=(i=e.element).label||i,n=e.newLabel,i=e.newBounds,e=e.hints||{};((0,s.isLabel)(t)||(0,l.is)(t,"bpmn:TextAnnotation"))&&((0,s.isLabel)(t)&&u(n)?!1!==e.removeShape&&o.removeShape(t,{unsetLabel:!1}):(e=(0,a.getLabel)(t),(i=void 0===i?r.getExternalLabelBounds(t,e):i)&&o.resizeShape(t,i,c)))}}function u(e){return!e||!e.trim()}i.$inject=["modeling","textRenderer"]},{"../../../util/LabelUtil":418,"../../../util/ModelUtil":419,"../LabelUtil":329}],331:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("diagram-js/lib/features/change-support")),o=s(e("diagram-js/lib/features/resize")),r=s(e("diagram-js-direct-editing")),a=s(e("./LabelEditingProvider")),e=s(e("./LabelEditingPreview"));function s(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",a.default],labelEditingPreview:["type",e.default]};n.default=e},{"./LabelEditingPreview":327,"./LabelEditingProvider":328,"diagram-js-direct-editing":428,"diagram-js/lib/features/change-support":466,"diagram-js/lib/features/resize":558}],332:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("min-dash"),o=e("./util/ModelingUtil"),r=e("../../util/ModelUtil");function a(e){this._model=e}a.$inject=["moddle"],a.prototype._needsId=function(e){return(0,o.isAny)(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},a.prototype._ensureId=function(e){var t=(0,r.is)(e,"bpmn:Activity")?"Activity":(0,r.is)(e,"bpmn:Event")?"Event":(0,r.is)(e,"bpmn:Gateway")?"Gateway":(0,o.isAny)(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(e.$type||"").replace(/^[^:]*:/g,"");t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},a.prototype.create=function(e,t){t=this._model.create(e,t||{});return this._ensureId(t),t},a.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},a.prototype.createDiShape=function(e,t,n){return this.create("bpmndi:BPMNShape",(0,i.assign)({bpmnElement:e,bounds:this.createDiBounds(t)},n))},a.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},a.prototype.createDiWaypoints=function(e){var t=this;return(0,i.map)(e,function(e){return t.createDiWaypoint(e)})},a.prototype.createDiWaypoint=function(e){return this.create("dc:Point",(0,i.pick)(e,["x","y"]))},a.prototype.createDiEdge=function(e,t,n){return this.create("bpmndi:BPMNEdge",(0,i.assign)({bpmnElement:e},n))},a.prototype.createDiPlane=function(e){return this.create("bpmndi:BPMNPlane",{bpmnElement:e})}},{"../../util/ModelUtil":419,"./util/ModelingUtil":390,"min-dash":834}],333:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i=r(e("inherits")),c=e("min-dash"),n=r(e("diagram-js/lib/layout/BaseLayouter")),u=e("diagram-js/lib/layout/ManhattanLayout"),d=e("diagram-js/lib/layout/LayoutUtil"),o=e("../../util/DiUtil"),p=e("../../util/ModelUtil");function r(e){return e&&e.__esModule?e:{default:e}}var h=-10,a=40,f={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},m={top:"t",right:"r",bottom:"b",left:"l"};function s(){}function g(e,t){return e?e.original||e:(0,d.getMid)(t)}function v(e,t){return(0,p.is)(t,"bpmn:Activity")&&(0,p.is)(e,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function y(e){return(0,p.is)(e,"bpmn:SubProcess")&&(0,o.isExpanded)(e)}function b(e){e=/right|left/.exec(e);return e&&e[0]}function x(e){e=/top|bottom/.exec(e);return e&&e[0]}function w(e){return"right"===e||"left"===e}function k(e,t,n,i){var o=a;return!(l(e,i,n,o)||l(e,i,{x:n.x+n.width,y:n.y+n.height},o)||l(e,i,(0,d.getMid)(t),o))}function l(e,t,n,i){return Math.abs(t[e]-n[e])<i}(0,i.default)(s,n.default),s.prototype.layoutConnection=function(e,t){var n,i,o=(t=t||{}).source||e.source,r=t.target||e.target,a=t.waypoints||e.waypoints,s=t.connectionStart,l=t.connectionEnd,s=s||g(a&&a[0],o),l=l||g(a&&a[a.length-1],r);return((0,p.is)(e,"bpmn:Association")||(0,p.is)(e,"bpmn:DataAssociation"))&&a&&!v(o,r)?[].concat([s],a.slice(1,-1),[l]):((0,p.is)(e,"bpmn:MessageFlow")?n={preferredLayouts:["straight","v:v"],preserveDocking:function(e,t){if((0,p.is)(t,"bpmn:Participant"))return"source";if((0,p.is)(e,"bpmn:Participant"))return"target";if(y(t))return"source";if(y(e))return"target";if((0,p.is)(t,"bpmn:Event"))return"target";if((0,p.is)(e,"bpmn:Event"))return"source";return null}(o,r)}:((0,p.is)(e,"bpmn:SequenceFlow")||v(o,r))&&(n=o===r?{preferredLayouts:function(e,t){t=t.waypoints,e=t&&t.length&&(0,d.getOrientation)(t[0],e);{if("top"===e)return["t:r"];if("right"===e)return["r:b"];if("left"===e)return["l:t"]}return["b:l"]}(o,e)}:(0,p.is)(o,"bpmn:BoundaryEvent")?{preferredLayouts:function(e,t,n){var i=(0,d.getMid)(e),o=(0,d.getMid)(t),r=function(e){var t=e.host;return(0,d.getOrientation)((0,d.getMid)(e),t,h)}(e),a=e.host===t,s=function(e,t){return-1!==t.indexOf(e)}(r,["top","right","bottom","left"]),i=(0,d.getOrientation)(o,i,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});if(a)return function(e,t,n,i,o){var r=t?e:x(e),r=m[r];o=t?w(e)?k("y",n,i,o)?"h":"b":k("x",n,i,o)?"v":"l":"v";return[r+":"+o]}(r,s,e,t,n);return n=function(e,t,n){if(n)return m[e];if(x(e)===x(t)||function(e,t){return f[e]===t}(b(e),b(t)))return m[x(e)];return m[b(e)]}(r,i,s),s=function(e,t,n){if(n)return w(e)?function(e,t){e=b(e),e=f[e];return-1!==t.indexOf(e)}(e,t)||e===t?"h":"v":function(e,t){e=x(e),e=f[e];return-1!==t.indexOf(e)}(e,t)||e===t?"v":"h";return w(t)||x(e)===x(t)&&b(t)?"h":"v"}(r,i,s),[n+":"+s]}(o,r,l)}:y(o)||y(r)?{preferredLayouts:["straight","h:h"],preserveDocking:function(e){return y(e)?"target":"source"}(o)}:(0,p.is)(o,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:(0,p.is)(r,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),n&&(n=(0,c.assign)(n,t),i=(0,u.withoutRedundantPoints)((0,u.repairConnection)(o,r,s,l,a,n))),i||[s,l])}},{"../../util/DiUtil":417,"../../util/ModelUtil":419,"diagram-js/lib/layout/BaseLayouter":587,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/layout/ManhattanLayout":590,inherits:623,"min-dash":834}],334:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var u=e("min-dash"),n=i(e("inherits")),l=e("diagram-js/lib/util/Collections"),r=e("diagram-js/lib/model"),d=e("../../util/ModelUtil"),p=e("./util/ModelingUtil"),h=i(e("diagram-js/lib/command/CommandInterceptor"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,i){h.default.call(this,e),this._bpmnFactory=t,this._translate=i;var o=this;function r(e){e=e.context.oldRoot.children;(0,u.forEach)(e,function(e){(0,d.is)(e,"bpmn:BaseElement")&&o.updateParent(e)})}function a(e){e=e.context.shape;(0,d.is)(e,"bpmn:BaseElement")&&o.updateBounds(e)}function s(e){o.updateConnection(e.context)}function l(e){o.updateConnectionWaypoints(e.context.connection)}function c(e){o.updateAttachment(e.context)}this.executed(["connection.layout","connection.create"],function(e){var t=e.context,e=t.hints||{};t.cropped||!1===e.createElementsBehavior||((e=t.connection).waypoints=n.getCroppedWaypoints(e),t.cropped=!0)}),this.reverted(["connection.layout"],function(e){delete e.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],f(function(e){e=e.context,o.updateParent(e.shape||e.connection,e.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],f(function(e){var e=(t=e.context).shape||t.connection,t=t.parent||t.newParent;o.updateParent(e,t)})),this.executed(["canvas.updateRoot"],r),this.reverted(["canvas.updateRoot"],r),this.executed(["shape.move","shape.create","shape.resize"],f(function(e){"label"!==e.context.shape.type&&a(e)})),this.reverted(["shape.move","shape.create","shape.resize"],f(function(e){"label"!==e.context.shape.type&&a(e)})),e.on("shape.changed",function(e){"label"===e.element.type&&a({context:{shape:e.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],f(s)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],f(s)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],f(l)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],f(l)),this.executed("connection.reconnect",f(function(e){var t=e.context,n=t.connection,i=t.oldSource,o=t.newSource,r=(0,d.getBusinessObject)(n),e=(0,d.getBusinessObject)(i),n=(0,d.getBusinessObject)(o);r.conditionExpression&&!(0,p.isAny)(n,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(t.oldConditionExpression=r.conditionExpression,delete r.conditionExpression),i!==o&&e.default===r&&(t.oldDefault=e.default,delete e.default)})),this.reverted("connection.reconnect",f(function(e){var t=e.context,n=t.connection,i=t.oldSource,e=t.newSource,n=(0,d.getBusinessObject)(n),i=(0,d.getBusinessObject)(i),e=(0,d.getBusinessObject)(e);t.oldConditionExpression&&(n.conditionExpression=t.oldConditionExpression),t.oldDefault&&(i.default=t.oldDefault,delete e.default)})),this.executed(["element.updateAttachment"],f(c)),this.reverted(["element.updateAttachment"],f(c))}function f(n){return function(e){var t=e.context,t=t.shape||t.connection;(0,d.is)(t,"bpmn:BaseElement")&&n(e)}}(0,n.default)(o,h.default),o.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],o.prototype.updateAttachment=function(e){var t=e.shape,e=t.businessObject,t=t.host;e.attachedToRef=t&&t.businessObject},o.prototype.updateParent=function(e,t){var n,i,o;e instanceof r.Label||(0,d.is)(e,"bpmn:DataStoreReference")&&e.parent&&(0,d.is)(e.parent,"bpmn:Collaboration")||(o=e.parent,n=e.businessObject,o=(i=o&&o.businessObject)&&i.di,(0,d.is)(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(n,i,t&&t.businessObject),(0,d.is)(e,"bpmn:DataOutputAssociation")&&(i=e.source?e.source.businessObject:null),(0,d.is)(e,"bpmn:DataInputAssociation")&&(i=e.target?e.target.businessObject:null),this.updateSemanticParent(n,i),(0,d.is)(e,"bpmn:DataObjectReference")&&n.dataObjectRef&&this.updateSemanticParent(n.dataObjectRef,i),this.updateDiParent(n.di,o))},o.prototype.updateBounds=function(e){var t=e.businessObject.di,n=e instanceof r.Label?this._getLabel(t):t,t=n.bounds;t||(t=this._bpmnFactory.createDiBounds(),n.set("bounds",t)),(0,u.assign)(t,{x:e.x,y:e.y,width:e.width,height:e.height})},o.prototype.updateFlowNodeRefs=function(e,t,n){n!==t&&((0,d.is)(n,"bpmn:Lane")&&(n=n.get("flowNodeRef"),(0,l.remove)(n,e)),(0,d.is)(t,"bpmn:Lane")&&(t=t.get("flowNodeRef"),(0,l.add)(t,e)))},o.prototype.updateDiConnection=function(e,t,n){e.sourceElement&&e.sourceElement.bpmnElement!==t&&(e.sourceElement=t&&t.di),e.targetElement&&e.targetElement.bpmnElement!==n&&(e.targetElement=n&&n.di)},o.prototype.updateDiParent=function(e,t){var n;t&&!(0,d.is)(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t&&(n=(t||e.$parent).get("planeElement"),t?(n.push(e),e.$parent=t):((0,l.remove)(n,e),e.$parent=null))},o.prototype.getLaneSet=function(e){var t,n;return(0,d.is)(e,"bpmn:Lane")?(t=e.childLaneSet)||(t=this._bpmnFactory.create("bpmn:LaneSet"),(e.childLaneSet=t).$parent=e):(t=(n=(e=(0,d.is)(e,"bpmn:Participant")?e.processRef:e).get("laneSets"))[0])||((t=this._bpmnFactory.create("bpmn:LaneSet")).$parent=e,n.push(t)),t},o.prototype.updateSemanticParent=function(e,t,n){var i,o,r,a,s=this._translate;if(e.$parent!==t&&!(((0,d.is)(e,"bpmn:DataInput")||(0,d.is)(e,"bpmn:DataOutput"))&&"ioSpecification"in(t=(0,d.is)(t,"bpmn:Participant")&&"processRef"in t?t.processRef:t)&&t.ioSpecification===e.$parent)){if((0,d.is)(e,"bpmn:Lane"))t=t&&this.getLaneSet(t),i="lanes";else if((0,d.is)(e,"bpmn:FlowElement")){if(t)if((0,d.is)(t,"bpmn:Participant"))t=t.processRef;else if((0,d.is)(t,"bpmn:Lane"))for(;t=t.$parent.$parent,(0,d.is)(t,"bpmn:Lane"););i="flowElements"}else if((0,d.is)(e,"bpmn:Artifact")){for(;t&&!(0,d.is)(t,"bpmn:Process")&&!(0,d.is)(t,"bpmn:SubProcess")&&!(0,d.is)(t,"bpmn:Collaboration");){if((0,d.is)(t,"bpmn:Participant")){t=t.processRef;break}t=t.$parent}i="artifacts"}else(0,d.is)(e,"bpmn:MessageFlow")?i="messageFlows":(0,d.is)(e,"bpmn:Participant")?(i="participants",(o=e.processRef)&&(r=function(e){for(;e&&!(0,d.is)(e,"bpmn:Definitions");)e=e.$parent;return e}(e.$parent||t),e.$parent&&((0,l.remove)(r.get("rootElements"),o),o.$parent=null),t&&((0,l.add)(r.get("rootElements"),o),o.$parent=r))):(0,d.is)(e,"bpmn:DataOutputAssociation")?i="dataOutputAssociations":(0,d.is)(e,"bpmn:DataInputAssociation")&&(i="dataInputAssociations");if(!i)throw new Error(s("no parent for {element} in {parent}",{element:e.id,parent:t.id}));e.$parent&&(a=e.$parent.get(i),(0,l.remove)(a,e)),t?((a=t.get(i)).push(e),e.$parent=t):e.$parent=null,n&&(n=n.get(i),(0,l.remove)(a,e),t&&(n||t.set(i,n=[]),n.push(e)))}},o.prototype.updateConnectionWaypoints=function(e){e.businessObject.di.set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))},o.prototype.updateConnection=function(e){var t,n=e.connection,i=(0,d.getBusinessObject)(n),o=(0,d.getBusinessObject)(n.source),r=(0,d.getBusinessObject)(n.target);(0,d.is)(i,"bpmn:DataAssociation")?(0,d.is)(i,"bpmn:DataInputAssociation")?(i.get("sourceRef")[0]=o,t=e.parent||e.newParent||r,this.updateSemanticParent(i,r,t)):(0,d.is)(i,"bpmn:DataOutputAssociation")&&(t=e.parent||e.newParent||o,this.updateSemanticParent(i,o,t),i.targetRef=r):(t=(0,d.is)(i,"bpmn:SequenceFlow"),i.sourceRef!==o&&(t&&((0,l.remove)(i.sourceRef&&i.sourceRef.get("outgoing"),i),o&&o.get("outgoing")&&o.get("outgoing").push(i)),i.sourceRef=o),i.targetRef!==r&&(t&&((0,l.remove)(i.targetRef&&i.targetRef.get("incoming"),i),r&&r.get("incoming")&&r.get("incoming").push(i)),i.targetRef=r)),this.updateConnectionWaypoints(n),this.updateDiConnection(i.di,o,r)},o.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label}},{"../../util/ModelUtil":419,"./util/ModelingUtil":390,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/model":591,"diagram-js/lib/util/Collections":602,inherits:623,"min-dash":834}],335:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s=e("min-dash"),n=a(e("inherits")),l=e("../../util/ModelUtil"),i=e("../../util/DiUtil"),o=a(e("diagram-js/lib/core/ElementFactory")),r=e("../../util/LabelUtil");function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){o.default.call(this),this._bpmnFactory=e,this._moddle=t,this._translate=n}function u(e,t,n){e[n]=t[n],delete t[n]}(0,n.default)(c,o.default),c.$inject=["bpmnFactory","moddle","translate"],c.prototype.baseCreate=o.default.prototype.create,c.prototype.create=function(e,t){return"label"===e?this.baseCreate(e,(0,s.assign)({type:"label"},r.DEFAULT_LABEL_SIZE,t)):this.createBpmnElement(e,t)},c.prototype.createBpmnElement=function(e,t){var n,i,o,r=this._translate,a=(t=t||{}).businessObject;if(!a){if(!t.type)throw new Error(r("no shape type specified"));a=this._bpmnFactory.create(t.type)}return a.di||(a.di="root"===e?this._bpmnFactory.createDiPlane(a,[],{id:a.id+"_di"}):"connection"===e?this._bpmnFactory.createDiEdge(a,[],{id:a.id+"_di"}):this._bpmnFactory.createDiShape(a,{},{id:a.id+"_di"})),(t=(0,l.is)(a,"bpmn:Group")?(0,s.assign)({isFrame:!0},t):t).di&&((0,s.assign)(a.di,t.di),delete t.di),n=a,i=t,r=["processRef","isInterrupting","associationDirection","isForCompensation"],(0,s.forEach)(r,function(e){void 0!==i[e]&&u(n,i,e)}),t.isExpanded&&u(a.di,t,"isExpanded"),(0,l.is)(a,"bpmn:ExclusiveGateway")&&(a.di.isMarkerVisible=!0),t.eventDefinitionType&&(o=a.get("eventDefinitions")||[],r=this._bpmnFactory.create(t.eventDefinitionType,t.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===t.eventDefinitionType&&(r.condition=this._bpmnFactory.create("bpmn:FormalExpression")),o.push(r),(r.$parent=a).eventDefinitions=o,delete t.eventDefinitionType),o=this._getDefaultSize(a),t=(0,s.assign)({businessObject:a,id:a.id},o,t),this.baseCreate(e,t)},c.prototype._getDefaultSize=function(e){return(0,l.is)(e,"bpmn:SubProcess")?(0,i.isExpanded)(e)?{width:350,height:200}:{width:100,height:80}:(0,l.is)(e,"bpmn:Task")?{width:100,height:80}:(0,l.is)(e,"bpmn:Gateway")?{width:50,height:50}:(0,l.is)(e,"bpmn:Event")?{width:36,height:36}:(0,l.is)(e,"bpmn:Participant")?(0,i.isExpanded)(e)?{width:600,height:250}:{width:400,height:60}:(0,l.is)(e,"bpmn:Lane")?{width:400,height:100}:(0,l.is)(e,"bpmn:DataObjectReference")?{width:36,height:50}:(0,l.is)(e,"bpmn:DataStoreReference")?{width:50,height:50}:(0,l.is)(e,"bpmn:TextAnnotation")?{width:100,height:30}:(0,l.is)(e,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},c.prototype.createParticipantShape=function(e){return(0,s.isObject)(e)||(e={isExpanded:e}),!1!==(e=(0,s.assign)({type:"bpmn:Participant"},e||{})).isExpanded&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)}},{"../../util/DiUtil":417,"../../util/LabelUtil":418,"../../util/ModelUtil":419,"diagram-js/lib/core/ElementFactory":437,inherits:623,"min-dash":834}],336:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var n=f(e("inherits")),o=f(e("diagram-js/lib/features/modeling/Modeling")),i=f(e("./cmd/UpdateModdlePropertiesHandler")),r=f(e("./cmd/UpdatePropertiesHandler")),a=f(e("./cmd/UpdateCanvasRootHandler")),s=f(e("./cmd/AddLaneHandler")),l=f(e("./cmd/SplitLaneHandler")),c=f(e("./cmd/ResizeLaneHandler")),u=f(e("./cmd/UpdateFlowNodeRefsHandler")),d=f(e("./cmd/IdClaimHandler")),p=f(e("./cmd/SetColorHandler")),h=f(e("../label-editing/cmd/UpdateLabelHandler"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,i){o.default.call(this,e,t,n),this._bpmnRules=i}(0,n.default)(m,o.default),m.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],m.prototype.getHandlers=function(){var e=o.default.prototype.getHandlers.call(this);return e["element.updateModdleProperties"]=i.default,e["element.updateProperties"]=r.default,e["canvas.updateRoot"]=a.default,e["lane.add"]=s.default,e["lane.resize"]=c.default,e["lane.split"]=l.default,e["lane.updateRefs"]=u.default,e["id.updateClaim"]=d.default,e["element.setColor"]=p.default,e["element.updateLabel"]=h.default,e},m.prototype.updateLabel=function(e,t,n,i){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:i||{}})},m.prototype.connect=function(e,t,n,i){var o=this._bpmnRules;if(n=n||o.canConnect(e,t))return this.createConnection(e,t,n,e.parent,i)},m.prototype.updateModdleProperties=function(e,t,n){this._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:t,properties:n})},m.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},m.prototype.resizeLane=function(e,t,n){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:n})},m.prototype.addLane=function(e,t){t={shape:e,location:t};return this._commandStack.execute("lane.add",t),t.newLane},m.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})},m.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:e}),e},m.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})},m.prototype.makeProcess=function(){var e=this._create("root",{type:"bpmn:Process"});this._commandStack.execute("canvas.updateRoot",{newRoot:e})},m.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},m.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},m.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})}},{"../label-editing/cmd/UpdateLabelHandler":330,"./cmd/AddLaneHandler":378,"./cmd/IdClaimHandler":379,"./cmd/ResizeLaneHandler":380,"./cmd/SetColorHandler":381,"./cmd/SplitLaneHandler":382,"./cmd/UpdateCanvasRootHandler":383,"./cmd/UpdateFlowNodeRefsHandler":384,"./cmd/UpdateModdlePropertiesHandler":385,"./cmd/UpdatePropertiesHandler":386,"diagram-js/lib/features/modeling/Modeling":511,inherits:623}],337:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var n=i(e("inherits")),l=e("diagram-js/lib/layout/LayoutUtil"),c=e("diagram-js/lib/util/Math"),o=e("../../../util/LabelUtil"),r=i(e("diagram-js/lib/command/CommandInterceptor"));function i(e){return e&&e.__esModule?e:{default:e}}var a=["top","bottom","left","right"],u=10;function s(e,s){function i(e){var t;(0,o.hasExternalLabel)(e)&&(t=function(e){var t=(0,l.getMid)(e.label),t=d((0,l.getMid)(e),t);if(function(e){return-1!==a.indexOf(e)}(t)){var n=function(e){var t=(0,l.getMid)(e);return[].concat(e.incoming.map(function(e){return e.waypoints[e.waypoints.length-2]}),e.outgoing.map(function(e){return e.waypoints[1]})).map(function(e){return d(t,e)})}(e);e.host&&(i=function(e){var t,n=e.host,e=(0,l.getMid)(e),n=(0,l.getOrientation)(e,n);t=0<=n.indexOf("-")?n.split("-"):[n];return a.filter(function(e){return-1===t.indexOf(e)})}(e),n=n.concat(i));var i=a.filter(function(e){return-1===n.indexOf(e)});if(-1===i.indexOf(t))return i[0]}}(e))&&function(e,t){var n=(0,l.getMid)(e),i=e.label,o=(0,l.getMid)(i);if(i.parent){var r,a=(0,l.asTRBL)(e);switch(t){case"top":r={x:n.x,y:a.top-u-i.height/2};break;case"left":r={x:a.left-u-i.width/2,y:n.y};break;case"bottom":r={x:n.x,y:a.bottom+u+i.height/2};break;case"right":r={x:a.right+u+i.width/2,y:n.y}}o=(0,c.substract)(r,o);s.moveShape(i,o)}}(e,t)}r.default.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(e){var t=e.context,n=t.connection,e=n.source,n=n.target;!1!==(t.hints||{}).createElementsBehavior&&(i(e),i(n))}),this.postExecuted(["label.create"],function(e){var t=e.context,e=t.shape;!1!==(t.hints||{}).createElementsBehavior&&i(e.labelTarget)}),this.postExecuted(["elements.create"],function(e){var t=e.context,e=t.elements;!1!==(t.hints||{}).createElementsBehavior&&e.forEach(function(e){i(e)})})}function d(e,t){return(0,l.getOrientation)(t,e,5)}(0,n.default)(s,r.default),s.$inject=["eventBus","modeling"]},{"../../../util/LabelUtil":418,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/util/Math":611,inherits:623}],338:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=r(e("inherits")),i=e("../../../util/ModelUtil"),o=r(e("diagram-js/lib/command/CommandInterceptor"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){o.default.call(this,e),this.preExecute("shape.append",function(e){var t=e.source,n=e.shape;e.position||((0,i.is)(n,"bpmn:TextAnnotation")?e.position={x:t.x+t.width/2+75,y:t.y-50-n.height/2}:e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})},!0)}(0,n.default)(a,o.default),a.$inject=["eventBus","elementFactory","bpmnRules"]},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],339:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var n=a(e("inherits")),i=e("../../../util/ModelUtil"),o=a(e("diagram-js/lib/command/CommandInterceptor")),r=e("min-dash");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,n){e.invoke(o.default,this),this.postExecute("shape.move",function(e){var t=e.newParent,e=e.shape,e=(0,r.filter)(e.incoming.concat(e.outgoing),function(e){return(0,i.is)(e,"bpmn:Association")});(0,r.forEach)(e,function(e){n.moveConnection(e,{x:0,y:0},t)})},!0)}(0,n.default)(s,o.default),s.$inject=["injector","modeling"]},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623,"min-dash":834}],340:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var n=s(e("inherits")),i=s(e("diagram-js/lib/command/CommandInterceptor")),o=e("../../../util/ModelUtil"),r=e("../util/ModelingUtil"),a=e("../../../util/LabelUtil");function s(e){return e&&e.__esModule?e:{default:e}}var l=500;function c(e,t){t.invoke(i.default,this),this._bpmnReplace=e;var o=this;this.postExecuted("elements.create",l,function(n){var i=n.elements;1===(i=i.filter(function(e){return u(e,e.host)})).length&&i.map(function(e){return i.indexOf(e)}).forEach(function(e){var t=i[e];n.elements[e]=o.replaceShape(i[e],t)})},!0),this.preExecute("elements.move",l,function(e){var t=e.shapes,n=e.newHost;1!==t.length||u(t=t[0],n)&&(e.shapes=[o.replaceShape(t,n)])},!0)}function u(e,t){return!(0,a.isLabel)(e)&&(0,r.isAny)(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}c.$inject=["bpmnReplace","injector"],(0,n.default)(c,i.default),c.prototype.replaceShape=function(e,t){var n=function(e){e=(0,o.getBusinessObject)(e).eventDefinitions;return e&&e[0]}(e),t={type:"bpmn:BoundaryEvent",host:t};return n&&(t.eventDefinitionType=n.$type),this._bpmnReplace.replaceElement(e,t,{layoutConnection:!1})}},{"../../../util/LabelUtil":418,"../../../util/ModelUtil":419,"../util/ModelingUtil":390,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],341:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),a=i(e("diagram-js/lib/command/CommandInterceptor")),s=e("../../../util/ModelUtil"),l=e("min-dash");function i(e){return e&&e.__esModule?e:{default:e}}var c=2e3;function o(e,o,i){function r(e){return(0,l.filter)(e.attachers,function(e){return(0,s.is)(e,"bpmn:BoundaryEvent")})}a.default.call(this,e),this.postExecute("connection.create",function(e){var t=e.context.source,n=e.context.target,e=r(n);(0,s.is)(t,"bpmn:EventBasedGateway")&&(0,s.is)(n,"bpmn:ReceiveTask")&&0<e.length&&i.removeElements(e)}),this.postExecute("connection.reconnect",function(e){var t=e.context.oldSource,e=e.context.newSource;(0,s.is)(t,"bpmn:Gateway")&&(0,s.is)(e,"bpmn:EventBasedGateway")&&(0,l.forEach)(e.outgoing,function(e){var t=e.target,e=r(t);(0,s.is)(t,"bpmn:ReceiveTask")&&0<e.length&&i.removeElements(e)})}),e.on("moddleCopy.canCopyProperty",c,function(e){var t=e.parent,n=e.property,i=e.propertyName,e=o.getPropertyDescriptor(t,i);e&&e.isReference&&(0,s.is)(n,"bpmn:RootElement")&&t.set(i,n)})}o.$inject=["eventBus","moddle","modeling"],(0,n.default)(o,a.default)},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623,"min-dash":834}],342:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var n=a(e("inherits")),i=e("../../../util/ModelUtil"),o=a(e("diagram-js/lib/command/CommandInterceptor")),r=e("../util/ModelingUtil");function a(e){return e&&e.__esModule?e:{default:e}}function s(e){e.invoke(o.default,this),this.preExecute("shape.create",1500,function(e){var t=e.context,n=t.parent,e=t.shape;(0,i.is)(n,"bpmn:Lane")&&!(0,i.is)(e,"bpmn:Lane")&&(t.parent=(0,r.getParent)(n,"bpmn:Participant"))})}s.$inject=["injector"],(0,n.default)(s,o.default)},{"../../../util/ModelUtil":419,"../util/ModelingUtil":390,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],343:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=r(e("inherits")),i=r(e("diagram-js/lib/command/CommandInterceptor")),o=e("../../../util/ModelUtil");function r(e){return e&&e.__esModule?e:{default:e}}function a(e,n,t){i.default.call(this,e),this.preExecute("shape.create",function(e){var t=e.context.shape;(0,o.is)(t,"bpmn:DataObjectReference")&&"label"!==t.type&&(e=n.create("bpmn:DataObject"),t.businessObject.dataObjectRef=e)})}a.$inject=["eventBus","bpmnFactory","moddle"],(0,n.default)(a,i.default)},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],344:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,n.PARTICIPANT_BORDER_WIDTH=void 0;var i=o(e("inherits")),s=o(e("diagram-js/lib/command/CommandInterceptor")),l=e("../../../util/ModelUtil"),c=e("../../../util/LabelUtil"),u=e("diagram-js/lib/util/Elements"),d=e("min-dash"),p=e("diagram-js/lib/layout/LayoutUtil");function o(e){return e&&e.__esModule?e:{default:e}}var h=20,f=20,m=30;n.PARTICIPANT_BORDER_WIDTH=m;var g=2e3;function r(o,r,a){function i(e){var t,n=e.parent,i=o.getRootElement();(0,l.is)(i,"bpmn:Collaboration")?t=i:(t=a.makeCollaboration(),e.process=n),e.parent=t}s.default.call(this,r),r.on(["create.start","shape.move.start"],g,function(e){var t=e.context,n=t.shape,i=o.getRootElement();(0,l.is)(n,"bpmn:Participant")&&(0,l.is)(i,"bpmn:Process")&&i.children.length&&((e=i.children.filter(function(e){return!(0,l.is)(e,"bpmn:Group")&&!(0,c.isLabel)(e)&&!e.waypoints})).length&&(e=function(e,t){t={width:t.width+2*h+m,height:t.height+2*f};var n=Math.max(e.width,t.width),t=Math.max(e.height,t.height);return{x:-n/2,y:-t/2,width:n,height:t}}(n,i=(0,u.getBBox)(e)),(0,d.assign)(n,e),t.createConstraints=(n=n,i=i,{bottom:(i=(0,p.asTRBL)(i)).top+n.height/2-f,left:i.right-n.width/2+h,top:i.bottom-n.height/2+f,right:i.left+n.width/2-h-m})))}),r.on("create.start",g,function(e){var e=e.context.shape,t=o.getRootElement(),n=o.getGraphics(t);function i(e){e.element=t,e.gfx=n}(0,l.is)(e,"bpmn:Participant")&&(0,l.is)(t,"bpmn:Process")&&(r.on("element.hover",g,i),r.once("create.cleanup",function(){r.off("element.hover",i)}))}),this.preExecute("shape.create",function(e){var t=e.parent,n=e.shape;(0,l.is)(n,"bpmn:Participant")&&(0,l.is)(t,"bpmn:Process")&&i(e)},!0),this.execute("shape.create",function(e){var t=e.process,n=e.shape;t&&(e.oldProcessRef=n.businessObject.processRef,n.businessObject.processRef=t.businessObject)},!0),this.revert("shape.create",function(e){var t=e.process,n=e.shape;t&&(n.businessObject.processRef=e.oldProcessRef)},!0),this.postExecute("shape.create",function(e){var t=e.process,e=e.shape;t&&(t=t.children.slice(),a.moveElements(t,{x:0,y:0},e))},!0),this.preExecute("elements.create",g,function(e){var t=e.elements,n=e.parent;v(t)&&(0,l.is)(n,"bpmn:Process")&&(i(e),t=v(t),e.oldProcessRef=t.businessObject.processRef,t.businessObject.processRef=n.businessObject)},!0),this.revert("elements.create",function(e){var t=e.elements;e.process&&(v(t).businessObject.processRef=e.oldProcessRef)},!0),this.postExecute("elements.create",function(e){var t=e.elements,e=e.process;e&&(t=v(t),e=e.children.slice(),a.moveElements(e,{x:0,y:0},t))},!0)}function v(e){return(0,d.find)(e,function(e){return(0,l.is)(e,"bpmn:Participant")})}r.$inject=["canvas","eventBus","modeling"],(0,i.default)(r,s.default)},{"../../../util/LabelUtil":418,"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/util/Elements":604,inherits:623,"min-dash":834}],345:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=r(e("inherits")),o=r(e("diagram-js/lib/command/CommandInterceptor")),s=e("diagram-js/lib/util/Collections"),l=e("min-dash"),i=e("../../../util/ModelUtil");function r(e){return e&&e.__esModule?e:{default:e}}var c="__targetRef_placeholder";function a(e,i){function r(e,t){var n=e.get("properties"),e=(0,l.find)(n,function(e){return e.name===c});return!e&&t&&(e=i.create("bpmn:Property",{name:c}),(0,s.add)(n,e)),e}function a(e,t){var n,i,o=r(e);o&&(n=o,i=t,t=(t=e).get("dataInputAssociations"),(0,l.find)(t,function(e){return e!==i&&e.targetRef===n})||(0,s.remove)(e.get("properties"),o))}function t(e){var t=e.context,n=t.connection,i=n.businessObject,o=n.target,e=o&&o.businessObject,o=t.newTarget,o=o&&o.businessObject,t=t.oldTarget||t.target,t=t&&t.businessObject,n=n.businessObject;t&&t!==e&&a(t,i),o&&o!==e&&a(o,i),e?(e=r(e,!0),n.targetRef=e):n.targetRef=null}o.default.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],u(t)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],u(t))}function u(n){return function(e){var t=e.context.connection;if((0,i.is)(t,"bpmn:DataInputAssociation"))return n(e)}}a.$inject=["eventBus","bpmnFactory"],(0,n.default)(a,o.default)},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/util/Collections":602,inherits:623,"min-dash":834}],346:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),s=i(e("diagram-js/lib/command/CommandInterceptor")),l=e("../../../util/ModelUtil"),c=e("../util/ModelingUtil"),u=i(e("../cmd/UpdateSemanticParentHandler"));function i(e){return e&&e.__esModule?e:{default:e}}function o(n,i,o,e){function r(e){return e.children.filter(function(e){return(0,l.is)(e,"bpmn:DataStoreReference")&&!e.labelTarget})}function a(e,t){e=e.businessObject||e;(t=t||o.filter(function(e){return(0,l.is)(e,"bpmn:Participant")&&(0,l.getBusinessObject)(e).processRef})[0])&&(t=t.businessObject||t,i.execute("dataStore.updateContainment",{dataStoreBo:e,newSemanticParent:t.processRef||t,newDiParent:t.di}))}s.default.call(this,e),i.registerHandler("dataStore.updateContainment",u.default),this.preExecute("shape.create",function(e){var t=e.context,e=t.shape;(0,l.is)(e,"bpmn:DataStoreReference")&&"label"!==e.type&&(t.hints||(t.hints={}),t.hints.autoResize=!1)}),this.preExecute("elements.move",function(e){var t=e.context,e=t.shapes;e.filter(function(e){return(0,l.is)(e,"bpmn:DataStoreReference")}).length&&(t.hints||(t.hints={}),t.hints.autoResize=e.filter(function(e){return!(0,l.is)(e,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(e){var t=e.context.shape,e=t.parent;(0,l.is)(t,"bpmn:DataStoreReference")&&"label"!==t.type&&(0,l.is)(e,"bpmn:Collaboration")&&a(t)}),this.postExecute("shape.move",function(e){var t=e.context,n=t.shape,e=t.oldParent,t=n.parent;(0,l.is)(e,"bpmn:Collaboration")||(0,l.is)(n,"bpmn:DataStoreReference")&&"label"!==n.type&&(0,l.is)(t,"bpmn:Collaboration")&&a(n,(0,l.is)(e,"bpmn:Participant")?e:function(e,t){for(;e.parent;){if((0,l.is)(e.parent,t))return e.parent;e=e.parent}}(e,"bpmn:Participant"))}),this.postExecute("shape.delete",function(e){var t=e.context.shape,e=n.getRootElement();(0,c.isAny)(t,["bpmn:Participant","bpmn:SubProcess"])&&(0,l.is)(e,"bpmn:Collaboration")&&r(e).filter(function(e){return function(e,t){var n=e.businessObject||e,i=t.businessObject||t;for(;n.$parent;){if(n.$parent===i.processRef||i)return!0;n=n.$parent}return!1}(e,t)}).forEach(function(e){a(e)})}),this.postExecute("canvas.updateRoot",function(e){var t=e.context,e=t.oldRoot,n=t.newRoot;r(e).forEach(function(e){(0,l.is)(n,"bpmn:Process")&&a(e,n)})})}o.$inject=["canvas","commandStack","elementRegistry","eventBus"],(0,n.default)(o,s.default)},{"../../../util/ModelUtil":419,"../cmd/UpdateSemanticParentHandler":387,"../util/ModelingUtil":390,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],347:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=o(e("inherits")),i=o(e("diagram-js/lib/command/CommandInterceptor")),l=e("../../../util/ModelUtil"),c=e("../util/LaneUtil"),u=e("diagram-js/lib/util/Elements");function o(e){return e&&e.__esModule?e:{default:e}}var r=500;function a(e,t,s){i.default.call(this,e),this.postExecuted("shape.delete",r,function(e){var t,n,i,o,r=e.context,a=r.hints,e=r.shape,r=r.oldParent;(0,l.is)(e,"bpmn:Lane")&&(a&&a.nested||(t=e,r=r,r=(0,c.getChildLanes)(r),i=[],o=[],(0,u.eachElement)(r,function(e){return(e.y>t.y?o:i).push(e),e.children}),r.length&&(r=o.length&&i.length?t.height/2:t.height,i.length&&(n=s.calculateAdjustments(i,"y",r,t.y-10),s.makeSpace(n.movingShapes,n.resizingShapes,{x:0,y:r},"s")),o.length&&(n=s.calculateAdjustments(o,"y",-r,t.y+t.height+10),s.makeSpace(n.movingShapes,n.resizingShapes,{x:0,y:-r},"n")))))})}a.$inject=["eventBus","modeling","spaceTool"],(0,n.default)(a,i.default)},{"../../../util/ModelUtil":419,"../util/LaneUtil":389,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/util/Elements":604,inherits:623}],348:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var n=a(e("inherits")),i=a(e("diagram-js/lib/command/CommandInterceptor")),o=e("../../../util/ModelUtil"),r=e("../../../util/LabelUtil");function a(e){return e&&e.__esModule?e:{default:e}}var s=500;function l(e,t){t.invoke(i.default,this),this._bpmnReplace=e;var r=this;this.postExecuted("elements.create",s,function(t){var n=t.elements;n.filter(function(e){return c(e,e.host)}).map(function(e){return n.indexOf(e)}).forEach(function(e){t.elements[e]=r.replaceShape(n[e])})},!0),this.preExecute("elements.move",s,function(e){var i=e.shapes,o=e.newHost;i.forEach(function(e,t){var n=e.host;c(e,-1!==i.indexOf(n)?n:o)&&(i[t]=r.replaceShape(e))})},!0)}function c(e,t){return!(0,r.isLabel)(e)&&(0,o.is)(e,"bpmn:BoundaryEvent")&&!t}l.$inject=["bpmnReplace","injector"],(0,n.default)(l,i.default),l.prototype.replaceShape=function(e){var t=function(e){e=(0,o.getBusinessObject)(e).eventDefinitions;return e&&e[0]}(e),t=t?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:t.$type}:{type:"bpmn:IntermediateThrowEvent"};return this._bpmnReplace.replaceElement(e,t,{layoutConnection:!1})}},{"../../../util/LabelUtil":418,"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],349:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=i(e("inherits")),f=e("min-dash"),m=e("diagram-js/lib/layout/LayoutUtil"),o=i(e("diagram-js/lib/command/CommandInterceptor")),g=e("diagram-js/lib/util/LineIntersection");function i(e){return e&&e.__esModule?e:{default:e}}function r(e,p,h){function i(e,t,n){var i,o,r,a,s,l=t.waypoints,c=e.outgoing.slice(),u=e.incoming.slice(),d=(0,f.isNumber)(n.width)?(0,m.getMid)(n):n,n=(0,g.getApproxIntersection)(l,d);if(n){if(i=l.slice(0,n.index),o=l.slice(n.index+(n.bendpoint?1:0)),!i.length||!o.length)return;r=n.bendpoint?l[n.index]:d,v(e,i[i.length-1])||i.push(y(r)),v(e,o[0])||o.unshift(y(r))}n=t.source,r=t.target,p.canConnect(n,e,t)&&(h.reconnectEnd(t,e,i||d),a=t),p.canConnect(e,r,t)&&(s=a?h.connect(e,r,{type:t.type,waypoints:o}):(h.reconnectStart(t,e,o||d),t));c=[].concat(a&&(0,f.filter)(u,function(e){return e.source===a.source})||[],s&&(0,f.filter)(c,function(e){return e.target===s.target})||[]);c.length&&h.removeElements(c)}o.default.call(this,e),this.preExecute("elements.move",function(e){var t,n=e.newParent,i=e.shapes,o=e.delta,r=i[0];r&&n&&(n&&n.waypoints&&(e.newParent=n=n.parent),r=(0,m.getMid)(r),t={x:r.x+o.x,y:r.y+o.y},(n=(0,f.find)(n.children,function(e){return p.canInsert(i,e)&&(0,g.getApproxIntersection)(e.waypoints,t)}))&&(e.targetFlow=n,e.position=t))},!0),this.postExecuted("elements.move",function(e){var t=e.shapes,n=e.targetFlow,e=e.position;n&&i(t[0],n,e)},!0),this.preExecute("shape.create",function(e){var t=e.parent,n=e.shape;p.canInsert(n,t)&&(e.targetFlow=t,e.parent=t.parent)},!0),this.postExecuted("shape.create",function(e){var t=e.shape,n=e.targetFlow,e=e.position;n&&i(t,n,e)},!0)}function v(e,t){var n=t.x,t=t.y;return n>=e.x&&n<=e.x+e.width&&t>=e.y&&t<=e.y+e.height}function y(e){return(0,f.assign)({},e)}(0,n.default)(r,o.default),r.$inject=["eventBus","bpmnRules","modeling"]},{"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/util/LineIntersection":610,inherits:623,"min-dash":834}],350:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=o(e("inherits")),i=o(e("diagram-js/lib/command/CommandInterceptor")),r=e("../../../util/ModelUtil");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,o){i.default.call(this,e),this.preExecuted("connection.create",function(e){var t=e.context,n=t.source,i=t.target,e=i.incoming.slice();t.hints&&!1===t.hints.createElementsBehavior||(0,r.is)(n,"bpmn:EventBasedGateway")&&i.incoming.length&&e.filter(s).forEach(function(e){o.removeConnection(e)})}),this.preExecuted("shape.replace",function(e){var t=e.context.newShape;(0,r.is)(t,"bpmn:EventBasedGateway")&&t.outgoing.filter(s).map(function(e){return e.target}).reduce(function(e,t){t=t.incoming.filter(s);return e.concat(t)},[]).forEach(function(e){e.source!==t&&o.removeConnection(e)})})}function s(e){return(0,r.is)(e,"bpmn:SequenceFlow")}a.$inject=["eventBus","modeling"],(0,n.default)(a,i.default)},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],351:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var a=e("../util/LaneUtil"),s=e("../../../util/ModelUtil"),l=e("../util/ModelingUtil"),i=1500,c=2e3;function o(o,e,r){e.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],i,function(e){var t=e.context.shape||e.shape,n=e.hover;(0,s.is)(n,"bpmn:Lane")&&!(0,l.isAny)(t,["bpmn:Lane","bpmn:Participant"])&&(e.hover=(0,a.getLanesRoot)(n),e.hoverGfx=o.getGraphics(e.hover));var i=r.getRootElement();n!==i&&(t.labelTarget||(0,s.is)(t,"bpmn:Group"))&&(e.hover=i,e.hoverGfx=o.getGraphics(e.hover))}),e.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],i,function(e){var t=e.hover;(0,s.is)(t,"bpmn:Lane")&&(e.hover=(0,a.getLanesRoot)(t)||t,e.hoverGfx=o.getGraphics(e.hover))}),e.on(["bendpoint.move.hover"],i,function(e){var t=e.context,n=e.hover,t=t.type;(0,s.is)(n,"bpmn:Lane")&&/reconnect/.test(t)&&(e.hover=(0,a.getLanesRoot)(n)||n,e.hoverGfx=o.getGraphics(e.hover))}),e.on(["connect.start"],i,function(e){var t=e.context,e=t.start;(0,s.is)(e,"bpmn:Lane")&&(t.start=(0,a.getLanesRoot)(e)||e)}),e.on("shape.move.start",c,function(e){var t=e.shape;(0,s.is)(t,"bpmn:Lane")&&(e.shape=(0,a.getLanesRoot)(t)||t)})}o.$inject=["elementRegistry","eventBus","canvas"]},{"../../../util/ModelUtil":419,"../util/LaneUtil":389,"../util/ModelingUtil":390}],352:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),l=i(e("diagram-js/lib/command/CommandInterceptor")),c=e("diagram-js/lib/util/Collections"),u=e("../../../util/ModelUtil"),d=e("./util/CategoryUtil");function i(e){return e&&e.__esModule?e:{default:e}}var p=2e3;function o(n,t,o,e,i,r){function a(){var e=t.getRootElement();return(0,u.getBusinessObject)(e).$parent}function s(e){var t=(0,u.getBusinessObject)(e).categoryValueRef;t&&(e=t.$parent,t&&((0,c.remove)(e.categoryValue,t),e&&!e.categoryValue.length&&(t=e,e=a(),(0,c.remove)(e.get("rootElements"),t))))}i.invoke(l.default,this),this.executed("shape.delete",function(e){var t,n,i=e.context.shape;(0,u.is)(i,"bpmn:Group")&&(t=(0,u.getBusinessObject)(i).categoryValueRef,e=o.filter(function(e){return(0,u.is)(e,"bpmn:Group")}),n=t,e.some(function(e){e=(0,u.getBusinessObject)(e);return e.categoryValueRef&&e.categoryValueRef===n})||s(i))}),this.reverted("shape.delete",function(e){var t,n=e.context.shape;(0,u.is)(n,"bpmn:Group")&&(t=(0,u.getBusinessObject)(n).categoryValueRef,e=a(),n=t?t.$parent:null,(0,c.add)(n.get("categoryValue"),t),(0,c.add)(e.get("rootElements"),n))}),this.execute("shape.create",function(e){var t=e.context.shape,e=(0,u.getBusinessObject)(t);(0,u.is)(e,"bpmn:Group")&&!e.categoryValueRef&&(t=a(),t=(0,d.createCategoryValue)(t,n),e.categoryValueRef=t)}),this.revert("shape.create",function(e){e=e.context.shape;(0,u.is)(e,"bpmn:Group")&&(s(e),delete(0,u.getBusinessObject)(e).categoryValueRef)}),e.on("moddleCopy.canCopyProperty",p,function(e){var t=e.property;if((0,u.is)(t,"bpmn:CategoryValue"))return e=(0,d.createCategoryValue)(a(),n),r.copyElement(t,e)})}o.$inject=["bpmnFactory","canvas","elementRegistry","eventBus","injector","moddleCopy"],(0,n.default)(o,l.default)},{"../../../util/ModelUtil":419,"./util/CategoryUtil":372,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/util/Collections":602,inherits:623}],353:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i,o=e("diagram-js/lib/layout/LayoutUtil"),r=(i=e("./util/LineIntersect"))&&i.__esModule?i:{default:i};function a(e){function n(e,t,n){var i={x:n.x,y:n.y-50},o={x:n.x-50,y:n.y},i=(0,r.default)(e,t,n,i),o=(0,r.default)(e,t,n,o),o=i&&o?s(i,n)>s(o,n)?o:i:i||o;e.original=o}e.on("bpmnElement.added",function(e){var t=e.element;t.waypoints&&(n((t=(e=t).waypoints)[0],t[1],(0,o.getMid)(e.source)),n(t[t.length-1],t[t.length-2],(0,o.getMid)(e.target)))})}function s(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}a.$inject=["eventBus"]},{"./util/LineIntersect":376,"diagram-js/lib/layout/LayoutUtil":589}],354:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var n=a(e("inherits")),i=a(e("diagram-js/lib/command/CommandInterceptor")),o=e("../../../util/ModelUtil"),r=e("../util/ModelingUtil");function a(e){return e&&e.__esModule?e:{default:e}}function s(e){i.default.call(this,e);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(e){e=(0,o.getBusinessObject)(e.context.shape);(0,r.isAny)(e,t)&&!e.di.get("isHorizontal")&&e.di.set("isHorizontal",!0)})}s.$inject=["eventBus"],(0,n.default)(s,i.default)},{"../../../util/ModelUtil":419,"../util/ModelingUtil":390,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],355:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=v,n.getReferencePointDelta=y,n.getReferencePoint=b,n.asEdges=x;var a=e("min-dash"),n=h(e("inherits")),i=e("../../../util/ModelUtil"),s=e("../../../util/LabelUtil"),l=e("../../label-editing/LabelUtil"),c=e("./util/LabelLayoutUtil"),u=h(e("diagram-js/lib/command/CommandInterceptor")),o=e("diagram-js/lib/util/AttachUtil"),d=e("diagram-js/lib/layout/LayoutUtil"),r=e("diagram-js/lib/util/PositionUtil"),p=e("./util/GeometricUtil");function h(e){return e&&e.__esModule?e:{default:e}}var f={width:90,height:20},m="name",g="text";function v(e,r,n,o){u.default.call(this,e),this.postExecute("element.updateProperties",function(e){var t=e.context,n=t.element,e=t.properties;m in e&&r.updateLabel(n,e[m]),g in e&&(0,i.is)(n,"bpmn:TextAnnotation")&&(t=o.getTextAnnotationBounds({x:n.x,y:n.y,width:n.width,height:n.height},e[g]||""),r.updateLabel(n,e.text,t))}),this.postExecute(["shape.create","connection.create"],function(e){var t,n,i=e.context;!1!==(i.hints||{}).createElementsBehavior&&(n=(t=i.shape||i.connection).businessObject,!(0,s.isLabel)(t)&&(0,s.isLabelExternal)(t)&&(0,l.getLabel)(t)&&(e=(0,s.getExternalLabelMid)(t),i=o.getExternalLabelBounds(f,(0,l.getLabel)(t)),r.createLabel(t,e,{id:n.id+"_label",businessObject:n,width:i.width,height:i.height})))}),this.postExecute("shape.delete",function(e){var t=e.context,e=t.labelTarget,t=t.hints||{};e&&!1!==t.unsetLabel&&r.updateLabel(e,null,null,{removeShape:!1})}),this.postExecute(["label.create"],function(e){var t=e.context.shape;t.labelTarget&&(0,i.is)(t.labelTarget||t,"bpmn:BaseElement")&&((e=t.businessObject.di).label||(e.label=n.create("bpmndi:BPMNLabel",{bounds:n.create("dc:Bounds")})),(0,a.assign)(e.label.bounds,{x:t.x,y:t.y,width:t.width,height:t.height}))}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(e){var t,n,i,o=e.context;!1===(o.hints||{}).labelBehavior||(t=o.connection.label)&&t.parent&&(i=(n=e).context,e=(o=i.connection).label,n=(0,a.assign)({},i.hints),o=i.newWaypoints||o.waypoints,i=i.oldWaypoints,void 0===n.startChanged&&(n.startChanged=!!n.connectionStart),void 0===n.endChanged&&(n.endChanged=!!n.connectionEnd),n=(0,c.getLabelAdjustment)(e,o,i,n),r.moveShape(t,n))}),this.postExecute(["shape.replace"],function(e){var t=e.context,n=t.newShape,e=t.oldShape,t=(0,i.getBusinessObject)(n);t&&(0,s.isLabelExternal)(t)&&e.label&&n.label&&(n.label.x=e.label.x,n.label.y=e.label.y)}),this.postExecute("shape.resize",function(e){var t=e.context,n=t.shape,e=t.newBounds,t=t.oldBounds;(0,s.hasExternalLabel)(n)&&(n=n.label,e=y(b((0,d.getMid)(n),x(t)),t,e),r.moveShape(n,e))})}function y(e,t,n){n=(0,o.getNewAttachPoint)(e,t,n);return(0,d.roundPoint)((0,r.delta)(n,e))}function b(e,t){if(t.length){t=function(t,e){e=e.map(function(e){return{line:e,distance:(0,p.getDistancePointLine)(t,e)}});return(0,a.sortBy)(e,"distance")[0].line}(e,t);return(0,p.perpendicularFoot)(e,t)}}function x(e){return[[{x:e.x,y:e.y},{x:e.x+(e.width||0),y:e.y}],[{x:e.x+(e.width||0),y:e.y},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y+(e.height||0)},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y},{x:e.x,y:e.y+(e.height||0)}]]}(0,n.default)(v,u.default),v.$inject=["eventBus","modeling","bpmnFactory","textRenderer"]},{"../../../util/LabelUtil":418,"../../../util/ModelUtil":419,"../../label-editing/LabelUtil":329,"./util/GeometricUtil":373,"./util/LabelLayoutUtil":374,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/util/AttachUtil":600,"diagram-js/lib/util/PositionUtil":614,inherits:623,"min-dash":834}],356:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=o(e("inherits")),i=o(e("diagram-js/lib/command/CommandInterceptor")),l=e("../../../util/ModelUtil"),c=e("../../../util/DiUtil"),u=e("diagram-js/lib/util/Elements"),d=e("diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper");function o(e){return e&&e.__esModule?e:{default:e}}function r(e,s){i.default.call(this,e),this.postExecute("shape.replace",function(e){var t,n,i,o,r=e.oldShape,a=e.newShape;t=r,e=a,(0,l.is)(t,"bpmn:Participant")&&(0,c.isExpanded)(t)&&(0,l.is)(e,"bpmn:Participant")&&!(0,c.isExpanded)(e)&&(n=r,e=(0,u.selfAndAllChildren)([n],!1),i=[],o=[],e.forEach(function(e){e!==n&&(e.incoming.forEach(function(e){(0,l.is)(e,"bpmn:MessageFlow")&&i.push(e)}),e.outgoing.forEach(function(e){(0,l.is)(e,"bpmn:MessageFlow")&&o.push(e)}))},[]),(e={incoming:i,outgoing:o}).incoming.forEach(function(e){var t=(0,d.getResizedTargetAnchor)(e,a,r);s.reconnectEnd(e,a,t)}),e.outgoing.forEach(function(e){var t=(0,d.getResizedSourceAnchor)(e,a,r);s.reconnectStart(e,a,t)}))},!0)}r.$inject=["eventBus","modeling"],(0,n.default)(r,i.default)},{"../../../util/DiUtil":417,"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper":533,"diagram-js/lib/util/Elements":604,inherits:623}],357:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("../../../util/ModelUtil"),s="flow elements must be children of pools/participants";function i(e,o,r){e.on(["shape.move.rejected","create.rejected"],function(e){var t,n=e.context,i=n.shape,n=n.target;(0,a.is)(n,"bpmn:Collaboration")&&(0,a.is)(i,"bpmn:FlowNode")&&(i=e,e=r(s),o.add({position:{x:i.x+5,y:i.y+5},type:"error",timeout:t||2e3,html:"<div>"+e+"</div>"}))})}i.$inject=["eventBus","tooltips","translate"]},{"../../../util/ModelUtil":419}],358:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=o(e("inherits")),s=e("../../../util/ModelUtil"),i=o(e("diagram-js/lib/command/CommandInterceptor")),l=o(e("./util/LineIntersect"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,r,a){i.default.call(this,e),this.preExecute("shape.delete",function(e){var t,n,i,o=e.context.shape;1===o.incoming.length&&1===o.outgoing.length&&(t=o.incoming[0],n=o.outgoing[0],(0,s.is)(t,"bpmn:SequenceFlow")&&(0,s.is)(n,"bpmn:SequenceFlow")&&r.canConnect(t.source,n.target,t)&&(i=t.waypoints,e=n.waypoints,e=(o=(0,l.default)(c(i[i.length-2]),c(i[i.length-1]),c(e[1]),c(e[0])))?[].concat(i.slice(0,i.length-1),[o],e.slice(1)):[c(i[0]),c(e[e.length-1])],a.reconnectEnd(t,n.target,e)))})}function c(e){return e.original||e}(0,n.default)(r,i.default),r.$inject=["eventBus","bpmnRules","modeling"]},{"../../../util/ModelUtil":419,"./util/LineIntersect":376,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],359:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=r(e("inherits")),i=r(e("diagram-js/lib/command/CommandInterceptor")),o=e("../../../util/ModelUtil");function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){i.default.call(this,e),this.preExecute("shape.delete",function(e){var t=e.shape,n=t.parent;(0,o.is)(t,"bpmn:Participant")&&(e.collaborationRoot=n)},!0),this.postExecute("shape.delete",function(e){e=e.collaborationRoot;e&&!e.businessObject.participants.length&&t.makeProcess()},!0)}a.$inject=["eventBus","modeling"],(0,n.default)(a,i.default)},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],360:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var o=e("min-dash"),n=a(e("inherits")),i=a(e("diagram-js/lib/command/CommandInterceptor")),r=e("../../../util/ModelUtil");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,a,s,t){i.default.call(this,e);var l=t.get("dragging",!1);function n(e){var t,n,i=e.source,o=e.target;e.parent&&((0,r.is)(e,"bpmn:SequenceFlow")&&(s.canConnectSequenceFlow(i,o)||(n=!0),s.canConnectMessageFlow(i,o)&&(t="bpmn:MessageFlow")),(0,r.is)(e,"bpmn:MessageFlow")&&(s.canConnectMessageFlow(i,o)||(n=!0),s.canConnectSequenceFlow(i,o)&&(t="bpmn:SequenceFlow")),(n=(0,r.is)(e,"bpmn:Association")&&!s.canConnectAssociation(i,o)?!0:n)&&a.removeConnection(e),t&&a.connect(i,o,{type:t,waypoints:e.waypoints.slice()}))}this.postExecuted("elements.move",function(e){e=e.closure.allConnections;(0,o.forEach)(e,n)},!0),this.preExecute("connection.reconnect",function(e){var t,n,i=(n=e.context).connection,o=n.newSource||i.source,r=n.newTarget||i.target;(e=s.canConnect(o,r))&&e.type!==i.type&&(e=a.connect(o,r,{type:e.type,waypoints:i.waypoints.slice()}),a.removeConnection(i),n.connection=e,l&&(n=i,i=e,(e=(e=l.context())&&e.payload.previousSelection)&&e.length&&-1!==(t=e.indexOf(n))&&e.splice(t,1,i)))}),this.postExecuted("element.updateProperties",function(e){var t,n=e.context,i=n.properties,e=n.element,n=e.businessObject;i.default&&(t=(0,o.find)(e.outgoing,(0,o.matchPattern)({id:e.businessObject.default.id})))&&a.updateProperties(t,{conditionExpression:void 0}),i.conditionExpression&&n.sourceRef.default===n&&a.updateProperties(e.source,{default:void 0})})}(0,n.default)(s,i.default),s.$inject=["eventBus","modeling","bpmnRules","injector"]},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623,"min-dash":834}],361:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),a=e("min-dash"),s=i(e("diagram-js/lib/command/CommandInterceptor")),l=e("../../../util/DiUtil");function i(e){return e&&e.__esModule?e:{default:e}}function o(e,o,t,n,i,r){n.invoke(s.default,this),this._bpmnReplace=e,this._elementRegistry=t,this._selection=r,this.postExecuted(["elements.create"],500,function(e){var t=e.context,e=t.parent,t=t.elements,e=o.canReplace(t,e);e&&this.replaceElements(t,e.replacements)},this),this.postExecuted(["elements.move"],500,function(e){var t=e.context,n=t.newParent,e=t.newHost,i=[];(0,a.forEach)(t.closure.topLevel,function(e){i=(0,l.isEventSubProcess)(e)?i.concat(e.children):i.concat(e)}),1===i.length&&e&&(n=e);n=o.canReplace(i,n);n&&this.replaceElements(i,n.replacements,e)},this),this.postExecute(["shape.replace"],1500,function(e){var t=e.context,e=t.oldShape,t=t.newShape,e=e.attachers;e&&e.length&&(t=o.canReplace(e,t),this.replaceElements(e,t.replacements))},this),this.postExecuted(["shape.replace"],1500,function(e){var t=e.context,e=t.oldShape,t=t.newShape;i.unclaimId(e.businessObject.id,e.businessObject),i.updateProperties(t,{id:e.id})})}(0,n.default)(o,s.default),o.prototype.replaceElements=function(i,e){var o=this._elementRegistry,r=this._bpmnReplace,t=this._selection;(0,a.forEach)(e,function(e){var t={type:e.newElementType},n=o.get(e.oldElementId),e=i.indexOf(n);i[e]=r.replaceElement(n,t,{select:!1})}),e&&t.select(i)},o.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"]},{"../../../util/DiUtil":417,"diagram-js/lib/command/CommandInterceptor":433,inherits:623,"min-dash":834}],362:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u,n.TEXT_ANNOTATION_MIN_DIMENSIONS=n.SUB_PROCESS_MIN_DIMENSIONS=n.PARTICIPANT_MIN_DIMENSIONS=n.LANE_MIN_DIMENSIONS=void 0;var o=e("../../../util/ModelUtil"),r=e("../../../util/DiUtil"),a=e("./util/ResizeUtil"),i=1500;n.LANE_MIN_DIMENSIONS={width:300,height:60};var s={width:300,height:150};n.PARTICIPANT_MIN_DIMENSIONS=s;var l={width:140,height:120};n.SUB_PROCESS_MIN_DIMENSIONS=l;var c={width:50,height:30};function u(e){e.on("resize.start",i,function(e){var t=e.context,n=t.shape,i=t.direction,e=t.balanced;((0,o.is)(n,"bpmn:Lane")||(0,o.is)(n,"bpmn:Participant"))&&(t.resizeConstraints=(0,a.getParticipantResizeConstraints)(n,i,e)),(0,o.is)(n,"bpmn:Participant")&&(t.minDimensions=s),(0,o.is)(n,"bpmn:SubProcess")&&(0,r.isExpanded)(n)&&(t.minDimensions=l),(0,o.is)(n,"bpmn:TextAnnotation")&&(t.minDimensions=c)})}n.TEXT_ANNOTATION_MIN_DIMENSIONS=c,u.$inject=["eventBus"]},{"../../../util/DiUtil":417,"../../../util/ModelUtil":419,"./util/ResizeUtil":377}],363:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var r=e("../../../util/ModelUtil"),a=e("diagram-js/lib/layout/LayoutUtil"),i=e("diagram-js/lib/util/Mouse"),s=1001;function o(e,o){e.on("resize.start",s+500,function(e){var t=e.context,n=t.shape;((0,r.is)(n,"bpmn:Lane")||(0,r.is)(n,"bpmn:Participant"))&&(t.balanced=!(0,i.hasPrimaryModifier)(e))}),e.on("resize.end",s,function(e){var t=e.context,n=t.shape,i=t.canExecute,e=t.newBounds;if((0,r.is)(n,"bpmn:Lane")||(0,r.is)(n,"bpmn:Participant"))return i&&(e=(0,a.roundBounds)(e),o.resizeLane(n,e,t.balanced)),!1})}o.$inject=["eventBus","modeling"]},{"../../../util/ModelUtil":419,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/util/Mouse":612}],364:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),c=e("min-dash"),u=i(e("diagram-js/lib/command/CommandInterceptor")),d=e("diagram-js/lib/util/Collections"),p=e("../../../util/ModelUtil"),h=e("../util/ModelingUtil"),f=e("../../../util/DiUtil");function i(e){return e&&e.__esModule?e:{default:e}}var m=500;function o(i,e,t,n,o){function r(e){return(0,h.isAny)(e,["bpmn:ReceiveTask","bpmn:SendTask"])||function(t,e){(0,c.isArray)(e)||(e=[e]);return(0,c.some)(e,function(e){return(0,f.hasEventDefinition)(t,e)})}(e,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function a(e){var t=i.getDefinitions().get("rootElements");return(0,c.find)(t,(0,c.matchPattern)({id:e.id}))}function s(e){return(0,p.is)(e,"bpmn:ErrorEventDefinition")?"errorRef":(0,p.is)(e,"bpmn:EscalationEventDefinition")?"escalationRef":(0,p.is)(e,"bpmn:MessageEventDefinition")?"messageRef":(0,p.is)(e,"bpmn:SignalEventDefinition")?"signalRef":void 0}function l(e){if((0,h.isAny)(e,["bpmn:ReceiveTask","bpmn:SendTask"]))return e.get("messageRef");e=e.get("eventDefinitions")[0];return e.get(s(e))}t.invoke(u.default,this),this.executed("shape.create",function(e){var t,n=e.shape;!r(n)||(t=l((0,p.getBusinessObject)(n)))&&!a(t)&&(n=i.getDefinitions().get("rootElements"),(0,d.add)(n,t),e.addedRootElement=t)},!0),this.reverted("shape.create",function(e){var t=e.addedRootElement;t&&(e=i.getDefinitions().get("rootElements"),(0,d.remove)(e,t))},!0),e.on("copyPaste.copyElement",function(e){var t=e.descriptor,e=e.element;!r(e)||(e=l((0,p.getBusinessObject)(e)))&&(t.referencedRootElement=e)}),e.on("copyPaste.pasteElement",m,function(e){var t=e.descriptor,e=t.businessObject;!r(e)||(t=t.referencedRootElement)&&(a(t)||(t=n.copyElement(t,o.create(t.$type))),e=e,t=t,(0,h.isAny)(e,["bpmn:ReceiveTask","bpmn:SendTask"])?e.set("messageRef",t):(e=e.get("eventDefinitions")[0]).set(s(e),t))})}o.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],(0,n.default)(o,u.default)},{"../../../util/DiUtil":417,"../../../util/ModelUtil":419,"../util/ModelingUtil":390,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/util/Collections":602,inherits:623,"min-dash":834}],365:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("min-dash"),s=e("../../../util/ModelUtil"),l=e("../../../util/DiUtil"),c=e("./ResizeBehavior"),u=e("../util/LaneUtil"),d=Math.max;function o(e){e.on("spaceTool.getMinDimensions",function(e){var t=e.shapes,o=e.axis,r=e.start,a={};return(0,i.forEach)(t,function(e){var t,n,i=e.id;(0,s.is)(e,"bpmn:Participant")&&(a[i]="x"===o?c.PARTICIPANT_MIN_DIMENSIONS:{width:c.PARTICIPANT_MIN_DIMENSIONS.width,height:(n=r,function(e){return!!(0,u.getChildLanes)(e).length}(t=e)?(n=function(e,t){var n=(0,u.getChildLanes)(e);return t=function e(t,n){var i,o,r;for(i=0;i<t.length;i++)if(o=t[i],n>=o.y&&n<=o.y+o.height)return(r=(0,u.getChildLanes)(o)).length?e(r,n):o}(n,t),e.height-t.height+c.LANE_MIN_DIMENSIONS.height}(t,n),d(c.PARTICIPANT_MIN_DIMENSIONS.height,n)):c.PARTICIPANT_MIN_DIMENSIONS.height)}),(0,s.is)(e,"bpmn:SubProcess")&&(0,l.isExpanded)(e)&&(a[i]=c.SUB_PROCESS_MIN_DIMENSIONS),(0,s.is)(e,"bpmn:TextAnnotation")&&(a[i]=c.TEXT_ANNOTATION_MIN_DIMENSIONS)}),a})}o.$inject=["eventBus"]},{"../../../util/DiUtil":417,"../../../util/ModelUtil":419,"../util/LaneUtil":389,"./ResizeBehavior":362,"min-dash":834}],366:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var n=a(e("inherits")),i=a(e("diagram-js/lib/command/CommandInterceptor")),o=e("../../../util/ModelUtil"),r=e("../../../util/DiUtil.js");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,n){e.invoke(i.default,this),this.postExecuted("shape.replace",function(e){var t=e.context.oldShape,e=e.context.newShape;(0,o.is)(e,"bpmn:SubProcess")&&(0,o.is)(t,"bpmn:Task")&&(0,r.isExpanded)(e)&&(t={x:e.x+e.width/6,y:e.y+e.height/2},n.createShape({type:"bpmn:StartEvent"},t,e))})}s.$inject=["injector","modeling"],(0,n.default)(s,i.default)},{"../../../util/DiUtil.js":417,"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],367:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=o(e("inherits")),i=o(e("diagram-js/lib/command/CommandInterceptor")),a=e("../../../util/ModelUtil"),s=e("diagram-js/lib/features/resize/ResizeUtil");function o(e){return e&&e.__esModule?e:{default:e}}var l=500;function r(e,o,r,t){i.default.call(this,e),this.executed(["shape.toggleCollapse"],l,function(e){var t=e.context.shape;(0,a.is)(t,"bpmn:SubProcess")&&(t.collapsed?(0,a.getBusinessObject)(t).di.isExpanded=!1:((e=t.children).length&&e.forEach(function(e){"label"!==e.type||e.businessObject.name||(e.hidden=!0)}),(0,a.getBusinessObject)(t).di.isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],l,function(e){e=e.context.shape;e.collapsed?(0,a.getBusinessObject)(e).di.isExpanded=!1:(0,a.getBusinessObject)(e).di.isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],l,function(e){var t=e.context.shape,n=o._getDefaultSize(t),i=t.collapsed?{x:t.x+(t.width-n.width)/2,y:t.y+(t.height-n.height)/2,width:n.width,height:n.height}:(i=e=n,e=(n=t).children.filter(function(e){return!e.hidden}).concat([n]),(e=(0,s.computeChildrenBBox)(e))?(i.width=Math.max(e.width,i.width),i.height=Math.max(e.height,i.height),i.x=e.x+(e.width-i.width)/2,i.y=e.y+(e.height-i.height)/2):(i.x=n.x+(n.width-i.width)/2,i.y=n.y+(n.height-i.height)/2),i);r.resizeShape(t,i,null,{autoResize:!t.collapsed&&"nwse"})})}(0,n.default)(r,i.default),r.$inject=["eventBus","elementFactory","modeling"]},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,"diagram-js/lib/features/resize/ResizeUtil":557,inherits:623}],368:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var n=i(e("inherits")),o=i(e("diagram-js/lib/command/CommandInterceptor")),r=e("../../../util/ModelUtil"),a=e("../../../util/DiUtil"),s=e("../../../util/LabelUtil");function i(e){return e&&e.__esModule?e:{default:e}}function l(t,e,n,i){e.invoke(o.default,this),this.preExecute("shape.delete",function(e){var t=e.context.shape,e=t.businessObject;(0,s.isLabel)(t)||((0,r.is)(t,"bpmn:Participant")&&(0,a.isExpanded)(t)&&n.ids.unclaim(e.processRef.id),i.unclaimId(e.id,e))}),this.preExecute("connection.delete",function(e){e=e.context.connection.businessObject;i.unclaimId(e.id,e)}),this.preExecute("canvas.updateRoot",function(){var e=t.getRootElement().businessObject;n.ids.unclaim(e.id)})}(0,n.default)(l,o.default),l.$inject=["canvas","injector","moddle","modeling"]},{"../../../util/DiUtil":417,"../../../util/LabelUtil":418,"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],369:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=r(e("inherits")),i=r(e("diagram-js/lib/command/CommandInterceptor")),o=e("../../../util/ModelUtil");function r(e){return e&&e.__esModule?e:{default:e}}function a(e,n){i.default.call(this,e),this.preExecute("connection.delete",function(e){var t=e.context.connection,e=t.source;!function(e,t){if(!(0,o.is)(e,"bpmn:SequenceFlow"))return!1;t=(0,o.getBusinessObject)(t),e=(0,o.getBusinessObject)(e);return t.get("default")===e}(t,e)||n.updateProperties(e,{default:null})})}(0,n.default)(a,i.default),a.$inject=["eventBus","modeling"]},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],370:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var n=i(e("inherits")),o=i(e("diagram-js/lib/command/CommandInterceptor")),r=e("../../../util/ModelUtil");function i(e){return e&&e.__esModule?e:{default:e}}var a=500,s=5e3;function l(e,t,n){var i;o.default.call(this,e);e=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(e,s,function(e){(i=i||new c).enter()}),this.postExecuted(e,a,function(e){!function(){if(!i)throw new Error(n("out of bounds release"));var e=i.leave();e&&(t.updateLaneRefs(i.flowNodes,i.lanes),i=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(e){var t=e.context.shape,e=function(){if(!i)throw new Error(n("out of bounds release"));return i}();t.labelTarget||((0,r.is)(t,"bpmn:Lane")&&e.addLane(t),(0,r.is)(t,"bpmn:FlowNode")&&e.addFlowNode(t))})}function c(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}l.$inject=["eventBus","modeling","translate"],(0,n.default)(l,o.default)},{"../../../util/ModelUtil":419,"diagram-js/lib/command/CommandInterceptor":433,inherits:623}],371:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=j(e("./AdaptiveLabelPositioningBehavior")),o=j(e("./AppendBehavior")),r=j(e("./AssociationBehavior")),a=j(e("./AttachEventBehavior")),s=j(e("./BoundaryEventBehavior")),l=j(e("./RootElementReferenceBehavior")),c=j(e("./CreateBehavior")),u=j(e("./FixHoverBehavior")),d=j(e("./CreateDataObjectBehavior")),p=j(e("./CreateParticipantBehavior")),h=j(e("./DataInputAssociationBehavior")),f=j(e("./DataStoreBehavior")),m=j(e("./DeleteLaneBehavior")),g=j(e("./DetachEventBehavior")),v=j(e("./DropOnFlowBehavior")),y=j(e("./EventBasedGatewayBehavior")),b=j(e("./GroupBehavior")),x=j(e("./ImportDockingFix")),w=j(e("./IsHorizontalFix")),k=j(e("./LabelBehavior")),E=j(e("./MessageFlowBehavior")),C=j(e("./ModelingFeedback")),S=j(e("./ReplaceConnectionBehavior")),T=j(e("./RemoveParticipantBehavior")),_=j(e("./ReplaceElementBehaviour")),N=j(e("./ResizeBehavior")),A=j(e("./ResizeLaneBehavior")),P=j(e("./RemoveElementBehavior")),I=j(e("./SpaceToolBehavior")),R=j(e("./SubProcessStartEventBehavior")),M=j(e("./ToggleElementCollapseBehaviour")),L=j(e("./UnclaimIdBehavior")),D=j(e("./UpdateFlowNodeRefsBehavior")),e=j(e("./UnsetDefaultFlowBehavior"));function j(e){return e&&e.__esModule?e:{default:e}}e={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","rootElementReferenceBehavior","createBehavior","fixHoverBehavior","createDataObjectBehavior","createParticipantBehavior","dataStoreBehavior","dataInputAssociationBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","messageFlowBehavior","modelingFeedback","removeElementBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","toggleElementCollapseBehaviour","spaceToolBehavior","subProcessStartEventBehavior","unclaimIdBehavior","unsetDefaultFlowBehavior","updateFlowNodeRefsBehavior"],adaptiveLabelPositioningBehavior:["type",i.default],appendBehavior:["type",o.default],associationBehavior:["type",r.default],attachEventBehavior:["type",a.default],boundaryEventBehavior:["type",s.default],rootElementReferenceBehavior:["type",l.default],createBehavior:["type",c.default],fixHoverBehavior:["type",u.default],createDataObjectBehavior:["type",d.default],createParticipantBehavior:["type",p.default],dataInputAssociationBehavior:["type",h.default],dataStoreBehavior:["type",f.default],deleteLaneBehavior:["type",m.default],detachEventBehavior:["type",g.default],dropOnFlowBehavior:["type",v.default],eventBasedGatewayBehavior:["type",y.default],groupBehavior:["type",b.default],importDockingFix:["type",x.default],isHorizontalFix:["type",w.default],labelBehavior:["type",k.default],messageFlowBehavior:["type",E.default],modelingFeedback:["type",C.default],replaceConnectionBehavior:["type",S.default],removeParticipantBehavior:["type",T.default],replaceElementBehaviour:["type",_.default],resizeBehavior:["type",N.default],resizeLaneBehavior:["type",A.default],removeElementBehavior:["type",P.default],toggleElementCollapseBehaviour:["type",M.default],spaceToolBehavior:["type",I.default],subProcessStartEventBehavior:["type",R.default],unclaimIdBehavior:["type",L.default],updateFlowNodeRefsBehavior:["type",D.default],unsetDefaultFlowBehavior:["type",e.default]};n.default=e},{"./AdaptiveLabelPositioningBehavior":337,"./AppendBehavior":338,"./AssociationBehavior":339,"./AttachEventBehavior":340,"./BoundaryEventBehavior":341,"./CreateBehavior":342,"./CreateDataObjectBehavior":343,"./CreateParticipantBehavior":344,"./DataInputAssociationBehavior":345,"./DataStoreBehavior":346,"./DeleteLaneBehavior":347,"./DetachEventBehavior":348,"./DropOnFlowBehavior":349,"./EventBasedGatewayBehavior":350,"./FixHoverBehavior":351,"./GroupBehavior":352,"./ImportDockingFix":353,"./IsHorizontalFix":354,"./LabelBehavior":355,"./MessageFlowBehavior":356,"./ModelingFeedback":357,"./RemoveElementBehavior":358,"./RemoveParticipantBehavior":359,"./ReplaceConnectionBehavior":360,"./ReplaceElementBehaviour":361,"./ResizeBehavior":362,"./ResizeLaneBehavior":363,"./RootElementReferenceBehavior":364,"./SpaceToolBehavior":365,"./SubProcessStartEventBehavior":366,"./ToggleElementCollapseBehaviour":367,"./UnclaimIdBehavior":368,"./UnsetDefaultFlowBehavior":369,"./UpdateFlowNodeRefsBehavior":370}],372:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createCategoryValue=function(e,t){var n=t.create("bpmn:CategoryValue"),t=t.create("bpmn:Category",{categoryValue:[n]});return(0,i.add)(e.get("rootElements"),t),(0,o.getBusinessObject)(t).$parent=e,(0,o.getBusinessObject)(n).$parent=t,n};var i=e("diagram-js/lib/util/Collections"),o=e("../../../../util/ModelUtil")},{"../../../../util/ModelUtil":419,"diagram-js/lib/util/Collections":602}],373:[function(e,t,n){"use strict";function i(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function o(e,t){var n=t[0],i=t[1],o={x:i.x-n.x,y:i.y-n.y},i=(t=[n.x,n.y],i=[o.x,o.y],e=[e.x,e.y],-((e=[{n:t[0]-e[0],lambda:i[0]},{n:t[1]-e[1],lambda:i[1]}])[0].n*i[0]+e[1].n*i[1])/(e[0].lambda*i[0]+e[1].lambda*i[1]));return{x:n.x+i*o.x,y:n.y+i*o.y}}Object.defineProperty(n,"__esModule",{value:!0}),n.vectorLength=i,n.getAngle=function(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))},n.rotateVector=function(e,t){return t?{x:Math.cos(t)*e.x-Math.sin(t)*e.y,y:Math.sin(t)*e.x+Math.cos(t)*e.y}:e},n.perpendicularFoot=o,n.getDistancePointLine=function(e,t){t=o(e,t);return i({x:t.x-e.x,y:t.y-e.y})},n.getDistancePointPoint=function(e,t){return i({x:e.x-t.x,y:e.y-t.y})}},{}],374:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findNewLabelLineStartIndex=g,n.getLabelAdjustment=function(e,t,n,i){var o=0,r=0,a=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}(e),s=(0,f.getAttachment)(a,n),l=s.segmentIndex,c=g(n,t,s,i);if(null===c)return{x:o,y:r};if(c<0||c>t.length-2)return{x:o,y:r};var u=y(n,l),d=y(t,c),e=s.position,i=function(e,t){var n=(0,h.getDistancePointPoint)(e[0],e[1]),t=(0,h.getDistancePointPoint)(e[0],t);return 0===n?0:t/n}(u,e),l=function(e,t){e=(0,h.getAngle)(e);return(0,h.getAngle)(t)-e}(u,d);if("bendpoint"===s.type){var c=t.length-n.length,p=s.bendpointIndex,u=n[p];if(-1!==t.indexOf(u))return{x:o,y:r};if(0==c){t=t[p];return{x:t.x-s.position.x,y:t.y-s.position.y}}c<0&&0!==p&&p<n.length-1&&(i=v(n,p))}p=(d[1].x-d[0].x)*i+d[0].x,d=(d[1].y-d[0].y)*i+d[0].y,l=(0,h.rotateVector)({x:a.x-e.x,y:a.y-e.y},l);return o=p+l.x-a.x,r=d+l.y-a.y,(0,m.roundPoint)({x:o,y:r})};var h=e("./GeometricUtil"),f=e("./LineAttachmentUtil"),m=e("diagram-js/lib/layout/LayoutUtil");function g(e,t,n,i){var o=n.segmentIndex,r=t.length-e.length;if(i.segmentMove){var a=i.segmentMove.segmentStartIndex,s=i.segmentMove.newSegmentStartIndex;return o===a?s:s<=o?o+r<s?s:o+r:o}if(i.bendpointMove){var l,a=i.bendpointMove.insert,s=i.bendpointMove.bendpointIndex;return 0==r?o:(s<=o&&(l=a?o+1:o-1),o<s&&(l=o,a&&"bendpoint"!==n.type&&s-1===o&&v(t,s)<n.relativeLocation&&l++),l)}return 0==r?o:i.connectionStart?0===o?0:null:i.connectionEnd&&o===e.length-2?t.length-2:null}function v(e,t){var n=(0,h.getDistancePointPoint)(e[t-1],e[t]);return n/(n+(0,h.getDistancePointPoint)(e[t],e[t+1]))}function y(e,t){return[e[t],e[t+1]]}},{"./GeometricUtil":373,"./LineAttachmentUtil":375,"diagram-js/lib/layout/LayoutUtil":589}],375:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getAttachment=function(e,t){var n,i,o,r,a,s,l,c=0;for(c=0;c<t.length-1;c++){if(n=t[c],a=t[c+1],(o=f(n,a)?[n]:(i=p(e,n),o=p(e,a),o=d(i,o),function(i,o,e,t){var n=o.x-i.x,r=o.y-i.y,a=e.x-i.x,s=e.y-i.y,l=n*n+r*r,e=(n*a+r*s)/l,s=e*e-(a*a+s*s-t*t)/l;s<0&&-1e-6<s&&(s=0);if(s<0)return[];t=u(s),l=-e+t,t=-e-t,l={x:i.x-n*l,y:i.y-r*l};if(0===s)return[l];t={x:i.x-n*t,y:i.y-r*t};return[l,t].filter(function(e){return t=i,n=o,h((e=e).x,t.x,n.x)&&h(e.y,t.y,n.y);var t,n})}(n,a,e,o))).length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===o.length&&(r={type:"bendpoint",position:o[0],segmentIndex:c,bendpointIndex:f(n,o[0])?c:c+1}),2===o.length&&(o=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}(o[0],o[1]),r={type:"segment",position:o,segmentIndex:c,relativeLocation:p(n,o)/p(n,a)}),a=p(r.position,e),(!l||a<s)&&(l=r,s=a)}return l};var u=Math.sqrt,d=Math.min,i=Math.max,o=Math.abs;function r(e){return Math.pow(e,2)}function p(e,t){return u(r(e.x-t.x)+r(e.y-t.y))}function h(e,t,n){return e>=d(t,n)-a&&e<=i(t,n)+a}var a=.1;function f(e,t){return o(e.x-t.x)<=a&&o(e.y-t.y)<=a}},{}],376:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,i){var o,r,a;return 0!=(r=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y))?(o=e.y-n.y,a=e.x-n.x,a=(i.x-n.x)*o-(i.y-n.y)*a,r=a/r,{x:Math.round(e.x+r*(t.x-e.x)),y:Math.round(e.y+r*(t.y-e.y))}):null}},{}],377:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getParticipantResizeConstraints=function(e,t,n){var i=(0,p.getLanesRoot)(e),o=!0,r=!0,a=(0,p.collectLanes)(i,[i]),s=(0,d.asTRBL)(e),l={},c={};/e/.test(t)?c.right=s.left+h.LANE_MIN_DIMENSIONS.width:/w/.test(t)&&(c.left=s.right-h.LANE_MIN_DIMENSIONS.width);return a.forEach(function(e){e=(0,d.asTRBL)(e);/n/.test(t)&&(e.top<s.top-10&&(o=!1),n&&f(s.top-e.bottom)<10&&g(l,"top",e.top+h.LANE_MIN_DIMENSIONS.height),f(s.top-e.top)<5&&m(c,"top",e.bottom-h.LANE_MIN_DIMENSIONS.height)),/s/.test(t)&&(e.bottom>s.bottom+10&&(r=!1),n&&f(s.bottom-e.top)<10&&m(l,"bottom",e.bottom-h.LANE_MIN_DIMENSIONS.height),f(s.bottom-e.bottom)<5&&g(c,"bottom",e.top+h.LANE_MIN_DIMENSIONS.height))}),i.children.filter(function(e){return!e.hidden&&!e.waypoints&&((0,u.is)(e,"bpmn:FlowElement")||(0,u.is)(e,"bpmn:Artifact"))}).forEach(function(e){e=(0,d.asTRBL)(e);o&&/n/.test(t)&&m(c,"top",e.top-b),/e/.test(t)&&g(c,"right",e.right+v),r&&/s/.test(t)&&g(c,"bottom",e.bottom+x),/w/.test(t)&&m(c,"left",e.left-y)}),{min:c,max:l}};var u=e("../../../../util/ModelUtil"),d=e("diagram-js/lib/layout/LayoutUtil"),p=e("../../../modeling/util/LaneUtil"),h=e("../ResizeBehavior"),f=Math.abs,i=Math.min,o=Math.max;function r(e,t,n,i){var o=e[t];e[t]=void 0===o?n:i(n,o)}function m(e,t,n){return r(e,t,n,i),0}function g(e,t,n){return r(e,t,n,o),0}var v=20,y=50,b=20,x=20},{"../../../../util/ModelUtil":419,"../../../modeling/util/LaneUtil":389,"../ResizeBehavior":362,"diagram-js/lib/layout/LayoutUtil":589}],378:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var h=e("min-dash"),f=e("diagram-js/lib/util/Elements"),m=e("../util/LaneUtil");function i(e,t){this._modeling=e,this._spaceTool=t}i.$inject=["modeling","spaceTool"],i.prototype.preExecute=function(e){var t=this._spaceTool,n=this._modeling,i=e.shape,o=e.location,r=(0,m.getLanesRoot)(i),a=r===i,s=a?i:i.parent;(0,m.getChildLanes)(s).length||n.createShape({type:"bpmn:Lane"},{x:i.x+m.LANE_INDENTATION,y:i.y,width:i.width-m.LANE_INDENTATION,height:i.height},s);var l=[];(0,f.eachElement)(r,function(e){return l.push(e),e.label&&l.push(e.label),e===i?[]:(0,h.filter)(e.children,function(e){return e!==i})});var c="top"===o?-120:120,u="top"===o?i.y:i.y+i.height,d=u+("top"===o?10:-10),p="top"===o?"n":"s",r=t.calculateAdjustments(l,"y",c,d);t.makeSpace(r.movingShapes,r.resizingShapes,{x:0,y:c},p,d),e.newLane=n.createShape({type:"bpmn:Lane"},{x:i.x+(a?m.LANE_INDENTATION:0),y:u-("top"===o?120:0),width:i.width-(a?m.LANE_INDENTATION:0),height:120},s)}},{"../util/LaneUtil":389,"diagram-js/lib/util/Elements":604,"min-dash":834}],379:[function(e,t,n){"use strict";function i(e){this._moddle=e}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).$inject=["moddle"],i.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.claim(n,i):t.unclaim(n)},i.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.unclaim(n):t.claim(n,i)}},{}],380:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var d=e("../../../util/ModelUtil"),p=e("../util/LaneUtil"),h=e("diagram-js/lib/util/Elements"),f=e("diagram-js/lib/layout/LayoutUtil"),m=e("diagram-js/lib/features/resize/ResizeUtil");function i(e,t){this._modeling=e,this._spaceTool=t}i.$inject=["modeling","spaceTool"],i.prototype.preExecute=function(e){var t=e.shape,n=e.newBounds;!1!==e.balanced?this.resizeBalanced(t,n):this.resizeSpace(t,n)},i.prototype.resizeBalanced=function(e,t){var n=this._modeling,i=(0,p.computeLanesResize)(e,t);n.resizeShape(e,t),i.forEach(function(e){n.resizeShape(e.shape,e.newBounds)})},i.prototype.resizeSpace=function(e,t){var n,i,o,r,a,s=this._spaceTool,l=(0,f.asTRBL)(e),t=(0,f.asTRBL)(t),t=(0,m.substractTRBL)(t,l),l=(0,p.getLanesRoot)(e),c=[],u=[];(0,h.eachElement)(l,function(e){return c.push(e),((0,d.is)(e,"bpmn:Lane")||(0,d.is)(e,"bpmn:Participant"))&&u.push(e),e.children}),(t.bottom||t.top)&&(n=t.bottom||t.top,i=e.y+(t.bottom?e.height:0)+(t.bottom?-10:10),o=t.bottom?"s":"n",r=0<t.top||t.bottom<0?-n:n,a=s.calculateAdjustments(c,"y",r,i),s.makeSpace(a.movingShapes,a.resizingShapes,{x:0,y:n},o)),(t.left||t.right)&&(n=t.right||t.left,i=e.x+(t.right?e.width:0)+(t.right?-10:100),o=t.right?"e":"w",r=0<t.left||t.right<0?-n:n,a=s.calculateAdjustments(u,"x",r,i),s.makeSpace(a.movingShapes,a.resizingShapes,{x:n,y:0},o))}},{"../../../util/ModelUtil":419,"../util/LaneUtil":389,"diagram-js/lib/features/resize/ResizeUtil":557,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/util/Elements":604}],381:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash"),r={fill:void 0,stroke:void 0};function i(e){this._commandStack=e,this._normalizeColor=function(e){if(e){if((0,o.isString)(e)){n=(t=e,(n=document.createElement("canvas").getContext("2d")).fillStyle="transparent",n.fillStyle=t,/^#[0-9a-fA-F]{6}$/.test(n.fillStyle)?n.fillStyle:null);if(n)return n}var t,n;throw new Error("invalid color value: "+e)}}}i.$inject=["commandStack"],i.prototype.postExecute=function(e){var t=e.elements,e=e.colors||r,n=this,i={};"fill"in e&&(0,o.assign)(i,{"background-color":this._normalizeColor(e.fill)}),"stroke"in e&&(0,o.assign)(i,{"border-color":this._normalizeColor(e.stroke)}),(0,o.forEach)(t,function(e){var t=e.waypoints?(0,o.pick)(i,["border-color"]):i;!function(e){"border-color"in e&&(e.stroke=e["border-color"]);"background-color"in e&&(e.fill=e["background-color"])}(t),n._commandStack.execute("element.updateProperties",{element:e,properties:{di:t}})})}},{"min-dash":834}],382:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var d=e("../util/LaneUtil");function i(e,t){this._modeling=e,this._translate=t}i.$inject=["modeling","translate"],i.prototype.preExecute=function(e){var t=this._modeling,n=this._translate,i=e.shape,o=e.count,r=(0,d.getChildLanes)(i),a=r.length;if(o<a)throw new Error(n("more than {count} child lanes",{count:o}));for(var s,l,c=Math.round(i.height/o),u=0;u<o;u++)s=i.y+u*c,l=u===o-1?i.height-c*u:c,l={x:i.x+d.LANE_INDENTATION,y:s,width:i.width-d.LANE_INDENTATION,height:l},u<a?t.resizeShape(r[u],l):t.createShape({type:"bpmn:Lane"},l,i)}},{"../util/LaneUtil":389}],383:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var l=e("diagram-js/lib/util/Collections");function i(e,t){this._canvas=e,this._modeling=t}i.$inject=["canvas","modeling"],i.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,o=t.getRootElement(),r=o.businessObject,a=r.$parent,s=r.di;t.setRootElement(n,!0),(0,l.add)(a.rootElements,i),i.$parent=a,(0,l.remove)(a.rootElements,r),r.$parent=null,r.di=null,(s.bpmnElement=i).di=s,e.oldRoot=o},i.prototype.revert=function(e){var t=this._canvas,n=e.newRoot.businessObject,i=e.oldRoot,o=i.businessObject,r=n.$parent,e=n.di;t.setRootElement(i,!0),(0,l.remove)(r.rootElements,n),(n.$parent=null,l.add)(r.rootElements,o),o.$parent=r,n.di=null,(e.bpmnElement=o).di=e}},{"diagram-js/lib/util/Collections":602}],384:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var l=e("../util/LaneUtil"),c=e("../../../util/ModelUtil"),i=e("diagram-js/lib/util/Collections"),u=e("diagram-js/lib/layout/LayoutUtil"),d="flowNodeRef";function o(e){this._elementRegistry=e}o.$inject=["elementRegistry"],o.prototype.computeUpdates=function(e,t){var n=[],i=[],o={},r=[];function a(e){-1===n.indexOf(e)&&(r.push(e),n.push(e))}function s(i){return i.parent?(e=i,e=(0,l.getLanesRoot)(e),o[e.id]||(o[e.id]=(0,l.collectLanes)(e)),o[e.id]).filter(function(e){return t=i,n=e,e=(0,u.asTRBL)(n),n=t.x+t.width/2,t=t.y+t.height/2,n>e.left&&n<e.right&&t>e.top&&t<e.bottom;var t,n}).map(function(e){return e.businessObject}):[];var e}return t.forEach(function(e){e=(0,l.getLanesRoot)(e);e&&-1===n.indexOf(e)&&(e.children.filter(function(e){return(0,c.is)(e,"bpmn:FlowNode")}).forEach(a),n.push(e))}),e.forEach(a),r.forEach(function(e){var t=e.businessObject,n=t.get("lanes").slice(),e=s(e);i.push({flowNode:t,remove:n,add:e})}),t.forEach(function(e){var t=e.businessObject;e.parent||t.get(d).forEach(function(e){i.push({flowNode:e,remove:[t],add:[]})})}),i},o.prototype.execute=function(e){(e.updates||(e.updates=this.computeUpdates(e.flowNodeShapes,e.laneShapes))).forEach(function(e){var t=e.flowNode,n=t.get("lanes");e.remove.forEach(function(e){(0,i.remove)(n,e),(0,i.remove)(e.get(d),t)}),e.add.forEach(function(e){(0,i.add)(n,e),(0,i.add)(e.get(d),t)})})},o.prototype.revert=function(e){e.updates.forEach(function(e){var t=e.flowNode,n=t.get("lanes");e.add.forEach(function(e){(0,i.remove)(n,e),(0,i.remove)(e.get(d),t)}),e.remove.forEach(function(e){(0,i.add)(n,e),(0,i.add)(e.get(d),t)})})}},{"../../../util/ModelUtil":419,"../util/LaneUtil":389,"diagram-js/lib/layout/LayoutUtil":589,"diagram-js/lib/util/Collections":602}],385:[function(e,t,n){"use strict";var a=e("min-dash").reduce,s=e("min-dash").keys,i=e("min-dash").forEach,o=e("../../../util/ModelUtil").is,r=e("../../../util/ModelUtil").getBusinessObject;function l(e){this._elementRegistry=e}function c(n,e){i(e,function(e,t){n.set(t,e)})}l.$inject=["elementRegistry"],(t.exports=l).prototype.execute=function(e){var t=e.element,n=e.moddleElement,i=e.properties;if(!n)throw new Error("<moddleElement> required");var o,r,t=e.changed||this.getVisualReferences(n).concat(t),r=e.oldProperties||(o=n,r=s(i),a(r,function(e,t){return e[t]=o.get(t),e},{}));return c(n,i),e.oldProperties=r,e.changed=t},l.prototype.revert=function(e){var t=e.oldProperties,n=e.moddleElement,e=e.changed;return c(n,t),e},l.prototype.getVisualReferences=function(e){var t,n=this._elementRegistry;return o(e,"bpmn:DataObject")?(t=e,n.filter(function(e){return o(e,"bpmn:DataObjectReference")&&r(e).dataObjectRef===t})):[]}},{"../../../util/ModelUtil":419,"min-dash":834}],386:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var p=e("min-dash"),h=e("../../../util/ModelUtil"),f="default",i={width:0,height:0};function o(e,t,n,i,o){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=i,this._textRenderer=o}function m(e,t){return"id"in e&&e.id!==t.id}function g(i,e){(0,p.forEach)(e,function(e,t){var n;"di"!==t?i.set(t,e):i.di&&(n=i.di,(0,p.forEach)(e,function(e,t){n.set(t,e)}))})}o.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],o.prototype.execute=function(e){var t=e.element,n=[t],i=this._translate;if(!t)throw new Error(i("element required"));var o,r,a,s,l,c=this._elementRegistry,u=this._moddle.ids,d=t.businessObject,i=(s=e.properties,l=(0,p.assign)({},s),v.forEach(function(e){e in s&&(l[e]=(0,h.getBusinessObject)(l[e]))}),l),a=e.oldProperties||(o=d,r=i,a=(0,p.keys)(r),(0,p.reduce)(a,function(e,t){var n;return e[t]="di"!==t?o.get(t):(n=o.di,t=(0,p.keys)(r.di),(0,p.reduce)(t,function(e,t){return e[t]=n.get(t),e},{})),e},{}));return m(i,d)&&(u.unclaim(d.id),c.updateId(t,i.id),u.claim(i.id,d)),f in i&&(i[f]&&n.push(c.get(i[f].id)),d[f]&&n.push(c.get(d[f].id))),g(d,i),e.oldProperties=a,e.changed=n},o.prototype.postExecute=function(e){var t=e.element.label,e=t&&(0,h.getBusinessObject)(t).name;e&&(e=this._textRenderer.getExternalLabelBounds(t,e),this._modeling.resizeShape(t,e,i))},o.prototype.revert=function(e){var t=e.element,n=e.properties,i=e.oldProperties,o=t.businessObject,r=this._elementRegistry,a=this._moddle.ids;return g(o,i),m(n,o)&&(a.unclaim(n.id),r.updateId(t,i.id),a.claim(i.id,o)),e.changed};var v=["default"]},{"../../../util/ModelUtil":419,"min-dash":834}],387:[function(e,t,n){"use strict";function i(e){this._bpmnUpdater=e}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).$inject=["bpmnUpdater"],i.prototype.execute=function(e){var t=e.dataStoreBo,n=e.newSemanticParent,i=e.newDiParent;e.oldSemanticParent=t.$parent,e.oldDiParent=t.di.$parent,this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(t.di,i)},i.prototype.revert=function(e){var t=e.dataStoreBo,n=e.oldSemanticParent,e=e.oldDiParent;this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(t.di,e)}},{}],388:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=x(e("./behavior")),o=x(e("../rules")),r=x(e("../di-ordering")),a=x(e("../ordering")),s=x(e("../replace")),l=x(e("diagram-js/lib/command")),c=x(e("diagram-js/lib/features/tooltips")),u=x(e("diagram-js/lib/features/label-support")),d=x(e("diagram-js/lib/features/attach-support")),p=x(e("diagram-js/lib/features/selection")),h=x(e("diagram-js/lib/features/change-support")),f=x(e("diagram-js/lib/features/space-tool")),m=x(e("./BpmnFactory")),g=x(e("./BpmnUpdater")),v=x(e("./ElementFactory")),y=x(e("./Modeling")),b=x(e("./BpmnLayouter")),e=x(e("diagram-js/lib/layout/CroppingConnectionDocking"));function x(e){return e&&e.__esModule?e:{default:e}}e={__init__:["modeling","bpmnUpdater"],__depends__:[i.default,o.default,r.default,a.default,s.default,l.default,c.default,u.default,d.default,p.default,h.default,f.default],bpmnFactory:["type",m.default],bpmnUpdater:["type",g.default],elementFactory:["type",v.default],modeling:["type",y.default],layouter:["type",b.default],connectionDocking:["type",e.default]};n.default=e},{"../di-ordering":312,"../ordering":392,"../replace":402,"../rules":404,"./BpmnFactory":332,"./BpmnLayouter":333,"./BpmnUpdater":334,"./ElementFactory":335,"./Modeling":336,"./behavior":371,"diagram-js/lib/command":435,"diagram-js/lib/features/attach-support":449,"diagram-js/lib/features/change-support":466,"diagram-js/lib/features/label-support":508,"diagram-js/lib/features/selection":567,"diagram-js/lib/features/space-tool":577,"diagram-js/lib/features/tooltips":581,"diagram-js/lib/layout/CroppingConnectionDocking":588}],389:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.collectLanes=f,n.getChildLanes=function(e){return e.children.filter(function(e){return(0,i.is)(e,"bpmn:Lane")})},n.getLanesRoot=m,n.computeLanesResize=function(a,e){var t=m(a),n=(0,i.is)(t,"bpmn:Process")?[]:[t],n=f(t,n),s=(0,d.asTRBL)(a),l=(0,d.asTRBL)(e),c=function(e,t){return(0,p.substractTRBL)((0,d.asTRBL)(t),(0,d.asTRBL)(e))}(a,e),u=[];return n.forEach(function(e){var t,n,i,o,r;e!==a&&(n=c.right,o=c.left,r=(i=t=0,d.asTRBL)(e),c.top&&(h(r.bottom-s.top)<10&&(i=l.top-r.bottom),h(r.top-s.top)<5&&(t=l.top-r.top)),c.bottom&&(h(r.top-s.bottom)<10&&(t=l.bottom-r.top),h(r.bottom-s.bottom)<5&&(i=l.bottom-r.bottom)),(t||n||i||o)&&u.push({shape:e,newBounds:(0,p.resizeTRBL)(e,{top:t,right:n,bottom:i,left:o})}))}),u},n.LANE_INDENTATION=void 0;var i=e("../../../util/ModelUtil"),o=e("./ModelingUtil"),d=e("diagram-js/lib/layout/LayoutUtil"),p=e("diagram-js/lib/features/resize/ResizeUtil"),h=Math.abs;var r=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function f(e,t){return t=t||[],e.children.filter(function(e){(0,i.is)(e,"bpmn:Lane")&&(f(e,t),t.push(e))}),t}function m(e){return(0,o.getParent)(e,r)||e}n.LANE_INDENTATION=30},{"../../../util/ModelUtil":419,"./ModelingUtil":390,"diagram-js/lib/features/resize/ResizeUtil":557,"diagram-js/lib/layout/LayoutUtil":589}],390:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAny=r,n.getParent=function(e,t){"string"==typeof t&&(t=[t]);for(;e=e.parent;)if(r(e,t))return e;return null};var i=e("min-dash"),o=e("../../../util/ModelUtil");function r(t,e){return(0,i.some)(e,function(e){return(0,o.is)(t,e)})}},{"../../../util/ModelUtil":419,"min-dash":834}],391:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=o(e("inherits")),i=o(e("diagram-js/lib/features/ordering/OrderingProvider")),l=e("../modeling/util/ModelingUtil"),c=e("min-dash");function o(e){return e&&e.__esModule?e:{default:e}}function r(e,r,a){i.default.call(this,e);var n=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:3,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:Process"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:Process"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function s(e){var t=e.order;return t||(e.order=t=function(t){if(t.labelTarget)return{level:10};var e=(0,c.find)(n,function(e){return(0,l.isAny)(t,[e.type])});return e&&e.order||{level:1}}(e)),t}this.getOrdering=function(t,e){if(t.labelTarget)return{parent:r.getRootElement(),index:-1};var n=s(t),i=(e=n.containers?function(e,t,n){for(var i=t;i&&!(0,l.isAny)(i,n);)i=i.parent;if(!i)throw new Error(a("no parent for {element} in {parent}",{element:e.id,parent:t.id}));return i}(t,e,n.containers):e).children.indexOf(t),o=(0,c.findIndex)(e.children,function(e){return!(!t.labelTarget&&e.labelTarget)&&n.level<s(e).level});return-1!==o&&-1!==i&&i<o&&--o,{index:o,parent:e}}}r.$inject=["eventBus","canvas","translate"],(0,n.default)(r,i.default)},{"../modeling/util/ModelingUtil":390,"diagram-js/lib/features/ordering/OrderingProvider":541,inherits:623,"min-dash":834}],392:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/i18n/translate")),e=o(e("./BpmnOrderingProvider"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",e.default]};n.default=e},{"./BpmnOrderingProvider":391,"diagram-js/lib/i18n/translate":585}],393:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var p=e("min-dash");function i(e,t,n,i,o,r,a,s){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=o,this._handTool=r,this._globalConnect=a,this._translate=s,e.registerProvider(this)}i.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],i.prototype.getPaletteEntries=function(e){var t={},s=this._create,l=this._elementFactory,n=this._spaceTool,i=this._lassoTool,o=this._handTool,r=this._globalConnect,c=this._translate;function a(n,e,t,i,o){function r(e){var t=l.createShape((0,p.assign)({type:n},o));o&&(t.businessObject.di.isExpanded=o.isExpanded),s.start(e,t)}var a=n.replace(/^bpmn:/,"");return{group:e,className:t,title:i||c("Create {type}",{type:a}),action:{dragstart:r,click:r}}}function u(e){var t=l.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),n=l.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:t});s.start(e,[t,n],{hints:{autoSelect:[n]}})}function d(e){s.start(e,l.createParticipantShape())}return(0,p.assign)(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:c("Activate the hand tool"),action:{click:function(e){o.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:c("Activate the lasso tool"),action:{click:function(e){i.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:c("Activate the create/remove space tool"),action:{click:function(e){n.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:c("Activate the global connect tool"),action:{click:function(e){r.start(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":a("bpmn:StartEvent","event","bpmn-icon-start-event-none",c("Create StartEvent")),"create.intermediate-event":a("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",c("Create Intermediate/Boundary Event")),"create.end-event":a("bpmn:EndEvent","event","bpmn-icon-end-event-none",c("Create EndEvent")),"create.exclusive-gateway":a("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",c("Create Gateway")),"create.task":a("bpmn:Task","activity","bpmn-icon-task",c("Create Task")),"create.data-object":a("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",c("Create DataObjectReference")),"create.data-store":a("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",c("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:c("Create expanded SubProcess"),action:{dragstart:u,click:u}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:c("Create Pool/Participant"),action:{dragstart:d,click:d}},"create.group":a("bpmn:Group","artifact","bpmn-icon-group",c("Create Group"))}),t}},{"min-dash":834}],394:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=u(e("diagram-js/lib/features/palette")),o=u(e("diagram-js/lib/features/create")),r=u(e("diagram-js/lib/features/space-tool")),a=u(e("diagram-js/lib/features/lasso-tool")),s=u(e("diagram-js/lib/features/hand-tool")),l=u(e("diagram-js/lib/features/global-connect")),c=u(e("diagram-js/lib/i18n/translate")),e=u(e("./PaletteProvider"));function u(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default,a.default,s.default,l.default,c.default],__init__:["paletteProvider"],paletteProvider:["type",e.default]};n.default=e},{"./PaletteProvider":393,"diagram-js/lib/features/create":480,"diagram-js/lib/features/global-connect":488,"diagram-js/lib/features/hand-tool":496,"diagram-js/lib/features/lasso-tool":510,"diagram-js/lib/features/palette":547,"diagram-js/lib/features/space-tool":577,"diagram-js/lib/i18n/translate":585}],395:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var l=e("../../util/ModelUtil"),r=e("../../util/DiUtil"),a=e("./util/TypeUtil"),s=e("min-dash"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n])}i.default=e,t&&t.set(e,i);return i}(e("../replace/ReplaceOptions"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function i(e,t,n,i,o,r,a){this._bpmnFactory=e,this._popupMenu=t,this._modeling=n,this._moddle=i,this._bpmnReplace=o,this._rules=r,this._translate=a,this.register()}i.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate"],i.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},i.prototype.getEntries=function(i){var e,n=i.businessObject;if(!this._rules.allowed("shape.replace",{element:i}))return[];var o=(0,a.isDifferentType)(i);return(0,l.is)(n,"bpmn:DataObjectReference")?this._createEntries(i,c.DATA_OBJECT_REFERENCE):(0,l.is)(n,"bpmn:DataStoreReference")?this._createEntries(i,c.DATA_STORE_REFERENCE):(0,l.is)(n,"bpmn:StartEvent")&&!(0,l.is)(n.$parent,"bpmn:SubProcess")?(e=(0,s.filter)(c.START_EVENT,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:Participant")?(e=(0,s.filter)(c.PARTICIPANT,function(e){return(0,r.isExpanded)(n)!==e.target.isExpanded}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:StartEvent")&&(0,r.isEventSubProcess)(n.$parent)?(e=(0,s.filter)(c.EVENT_SUB_PROCESS_START_EVENT,function(e){var t=!1!==e.target.isInterrupting,t=(0,l.getBusinessObject)(i).isInterrupting===t;return o(e)||!o(e)&&!t}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:StartEvent")&&!(0,r.isEventSubProcess)(n.$parent)&&(0,l.is)(n.$parent,"bpmn:SubProcess")?(e=(0,s.filter)(c.START_EVENT_SUB_PROCESS,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:EndEvent")?(e=(0,s.filter)(c.END_EVENT,function(e){return!("bpmn:CancelEventDefinition"==e.target.eventDefinitionType&&!(0,l.is)(n.$parent,"bpmn:Transaction"))&&o(e)}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:BoundaryEvent")?(e=(0,s.filter)(c.BOUNDARY_EVENT,function(e){var t=e.target;if("bpmn:CancelEventDefinition"==t.eventDefinitionType&&!(0,l.is)(n.attachedToRef,"bpmn:Transaction"))return!1;t=!1!==t.cancelActivity,t=n.cancelActivity==t;return o(e)||!o(e)&&!t}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:IntermediateCatchEvent")||(0,l.is)(n,"bpmn:IntermediateThrowEvent")?(e=(0,s.filter)(c.INTERMEDIATE_EVENT,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:Gateway")?(e=(0,s.filter)(c.GATEWAY,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:Transaction")?(e=(0,s.filter)(c.TRANSACTION,o),this._createEntries(i,e)):(0,r.isEventSubProcess)(n)&&(0,r.isExpanded)(n)?(e=(0,s.filter)(c.EVENT_SUB_PROCESS,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:SubProcess")&&(0,r.isExpanded)(n)?(e=(0,s.filter)(c.SUBPROCESS_EXPANDED,o),this._createEntries(i,e)):(0,l.is)(n,"bpmn:AdHocSubProcess")&&!(0,r.isExpanded)(n)?(e=(0,s.filter)(c.TASK,function(e){var t=e.target,n="bpmn:SubProcess"===t.type,e=!0===t.isExpanded;return(0,a.isDifferentType)(i,t)&&(!n||e)}),this._createEntries(i,e)):(0,l.is)(n,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(i,c.SEQUENCE_FLOW):(0,l.is)(n,"bpmn:FlowNode")?(e=(0,s.filter)(c.TASK,o),(0,l.is)(n,"bpmn:SubProcess")&&!(0,r.isExpanded)(n)&&(e=(0,s.filter)(e,function(e){return"Sub Process (collapsed)"!==e.label})),this._createEntries(i,e)):[]},i.prototype.getHeaderEntries=function(e){var t=[];return(0,l.is)(e,"bpmn:Activity")&&!(0,r.isEventSubProcess)(e)&&(t=t.concat(this._getLoopEntries(e))),(0,l.is)(e,"bpmn:DataObjectReference")&&(t=t.concat(this._getDataObjectIsCollection(e))),(0,l.is)(e,"bpmn:Participant")&&(t=t.concat(this._getParticipantMultiplicity(e))),!(0,l.is)(e,"bpmn:SubProcess")||(0,l.is)(e,"bpmn:Transaction")||(0,r.isEventSubProcess)(e)||t.push(this._getAdHocEntry(e)),t},i.prototype._createEntries=function(t,e){var n=[],i=this;return(0,s.forEach)(e,function(e){e=i._createMenuEntry(e,t);n.push(e)}),n},i.prototype._createSequenceFlowEntries=function(t,e){var n=(0,l.getBusinessObject)(t),i=[],o=this._modeling,r=this._moddle,a=this;return(0,s.forEach)(e,function(e){switch(e.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&((0,l.is)(n.sourceRef,"bpmn:ExclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:InclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:ComplexGateway")||(0,l.is)(n.sourceRef,"bpmn:Activity"))&&i.push(a._createMenuEntry(e,t,function(){o.updateProperties(t.source,{default:n})}));break;case"replace-with-conditional-flow":!n.conditionExpression&&(0,l.is)(n.sourceRef,"bpmn:Activity")&&i.push(a._createMenuEntry(e,t,function(){var e=r.create("bpmn:FormalExpression",{body:""});o.updateProperties(t,{conditionExpression:e})}));break;default:if((0,l.is)(n.sourceRef,"bpmn:Activity")&&n.conditionExpression)return i.push(a._createMenuEntry(e,t,function(){o.updateProperties(t,{conditionExpression:void 0})}));if(((0,l.is)(n.sourceRef,"bpmn:ExclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:InclusiveGateway")||(0,l.is)(n.sourceRef,"bpmn:ComplexGateway")||(0,l.is)(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n)return i.push(a._createMenuEntry(e,t,function(){o.updateProperties(t.source,{default:void 0})}))}}),i},i.prototype._createMenuEntry=function(e,t,n){var i=this._translate,o=this._bpmnReplace.replaceElement,r=e.label;return n=n||function(){return o(t,e.target)},{label:i(r=r&&"function"==typeof r?r(t):r),className:e.className,id:e.actionName,action:n}},i.prototype._getLoopEntries=function(i){var o=this,e=this._translate;function t(e,t){var n;t.active?n=void 0:(n=o._moddle.create(t.options.loopCharacteristics),t.options.isSequential&&(n.isSequential=t.options.isSequential)),o._modeling.updateProperties(i,{loopCharacteristics:n})}var n,r,a,s=(0,l.getBusinessObject)(i).loopCharacteristics;return s&&(n=s.isSequential,r=void 0===s.isSequential,a=void 0!==s.isSequential&&!s.isSequential),[{id:"toggle-parallel-mi",className:"bpmn-icon-parallel-mi-marker",title:e("Parallel Multi Instance"),active:a,action:t,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},{id:"toggle-sequential-mi",className:"bpmn-icon-sequential-mi-marker",title:e("Sequential Multi Instance"),active:n,action:t,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},{id:"toggle-loop",className:"bpmn-icon-loop-marker",title:e("Loop"),active:r,action:t,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}]},i.prototype._getDataObjectIsCollection=function(n){var i=this,e=this._translate;var o=n.businessObject.dataObjectRef,t=o.isCollection;return[{id:"toggle-is-collection",className:"bpmn-icon-parallel-mi-marker",title:e("Collection"),active:t,action:function(e,t){i._modeling.updateModdleProperties(n,o,{isCollection:!t.active})}}]},i.prototype._getParticipantMultiplicity=function(i){var o=this,r=this._bpmnFactory,e=this._translate;var t=i.businessObject.participantMultiplicity;return[{id:"toggle-participant-multiplicity",className:"bpmn-icon-parallel-mi-marker",title:e("Participant Multiplicity"),active:!!t,action:function(e,t){var n;t.active||(n=r.create("bpmn:ParticipantMultiplicity")),o._modeling.updateProperties(i,{participantMultiplicity:n})}}]},i.prototype._getAdHocEntry=function(n){var e=this._translate,t=(0,l.getBusinessObject)(n),i=(0,l.is)(t,"bpmn:AdHocSubProcess"),o=this._bpmnReplace.replaceElement;return{id:"toggle-adhoc",className:"bpmn-icon-ad-hoc-marker",title:e("Ad-hoc"),active:i,action:function(e,t){return o(n,i?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}},{"../../util/DiUtil":417,"../../util/ModelUtil":419,"../replace/ReplaceOptions":401,"./util/TypeUtil":397,"min-dash":834}],396:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("diagram-js/lib/features/popup-menu")),o=r(e("../replace")),e=r(e("./ReplaceMenuProvider"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",e.default]};n.default=e},{"../replace":402,"./ReplaceMenuProvider":395,"diagram-js/lib/features/popup-menu":549}],397:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDifferentType=function(r){return function(e){var t=e.target,n=(0,a.getBusinessObject)(r),i=n.eventDefinitions&&n.eventDefinitions[0],o=n.$type===t.type,e=(i&&i.$type)===t.eventDefinitionType,i=n.triggeredByEvent===t.triggeredByEvent,n=void 0===t.isExpanded||t.isExpanded===(0,s.isExpanded)(n);return!(o&&e&&i&&n)}};var a=e("../../../util/ModelUtil"),s=e("../../../util/DiUtil")},{"../../../util/DiUtil":417,"../../../util/ModelUtil":419}],398:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=o(e("diagram-js/lib/command/CommandInterceptor")),n=o(e("inherits")),u=o(e("css.escape")),d=e("min-dash"),p=e("min-dom"),h=e("tiny-svg");function o(e){return e&&e.__esModule?e:{default:e}}var r=250;function a(e,a,s,l,c){i.default.call(this,e),e.on("shape.move.move",r,function(e){var i,o,r,t=e.context,e=t.canExecute;t.visualReplacements||(t.visualReplacements={}),e&&e.replacements?(e=(r=t).canExecute.replacements,(0,d.forEach)(e,function(e){var t=e.oldElementId,n={type:e.newElementType};r.visualReplacements[t]||(e=a.get(t),(0,d.assign)(n,{x:e.x,y:e.y}),n=s.createShape(n),l.addShape(n,e.parent),(e=(0,p.query)('[data-element-id="'+(0,u.default)(e.id)+'"]',r.dragGroup))&&(0,h.attr)(e,{display:"none"}),e=c.addDragger(n,r.dragGroup),r.visualReplacements[t]=e,l.removeShape(n))})):(o=(i=t).visualReplacements,(0,d.forEach)(o,function(e,t){var n=(0,p.query)('[data-element-id="'+(0,u.default)(t)+'"]',i.dragGroup);n&&(0,h.attr)(n,{display:"inline"}),e.remove(),o[t]&&delete o[t]}))})}a.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],(0,n.default)(a,i.default)},{"css.escape":427,"diagram-js/lib/command/CommandInterceptor":433,inherits:623,"min-dash":834,"min-dom":835,"tiny-svg":851}],399:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/preview-support")),e=o(e("./BpmnReplacePreview"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",e.default]};n.default=e},{"./BpmnReplacePreview":398,"diagram-js/lib/features/preview-support":551}],400:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var b=e("min-dash"),x=e("../../util/ModelUtil"),w=e("../modeling/util/ModelingUtil"),k=e("../../util/DiUtil"),E=e("../copy-paste/ModdleCopy");var C=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function i(p,h,f,m,g,v,y){this.replaceElement=function(t,n,e){e=e||{};var i,o=n.type,r=t.businessObject;if(S(r)&&"bpmn:SubProcess"===o&&(i=n,l=(s=t)&&(0,b.has)(s,"collapsed")?s.collapsed:!(0,k.isExpanded)(s),i=i&&((0,b.has)(i,"collapsed")||(0,b.has)(i,"isExpanded"))?(0,b.has)(i,"collapsed")?i.collapsed:!i.isExpanded:l,l!==i&&(s.collapsed=l,1)))return m.toggleCollapse(t),t;var a,s={type:o,businessObject:d=p.create(o)},l=(0,E.getPropertyNames)(r.$descriptor),o=(0,E.getPropertyNames)(d.$descriptor,!0),l=(a=o,l.filter(function(e){return-1!==a.indexOf(e)}));(0,b.assign)(d,(0,b.pick)(n,C));var c,u,l=(0,b.filter)(l,function(e){return"eventDefinitions"===e?T(t,n.eventDefinitionType):"loopCharacteristics"===e?!(0,k.isEventSubProcess)(d):!(0,b.has)(d,e)&&(("processRef"!==e||!1!==n.isExpanded)&&"triggeredByEvent"!==e)}),d=f.copyElement(r,d,l);return n.eventDefinitionType&&(T(d,n.eventDefinitionType)||(s.eventDefinitionType=n.eventDefinitionType,s.eventDefinitionAttrs=n.eventDefinitionAttrs)),(0,x.is)(r,"bpmn:Activity")&&(S(r)?s.isExpanded=(0,k.isExpanded)(r):n&&(0,b.has)(n,"isExpanded")&&(s.isExpanded=n.isExpanded),(0,k.isExpanded)(r)&&!(0,x.is)(r,"bpmn:Task")&&s.isExpanded&&(s.width=t.width,s.height=t.height)),S(r)&&!S(d)&&(e.moveChildren=!1),(0,x.is)(r,"bpmn:Participant")&&(!0===n.isExpanded?d.processRef=p.create("bpmn:Process"):e.moveChildren=!1,s.width=t.width,s.height=h._getDefaultSize(d).height),v.allowed("shape.resize",{shape:d})||(s.height=h._getDefaultSize(d).height,s.width=h._getDefaultSize(d).width),d.name=r.name,(0,w.isAny)(r,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(0,w.isAny)(d,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(d.default=r.default),n.host&&!(0,x.is)(r,"bpmn:BoundaryEvent")&&(0,x.is)(d,"bpmn:BoundaryEvent")&&(s.host=n.host),"bpmn:DataStoreReference"!==s.type&&"bpmn:DataObjectReference"!==s.type||(s.x=t.x+(t.width-s.width)/2),s.di={},c=r.di,u=s.di,r=["fill","stroke","background-color","border-color","color"],(0,b.isArray)(r)||(r=[r]),(0,b.forEach)(r,function(e){(0,b.isUndefined)(c[e])||(u[e]=c[e])}),s=g.replaceElement(t,s,e),!1!==e.select&&y.select(s),s}}function S(e){return(0,x.is)(e,"bpmn:SubProcess")}function T(e,t){e=(0,x.getBusinessObject)(e);return t&&e.get("eventDefinitions").some(function(e){return(0,x.is)(e,t)})}i.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules","selection"]},{"../../util/DiUtil":417,"../../util/ModelUtil":419,"../copy-paste/ModdleCopy":309,"../modeling/util/ModelingUtil":390,"min-dash":834}],401:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PARTICIPANT=n.SEQUENCE_FLOW=n.EVENT_SUB_PROCESS_START_EVENT=n.BOUNDARY_EVENT=n.DATA_STORE_REFERENCE=n.DATA_OBJECT_REFERENCE=n.TASK=n.EVENT_SUB_PROCESS=n.TRANSACTION=n.SUBPROCESS_EXPANDED=n.GATEWAY=n.END_EVENT=n.INTERMEDIATE_EVENT=n.START_EVENT_SUB_PROCESS=n.START_EVENT=void 0;n.START_EVENT=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}];n.START_EVENT_SUB_PROCESS=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}];n.INTERMEDIATE_EVENT=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}];n.END_EVENT=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}];n.GATEWAY=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}];n.SUBPROCESS_EXPANDED=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}];n.TRANSACTION=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}];n.EVENT_SUB_PROCESS=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}}];n.TASK=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}];n.DATA_OBJECT_REFERENCE=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}];n.DATA_STORE_REFERENCE=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}];n.BOUNDARY_EVENT=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}];n.EVENT_SUB_PROCESS_START_EVENT=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}];n.SEQUENCE_FLOW=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}];n.PARTICIPANT=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(e){var t="Empty Pool";return e.children&&e.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}]},{}],402:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("../copy-paste")),o=a(e("diagram-js/lib/features/replace")),r=a(e("diagram-js/lib/features/selection")),e=a(e("./BpmnReplace"));function a(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default],bpmnReplace:["type",e.default]};n.default=e},{"../copy-paste":310,"./BpmnReplace":400,"diagram-js/lib/features/replace":553,"diagram-js/lib/features/selection":567}],403:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var o=e("min-dash"),n=u(e("inherits")),r=e("../../util/ModelUtil"),a=e("../modeling/util/ModelingUtil"),s=e("../../util/LabelUtil"),l=e("../../util/DiUtil"),i=u(e("diagram-js/lib/features/rules/RuleProvider")),c=e("../snapping/BpmnSnappingUtil");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){i.default.call(this,e)}function p(e){return!e||(0,s.isLabel)(e)}function h(e){do{if((0,r.is)(e,"bpmn:Process"))return(0,r.getBusinessObject)(e);if((0,r.is)(e,"bpmn:Participant"))return(0,r.getBusinessObject)(e).processRef||(0,r.getBusinessObject)(e)}while(e=e.parent)}function f(e){return(0,r.is)(e,"bpmn:TextAnnotation")}function m(e){return(0,r.is)(e,"bpmn:Group")&&!e.labelTarget}function g(e){return(0,r.is)(e,"bpmn:BoundaryEvent")&&b(e,"bpmn:CompensateEventDefinition")}function v(e){return(0,r.getBusinessObject)(e).isForCompensation}function y(e){for(var t=e;t=t.parent;){if((0,r.is)(t,"bpmn:FlowElementsContainer"))return(0,r.getBusinessObject)(t);if((0,r.is)(t,"bpmn:Participant"))return(0,r.getBusinessObject)(t).processRef}return null}function b(e,t){e=(0,r.getBusinessObject)(e);return!!(0,o.find)(e.eventDefinitions||[],function(e){return(0,r.is)(e,t)})}function x(e,t){return((0,r.getBusinessObject)(e).eventDefinitions||[]).every(function(e){return(0,r.is)(e,t)})}function w(e){return(0,r.is)(e,"bpmn:ReceiveTask")||(0,r.is)(e,"bpmn:IntermediateCatchEvent")&&(b(e,"bpmn:MessageEventDefinition")||b(e,"bpmn:TimerEventDefinition")||b(e,"bpmn:ConditionalEventDefinition")||b(e,"bpmn:SignalEventDefinition"))}function k(e){return e.waypoints}function E(e,t){return-1!==function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t).indexOf(e)}function C(e,t,n){if(p(e)||p(t))return null;if(!(0,r.is)(n,"bpmn:DataAssociation")){if(F(e,t))return{type:"bpmn:MessageFlow"};if(O(e,t))return{type:"bpmn:SequenceFlow"}}n=B(e,t);return n||(g(e)&&v(t)?{type:"bpmn:Association",associationDirection:"One"}:!!j(e,t)&&{type:"bpmn:Association"})}function S(e,t,n){return!(!(0,s.isLabel)(e)&&!m(e))||!((0,r.is)(t,"bpmn:Participant")&&!(0,l.isExpanded)(t))&&((0,r.is)(e,"bpmn:Participant")?(0,r.is)(t,"bpmn:Process")||(0,r.is)(t,"bpmn:Collaboration"):(0,a.isAny)(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?t===e.parent:(0,r.is)(e,"bpmn:Lane")?(0,r.is)(t,"bpmn:Participant")||(0,r.is)(t,"bpmn:Lane"):!((0,r.is)(e,"bpmn:BoundaryEvent")&&(i=e,!(0,r.getBusinessObject)(i).cancelActivity||!N(i)&&!A(i)))&&((0,r.is)(e,"bpmn:FlowElement")&&!(0,r.is)(e,"bpmn:DataStoreReference")?(0,r.is)(t,"bpmn:FlowElementsContainer")?(0,l.isExpanded)(t):(0,a.isAny)(t,["bpmn:Participant","bpmn:Lane"]):(0,r.is)(e,"bpmn:DataStoreReference")&&(0,r.is)(t,"bpmn:Collaboration")?(0,o.some)((0,r.getBusinessObject)(t).get("participants"),function(e){return!!e.get("processRef")}):(0,a.isAny)(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?(0,a.isAny)(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!(0,r.is)(e,"bpmn:MessageFlow")&&((0,r.is)(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t)));var i}function T(e){return(0,r.is)(e,"bpmn:Lane")}function _(e){return t=e,!(0,s.isLabel)(t)&&(0,r.is)(t,"bpmn:BoundaryEvent")||((0,r.is)(e,"bpmn:IntermediateThrowEvent")&&N(e)||(0,r.is)(e,"bpmn:IntermediateCatchEvent")&&A(e));var t}function N(e){e=(0,r.getBusinessObject)(e);return e&&!(e.eventDefinitions&&e.eventDefinitions.length)}function A(e){return P(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function P(t,e){return e.some(function(e){return b(t,e)})}function I(e,t,n,i){if(1!==(e=!Array.isArray(e)?[e]:e).length)return!1;e=e[0];return!(0,s.isLabel)(e)&&(!!_(e)&&(!(0,l.isEventSubProcess)(t)&&(!(!(0,r.is)(t,"bpmn:Activity")||v(t))&&(!(i&&!(0,c.getBoundaryAttachment)(i,t))&&(t=t,(!(0,r.is)(t,"bpmn:ReceiveTask")||!(0,o.find)(t.incoming,function(e){return(0,r.is)(e.source,"bpmn:EventBasedGateway")}))&&"attach")))))}function R(e,t,n){if(!t)return!1;var i={replacements:[]};return(0,o.forEach)(e,function(e){(0,l.isEventSubProcess)(t)||(0,r.is)(e,"bpmn:StartEvent")&&"label"!==e.type&&S(e,t)&&((0,l.isInterrupting)(e)||i.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),((0,l.hasErrorEventDefinition)(e)||(0,l.hasEscalationEventDefinition)(e)||(0,l.hasCompensateEventDefinition)(e))&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),P(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&(0,r.is)(t,"bpmn:SubProcess")&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"})),(0,r.is)(t,"bpmn:Transaction")||b(e,"bpmn:CancelEventDefinition")&&"label"!==e.type&&((0,r.is)(e,"bpmn:EndEvent")&&S(e,t)&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:EndEvent"}),(0,r.is)(e,"bpmn:BoundaryEvent")&&I(e,t,0,n)&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:BoundaryEvent"}))}),!!i.replacements.length&&i}function M(e,t){return!(0,o.some)(e,T)&&(!t||e.every(function(e){return S(e,t)}))}function L(e,t,n,i){return!!t&&(!(!(0,s.isLabel)(e)&&!m(e))||n!==t&&((!n||!E(n,t))&&(S(e,t)||H(e,t))))}function D(e,t){return(0,r.is)(e,"bpmn:SubProcess")?(0,l.isExpanded)(e)&&(!t||100<=t.width&&80<=t.height):(0,r.is)(e,"bpmn:Lane")?!t||130<=t.width&&60<=t.height:(0,r.is)(e,"bpmn:Participant")?!t||250<=t.width&&50<=t.height:!!f(e)||!!m(e)}function j(e,t){return!k(e)&&!k(t)&&(!(!g(e)||!v(t))||!E(t,e)&&!E(e,t)&&(i=t,n=f(n=e),i=f(i),!(!n&&!i||n===i)||!!B(e,t)));var n,i}function F(e,t){return!(U(e)&&!U(t))&&(n=e,(0,r.is)(n,"bpmn:InteractionNode")&&!(0,r.is)(n,"bpmn:BoundaryEvent")&&(!(0,r.is)(n,"bpmn:Event")||(0,r.is)(n,"bpmn:ThrowEvent")&&x(n,"bpmn:MessageEventDefinition"))&&(n=t,(0,r.is)(n,"bpmn:InteractionNode")&&!v(n)&&(!(0,r.is)(n,"bpmn:Event")||(0,r.is)(n,"bpmn:CatchEvent")&&x(n,"bpmn:MessageEventDefinition"))&&!((0,r.is)(n,"bpmn:BoundaryEvent")&&!b(n,"bpmn:MessageEventDefinition")))&&(t=t,!(h(e)===h(t))));var n}function O(e,t){return!(w(t)&&0<t.incoming.length&&(t.incoming||[]).some(z)&&!(0,r.is)(e,"bpmn:EventBasedGateway"))&&(i=e,(0,r.is)(i,"bpmn:FlowNode")&&!(0,r.is)(i,"bpmn:EndEvent")&&!(0,l.isEventSubProcess)(i)&&!((0,r.is)(i,"bpmn:IntermediateThrowEvent")&&b(i,"bpmn:LinkEventDefinition"))&&!g(i)&&!v(i)&&(n=t,(0,r.is)(n,"bpmn:FlowNode")&&!(0,r.is)(n,"bpmn:StartEvent")&&!(0,r.is)(n,"bpmn:BoundaryEvent")&&!(0,l.isEventSubProcess)(n)&&!((0,r.is)(n,"bpmn:IntermediateCatchEvent")&&b(n,"bpmn:LinkEventDefinition"))&&!v(n))&&(n=t,y(e)===y(n))&&!((0,r.is)(e,"bpmn:EventBasedGateway")&&!w(t)));var n,i}function B(e,t){return(0,a.isAny)(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,a.isAny)(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!(0,a.isAny)(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!(0,a.isAny)(e,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function H(e,t,n){if(!t)return!1;if(Array.isArray(e)){if(1!==e.length)return!1;e=e[0]}return t.source!==e&&t.target!==e&&((0,a.isAny)(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!(0,s.isLabel)(t)&&(0,r.is)(e,"bpmn:FlowNode")&&!(0,r.is)(e,"bpmn:BoundaryEvent")&&S(e,t.parent))}function $(e,t){return!!(0,s.isLabel)(t)||!((0,r.is)(t,"bpmn:Lane")&&(e=e,t=t.parent,!e||!t||-1===e.indexOf(t)))}function z(e){if(e&&e.source)return(0,r.is)(e.source,"bpmn:EventBasedGateway")}function U(e){return(0,a.getParent)(e,"bpmn:Process")||(0,a.getParent)(e,"bpmn:Collaboration")}(0,n.default)(d,i.default),d.$inject=["eventBus"],d.prototype.init=function(){this.addRule("connection.start",function(e){return function(e){if(p(e))return null;return(0,a.isAny)(e,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(e.source)}),this.addRule("connection.create",function(e){var t=e.source,n=e.target,i=e.hints||{},e=i.targetParent;if(i.targetAttach)return!1;e&&(n.parent=e);try{return C(t,n)}finally{e&&(n.parent=null)}}),this.addRule("connection.reconnect",function(e){var t=e.connection;return C(e.source,e.target,t)}),this.addRule("connection.updateWaypoints",function(e){return{type:e.connection.type}}),this.addRule("shape.resize",function(e){return D(e.shape,e.newBounds)}),this.addRule("elements.create",function(e){var t=e.elements,n=e.position,i=e.target;return!(k(i)&&!H(t,i))&&(0,o.every)(t,function(e){return k(e)?C(e.source,e.target,e):e.host?I(e,e.host,0,n):L(e,i,null,n)})}),this.addRule("elements.move",function(e){var t=e.target,n=e.shapes,e=e.position;return I(n,t,0,e)||R(n,t,e)||M(n,t)||H(n,t)}),this.addRule("shape.create",function(e){return L(e.shape,e.target,e.source,e.position)}),this.addRule("shape.attach",function(e){return I(e.shape,e.target,0,e.position)}),this.addRule("element.copy",function(e){var t=e.element;return $(e.elements,t)})},d.prototype.canConnectMessageFlow=F,d.prototype.canConnectSequenceFlow=O,d.prototype.canConnectDataAssociation=B,d.prototype.canConnectAssociation=j,d.prototype.canMove=M,d.prototype.canAttach=I,d.prototype.canReplace=R,d.prototype.canDrop=S,d.prototype.canInsert=H,d.prototype.canCreate=L,d.prototype.canConnect=C,d.prototype.canResize=D,d.prototype.canCopy=$},{"../../util/DiUtil":417,"../../util/LabelUtil":418,"../../util/ModelUtil":419,"../modeling/util/ModelingUtil":390,"../snapping/BpmnSnappingUtil":409,"diagram-js/lib/features/rules/RuleProvider":559,inherits:623,"min-dash":834}],404:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/rules")),e=o(e("./BpmnRules"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["bpmnRules"],bpmnRules:["type",e.default]};n.default=e},{"./BpmnRules":403,"diagram-js/lib/features/rules":561}],405:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("min-dash"),o=e("../label-editing/LabelUtil");function r(e,t,n){this._elementRegistry=e,this._canvas=n,t.registerProvider(this)}function a(e){return 0<(0,i.filter)(e,function(e){return!!e.matched}).length}function s(e,t){var n=[],i=e;if(!e)return n;e=e.toLowerCase(),t=t.toLowerCase();var o=e.indexOf(t);return-1<o?(0!==o&&n.push({normal:i.substr(0,o)}),n.push({matched:i.substr(o,t.length)}),t.length+o<e.length&&n.push({normal:i.substr(t.length+o,e.length)})):n.push({normal:i}),n}r.$inject=["elementRegistry","searchPad","canvas"],r.prototype.find=function(t){var n=this._canvas.getRootElement(),e=this._elementRegistry.filter(function(e){return!e.labelTarget}),e=(0,i.filter)(e,function(e){return e!==n});return e=(0,i.map)(e,function(e){return{primaryTokens:s((0,o.getLabel)(e),t),secondaryTokens:s(e.id,t),element:e}}),e=(0,i.filter)(e,function(e){return a(e.primaryTokens)||a(e.secondaryTokens)}),(0,i.sortBy)(e,function(e){return(0,o.getLabel)(e.element)+e.element.id})}},{"../label-editing/LabelUtil":329,"min-dash":834}],406:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/search-pad")),e=o(e("./BpmnSearchProvider"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["bpmnSearch"],bpmnSearch:["type",e.default]};n.default=e},{"./BpmnSearchProvider":405,"diagram-js/lib/features/search-pad":563}],407:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var v=e("diagram-js/lib/features/snapping/SnapUtil"),y=e("diagram-js/lib/features/keyboard/KeyboardUtil"),b=e("diagram-js/lib/layout/LayoutUtil"),x=e("../../util/ModelUtil"),w=e("../modeling/util/ModelingUtil"),k=e("min-dash"),i=1250,E=40,C=20,S=10,T=20,_=["x","y"],N=Math.abs;function o(e){e.on(["connect.hover","connect.move","connect.end"],i,function(e){var n,i,o,r,a,s,l,c,t,u,d=e.context,p=d.canExecute,h=d.start,f=d.hover,m=d.source,g=d.target;e.originalEvent&&(0,y.isCmd)(e.originalEvent)||(d.initialConnectionStart||(d.initialConnectionStart=d.connectionStart),p&&f&&(n=e,i=f,o=(0,x.is)(f,"bpmn:Task")?S:C,_.forEach(function(e){var t=I(e,i);n[e]<i[e]+o?(0,v.setSnapped)(n,e,i[e]+o):n[e]>i[e]+t-o&&(0,v.setSnapped)(n,e,i[e]+t-o)})),f&&(t=p,u=["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"],(0,k.some)(u,function(e){return P(t,e)}))?(d.connectionStart=(0,v.mid)(h),(0,w.isAny)(f,["bpmn:Event","bpmn:Gateway"])&&A(e,(0,v.mid)(f)),(0,w.isAny)(f,["bpmn:Task","bpmn:SubProcess"])&&(s=e,l=f,c=(0,v.mid)(l),_.forEach(function(e){var t,n,i;n=l,(t=s)[i=e]>n[i]+T&&t[i]<n[i]+I(i,n)-T&&(0,v.setSnapped)(s,e,c[e])})),(0,x.is)(m,"bpmn:BoundaryEvent")&&g===m.host&&(u=(r=e).context,g=u.source,m=u.target,function(e){var t=e.hover,e=e.source;return t&&e&&t===e}(u)||(a=(0,v.mid)(g),g=(0,b.getOrientation)(a,m,-10),m=[],/top|bottom/.test(g)&&m.push("x"),/left|right/.test(g)&&m.push("y"),m.forEach(function(e){var t=r[e];N(t-a[e])<E&&(t=t>a[e]?a[e]+E:a[e]-E,(0,v.setSnapped)(r,e,t))})))):P(p,"bpmn:MessageFlow")?((0,x.is)(h,"bpmn:Event")&&(d.connectionStart=(0,v.mid)(h)),(0,x.is)(f,"bpmn:Event")&&A(e,(0,v.mid)(f))):d.connectionStart=d.initialConnectionStart)})}function A(e,t){(0,v.setSnapped)(e,"x",t.x),(0,v.setSnapped)(e,"y",t.y)}function P(e,t){return e&&e.type===t}function I(e,t){return"x"===e?t.width:t.height}o.$inject=["eventBus"]},{"../../util/ModelUtil":419,"../modeling/util/ModelingUtil":390,"diagram-js/lib/features/keyboard/KeyboardUtil":505,"diagram-js/lib/features/snapping/SnapUtil":571,"diagram-js/lib/layout/LayoutUtil":589,"min-dash":834}],408:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var n=i(e("inherits")),a=i(e("diagram-js/lib/features/snapping/CreateMoveSnapping")),s=e("diagram-js/lib/features/snapping/SnapUtil"),l=e("../../util/DiUtil"),c=e("../../util/ModelUtil"),u=e("diagram-js/lib/layout/LayoutUtil"),o=e("./BpmnSnappingUtil"),d=e("min-dash");function i(e){return e&&e.__esModule?e:{default:e}}var r=1500;function p(e,t){t.invoke(a.default,this),e.on(["create.move","create.end"],r,h),e.on(["create.move","create.end","shape.move.move","shape.move.end"],r,function(e){var t=e.context,n=t.canExecute,t=t.target;!n||"attach"!==n&&!n.attach||(0,s.isSnapped)(e)||function(e,t){var n=(0,u.asTRBL)(t),i=(0,o.getBoundaryAttachment)(e,t),t=e.context.shape;t=t.parent?{x:0,y:0}:(0,u.getMid)(t);/top/.test(i)?(0,s.setSnapped)(e,"y",n.top-t.y):/bottom/.test(i)&&(0,s.setSnapped)(e,"y",n.bottom-t.y);/left/.test(i)?(0,s.setSnapped)(e,"x",n.left-t.x):/right/.test(i)&&(0,s.setSnapped)(e,"x",n.right-t.x)}(e,t)})}function h(e){var t,n,i,o=e.context.createConstraints;o&&(t=o.top,n=o.right,i=o.bottom,((o=o.left)&&o>=e.x||n&&n<=e.x)&&(0,s.setSnapped)(e,"x",e.x),(t&&t>=e.y||i&&i<=e.y)&&(0,s.setSnapped)(e,"y",e.y))}function f(e,t){return-1!==e.indexOf(t)}function m(e,t,n){return t?{x:e.x-n.x,y:e.y-n.y}:{x:e.x,y:e.y}}(0,n.default)(p,a.default),p.$inject=["eventBus","injector"],p.prototype.initSnap=function(n){var i=a.default.prototype.initSnap.call(this,n),e=n.shape,o=!!this._elementRegistry.get(e.id);return(0,d.forEach)(e.outgoing,function(e){var t=(t=e.waypoints[0]).original||t;i.setSnapOrigin(e.id+"-docking",m(t,o,n))}),(0,d.forEach)(e.incoming,function(e){var t=(t=e.waypoints[e.waypoints.length-1]).original||t;i.setSnapOrigin(e.id+"-docking",m(t,o,n))}),(0,c.is)(e,"bpmn:Participant")&&i.setSnapLocations(["top-left","bottom-right","mid"]),i},p.prototype.addSnapTargetPoints=function(n,i,e){a.default.prototype.addSnapTargetPoints.call(this,n,i,e);var o=this.getSnapTargets(i,e);(0,d.forEach)(o,function(e){var t;(function(e){if((0,c.is)(e,"bpmn:SubProcess")&&(0,l.isExpanded)(e))return!0;return(0,c.is)(e,"bpmn:Participant")}(e)||(t="bpmn:TextAnnotation",[i,e].every(function(e){return(0,c.is)(e,t)})))&&(n.add("top-left",(0,s.topLeft)(e)),n.add("bottom-right",(0,s.bottomRight)(e)))});var r=this._elementRegistry;return(0,d.forEach)(i.incoming,function(e){var t;r.get(i.id)&&(f(o,e.source)||n.add("mid",(0,u.getMid)(e.source)),t=e.waypoints[0],n.add(e.id+"-docking",t.original||t))}),(0,d.forEach)(i.outgoing,function(e){var t;r.get(i.id)&&(f(o,e.target)||n.add("mid",(0,u.getMid)(e.target)),t=e.waypoints[e.waypoints.length-1],n.add(e.id+"-docking",t.original||t))}),n=(0,c.is)(e,"bpmn:SequenceFlow")?this.addSnapTargetPoints(n,i,e.parent):n},p.prototype.getSnapTargets=function(e,t){return a.default.prototype.getSnapTargets.call(this,e,t).filter(function(e){return!(0,c.is)(e,"bpmn:Lane")})}},{"../../util/DiUtil":417,"../../util/ModelUtil":419,"./BpmnSnappingUtil":409,"diagram-js/lib/features/snapping/CreateMoveSnapping":568,"diagram-js/lib/features/snapping/SnapUtil":571,"diagram-js/lib/layout/LayoutUtil":589,inherits:623,"min-dash":834}],409:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getBoundaryAttachment=function(e,t){t=(0,i.getOrientation)(e,t,-15);return"intersect"!==t?t:null};var i=e("diagram-js/lib/layout/LayoutUtil")},{"diagram-js/lib/layout/LayoutUtil":589}],410:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./BpmnConnectSnapping")),o=r(e("./BpmnCreateMoveSnapping"));function r(e){return e&&e.__esModule?e:{default:e}}o={__depends__:[r(e("diagram-js/lib/features/snapping")).default],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",i.default],createMoveSnapping:["type",o.default]};n.default=o},{"./BpmnConnectSnapping":407,"./BpmnCreateMoveSnapping":408,"diagram-js/lib/features/snapping":573}],411:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("min-dash"),u=e("../util/ModelUtil"),d=e("../util/LabelUtil"),p=e("diagram-js/lib/layout/LayoutUtil"),h=e("../util/DiUtil"),f=e("../features/label-editing/LabelUtil"),m=e("./Util");function g(e,t){return(0,i.assign)({id:e.id,type:e.$type,businessObject:e},t)}function a(e,t,n,i){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:(0,m.elementToString)(n),referenced:(0,m.elementToString)(t),property:i}))}function o(e,t,n,i,o,r){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._translate=o,this._textRenderer=r}o.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],o.prototype.add=function(e,t){var n,i=e.di,o=this._translate;if((0,u.is)(i,"bpmndi:BPMNPlane"))c=this._elementFactory.createRoot(g(e)),this._canvas.setRootElement(c);else if((0,u.is)(i,"bpmndi:BPMNShape")){var r=!(0,h.isExpanded)(e),a=(0,u.is)(e,"bpmn:Group"),s=t&&(t.hidden||t.collapsed),l=e.di.bounds,c=this._elementFactory.createShape(g(e,{collapsed:r,hidden:s,x:Math.round(l.x),y:Math.round(l.y),width:Math.round(l.width),height:Math.round(l.height),isFrame:a}));(0,u.is)(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,c),(0,u.is)(e,"bpmn:Lane")&&(n=0),(0,u.is)(e,"bpmn:DataStoreReference")&&(r=t,a=(0,p.getMid)(l),l=a.x,a=a.y,l>=r.x&&l<=r.x+r.width&&a>=r.y&&a<=r.y+r.height||(t=this._canvas.getRootElement())),this._canvas.addShape(c,t,n)}else{if(!(0,u.is)(i,"bpmndi:BPMNEdge"))throw new Error(o("unknown di {di} for element {semantic}",{di:(0,m.elementToString)(i),semantic:(0,m.elementToString)(e)}));var o=this._getSource(e),i=this._getTarget(e);s=t&&(t.hidden||t.collapsed),c=this._elementFactory.createConnection(g(e,{hidden:s,source:o,target:i,waypoints:(s=o,o=i,!(i=(i=e).di.waypoint)||i.length<2?[(0,p.getMid)(s),(0,p.getMid)(o)]:i.map(function(e){return{x:e.x,y:e.y}}))})),(0,u.is)(e,"bpmn:DataAssociation")&&(t=null),(0,u.is)(e,"bpmn:SequenceFlow")&&(n=0),this._canvas.addConnection(c,t,n)}return(0,d.isLabelExternal)(e)&&(0,f.getLabel)(c)&&this.addLabel(e,c),this._eventBus.fire("bpmnElement.added",{element:c}),c},o.prototype._attachBoundary=function(e,t){var n=this._translate,i=e.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:(0,m.elementToString)(e)}));var o=this._elementRegistry.get(i.id),r=o&&o.attachers;if(!o)throw a(n,e,i,"attachedToRef");t.host=o,r||(o.attachers=r=[]),-1===r.indexOf(t)&&r.push(t)},o.prototype.addLabel=function(e,t){var n=(0,d.getExternalLabelBounds)(e,t),i=(0,f.getLabel)(t);return i&&(n=this._textRenderer.getExternalLabelBounds(n,i)),n=this._elementFactory.createLabel(g(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden||!(0,f.getLabel)(t),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(n,t.parent)},o.prototype._getEnd=function(e,t){var n=e.$type,i=this._translate,o=e[t+"Ref"];if("source"===t&&"bpmn:DataInputAssociation"===n&&(o=o&&o[0]),n=(o="source"===t&&"bpmn:DataOutputAssociation"===n||"target"===t&&"bpmn:DataInputAssociation"===n?e.$parent:o)&&this._getElement(o))return n;throw o?a(i,e,o,t+"Ref"):new Error(i("{semantic}#{side} Ref not specified",{semantic:(0,m.elementToString)(e),side:t}))},o.prototype._getSource=function(e){return this._getEnd(e,"source")},o.prototype._getTarget=function(e){return this._getEnd(e,"target")},o.prototype._getElement=function(e){return this._elementRegistry.get(e.id)}},{"../features/label-editing/LabelUtil":329,"../util/DiUtil":417,"../util/LabelUtil":418,"../util/ModelUtil":419,"./Util":414,"diagram-js/lib/layout/LayoutUtil":589,"min-dash":834}],412:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(r,a){var s={},l=[];function c(t,n){return function(e){t(e,n)}}function i(e){s[e.id]=e}function o(t,e){try{var n=t.di&&function(e,t){if(e.gfx)throw new Error(a("already rendered {element}",{element:(0,A.elementToString)(e)}));return r.element(e,t)}(t,e);return i(t),n}catch(e){u(e.message,{element:t,error:e}),console.error(a("failed to import {element}",{element:(0,A.elementToString)(t)})),console.error(e)}}function u(e,t){r.error(e,t)}function d(e){var t=e.bpmnElement;t?t.di?u(a("multiple DI elements defined for {element}",{element:(0,A.elementToString)(t)}),{element:t}):(P.bind(t,"di"),t.di=e):u(a("no bpmnElement referenced in {element}",{element:(0,A.elementToString)(e)}),{element:e})}function p(e){d(e=e.plane),(0,N.forEach)(e.planeElement,t)}function t(e){d(e)}function h(){for(;l.length;)l.shift()()}function f(e,t){T(e,t),x(e.ioSpecification,t),b(e.artifacts,t),i(e)}function m(e,t){o(e,t)}function g(e,t){o(e,t)}function n(e,t){o(e,t)}function v(e,t){o(e,t)}function y(e,t){o(e,t)}function b(e,t){(0,N.forEach)(e,function(e){I(e,"bpmn:Association")?l.push(function(){y(e,t)}):y(e,t)})}function x(e,t){e&&((0,N.forEach)(e.dataInputs,c(n,t)),(0,N.forEach)(e.dataOutputs,c(v,t)))}function w(e,t){T(e,t),b(e.artifacts,t)}function k(e,t){var n=o(e,t);I(e,"bpmn:SubProcess")&&w(e,n||t),I(e,"bpmn:Activity")&&x(e.ioSpecification,t),l.push(function(){(0,N.forEach)(e.dataInputAssociations,c(g,t)),(0,N.forEach)(e.dataOutputAssociations,c(g,t))})}function E(e,t){o(e,t)}function C(n,i){l.push(function(){var t,e=o(n,i);n.childLaneSet&&S(n.childLaneSet,e||i),t=n,(0,N.forEach)(t.flowNodeRef,function(e){e=e.get("lanes");e&&e.push(t)})})}function S(e,t){(0,N.forEach)(e.lanes,c(C,t))}function T(e,t){var n,i;n=e.flowElements,i=t,(0,N.forEach)(n,function(e){I(e,"bpmn:SequenceFlow")?l.push(function(){o(e,i)}):I(e,"bpmn:BoundaryEvent")?l.unshift(function(){k(e,i)}):I(e,"bpmn:FlowNode")?k(e,i):I(e,"bpmn:DataObject")||(I(e,"bpmn:DataStoreReference")||I(e,"bpmn:DataObjectReference")?E(e,i):u(a("unrecognized flowElement {element} in context {context}",{element:(0,A.elementToString)(e),context:i?(0,A.elementToString)(i.businessObject):"null"}),{element:e,context:i}))}),e.laneSets&&(e=e.laneSets,(0,N.forEach)(e,c(S,t)))}function _(e,t){var n=o(e,t),e=e.processRef;e&&f(e,n||t)}return{handleDeferred:h,handleDefinitions:function(e,t){var n=e.diagrams;if(t&&-1===n.indexOf(t))throw new Error(a("diagram not part of bpmn:Definitions"));if(!(t=!t&&n&&n.length?n[0]:t))throw new Error(a("no diagram to display"));p(t);var i=t.plane;if(!i)throw new Error(a("no plane for {element}",{element:(0,A.elementToString)(t)}));if(!(n=i.bpmnElement)){if(!(n=(0,N.find)(e.rootElements,function(e){return I(e,"bpmn:Process")||I(e,"bpmn:Collaboration")})))throw new Error(a("no process or collaboration to display"));u(a("correcting missing bpmnElement on {plane} to {rootElement}",{plane:(0,A.elementToString)(i),rootElement:(0,A.elementToString)(n)})),i.bpmnElement=n,d(i)}var o,t=(t=n,r.root(t,i));if(I(n,"bpmn:Process"))f(n,t);else{if(!I(n,"bpmn:Collaboration"))throw new Error(a("unsupported bpmnElement for {plane}: {rootElement}",{plane:(0,A.elementToString)(i),rootElement:(0,A.elementToString)(n)}));o=n,(0,N.forEach)(o.participants,c(_)),b(o.artifacts),l.push(function(){var e,t;e=o.messageFlows,(0,N.forEach)(e,c(m,t))}),e=e.rootElements,t=t,(0,N.filter)(e,function(e){return!s[e.id]&&I(e,"bpmn:Process")&&e.laneSets}).forEach(c(f,t))}h()},handleSubProcess:w,registerDi:d}};var i,N=e("min-dash"),n=(i=e("object-refs"))&&i.__esModule?i:{default:i},A=e("./Util");var P=new n.default({name:"bpmnElement",enumerable:!0},{name:"di",configurable:!0});function I(e,t){return e.$instanceOf(t)}},{"./Util":414,"min-dash":834,"object-refs":839}],413:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.importBpmnDiagram=function(r,a,s){var l,c,u,d=[];return new Promise(function(e,t){try{return l=r.get("bpmnImporter"),c=r.get("eventBus"),u=r.get("translate"),c.fire("import.render.start",{definitions:a}),n=a,i=s,o={root:function(e){return l.add(e)},element:function(e,t){return l.add(e,t)},error:function(e,t){d.push({message:e,context:t})}},new p.default(o,u).handleDefinitions(n,i),c.fire("import.render.complete",{error:void 0,warnings:d}),e({warnings:d})}catch(e){return e.warnings=d,t(e)}var n,i,o})};var i,p=(i=e("./BpmnTreeWalker"))&&i.__esModule?i:{default:i}},{"./BpmnTreeWalker":412}],414:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.elementToString=function(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}},{}],415:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/i18n/translate")),e=o(e("./BpmnImporter"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],bpmnImporter:["type",e.default]};n.default=e},{"./BpmnImporter":411,"diagram-js/lib/i18n/translate":585}],416:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.wrapForCompatibility=function(t){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var e=arguments.length;if(!(1<=e&&(0,i.isFunction)(arguments[e-1])))return t.apply(this,arguments);var n=arguments[e-1];console.warn(new Error("Passing callbacks to "+t.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));e=Array.prototype.slice.call(arguments,0,-1);t.apply(this,e).then(function(e){var t=Object.keys(e)[0];return n(null,e[t])},function(e){return n(e,e.warnings)})}};var i=e("min-dash")},{"min-dash":834}],417:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isExpanded=function(e){if((0,i.is)(e,"bpmn:CallActivity"))return!1;if((0,i.is)(e,"bpmn:SubProcess"))return(0,i.getBusinessObject)(e).di&&!!(0,i.getBusinessObject)(e).di.isExpanded;if((0,i.is)(e,"bpmn:Participant"))return!!(0,i.getBusinessObject)(e).processRef;return!0},n.isInterrupting=function(e){return e&&!1!==(0,i.getBusinessObject)(e).isInterrupting},n.isEventSubProcess=function(e){return e&&!!(0,i.getBusinessObject)(e).triggeredByEvent},n.hasEventDefinition=r,n.hasErrorEventDefinition=function(e){return r(e,"bpmn:ErrorEventDefinition")},n.hasEscalationEventDefinition=function(e){return r(e,"bpmn:EscalationEventDefinition")},n.hasCompensateEventDefinition=function(e){return r(e,"bpmn:CompensateEventDefinition")};var i=e("./ModelUtil"),o=e("min-dash");function r(e,t){var e=(0,i.getBusinessObject)(e),n=!1;return e.eventDefinitions&&(0,o.forEach)(e.eventDefinitions,function(e){(0,i.is)(e,t)&&(n=!0)}),n}},{"./ModelUtil":419,"min-dash":834}],418:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isLabelExternal=function(e){return(0,i.is)(e,"bpmn:Event")||(0,i.is)(e,"bpmn:Gateway")||(0,i.is)(e,"bpmn:DataStoreReference")||(0,i.is)(e,"bpmn:DataObjectReference")||(0,i.is)(e,"bpmn:DataInput")||(0,i.is)(e,"bpmn:DataOutput")||(0,i.is)(e,"bpmn:SequenceFlow")||(0,i.is)(e,"bpmn:MessageFlow")||(0,i.is)(e,"bpmn:Group")},n.hasExternalLabel=function(e){return u(e.label)},n.getFlowLabelPosition=s,n.getWaypointsMid=l,n.getExternalLabelMid=c,n.getExternalLabelBounds=function(e,t){var n,i,e=e.di.label;e&&e.bounds?(i=e.bounds,n={width:Math.max(r.width,i.width),height:i.height},i={x:i.x+i.width/2,y:i.y+i.height/2}):(i=c(t),n=r);return(0,o.assign)({x:i.x-n.width/2,y:i.y-n.height/2},n)},n.isLabel=u,n.FLOW_LABEL_INDENT=n.DEFAULT_LABEL_SIZE=void 0;var o=e("min-dash"),i=e("./ModelUtil"),r={width:90,height:20};n.DEFAULT_LABEL_SIZE=r;var a=15;function s(e){var t=e.length/2-1,n=e[Math.floor(t)],t=e[Math.ceil(.01+t)],e=l(e),t=Math.atan((t.y-n.y)/(t.x-n.x)),n=e.x,e=e.y;return Math.abs(t)<Math.PI/2?e-=a:n+=a,{x:n,y:e}}function l(e){var t=e.length/2-1,n=e[Math.floor(t)],t=e[Math.ceil(.01+t)];return{x:n.x+(t.x-n.x)/2,y:n.y+(t.y-n.y)/2}}function c(e){return e.waypoints?s(e.waypoints):(0,i.is)(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+r.height/2}:{x:e.x+e.width/2,y:e.y+e.height+r.height/2}}function u(e){return e&&!!e.labelTarget}n.FLOW_LABEL_INDENT=a},{"./ModelUtil":419,"min-dash":834}],419:[function(e,t,n){"use strict";function i(e){return e&&e.businessObject||e}Object.defineProperty(n,"__esModule",{value:!0}),n.is=function(e,t){e=i(e);return e&&"function"==typeof e.$instanceOf&&e.$instanceOf(t)},n.getBusinessObject=i},{}],420:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.open=function(){a||(a=(0,i.domify)(s),i.delegate.bind(a,".backdrop","click",function(e){document.body.removeChild(a)}));document.body.appendChild(a)},n.LINK_STYLES=n.BPMNIO_IMG=void 0;var i=e("min-dom"),o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function r(e){return e.join(";")}n.BPMNIO_IMG=o;e=r(["color: #404040"]);n.LINK_STYLES=e;var a,s='<div class="bjs-powered-by-lightbox" style="'+r(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+r(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+r(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;'+e+'">'+o+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>'},{"min-dom":835}],421:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("min-dash"),o=e("moddle"),r=e("moddle-xml");function a(e,t){o.Moddle.call(this,e,t)}(a.prototype=Object.create(o.Moddle.prototype)).fromXML=function(e,t,n){(0,i.isString)(t)||(n=t,t="bpmn:Definitions");n=new r.Reader((0,i.assign)({model:this,lax:!0},n)),t=n.handler(t);return n.fromXML(e,t)};var s={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!(a.prototype.toXML=function(n,e){var i=new r.Writer(e);return new Promise(function(e,t){try{return e({xml:i.toXML(n)})}catch(e){return t(e)}})}),isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};n.default=function(e,t){return new a((0,i.assign)({},s,e),t)}},{"min-dash":834,moddle:838,"moddle-xml":837}],422:[function(e,t,n){"use strict";var c=e("rgbcolor"),u=e("stackblur");e("xmldom");function d(e,t,n){if(null!=e||null!=t||null!=n){null!=(e="string"==typeof e?document.getElementById(e):e).svg&&e.svg.stop();n=function(e){var k={opts:e},l=function(){var e;void 0!==Element.prototype.matches?e=function(e,t){return e.matches(t)}:void 0!==Element.prototype.webkitMatchesSelector?e=function(e,t){return e.webkitMatchesSelector(t)}:void 0!==Element.prototype.mozMatchesSelector?e=function(e,t){return e.mozMatchesSelector(t)}:void 0!==Element.prototype.msMatchesSelector?e=function(e,t){return e.msMatchesSelector(t)}:void 0!==Element.prototype.oMatchesSelector?e=function(e,t){return e.oMatchesSelector(t)}:void 0===(e="function"==typeof jQuery||"function"==typeof Zepto?function(e,t){return $(e).is(t)}:e)&&(e=Sizzle.matchesSelector);return e}();"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,o,r){var a,s={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:o};for(a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);d(this.canvas,e,s)});k.FRAMERATE=30,k.MAX_VIRTUAL_PIXELS=3e4,k.log=function(e){},1==k.opts.log&&"undefined"!=typeof console&&(k.log=function(e){console.log(e)});k.init=function(e){var t=0;k.UniqueId=function(){return"canvg"+ ++t},k.Definitions={},k.Styles={},k.StylesSpecificity={},k.Animations=[],k.Images=[],k.ctx=e,k.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},k.init(),k.ImagesLoaded=function(){for(var e=0;e<k.Images.length;e++)if(!k.Images[e].loaded)return!1;return!0},k.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},k.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},k.ajax=function(e){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return t?(t.open("GET",e,!1),t.send(null),t.responseText):null},k.parseXml=function(e){if("undefined"==typeof Windows||void 0===Windows.Data||void 0===Windows.Data.Xml)return window.DOMParser?(new DOMParser).parseFromString(e,"text/xml"):(e=e.replace(/<!DOCTYPE svg[^>]*>/,""),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e),t);var t=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,t.loadXml(e,n),t},k.Property=function(e,t){this.name=e,this.value=t},k.Property.prototype.getValue=function(){return this.value},k.Property.prototype.hasValue=function(){return null!=this.value&&""!=this.value},k.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},k.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},k.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},k.Property.prototype.addOpacity=function(e){var t,n=this.value;return null==e.value||""==e.value||"string"!=typeof this.value||(t=new c(this.value)).ok&&(n="rgba("+t.r+", "+t.g+", "+t.b+", "+e.numValue()+")"),new k.Property(this.name,n)},k.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e=(e=e&&e[1])||this.value,k.Definitions[e]},k.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},k.Property.prototype.getFillStyleDefinition=function(e,t){var n=this.getDefinition();return null!=n&&n.createGradient?n.createGradient(k.ctx,e,t):null!=n&&n.createPattern?(n.getHrefAttribute().hasValue()&&(t=n.attribute("patternTransform"),n=n.getHrefAttribute().getDefinition(),t.hasValue()&&(n.attribute("patternTransform",!0).value=t.value)),n.createPattern(k.ctx,e)):null},k.Property.prototype.getDPI=function(e){return 96},k.Property.prototype.getEM=function(e){var t=12,n=new k.Property("fontSize",k.Font.Parse(k.ctx.font).fontSize);return t=n.hasValue()?n.toPixels(e):t},k.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},k.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*k.ViewPort.ComputeSize(e);n=this.numValue();return t&&n<1?n*k.ViewPort.ComputeSize(e):n},k.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},k.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var t={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return k.Property.prototype.toTextBaseline=function(){return this.hasValue()?t[this.value]:null},k.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,n,i,o,r){r=null!=r?this.Parse(r):this.CreateFont("","","","","",k.ctx.font);return{fontFamily:o||r.fontFamily,fontSize:i||r.fontSize,fontStyle:e||r.fontStyle,fontWeight:n||r.fontWeight,fontVariant:t||r.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var a=this;this.Parse=function(e){for(var t={},n=k.trim(k.compressSpaces(e||"")).split(" "),i={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},o="",r=0;r<n.length;r++)i.fontStyle||-1==a.Styles.indexOf(n[r])?i.fontVariant||-1==a.Variants.indexOf(n[r])?i.fontWeight||-1==a.Weights.indexOf(n[r])?i.fontSize?"inherit"!=n[r]&&(o+=n[r]):("inherit"!=n[r]&&(t.fontSize=n[r].split("/")[0]),i.fontStyle=i.fontVariant=i.fontWeight=i.fontSize=!0):("inherit"!=n[r]&&(t.fontWeight=n[r]),i.fontStyle=i.fontVariant=i.fontWeight=!0):("inherit"!=n[r]&&(t.fontVariant=n[r]),i.fontStyle=i.fontVariant=!0):("inherit"!=n[r]&&(t.fontStyle=n[r]),i.fontStyle=!0);return""!=o&&(t.fontFamily=o),t}},k.ToNumberArray=function(e){for(var t=k.trim(k.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<t.length;n++)t[n]=parseFloat(t[n]);return t},k.Point=function(e,t){this.x=e,this.y=t},k.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},k.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],e=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=e},k.CreatePoint=function(e){e=k.ToNumberArray(e);return new k.Point(e[0],e[1])},k.CreatePath=function(e){for(var t=k.ToNumberArray(e),n=[],i=0;i<t.length;i+=2)n.push(new k.Point(t[i],t[i+1]));return n},k.BoundingBox=function(e,t,n,i){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,o,r){n=e+2/3*(n-e),i=t+2/3*(i-t);this.addBezierCurve(e,t,n,n+1/3*(o-e),i,i+1/3*(r-t),o,r)},this.addBezierCurve=function(e,t,n,i,o,r,a,s){var l=[e,t],c=[n,i],u=[o,r],d=[a,s];this.addPoint(l[0],l[1]),this.addPoint(d[0],d[1]);for(var p=0;p<=1;p++){var h,f,m=function(e){return Math.pow(1-e,3)*l[p]+3*Math.pow(1-e,2)*e*c[p]+3*(1-e)*Math.pow(e,2)*u[p]+Math.pow(e,3)*d[p]},g=6*l[p]-12*c[p]+6*u[p],v=-3*l[p]+9*c[p]-9*u[p]+3*d[p],y=3*c[p]-3*l[p];0!=v?(h=Math.pow(g,2)-4*y*v)<0||(0<(f=(-g+Math.sqrt(h))/(2*v))&&f<1&&(0==p&&this.addX(m(f)),1==p&&this.addY(m(f))),0<(v=(-g-Math.sqrt(h))/(2*v))&&v<1&&(0==p&&this.addX(m(v)),1==p&&this.addY(m(v)))):0==g||0<(g=-y/g)&&g<1&&(0==p&&this.addX(m(g)),1==p&&this.addY(m(g)))}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,i)},k.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=k.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){e=k.ToNumberArray(e);this.angle=new k.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=k.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=k.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],n=this.m[2],i=this.m[4],o=this.m[1],r=this.m[3],a=this.m[5],s=1/(t*(+r-0*a)-n*(+o-0*a)+i*(0*o-0*r));e.transform(s*(+r-0*a),s*(0*a-+o),s*(0*i-+n),s*(+t-0*i),s*(n*a-i*r),s*(i*o-t*a))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new k.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;0<=t;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var n=k.trim(k.compressSpaces(e)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++){var o=k.trim(n[i].split("(")[0]),r=n[i].split("(")[1].replace(")",""),a=this.Type[o];void 0!==a&&((r=new a(r)).type=o,this.transforms.push(r))}},k.AspectRatio=function(e,t,n,i,o,r,a,s,l,c){var u=(t=(t=k.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",d=t.split(" ")[1]||"meet",p=n/i,h=o/r,f=Math.min(p,h),t=Math.max(p,h);"meet"==d&&(i*=f,r*=f),"slice"==d&&(i*=t,r*=t),l=new k.Property("refX",l),c=new k.Property("refY",c),l.hasValue()&&c.hasValue()?e.translate(-f*l.toPixels("x"),-f*c.toPixels("y")):(u.match(/^xMid/)&&("meet"==d&&f==h||"slice"==d&&t==h)&&e.translate(n/2-i/2,0),u.match(/YMid$/)&&("meet"==d&&f==p||"slice"==d&&t==p)&&e.translate(0,o/2-r/2),u.match(/^xMax/)&&("meet"==d&&f==h||"slice"==d&&t==h)&&e.translate(n-i,0),u.match(/YMax$/)&&("meet"==d&&f==p||"slice"==d&&t==p)&&e.translate(0,o-r)),"none"==u?e.scale(p,h):"meet"==d?e.scale(f,f):"slice"==d&&e.scale(t,t),e.translate(null==a?0:-a,null==s?0:-s)},k.Element={},k.EmptyProperty=new k.Property("EMPTY",""),k.Element.ElementBase=function(r){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(e,t){var n=this.attributes[e];return null!=n?n:(1==t&&(n=new k.Property(e,""),this.attributes[e]=n),n||k.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if("href"==e||e.match(/:href$/))return this.attributes[e];return k.EmptyProperty},this.style=function(e,t,n){var i=this.styles[e];if(null!=i)return i;var o=this.attribute(e);if(null!=o&&o.hasValue())return this.styles[e]=o;if(1!=n){n=this.parent;if(null!=n){n=n.style(e);if(null!=n&&n.hasValue())return n}}return 1==t&&(i=new k.Property(e,""),this.styles[e]=i),i||k.EmptyProperty},this.render=function(e){var t;"none"!=this.style("display").value&&"hidden"!=this.style("visibility").value&&(e.save(),this.style("mask").hasValue()?null!=(t=this.style("mask").getDefinition())&&t.apply(e,this):this.style("filter").hasValue()?null!=(t=this.style("filter").getDefinition())&&t.apply(e,this):(this.setContext(e),this.renderChildren(e),this.clearContext(e)),e.restore())},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var n=e;(n=t?k.CreateElement(e):n).parent=this,"title"!=n.type&&this.children.push(n)},this.addStylesFromStyleDefinition=function(){for(var e in k.Styles)if("@"!=e[0]&&l(r,e)){var t=k.Styles[e],n=k.StylesSpecificity[e];if(null!=t)for(var i in t){var o=this.stylesSpecificity[i];(o=void 0===o?"000":o)<n&&(this.styles[i]=t[i],this.stylesSpecificity[i]=n)}}},null!=r&&1==r.nodeType){for(var e=0;e<r.attributes.length;e++){var t=r.attributes[e];this.attributes[t.nodeName]=new k.Property(t.nodeName,t.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var n,i,o=this.attribute("style").value.split(";"),e=0;e<o.length;e++)""!=k.trim(o[e])&&(i=o[e].split(":"),n=k.trim(i[0]),i=k.trim(i[1]),this.styles[n]=new k.Property(n,i));this.attribute("id").hasValue()&&null==k.Definitions[this.attribute("id").value]&&(k.Definitions[this.attribute("id").value]=this);for(e=0;e<r.childNodes.length;e++){var a,s=r.childNodes[e];1==s.nodeType&&this.addChild(s,!0),!this.captureTextNodes||3!=s.nodeType&&4!=s.nodeType||(a=s.value||s.text||s.textContent||"",""!=k.compressSpaces(a)&&this.addChild(new k.Element.tspan(s),!1))}}},k.Element.RenderedElementBase=function(e){this.base=k.Element.ElementBase,this.base(e),this.setContext=function(e){var t,n,i,o;this.style("fill").isUrlDefinition()?null!=(n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(e.fillStyle=n):this.style("fill").hasValue()&&("currentColor"==(t=this.style("fill")).value&&(t.value=this.style("color").value),"inherit"!=t.value&&(e.fillStyle="none"==t.value?"rgba(0,0,0,0)":t.value)),this.style("fill-opacity").hasValue()&&(t=(t=new k.Property("fill",e.fillStyle)).addOpacity(this.style("fill-opacity")),e.fillStyle=t.value),this.style("stroke").isUrlDefinition()?null!=(n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(e.strokeStyle=n):this.style("stroke").hasValue()&&("currentColor"==(i=this.style("stroke")).value&&(i.value=this.style("color").value),"inherit"!=i.value&&(e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value)),this.style("stroke-opacity").hasValue()&&(i=(i=new k.Property("stroke",e.strokeStyle)).addOpacity(this.style("stroke-opacity")),e.strokeStyle=i.value),this.style("stroke-width").hasValue()&&(i=this.style("stroke-width").toPixels(),e.lineWidth=0==i?.001:i),this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value&&(o=k.ToNumberArray(this.style("stroke-dasharray").value),void 0!==e.setLineDash?e.setLineDash(o):void 0!==e.webkitLineDash?e.webkitLineDash=o:void 0===e.mozDash||1==o.length&&0==o[0]||(e.mozDash=o),o=this.style("stroke-dashoffset").numValueOrDefault(1),void 0!==e.lineDashOffset?e.lineDashOffset=o:void 0!==e.webkitLineDashOffset?e.webkitLineDashOffset=o:void 0!==e.mozDashOffset&&(e.mozDashOffset=o)),void 0!==e.font&&(e.font=k.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()&&new k.Transform(this.style("transform",!1,!0).value).apply(e),!this.style("clip-path",!1,!0).hasValue()||null!=(o=this.style("clip-path",!1,!0).getDefinition())&&o.apply(e),this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},k.Element.RenderedElementBase.prototype=new k.Element.ElementBase,k.Element.PathElementBase=function(e){this.base=k.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new k.BoundingBox},this.renderChildren=function(e){this.path(e),k.Mouse.checkPath(this,e),""!=e.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(e,t[0][0],t[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<t.length-1;i++)n.render(e,t[i][0],t[i][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(e,t[t.length-1][0],t[t.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},k.Element.PathElementBase.prototype=new k.Element.RenderedElementBase,k.Element.svg=function(e){this.base=k.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),k.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,void 0!==e.font&&void 0!==window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t,n,i,o=k.ViewPort.width(),r=k.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root&&(o=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),n=i=0,this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),n=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(i,n),e.lineTo(o,n),e.lineTo(o,r),e.lineTo(i,r),e.closePath(),e.clip())),k.ViewPort.SetCurrent(o,r),this.attribute("viewBox").hasValue()&&(n=(t=k.ToNumberArray(this.attribute("viewBox").value))[0],i=t[1],o=t[2],r=t[3],k.AspectRatio(e,this.attribute("preserveAspectRatio").value,k.ViewPort.width(),o,k.ViewPort.height(),r,n,i,this.attribute("refX").value,this.attribute("refY").value),k.ViewPort.RemoveCurrent(),k.ViewPort.SetCurrent(t[2],t[3]))}},k.Element.svg.prototype=new k.Element.RenderedElementBase,k.Element.rect=function(e){this.base=k.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),r=this.attribute("rx").toPixels("x"),a=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(a=r),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(r=a),r=Math.min(r,i/2),a=Math.min(a,o/2),null!=e&&(e.beginPath(),e.moveTo(t+r,n),e.lineTo(t+i-r,n),e.quadraticCurveTo(t+i,n,t+i,n+a),e.lineTo(t+i,n+o-a),e.quadraticCurveTo(t+i,n+o,t+i-r,n+o),e.lineTo(t+r,n+o),e.quadraticCurveTo(t,n+o,t,n+o-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+r,n),e.closePath()),new k.BoundingBox(t,n,t+i,n+o)}},k.Element.rect.prototype=new k.Element.PathElementBase,k.Element.circle=function(e){this.base=k.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!0),e.closePath()),new k.BoundingBox(t-i,n-i,t+i,n+i)}},k.Element.circle.prototype=new k.Element.PathElementBase,k.Element.ellipse=function(e){this.base=k.Element.PathElementBase,this.base(e),this.path=function(e){var t=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,r-i),e.bezierCurveTo(o+t*n,r-i,o+n,r-t*i,o+n,r),e.bezierCurveTo(o+n,r+t*i,o+t*n,r+i,o,r+i),e.bezierCurveTo(o-t*n,r+i,o-n,r+t*i,o-n,r),e.bezierCurveTo(o-n,r-t*i,o-t*n,r-i,o,r-i),e.closePath()),new k.BoundingBox(o-n,r-i,o+n,r+i)}},k.Element.ellipse.prototype=new k.Element.PathElementBase,k.Element.line=function(e){this.base=k.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new k.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new k.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new k.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},k.Element.line.prototype=new k.Element.PathElementBase,k.Element.polyline=function(e){this.base=k.Element.PathElementBase,this.base(e),this.points=k.CreatePath(this.attribute("points").value),this.path=function(e){var t=new k.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)t.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return 0<e.length&&e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},k.Element.polyline.prototype=new k.Element.PathElementBase,k.Element.polygon=function(e){this.base=k.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},k.Element.polygon.prototype=new k.Element.polyline,k.Element.path=function(e){this.base=k.Element.PathElementBase,this.base(e);for(var t=(t=this.attribute("d").value).replace(/,/gm," "),n=0;n<2;n++)t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");t=(t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2");for(n=0;n<2;n++)t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=k.compressSpaces(t),t=k.trim(t),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new k.Point(0,0),this.control=new k.Point(0,0),this.current=new k.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new k.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new k.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(t),this.path=function(e){var t=this.PathParser;t.reset();var n=new k.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var i=t.getAsCurrentPoint();for(t.addMarker(i),n.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),t.start=t.current;!t.isCommandOrEnd();){i=t.getAsCurrentPoint();t.addMarker(i,t.start),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!t.isCommandOrEnd();){var o=t.current,i=t.getAsCurrentPoint();t.addMarker(i,o),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var r=new k.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(r,t.current),t.current=r,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();){r=new k.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.addMarker(r,t.current),t.current=r,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"C":case"c":for(;!t.isCommandOrEnd();){var a=t.current,s=t.getPoint(),l=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,l,s),n.addBezierCurve(a.x,a.y,s.x,s.y,l.x,l.y,c.x,c.y),null!=e&&e.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();){a=t.current,s=t.getReflectedControlPoint(),l=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,l,s),n.addBezierCurve(a.x,a.y,s.x,s.y,l.x,l.y,c.x,c.y),null!=e&&e.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}break;case"Q":case"q":for(;!t.isCommandOrEnd();){a=t.current,l=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,l,l),n.addQuadraticCurve(a.x,a.y,l.x,l.y,c.x,c.y),null!=e&&e.quadraticCurveTo(l.x,l.y,c.x,c.y)}break;case"T":case"t":for(;!t.isCommandOrEnd();){a=t.current,l=t.getReflectedControlPoint();t.control=l;c=t.getAsCurrentPoint();t.addMarker(c,l,l),n.addQuadraticCurve(a.x,a.y,l.x,l.y,c.x,c.y),null!=e&&e.quadraticCurveTo(l.x,l.y,c.x,c.y)}break;case"A":case"a":for(;!t.isCommandOrEnd();){var a=t.current,u=t.getScalar(),d=t.getScalar(),p=t.getScalar()*(Math.PI/180),h=t.getScalar(),f=t.getScalar(),c=t.getAsCurrentPoint(),m=new k.Point(Math.cos(p)*(a.x-c.x)/2+Math.sin(p)*(a.y-c.y)/2,-Math.sin(p)*(a.x-c.x)/2+Math.cos(p)*(a.y-c.y)/2),g=Math.pow(m.x,2)/Math.pow(u,2)+Math.pow(m.y,2)/Math.pow(d,2);1<g&&(u*=Math.sqrt(g),d*=Math.sqrt(g));var v=(h==f?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(d,2)-Math.pow(u,2)*Math.pow(m.y,2)-Math.pow(d,2)*Math.pow(m.x,2))/(Math.pow(u,2)*Math.pow(m.y,2)+Math.pow(d,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var y=new k.Point(v*u*m.y/d,v*-d*m.x/u),b=new k.Point((a.x+c.x)/2+Math.cos(p)*y.x-Math.sin(p)*y.y,(a.y+c.y)/2+Math.sin(p)*y.x+Math.cos(p)*y.y),x=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(x(e)*x(t))},g=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))},h=g([1,0],[(m.x-y.x)/u,(m.y-y.y)/d]),v=[(m.x-y.x)/u,(m.y-y.y)/d],m=[(-m.x-y.x)/u,(-m.y-y.y)/d],y=g(v,m);w(v,m)<=-1&&(y=Math.PI);g=1-f?1:-1,v=h+(y=1<=w(v,m)?0:y)/2*g,m=new k.Point(b.x+u*Math.cos(v),b.y+d*Math.sin(v));t.addMarkerAngle(m,v-g*Math.PI/2),t.addMarkerAngle(c,v-g*Math.PI),n.addPoint(c.x,c.y),null!=e&&(w=d<u?u:d,g=d<u?1:u/d,u=d<u?d/u:1,e.translate(b.x,b.y),e.rotate(p),e.scale(g,u),e.arc(0,0,w,h,h+y,1-f),e.scale(1/g,1/u),e.rotate(-p),e.translate(-b.x,-b.y))}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return n},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},k.Element.path.prototype=new k.Element.PathElementBase,k.Element.pattern=function(e){this.base=k.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),o=new k.Element.svg;o.attributes.viewBox=new k.Property("viewBox",this.attribute("viewBox").value),o.attributes.width=new k.Property("width",n+"px"),o.attributes.height=new k.Property("height",i+"px"),o.attributes.transform=new k.Property("transform",this.attribute("patternTransform").value),o.children=this.children;var r=document.createElement("canvas");r.width=n,r.height=i;var a=r.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&a.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var s=-1;s<=1;s++)for(var l=-1;l<=1;l++)a.save(),o.attributes.x=new k.Property("x",s*r.width),o.attributes.y=new k.Property("y",l*r.height),o.render(a),a.restore();return e.createPattern(r,"repeat")}},k.Element.pattern.prototype=new k.Element.ElementBase,k.Element.marker=function(e){this.base=k.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,n){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new k.Element.svg;i.attributes.viewBox=new k.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new k.Property("refX",this.attribute("refX").value),i.attributes.refY=new k.Property("refY",this.attribute("refY").value),i.attributes.width=new k.Property("width",this.attribute("markerWidth").value),i.attributes.height=new k.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new k.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new k.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-t.x,-t.y)}},k.Element.marker.prototype=new k.Element.ElementBase,k.Element.defs=function(e){this.base=k.Element.ElementBase,this.base(e),this.render=function(e){}},k.Element.defs.prototype=new k.Element.ElementBase,k.Element.GradientBase=function(e){this.base=k.Element.ElementBase,this.base(e),this.stops=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(e){for(var t=0;t<this.attributesToInherit.length;t++){var n=this.attributesToInherit[t];!this.attribute(n).hasValue()&&e.attribute(n).hasValue()&&(this.attribute(n,!0).value=e.attribute(n).value)}},this.createGradient=function(e,t,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));function o(e){return n.hasValue()?new k.Property("color",e).addOpacity(n).value:e}var r=this.getGradient(e,t);if(null==r)return o(i.stops[i.stops.length-1].color);for(var a=0;a<i.stops.length;a++)r.addColorStop(i.stops[a].offset,o(i.stops[a].color));if(this.attribute("gradientTransform").hasValue()){var s=k.ViewPort.viewPorts[0],e=new k.Element.rect;e.attributes.x=new k.Property("x",-k.MAX_VIRTUAL_PIXELS/3),e.attributes.y=new k.Property("y",-k.MAX_VIRTUAL_PIXELS/3),e.attributes.width=new k.Property("width",k.MAX_VIRTUAL_PIXELS),e.attributes.height=new k.Property("height",k.MAX_VIRTUAL_PIXELS);t=new k.Element.g;t.attributes.transform=new k.Property("transform",this.attribute("gradientTransform").value),t.children=[e];e=new k.Element.svg;e.attributes.x=new k.Property("x",0),e.attributes.y=new k.Property("y",0),e.attributes.width=new k.Property("width",s.width),e.attributes.height=new k.Property("height",s.height),e.children=[t];t=document.createElement("canvas");t.width=s.width,t.height=s.height;s=t.getContext("2d");return s.fillStyle=r,e.render(s),s.createPattern(t,"no-repeat")}return r}},k.Element.GradientBase.prototype=new k.Element.ElementBase,k.Element.linearGradient=function(e){this.base=k.Element.GradientBase,this.base(e),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(e,t){var n="objectBoundingBox"==this.gradientUnits()?t.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),t="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),n="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==t&&o==n?null:e.createLinearGradient(i,o,t,n)}},k.Element.linearGradient.prototype=new k.Element.GradientBase,k.Element.radialGradient=function(e){this.base=k.Element.GradientBase,this.base(e),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),r=i,t=o;this.attribute("fx").hasValue()&&(r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(t="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));n="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(r,t,0,i,o,n)}},k.Element.radialGradient.prototype=new k.Element.GradientBase,k.Element.stop=function(e){this.base=k.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);e=this.style("stop-color",!0);""==e.value&&(e.value="#000"),this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity"))),this.color=e.value},k.Element.stop.prototype=new k.Element.ElementBase,k.Element.AnimateBase=function(e){this.base=k.Element.ElementBase,this.base(e),k.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+e;var t=!1;return this.begin<this.duration&&(e=this.calcValue(),this.attribute("type").hasValue()&&(e=this.attribute("type").value+"("+e+")"),this.getProperty().value=e,t=!0),t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e,t,n,i={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};return this.values.hasValue()?(e=i.progress*(this.values.value.length-1),t=Math.floor(e),n=Math.ceil(e),i.from=new k.Property("from",parseFloat(this.values.value[t])),i.to=new k.Property("to",parseFloat(this.values.value[n])),i.progress=(e-t)/(n-t)):(i.from=this.from,i.to=this.to),i}},k.Element.AnimateBase.prototype=new k.Element.ElementBase,k.Element.animate=function(e){this.base=k.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress();return e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress+this.initialUnits}},k.Element.animate.prototype=new k.Element.AnimateBase,k.Element.animateColor=function(e){this.base=k.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=new c(e.from.value),n=new c(e.to.value);if(t.ok&&n.ok){var i=t.r+(n.r-t.r)*e.progress,o=t.g+(n.g-t.g)*e.progress,e=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(o,10)+","+parseInt(e,10)+")"}return this.attribute("from").value}},k.Element.animateColor.prototype=new k.Element.AnimateBase,k.Element.animateTransform=function(e){this.base=k.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=k.ToNumberArray(e.from.value),n=k.ToNumberArray(e.to.value),i="",o=0;o<t.length;o++)i+=t[o]+(n[o]-t[o])*e.progress+" ";return i}},k.Element.animateTransform.prototype=new k.Element.animate,k.Element.font=function(e){this.base=k.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"font-face"==n.type?(this.fontFace=n).style("font-family").hasValue()&&(k.Definitions[n.style("font-family").value]=this):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},k.Element.font.prototype=new k.Element.ElementBase,k.Element.fontface=function(e){this.base=k.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},k.Element.fontface.prototype=new k.Element.ElementBase,k.Element.missingglyph=function(e){this.base=k.Element.path,this.base(e),this.horizAdvX=0},k.Element.missingglyph.prototype=new k.Element.path,k.Element.glyph=function(e){this.base=k.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},k.Element.glyph.prototype=new k.Element.path,k.Element.text=function(e){this.captureTextNodes=!0,this.base=k.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e);var t=this.style("dominant-baseline").toTextBaseline();null!=(t=null==t?this.style("alignment-baseline").toTextBaseline():t)&&(e.textBaseline=t)},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.parent.style("font-size").numValueOrDefault(k.Font.Parse(k.ctx.font).fontSize);return new k.BoundingBox(e,t-n,e+Math.floor(2*n/3)*this.children[0].getText().length,t)},this.renderChildren=function(e){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(e,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(e,this,this,t)},this.getAnchorDelta=function(e,t,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"==i)return 0;for(var o=0,r=n;r<t.children.length;r++){var a=t.children[r];if(n<r&&a.attribute("x").hasValue())break;o+=a.measureTextRecursive(e)}return-1*("end"==i?o:o/2)},this.renderChild=function(e,t,n,i){var o=n.children[i];o.attribute("x").hasValue()?(o.x=o.attribute("x").toPixels("x")+t.getAnchorDelta(e,n,i),o.attribute("dx").hasValue()&&(o.x+=o.attribute("dx").toPixels("x"))):(o.attribute("dx").hasValue()&&(t.x+=o.attribute("dx").toPixels("x")),o.x=t.x),t.x=o.x+o.measureText(e),o.attribute("y").hasValue()?(o.y=o.attribute("y").toPixels("y"),o.attribute("dy").hasValue()&&(o.y+=o.attribute("dy").toPixels("y"))):(o.attribute("dy").hasValue()&&(t.y+=o.attribute("dy").toPixels("y")),o.y=t.y),t.y=o.y,o.render(e);for(i=0;i<o.children.length;i++)t.renderChild(e,t,o,i)}},k.Element.text.prototype=new k.Element.RenderedElementBase,k.Element.TextElementBase=function(e){this.base=k.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var i,o=t[n],r=null;return e.isArabic?(i="isolated",(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(i="terminal"),0<n&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(i="medial"),0<n&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(i="initial"),void 0!==e.glyphs[o]&&null==(r=e.glyphs[o][i])&&"glyph"==e.glyphs[o].type&&(r=e.glyphs[o])):r=e.glyphs[o],r=null==r?e.missingGlyph:r},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(k.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(k.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(k.Font.Parse(k.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(k.Font.Parse(k.ctx.font).fontStyle),o=this.getText();t.isRTL&&(o=o.split("").reverse().join(""));for(var r=k.ToNumberArray(this.parent.attribute("dx").value),a=0;a<o.length;a++){var s=this.getGlyph(t,o,a),l=n/t.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(l,-l);var c=e.lineWidth;e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/n,"italic"==i&&e.transform(1,0,.4,1,0,0),s.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/l,-1/l),e.translate(-this.x,-this.y),this.x+=n*(s.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,void 0===r[a]||isNaN(r[a])||(this.x+=r[a])}}},this.getText=function(){},this.measureTextRecursive=function(e){for(var t=this.measureText(e),n=0;n<this.children.length;n++)t+=this.children[n].measureTextRecursive(e);return t},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){var n=this.parent.style("font-size").numValueOrDefault(k.Font.Parse(k.ctx.font).fontSize),i=0,o=this.getText();t.isRTL&&(o=o.split("").reverse().join(""));for(var r=k.ToNumberArray(this.parent.attribute("dx").value),a=0;a<o.length;a++)i+=(this.getGlyph(t,o,a).horizAdvX||t.horizAdvX)*n/t.fontFace.unitsPerEm,void 0===r[a]||isNaN(r[a])||(i+=r[a]);return i}var s=k.compressSpaces(this.getText());if(!e.measureText)return 10*s.length;e.save(),this.setContext(e);s=e.measureText(s).width;return e.restore(),s}},k.Element.TextElementBase.prototype=new k.Element.RenderedElementBase,k.Element.tspan=function(e){this.captureTextNodes=!0,this.base=k.Element.TextElementBase,this.base(e),this.text=k.compressSpaces(e.value||e.text||e.textContent||""),this.getText=function(){return 0<this.children.length?"":this.text}},k.Element.tspan.prototype=new k.Element.TextElementBase,k.Element.tref=function(e){this.base=k.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.getHrefAttribute().getDefinition();if(null!=e)return e.children[0].getText()}},k.Element.tref.prototype=new k.Element.TextElementBase,k.Element.a=function(e){this.base=k.Element.TextElementBase,this.base(e),this.hasText=0<e.childNodes.length;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){var t;this.hasText?(this.baseRenderChildren(e),t=new k.Property("fontSize",k.Font.Parse(k.ctx.font).fontSize),k.Mouse.checkBoundingBox(this,new k.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))):0<this.children.length&&((t=new k.Element.g).children=this.children,t.parent=this,t.render(e))},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){k.ctx.canvas.style.cursor="pointer"}},k.Element.a.prototype=new k.Element.TextElementBase,k.Element.image=function(e){this.base=k.Element.RenderedElementBase,this.base(e);var r,t,n=this.getHrefAttribute().value;""!=n&&(r=n.match(/\.svg$/),k.Images.push(this),this.loaded=!1,r?(this.img=k.ajax(n),this.loaded=!0):(this.img=document.createElement("img"),1==k.opts.useCORS&&(this.img.crossOrigin="Anonymous"),(t=this).img.onload=function(){t.loaded=!0},this.img.onerror=function(){k.log('ERROR: image "'+n+'" not found'),t.loaded=!0},this.img.src=n),this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");0!=i&&0!=o&&(e.save(),r?e.drawSvg(this.img,t,n,i,o):(e.translate(t,n),k.AspectRatio(e,this.attribute("preserveAspectRatio").value,i,this.img.width,o,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new k.BoundingBox(e,t,e+n,t+i)})},k.Element.image.prototype=new k.Element.RenderedElementBase,k.Element.g=function(e){this.base=k.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new k.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},k.Element.g.prototype=new k.Element.RenderedElementBase,k.Element.symbol=function(e){this.base=k.Element.RenderedElementBase,this.base(e),this.render=function(e){}},k.Element.symbol.prototype=new k.Element.RenderedElementBase,k.Element.style=function(e){this.base=k.Element.ElementBase,this.base(e);for(var t="",n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].data;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");for(var i=(t=k.compressSpaces(t)).split("}"),n=0;n<i.length;n++)if(""!=k.trim(i[n]))for(var o=i[n].split("{"),r=o[0].split(","),a=o[1].split(";"),s=0;s<r.length;s++){var l=k.trim(r[s]);if(""!=l){for(var c=k.Styles[l]||{},u=0;u<a.length;u++){var d=a[u].indexOf(":"),p=a[u].substr(0,d),d=a[u].substr(d+1,a[u].length-d);null!=p&&null!=d&&(c[k.trim(p)]=new k.Property(k.trim(p),k.trim(d)))}if(k.Styles[l]=c,k.StylesSpecificity[l]=function(i){function e(e,t){var n=i.match(e);null!=n&&(o[t]+=n.length,i=i.replace(e," "))}var o=[0,0,0];return i=(i=i.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[^]*/gm," "),e(/(\[[^\]]+\])/g,1),e(/(#[^\s\+>~\.\[:]+)/g,0),e(/(\.[^\s\+>~\.\[:]+)/g,1),e(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,2),e(/(:[\w-]+\([^\)]*\))/gi,1),e(/(:[^\s\+>~\.\[:]+)/g,1),i=(i=i.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),e(/([^\s\+>~\.\[:]+)/g,2),o.join("")}(l),"@font-face"==l)for(var h=c["font-family"].value.replace(/"/g,""),f=c.src.value.split(","),m=0;m<f.length;m++)if(0<f[m].indexOf('format("svg")'))for(var g=f[m].indexOf("url"),v=f[m].indexOf(")",g),g=f[m].substr(g+5,v-g-6),y=k.parseXml(k.ajax(g)).getElementsByTagName("font"),b=0;b<y.length;b++){var x=k.CreateElement(y[b]);k.Definitions[h]=x}}}},k.Element.style.prototype=new k.Element.ElementBase,k.Element.use=function(e){this.base=k.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var i=this.getHrefAttribute().getDefinition();this.path=function(e){null!=i&&i.path(e)},this.getBoundingBox=function(){if(null!=i)return i.getBoundingBox()},this.renderChildren=function(e){var t,n;null!=i&&("symbol"==(t=i).type&&((t=new k.Element.svg).type="svg",t.attributes.viewBox=new k.Property("viewBox",i.attribute("viewBox").value),t.attributes.preserveAspectRatio=new k.Property("preserveAspectRatio",i.attribute("preserveAspectRatio").value),t.attributes.overflow=new k.Property("overflow",i.attribute("overflow").value),t.children=i.children),"svg"==t.type&&(this.attribute("width").hasValue()&&(t.attributes.width=new k.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(t.attributes.height=new k.Property("height",this.attribute("height").value))),n=t.parent,t.parent=null,t.render(e),t.parent=n)}},k.Element.use.prototype=new k.Element.RenderedElementBase,k.Element.mask=function(e){this.base=k.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");if(0==o&&0==r){for(var a=new k.BoundingBox,s=0;s<this.children.length;s++)a.addBoundingBox(this.children[s].getBoundingBox());n=Math.floor(a.x1),i=Math.floor(a.y1),o=Math.floor(a.width()),r=Math.floor(a.height())}var l=t.attribute("mask").value;t.attribute("mask").value="";var c=document.createElement("canvas");c.width=n+o,c.height=i+r;var u=c.getContext("2d");this.renderChildren(u);var d=document.createElement("canvas");d.width=n+o,d.height=i+r;var p=d.getContext("2d");t.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=u.createPattern(c,"no-repeat"),p.fillRect(0,0,n+o,i+r),e.fillStyle=p.createPattern(d,"no-repeat"),e.fillRect(0,0,n+o,i+r),t.attribute("mask").value=l},this.render=function(e){}},k.Element.mask.prototype=new k.Element.ElementBase,k.Element.clipPath=function(e){this.base=k.Element.ElementBase,this.base(e),this.apply=function(e){var t=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var n=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},t.call(e);for(var i=0;i<this.children.length;i++){var o,r=this.children[i];void 0!==r.path&&(r.style("transform",!1,!(o=null)).hasValue()&&(o=new k.Transform(r.style("transform",!1,!0).value)).apply(e),r.path(e),CanvasRenderingContext2D.prototype.closePath=n,o&&o.unapply(e))}n.call(e),e.clip(),CanvasRenderingContext2D.prototype.beginPath=t,CanvasRenderingContext2D.prototype.closePath=n},this.render=function(e){}},k.Element.clipPath.prototype=new k.Element.ElementBase,k.Element.filter=function(e){this.base=k.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),i=Math.floor(n.x1),o=Math.floor(n.y1),r=Math.floor(n.width()),a=Math.floor(n.height()),s=t.style("filter").value;t.style("filter").value="";for(var l=0,c=0,u=0;u<this.children.length;u++)var d=this.children[u].extraFilterDistance||0,l=Math.max(l,d),c=Math.max(c,d);n=document.createElement("canvas");n.width=r+2*l,n.height=a+2*c;var p=n.getContext("2d");p.translate(-i+l,-o+c),t.render(p);for(u=0;u<this.children.length;u++)"function"==typeof this.children[u].apply&&this.children[u].apply(p,0,0,r+2*l,a+2*c);e.drawImage(n,0,0,r+2*l,a+2*c,i-l,o-c,r+2*l,a+2*c),t.style("filter",!0).value=s},this.render=function(e){}},k.Element.filter.prototype=new k.Element.ElementBase,k.Element.feMorphology=function(e){this.base=k.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,o){}},k.Element.feMorphology.prototype=new k.Element.ElementBase,k.Element.feComposite=function(e){this.base=k.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,o){}},k.Element.feComposite.prototype=new k.Element.ElementBase,k.Element.feColorMatrix=function(e){this.base=k.Element.ElementBase,this.base(e);var n=k.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var t=n[0],n=[.213+.787*t,.715-.715*t,.072-.072*t,0,0,.213-.213*t,.715+.285*t,.072-.072*t,0,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=n[0]*Math.PI/180,t=function(e,t,n){return e+Math.cos(i)*t+Math.sin(i)*n};n=[t(.213,.787,-.213),t(.715,-.715,-.715),t(.072,-.072,.928),0,0,t(.213,-.213,.143),t(.715,.285,.14),t(.072,-.072,-.283),0,0,t(.213,-.213,-.787),t(.715,-.715,.715),t(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function u(e,t,n,i,o,r){return e[n*i*4+4*t+r]}function d(e,t,n,i,o,r,a){e[n*i*4+4*t+r]=a}function p(e,t){e=n[e];return e*(e<0?t-255:t)}this.apply=function(e,t,n,i,o){for(var r=e.getImageData(0,0,i,o),n=0;n<o;n++)for(t=0;t<i;t++){var a=u(r.data,t,n,i,0,0),s=u(r.data,t,n,i,0,1),l=u(r.data,t,n,i,0,2),c=u(r.data,t,n,i,0,3);d(r.data,t,n,i,0,0,p(0,a)+p(1,s)+p(2,l)+p(3,c)+p(4,1)),d(r.data,t,n,i,0,1,p(5,a)+p(6,s)+p(7,l)+p(8,c)+p(9,1)),d(r.data,t,n,i,0,2,p(10,a)+p(11,s)+p(12,l)+p(13,c)+p(14,1)),d(r.data,t,n,i,0,3,p(15,a)+p(16,s)+p(17,l)+p(18,c)+p(19,1))}e.clearRect(0,0,i,o),e.putImageData(r,0,0)}},k.Element.feColorMatrix.prototype=new k.Element.ElementBase,k.Element.feGaussianBlur=function(e){this.base=k.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,t,n,i,o){void 0!==u.canvasRGBA?(e.canvas.id=k.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),u.canvasRGBA(e.canvas.id,t,n,i,o,this.blurRadius),document.body.removeChild(e.canvas)):k.log("ERROR: StackBlur.js must be included for blur to work")}},k.Element.feGaussianBlur.prototype=new k.Element.ElementBase,k.Element.title=function(e){},k.Element.title.prototype=new k.Element.ElementBase,k.Element.desc=function(e){},k.Element.desc.prototype=new k.Element.ElementBase,k.Element.MISSING=function(e){k.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},k.Element.MISSING.prototype=new k.Element.ElementBase,k.CreateElement=function(e){var t=(t=e.nodeName.replace(/^[^:]+:/,"")).replace(/\-/g,""),n=null;return(n=new(void 0!==k.Element[t]?k.Element[t]:k.Element.MISSING)(e)).type=e.nodeName,n},k.load=function(e,t){k.loadXml(e,k.ajax(t))},k.loadXml=function(e,t){k.loadXmlDoc(e,k.parseXml(t))},k.loadXmlDoc=function(r,a){k.init(r);function t(e){for(var t=r.canvas;t;)e.x-=t.offsetLeft,e.y-=t.offsetTop,t=t.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e}1!=k.opts.ignoreMouse&&(r.canvas.onclick=function(e){e=t(new k.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));k.Mouse.onclick(e.x,e.y)},r.canvas.onmousemove=function(e){e=t(new k.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));k.Mouse.onmousemove(e.x,e.y)});var s=k.CreateElement(a.documentElement);s.root=!0,s.addStylesFromStyleDefinition();function n(){k.ViewPort.Clear(),r.canvas.parentNode&&k.ViewPort.SetCurrent(r.canvas.parentNode.clientWidth,r.canvas.parentNode.clientHeight),1!=k.opts.ignoreDimensions&&(s.style("width").hasValue()&&(r.canvas.width=s.style("width").toPixels("x"),r.canvas.style.width=r.canvas.width+"px"),s.style("height").hasValue()&&(r.canvas.height=s.style("height").toPixels("y"),r.canvas.style.height=r.canvas.height+"px"));var e,t,n,i=r.canvas.clientWidth||r.canvas.width,o=r.canvas.clientHeight||r.canvas.height;1==k.opts.ignoreDimensions&&s.style("width").hasValue()&&s.style("height").hasValue()&&(i=s.style("width").toPixels("x"),o=s.style("height").toPixels("y")),k.ViewPort.SetCurrent(i,o),null!=k.opts.offsetX&&(s.attribute("x",!0).value=k.opts.offsetX),null!=k.opts.offsetY&&(s.attribute("y",!0).value=k.opts.offsetY),null==k.opts.scaleWidth&&null==k.opts.scaleHeight||(t=e=null,n=k.ToNumberArray(s.attribute("viewBox").value),null!=k.opts.scaleWidth&&(s.attribute("width").hasValue()?e=s.attribute("width").toPixels("x")/k.opts.scaleWidth:isNaN(n[2])||(e=n[2]/k.opts.scaleWidth)),null!=k.opts.scaleHeight&&(s.attribute("height").hasValue()?t=s.attribute("height").toPixels("y")/k.opts.scaleHeight:isNaN(n[3])||(t=n[3]/k.opts.scaleHeight)),null==e&&(e=t),null==t&&(t=e),s.attribute("width",!0).value=k.opts.scaleWidth,s.attribute("height",!0).value=k.opts.scaleHeight,s.style("transform",!0,!0).value+=" scale("+1/e+","+1/t+")"),1!=k.opts.ignoreClear&&r.clearRect(0,0,i,o),s.render(r),l&&(l=!1,"function"==typeof k.opts.renderCallback&&k.opts.renderCallback(a))}var l=!0,i=!0;k.ImagesLoaded()&&(i=!1,n()),k.intervalID=setInterval(function(){var e=!1;if(i&&k.ImagesLoaded()&&(e=!(i=!1)),1!=k.opts.ignoreMouse&&(e|=k.Mouse.hasEvents()),1!=k.opts.ignoreAnimation)for(var t=0;t<k.Animations.length;t++)e|=k.Animations[t].update(1e3/k.FRAMERATE);(e="function"==typeof k.opts.forceRedraw&&1==k.opts.forceRedraw()?!0:e)&&(n(),k.Mouse.runEvents())},1e3/k.FRAMERATE)},k.stop=function(){k.intervalID&&clearInterval(k.intervalID)},k.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){k.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],n=this.eventElements[e];n;)t.run(n),n=n.parent;this.events=[],this.eventElements=[]}},k}(n||{});1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=n);e=e.getContext("2d");void 0!==t.documentElement?n.loadXmlDoc(e,t):"<"==t.substr(0,1)?n.loadXml(e,t):n.load(e,t)}else for(var i=document.querySelectorAll("svg"),o=0;o<i.length;o++){var r=i[o],a=document.createElement("canvas");a.width=r.clientWidth,a.height=r.clientHeight,r.parentNode.insertBefore(a,r),r.parentNode.removeChild(r);var s=document.createElement("div");s.appendChild(r),d(a,s.innerHTML)}}t.exports=d},{rgbcolor:844,stackblur:848,xmldom:852}],423:[function(t,e,n){try{var i=t("indexof")}catch(e){i=t("component-indexof")}var o=/\s+/,r=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~i(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==r.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),e=i(t,e);return~e&&t.splice(e,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?void 0!==t&&t===this.list.toggle(e,t)||this.list.toggle(e):void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}},{"component-indexof":425,indexof:425}],424:[function(e,t,n){var o=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",a="addEventListener"!=o?"on":"";n.bind=function(e,t,n,i){return e[o](a+t,n,i||!1),n},n.unbind=function(e,t,n,i){return e[r](a+t,n,i||!1),n}},{}],425:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],426:[function(e,t,n){function i(e,t){return t.querySelector(e)}(n=t.exports=function(e,t){return i(e,t=t||document)}).all=function(e,t){return(t=t||document).querySelectorAll(e)},n.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return i=e.one,n.all=e.all,n}},{}],427:[function(e,i,o){!function(n){!function(){var e,t;e=void 0!==n?n:this,t=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;function t(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),i=n.length,o=-1,r="",a=n.charCodeAt(0);++o<i;)0!=(t=n.charCodeAt(o))?r+=1<=t&&t<=31||127==t||0==o&&48<=t&&t<=57||1==o&&48<=t&&t<=57&&45==a?"\\"+t.toString(16)+" ":(0!=o||1!=i||45!=t)&&(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?n.charAt(o):"\\"+n.charAt(o):r+="�";return r}return e.CSS||(e.CSS={}),e.CSS.escape=t},"object"==typeof o?i.exports=t(e):"function"==typeof define&&define.amd?define([],t.bind(e,e)):t(e)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],428:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("diagram-js/lib/features/interaction-events")),e=o(e("./lib/DirectEditing"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["directEditing"],directEditing:["type",e.default]};n.default=e},{"./lib/DirectEditing":429,"diagram-js/lib/features/interaction-events":500}],429:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i,o=e("min-dash"),r=(i=e("./TextBox"))&&i.__esModule?i:{default:i};function a(e,t){this._eventBus=e,this._providers=[],this._textbox=new r.default({container:t.getContainer(),keyHandler:(0,o.bind)(this._handleKey,this),resizeHandler:(0,o.bind)(this._handleResize,this)})}a.$inject=["eventBus","canvas"],a.prototype.registerProvider=function(e){this._providers.push(e)},a.prototype.isActive=function(){return!!this._active},a.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},a.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},a.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},a.prototype.complete=function(){var e,t,n,i=this._active;i&&(e=i.context.bounds,t=this.$textbox.getBoundingClientRect(),(n=this.getValue())===i.context.text&&t.height===e.height&&t.width===e.width||(e=this._textbox.container.getBoundingClientRect(),i.provider.update(i.element,n,i.context.text,{x:t.left-e.left,y:t.top-e.top,width:t.width,height:t.height})),this._fire("complete"),this.close())},a.prototype.getValue=function(){return this._textbox.getValue()},a.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},a.prototype._handleResize=function(e){this._fire("resize",e)},a.prototype.activate=function(t){var n;this.isActive()&&this.cancel();var e=(0,o.find)(this._providers,function(e){return(n=e.activate(t))?e:null});return n&&(this.$textbox=this._textbox.create(n.bounds,n.style,n.text,n.options),this._active={element:t,context:n,provider:e},n.options&&n.options.resizable&&(this.resizable=!0),this._fire("activate")),!!n}},{"./TextBox":430,"min-dash":834}],430:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var h=e("min-dash"),f=e("min-dom"),m=Math.min,g=Math.max;function v(e){e.preventDefault()}function y(e){e.stopPropagation()}function i(e){this.container=e.container,this.parent=(0,f.domify)('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=(0,f.query)("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=(0,h.bind)(this.autoResize,this),this.handlePaste=(0,h.bind)(this.handlePaste,this)}i.prototype.create=function(e,t,n,i){var o=this.parent,r=this.content,a=this.container;i=this.options=i||{},t=this.style=t||{};var s=(0,h.pick)(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);(0,h.assign)(o.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},s);s=(0,h.pick)(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return(0,h.assign)(r.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},s),i.centerVertically&&(0,h.assign)(r.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},s),r.innerText=n,f.event.bind(r,"keydown",this.keyHandler),f.event.bind(r,"mousedown",y),f.event.bind(r,"paste",this.handlePaste),i.autoResize&&f.event.bind(r,"input",this.autoResize),i.resizable&&this.resizable(t),a.appendChild(o),this.setSelection(r.lastChild,r.lastChild&&r.lastChild.length),o},i.prototype.handlePaste=function(e){var t=this.options,n=this.style;e.preventDefault(),e=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(e),!t.autoResize||(n=this.autoResize(n))&&this.resizeHandler(n)},i.prototype.insertText=function(e){e=e.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,e)||this._insertTextIE(e)},i.prototype._insertTextIE=function(n){var e,t,i,o,r=this.getSelection(),a=r.startContainer,s=r.endContainer,l=r.startOffset,c=r.endOffset,u=r.commonAncestorContainer,r=(r=u.childNodes,[].slice.call(r)),d=u.nodeType===Node.TEXT_NODE?(t=a.textContent,a.textContent=t.substring(0,l)+n+t.substring(c),e=a,l+n.length):a===this.content&&s===this.content?(t=document.createTextNode(n),this.content.insertBefore(t,r[l]),(e=t).textContent.length):(i=r.indexOf(a),o=r.indexOf(s),r.forEach(function(e,t){t===i?e.textContent=a.textContent.substring(0,l)+n+s.textContent.substring(c):i<t&&t<=o&&(0,f.remove)(e)}),e=a,l+n.length);e&&void 0!==d&&setTimeout(function(){self.setSelection(e,d)})},i.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n)&&(n=e.getBoundingClientRect(),t=t.scrollHeight,e.style.height=t+"px",this.resizeHandler({width:n.width,height:n.height,dx:0,dy:t-n.height}))},i.prototype.resizable=function(){var i,o,r,a,t,n,s=this,l=this.parent,e=this.resizeHandle,c=parseInt(this.style.minWidth)||0,u=parseInt(this.style.minHeight)||0,d=parseInt(this.style.maxWidth)||1/0,p=parseInt(this.style.maxHeight)||1/0;e||(e=this.resizeHandle=(0,f.domify)('<div class="djs-direct-editing-resize-handle"></div>'),t=function(e){v(e),y(e);var t=m(g(r+e.clientX-i,c),d),n=m(g(a+e.clientY-o,u),p);l.style.width=t+"px",l.style.height=n+"px",s.resizeHandler({width:r,height:a,dx:e.clientX-i,dy:e.clientY-o})},n=function(e){v(e),y(e),f.event.unbind(document,"mousemove",t,!1),f.event.unbind(document,"mouseup",n,!1)},f.event.bind(e,"mousedown",function(e){v(e),y(e),i=e.clientX,o=e.clientY;e=l.getBoundingClientRect();r=e.width,a=e.height,f.event.bind(document,"mousemove",t),f.event.bind(document,"mouseup",n)})),(0,h.assign)(e.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),l.appendChild(e)},i.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),f.event.unbind(t,"keydown",this.keyHandler),f.event.unbind(t,"mousedown",y),f.event.unbind(t,"input",this.autoResize),f.event.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),(0,f.remove)(n)),(0,f.remove)(e)},i.prototype.getValue=function(){return this.content.innerText.trim()},i.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},i.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));t=window.getSelection();t.removeAllRanges(),t.addRange(n)}},{"min-dash":834,"min-dom":835}],431:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var i,o=(i=e("./lib/Diagram"))&&i.__esModule?i:{default:i}},{"./lib/Diagram":432}],432:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i,r=e("didi"),o=(i=e("./core"))&&i.__esModule?i:{default:i};function a(e){var n=[],i=[];function o(e){return 0<=n.indexOf(e)}e.forEach(function e(t){o(t)||((t.__depends__||[]).forEach(e),o(t)||(n.push(t),(t.__init__||[]).forEach(function(e){i.push(e)})))});var t=new r.Injector(n);return i.forEach(function(e){try{t["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}}),t}function s(e,t){this.injector=t=t||a([{config:["value",e=(e=e)||{}]},o.default].concat(e.modules||[])),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}s.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},s.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},{"./core":441,didi:619}],433:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var c=e("min-dash");function i(e){this._eventBus=e}i.$inject=["eventBus"],i.prototype.on=function(e,i,o,r,a,s){if(((0,c.isFunction)(i)||(0,c.isNumber)(i))&&(s=a,a=r,r=o,o=i,i=null),(0,c.isFunction)(o)&&(s=a,a=r,r=o,o=1e3),(0,c.isObject)(a)&&(s=a,a=!1),!(0,c.isFunction)(r))throw new Error("handlerFn must be a function");(0,c.isArray)(e)||(e=[e]);var l=this._eventBus;(0,c.forEach)(e,function(e){var t,n,e=["commandStack",e,i].filter(function(e){return e}).join(".");l.on(e,o,a?(t=r,n=s,function(e){return t.call(n||null,e.context,e.command,e)}):r,s)})};(0,c.forEach)(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],function(r){i.prototype[r]=function(e,t,n,i,o){((0,c.isFunction)(e)||(0,c.isNumber)(e))&&(o=i,i=n,n=t,t=e,e=null),this.on(e,r,t,n,i,o)}})},{"min-dash":834}],434:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash");function i(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}i.$inject=["eventBus","injector"],i.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";t={command:e,context:t};this._pushAction(t),this._internalExecute(t),this._popAction(t)},i.prototype.canExecute=function(e,t){var n={command:e,context:t},i=this._getHandler(e),n=this._fire(e,"canExecute",n);if(void 0===n){if(!i)return!1;i.canExecute&&(n=i.canExecute(t))}return n},i.prototype.clear=function(e){this._stack.length=0,!(this._stackIdx=-1)!==e&&this._fire("changed",{trigger:"clear"})},i.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},i.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},i.prototype.register=function(e,t){this._setHandler(e,t)},i.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");t=this._injector.instantiate(t);this.register(e,t)},i.prototype.canUndo=function(){return!!this._getUndoAction()},i.prototype.canRedo=function(){return!!this._getRedoAction()},i.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},i.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},i.prototype._internalUndo=function(e){var t=this,n=e.command,i=e.context,o=this._getHandler(n);this._atomicDo(function(){t._fire(n,"revert",e),o.revert&&t._markDirty(o.revert(i)),t._revertedAction(e),t._fire(n,"reverted",e)})},i.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var i,o,r,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),i=0;(o=a[i])&&(r=this._eventBus.fire("commandStack."+o,n),!n.cancelBubble);i++);return r},i.prototype._createId=function(){return this._uid++},i.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},i.prototype._internalExecute=function(e,t){var n=this,i=e.command,o=e.context,r=this._getHandler(i);if(!r)throw new Error("no command handler registered for <"+i+">");this._pushAction(e),t||(this._fire(i,"preExecute",e),r.preExecute&&r.preExecute(o),this._fire(i,"preExecuted",e)),this._atomicDo(function(){n._fire(i,"execute",e),r.execute&&n._markDirty(r.execute(o)),n._executedAction(e,t),n._fire(i,"executed",e)}),t||(this._fire(i,"postExecute",e),r.postExecute&&r.postExecute(o),this._fire(i,"postExecuted",e)),this._popAction(e)},i.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)},i.prototype._popAction=function(){var e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:(0,o.uniqueBy)("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},i.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=(0,o.isArray)(e)?e:[e],t.dirty=t.dirty.concat(e))},i.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},i.prototype._revertedAction=function(e){this._stackIdx--},i.prototype._getHandler=function(e){return this._handlerMap[e]},i.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t}},{"min-dash":834}],435:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={commandStack:["type",((i=e("./CommandStack"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./CommandStack":434}],436:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var s=e("min-dash"),r=e("../util/Collections"),l=e("../util/Elements"),c=e("../layout/LayoutUtil"),u=e("tiny-svg");function d(e,t){return Math.round(e*t)/t}function p(e){return(0,s.isNumber)(e)?e+"px":e}function h(e,t,n){var i=(0,u.create)("g");(0,u.classes)(i).add(t);n=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[n]||null),i}var i={shape:["x","y","width","height"],connection:["waypoints"]};function o(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function a(e,t){t="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",t)}o.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],o.prototype._init=function(e){var t,n,i,o=this._eventBus,i=this._container=(t=e,n=(t=(0,s.assign)({},{width:"100%",height:"100%"},t)).container||document.body,(i=document.createElement("div")).setAttribute("class","djs-container"),(0,s.assign)(i.style,{position:"relative",overflow:"hidden",width:p(t.width),height:p(t.height)}),n.appendChild(i),i),r=this._svg=(0,u.create)("svg");(0,u.attr)(r,{width:"100%",height:"100%"}),(0,u.append)(i,r);var a=this._viewport=h(r,"viewport");!(this._layers={})!==e.deferUpdate&&(this._viewboxChanged=(0,s.debounce)((0,s.bind)(this._viewboxChanged,this),300)),o.on("diagram.init",function(){o.fire("canvas.init",{svg:r,viewport:a})},this),o.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),o.on("diagram.destroy",500,this._destroy,this),o.on("diagram.clear",500,this._clear,this)},o.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},o.prototype._clear=function(){var n=this;this._elementRegistry.getAll().forEach(function(e){var t=(0,l.getType)(e);"root"===t?n.setRootElement(null,!0):n._removeElement(e,t)}),delete this._cachedViewbox},o.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},o.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=(n=this._layers[e])||(this._layers[e]=this._createLayer(e,t));if(void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},o.prototype._createLayer=function(e,n){n=n||0;var t=(0,s.reduce)(this._layers,function(e,t){return n>=t.index&&e++,e},0);return{group:h(this._viewport,"layer-"+e,t),index:n}},o.prototype.getContainer=function(){return this._container},o.prototype._updateMarker=function(e,t,n){var i;e.id||(e=this._elementRegistry.get(e)),(i=this._elementRegistry._elements[e.id])&&((0,s.forEach)([i.gfx,i.secondaryGfx],function(e){e&&(n?(0,u.classes)(e).add(t):(0,u.classes)(e).remove(t))}),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))},o.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},o.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},o.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));e=this.getGraphics(e);return(0,u.classes)(e).has(t)},o.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},o.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},o.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,i=this._elementRegistry,o=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");o.fire("root.remove",{element:n}),o.fire("root.removed",{element:n}),i.remove(n)}return e&&(n=this.getDefaultLayer(),o.fire("root.add",{element:e}),i.add(e,n,this._svg),o.fire("root.added",{element:e,gfx:n})),this._rootElement=e},o.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=i[e];if(!(0,s.every)(n,function(e){return void 0!==t[e]}))throw new Error("must supply { "+n.join(", ")+" } with "+e)},o.prototype._setParent=function(e,t,n){(0,r.add)(t.children,e,n),e.parent=t},o.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();var o=this._eventBus,r=this._graphicsFactory;this._ensureValid(e,t),o.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);i=r.create(e,t,i);return this._elementRegistry.add(t,i),r.update(e,t,i),o.fire(e+".added",{element:t,gfx:i}),t},o.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},o.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},o.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,o=this._eventBus;if(e=n.get(e.id||e))return o.fire(t+".remove",{element:e}),i.remove(e),(0,r.remove)(e.parent&&e.parent.children,e),e.parent=null,o.fire(t+".removed",{element:e}),n.remove(e),e},o.prototype.removeShape=function(e){return this._removeElement(e,"shape")},o.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},o.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},o.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},o.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},o.prototype.viewbox=function(t){if(void 0===t&&this._cachedViewbox)return this._cachedViewbox;var e,n,i,o,r=this._viewport,a=this.getSize();return t?(this._changeViewbox(function(){n=Math.min(a.width/t.width,a.height/t.height);var e=this._svg.createSVGMatrix().scale(n).translate(-t.x,-t.y);(0,u.transform)(r,e)}),t):(e=this.getDefaultLayer().getBBox(),o=(i=(0,u.transform)(r))?i.matrix:(0,u.createMatrix)(),n=d(o.a,1e3),i=d(-o.e||0,1e3),o=d(-o.f||0,1e3),t=this._cachedViewbox={x:i?i/n:0,y:o?o/n:0,width:a.width/n,height:a.height/n,scale:n,inner:{width:e.width,height:e.height,x:e.x,y:e.y},outer:a})},o.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox(function(){e=(0,s.assign)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),a(t,n)}),{x:n.e,y:n.f}},o.prototype.scrollToElement=function(e,t){var n=100;"number"==typeof(t=t||{})&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};var i=(0,l.getBBox)(e),o=(0,c.asTRBL)(i),r=this.viewbox(),a=this.zoom();r.y+=t.top/a,r.x+=t.left/a,r.width-=(t.right+t.left)/a,r.height-=(t.bottom+t.top)/a;var s,n=(0,c.asTRBL)(r);r=i.width<r.width&&i.height<r.height?(e=Math.max(0,o.right-n.right),s=Math.min(0,o.left-n.left),t=Math.max(0,o.bottom-n.bottom),n=Math.min(0,o.top-n.top),s=e||s,t||n):(s=i.x-r.x,i.y-r.y),this.scroll({dx:-s*a,dy:-r*a})},o.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox(function(){"object"!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)}),d(i.a,1e3)):this.viewbox(e).scale;var n,i},o.prototype._fitViewport=function(e){var t=this.viewbox(),n=t.outer,t=t.inner,i=0<=t.x&&0<=t.y&&t.x+t.width<=n.width&&t.y+t.height<=n.height&&!e?{x:0,y:0,width:Math.max(t.width+t.x,n.width),height:Math.max(t.height+t.y,n.height)}:(i=Math.min(1,n.width/t.width,n.height/t.height),{x:t.x+(e?t.width/2-n.width/i/2:0),y:t.y+(e?t.height/2-n.height/i/2:0),width:n.width/i,height:n.height/i});return this.viewbox(i),this.viewbox(!1).scale},o.prototype._setZoom=function(e,t){var n=this._svg,i=this._viewport,o=n.createSVGMatrix(),r=n.createSVGPoint(),n=i.getCTM(),i=n.a,e=t?(t=(0,s.assign)(r,t).matrixTransform(n.inverse()),t=o.translate(t.x,t.y).scale(1/i*e).translate(-t.x,-t.y),n.multiply(t)):o.scale(e);return a(this._viewport,e),e},o.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},o.prototype.getAbsoluteBBox=function(e){var t=this.viewbox();return{x:(e=e.waypoints?this.getGraphics(e).getBBox():e).x*t.scale-t.x*t.scale,y:e.y*t.scale-t.y*t.scale,width:e.width*t.scale,height:e.height*t.scale}},o.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},{"../layout/LayoutUtil":589,"../util/Collections":602,"../util/Elements":604,"min-dash":834,"tiny-svg":851}],437:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("../model"),o=e("min-dash");function r(){this._uid=12}r.prototype.createRoot=function(e){return this.create("root",e)},r.prototype.createLabel=function(e){return this.create("label",e)},r.prototype.createShape=function(e){return this.create("shape",e)},r.prototype.createConnection=function(e){return this.create("connection",e)},r.prototype.create=function(e,t){return(t=(0,o.assign)({},t||{})).id||(t.id=e+"_"+this._uid++),(0,i.create)(e,t)}},{"../model":591,"min-dash":834}],438:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("tiny-svg"),r="data-element-id";function i(e){this._elements={},this._eventBus=e}i.$inject=["eventBus"],i.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),(0,o.attr)(t,r,i),n&&(0,o.attr)(n,r,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},i.prototype.remove=function(e){var t=this._elements,n=e.id||e,e=n&&t[n];e&&((0,o.attr)(e.gfx,r,""),e.secondaryGfx&&(0,o.attr)(e.secondaryGfx,r,""),delete t[n])},i.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},i.prototype.get=function(e){e="string"==typeof e?e:e&&(0,o.attr)(e,r),e=this._elements[e];return e&&e.element},i.prototype.filter=function(n){var i=[];return this.forEach(function(e,t){n(e,t)&&i.push(e)}),i},i.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var o=t[n[i]],r=o.element;if(e(r,o.gfx))return r}},i.prototype.getAll=function(){return this.filter(function(e){return e})},i.prototype.forEach=function(n){var i=this._elements;Object.keys(i).forEach(function(e){var t=i[e],e=t.element,t=t.gfx;return n(e,t)})},i.prototype.getGraphics=function(e,t){e=e.id||e,e=this._elements[e];return e&&(t?e.secondaryGfx:e.gfx)},i.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}},{"tiny-svg":851}],439:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("min-dash"),s=Array.prototype.slice;function i(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function l(){}i.prototype.on=function(e,t,n,i){if(e=(0,a.isArray)(e)?e:[e],(0,a.isFunction)(t)&&(i=n,n=t,t=1e3),!(0,a.isNumber)(t))throw new Error("priority must be a number");var o=n;i&&((o=(0,a.bind)(n,i)).__fn=n.__fn||n);var r=this;e.forEach(function(e){r._addListener(e,{priority:t,callback:o,next:null})})},i.prototype.once=function(t,e,n,i){var o=this;if((0,a.isFunction)(e)&&(i=n,n=e,e=1e3),!(0,a.isNumber)(e))throw new Error("priority must be a number");function r(){r.__isTomb=!0;var e=n.apply(i,arguments);return o.off(t,r),e}r.__fn=n,this.on(t,e,r)},i.prototype.off=function(e,t){e=(0,a.isArray)(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},i.prototype.createEvent=function(e){var t=new l;return t.init(e),t},i.prototype.fire=function(e,t){var n,i,o=s.call(arguments);if(!(e="object"==typeof e?(t=e).type:e))throw new Error("no event type specified");if(n=this._listeners[e]){var r=t instanceof l?t:this.createEvent(t),t=(o[0]=r).type;e!==t&&(r.type=e);try{i=this._invokeListeners(r,o,n)}finally{e!==t&&(r.type=t)}return i=void 0===i&&r.defaultPrevented?!1:i}},i.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},i.prototype._destroy=function(){this._listeners={}},i.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},i.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{void 0!==(i=n.callback.apply(null,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return i},i.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));i=(n=i).next}n.next=t}else this._setListeners(e,t)},i.prototype._getListeners=function(e){return this._listeners[e]},i.prototype._setListeners=function(e,t){this._listeners[e]=t},i.prototype._removeListener=function(e,t){var n,i,o,r=this._getListeners(e);if(t)for(;r;)n=r.next,(o=r.callback)!==t&&o.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=r,r=n;else this._setListeners(e,null)},l.prototype.stopPropagation=function(){this.cancelBubble=!0},l.prototype.preventDefault=function(){this.defaultPrevented=!0},l.prototype.init=function(e){(0,a.assign)(this,e||{})}},{"min-dash":834}],440:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=e("min-dash"),i=e("../util/GraphicsUtil"),o=e("../util/SvgTransformUtil"),a=e("min-dom"),s=e("tiny-svg"),l=e("../util/Elements");function c(e,t){this._eventBus=e,this._elementRegistry=t}function u(e,t,n){n=n||t.firstChild;e!==n&&t.insertBefore(e,n)}c.$inject=["eventBus","elementRegistry"],c.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=(0,i.getChildren)(n))||(t=(0,s.create)("g"),(0,s.classes)(t).add("djs-children"),(0,s.append)(n.parentNode,t)):t=n,t},c.prototype._clear=function(e){e=(0,i.getVisual)(e);return(0,a.clear)(e),e},c.prototype._createContainer=function(e,t,n,i){var o=(0,s.create)("g");(0,s.classes)(o).add("djs-group"),void 0!==n?u(o,t,t.childNodes[n]):(0,s.append)(t,o);t=(0,s.create)("g");(0,s.classes)(t).add("djs-element"),(0,s.classes)(t).add("djs-"+e),i&&(0,s.classes)(t).add("djs-frame"),(0,s.append)(o,t);o=(0,s.create)("g");return(0,s.classes)(o).add("djs-visual"),(0,s.append)(t,o),t},c.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,(0,l.isFrameElement)(t))},c.prototype.updateContainments=function(e){var i=this,o=this._elementRegistry,e=(0,r.reduce)(e,function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e},{});(0,r.forEach)(e,function(e){var t,n=e.children;n&&(t=i._getChildrenContainer(e),(0,r.forEach)(n.slice().reverse(),function(e){u(o.getGraphics(e).parentNode,t)}))})},c.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},c.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},c.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},c.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},c.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if("shape"===e)this.drawShape(i,t),(0,o.translate)(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(i,t)}t.hidden?(0,s.attr)(n,"display","none"):(0,s.attr)(n,"display","block")}},c.prototype.remove=function(e){e=this._elementRegistry.getGraphics(e);(0,s.remove)(e.parentNode)}},{"../util/Elements":604,"../util/GraphicsUtil":608,"../util/SvgTransformUtil":617,"min-dash":834,"min-dom":835,"tiny-svg":851}],441:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../draw")),o=l(e("./Canvas")),r=l(e("./ElementRegistry")),a=l(e("./ElementFactory")),s=l(e("./EventBus")),e=l(e("./GraphicsFactory"));function l(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["canvas"],canvas:["type",o.default],elementRegistry:["type",r.default],elementFactory:["type",a.default],eventBus:["type",s.default],graphicsFactory:["type",e.default]};n.default=e},{"../draw":445,"./Canvas":436,"./ElementFactory":437,"./ElementRegistry":438,"./EventBus":439,"./GraphicsFactory":440}],442:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=1e3;function i(e,t){var i=this;e.on(["render.shape","render.connection"],t=t||o,function(e,t){var n=e.type,e=t.element,t=t.gfx;if(i.canRender(e))return"render.shape"===n?i.drawShape(t,e):i.drawConnection(t,e)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(e,t){if(i.canRender(t))return"render.getShapePath"===e.type?i.getShapePath(t):i.getConnectionPath(t)})}i.prototype.canRender=function(){},i.prototype.drawShape=function(){},i.prototype.drawConnection=function(){},i.prototype.getShapePath=function(){},i.prototype.getConnectionPath=function(){}},{}],443:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var n=s(e("inherits")),i=s(e("./BaseRenderer")),r=e("../util/RenderUtil"),o=e("tiny-svg"),a=e("../util/Elements");function s(e){return e&&e.__esModule?e:{default:e}}var l=1;function c(e,t){i.default.call(this,e,l),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}(0,n.default)(c,i.default),c.prototype.canRender=function(){return!0},c.prototype.drawShape=function(e,t){var n=(0,o.create)("rect");return(0,o.attr)(n,{x:0,y:0,width:t.width||0,height:t.height||0}),(0,a.isFrameElement)(t)?(0,o.attr)(n,this.FRAME_STYLE):(0,o.attr)(n,this.SHAPE_STYLE),(0,o.append)(e,n),n},c.prototype.drawConnection=function(e,t){t=(0,r.createLine)(t.waypoints,this.CONNECTION_STYLE);return(0,o.append)(e,t),t},c.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width,e=e.height;return(0,r.componentsToPath)([["M",t,n],["l",i,0],["l",0,e],["l",-i,0],["z"]])},c.prototype.getConnectionPath=function(e){for(var t,n=e.waypoints,i=[],o=0;t=n[o];o++)t=t.original||t,i.push([0===o?"M":"L",t.x,t.y]);return(0,r.componentsToPath)(i)},c.$inject=["eventBus","styles"]},{"../util/Elements":604,"../util/RenderUtil":616,"./BaseRenderer":442,inherits:623,"tiny-svg":851}],444:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var n={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},i=this;this.cls=function(e,t,n){n=this.style(t,n);return(0,o.assign)(n,{class:e})},this.style=function(e,t){(0,o.isArray)(e)||t||(t=e,e=[]);e=(0,o.reduce)(e,function(e,t){return(0,o.assign)(e,n[t]||{})},{});return t?(0,o.assign)(e,t):e},this.computeStyle=function(e,t,n){return(0,o.isArray)(t)||(n=t,t=[]),i.style(t||[],(0,o.assign)({},n,e||{}))}};var o=e("min-dash")},{"min-dash":834}],445:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./DefaultRenderer")),e=o(e("./Styles"));function o(e){return e&&e.__esModule?e:{default:e}}e={__init__:["defaultRenderer"],defaultRenderer:["type",i.default],styles:["type",e.default]};n.default=e},{"./DefaultRenderer":443,"./Styles":444}],446:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var d=e("min-dash");function p(e){return e&&e[e.length-1]}function i(e){return e.y}function o(e){return e.x}var r={left:o,center:o,right:function(e){return e.x+e.width},top:i,middle:i,bottom:function(e){return e.y+e.height}};function a(e){this._modeling=e}a.$inject=["modeling"],a.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},a.prototype._isType=function(e,t){return-1!==t.indexOf(e)},a.prototype._alignmentPosition=function(e,t){var n,i,o,r=this._getOrientationDetails(e),a=r.axis,s=r.dimension,l={},c={},u=!1;if(this._isType(e,["left","top"]))l[e]=t[0][a];else if(this._isType(e,["right","bottom"]))i=p(t),l[e]=i[a]+i[s];else if(this._isType(e,["center","middle"])){if((0,d.forEach)(t,function(e){var t=e[a]+Math.round(e[s]/2);c[t]?c[t].elements.push(e):c[t]={elements:[e],center:t}}),r=(0,d.sortBy)(c,function(e){return 1<e.elements.length&&(u=!0),e.elements.length}),u)return l[e]=p(r).center,l;n=t[0],i=p(t=(0,d.sortBy)(t,function(e){return e[a]+e[s]})),l[e]=(o=i,Math.round((n[a]+o[a]+o[s])/2))}return l},a.prototype.trigger=function(e,t){var n=this._modeling,e=(0,d.filter)(e,function(e){return!(e.waypoints||e.host||e.labelTarget)});e.length<2||(e=(0,d.sortBy)(e,r[t]),t=this._alignmentPosition(t,e),n.alignElements(e,t))}},{"min-dash":834}],447:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["alignElements"],alignElements:["type",((i=e("./AlignElements"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./AlignElements":446}],448:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var a=e("min-dash"),s=e("../../util/Removal"),l=e("../../util/AttachUtil"),n=i(e("inherits")),c=i(e("../../command/CommandInterceptor"));function i(e){return e&&e.__esModule?e:{default:e}}var u=251,d=1401,p="attach-ok";function o(e,n,i,t,o){c.default.call(this,n);var r=e.get("movePreview",!1);n.on("shape.move.start",d,function(e){var t,n=e.context,i=n.shapes,o=n.validatedShapes;n.shapes=(i=h(e=i),(0,a.unionBy)("id",e,i)),n.validatedShapes=(o=o,t=(0,a.groupBy)(o,"id"),(0,a.filter)(o,function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0}))}),r&&n.on("shape.move.start",u,function(e){var t=e.context,e=h(t.shapes);(0,a.forEach)(e,function(e){r.makeDraggable(t,e,!0),(0,a.forEach)(e.labels,function(e){r.makeDraggable(t,e,!0)})})}),r&&n.on("shape.move.start",function(e){var t,e=e.context.shapes;1!==e.length||(t=e[0].host)&&(i.addMarker(t,p),n.once(["shape.move.out","shape.move.cleanup"],function(){i.removeMarker(t,p)}))}),this.preExecuted("elements.move",d,function(e){var e=e.context,t=e.closure,e=h(e.shapes);(0,a.forEach)(e,function(e){t.add(e,t.topLevel[e.host.id])})}),this.postExecuted("elements.move",function(e){var e=e.context,n=e.shapes,t=e.newHost;t&&1!==n.length||(e=t?n:(0,a.filter)(n,function(e){var t=e.host;return!(!e.host||-1!==n.indexOf(t))}),(0,a.forEach)(e,function(e){o.updateAttachment(e,t)}))}),this.postExecuted("elements.move",function(e){e=e.context.shapes;(0,a.forEach)(e,function(e){(0,a.forEach)(e.attachers,function(e){(0,a.forEach)(e.outgoing.slice(),function(e){t.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||o.removeConnection(e)}),(0,a.forEach)(e.incoming.slice(),function(e){t.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||o.removeConnection(e)})})})}),this.postExecute("shape.create",function(e){var t=e.context,e=t.shape,t=t.host;t&&o.updateAttachment(e,t)}),this.postExecute("shape.replace",function(e){var e=e.context,n=e.oldShape,i=e.newShape;(0,s.saveClear)(n.attachers,function(e){"attach"===t.allowed("elements.move",{target:i,shapes:[e]})?o.updateAttachment(e,i):o.removeShape(e)}),i.attachers.length&&(0,a.forEach)(i.attachers,function(e){var t=(0,l.getNewAttachShapeDelta)(e,n,i);o.moveShape(e,t,e.parent)})}),this.postExecute("shape.resize",function(e){var t=e.context,e=t.shape,n=t.oldBounds,i=t.newBounds,e=e.attachers;!1!==(t.hints||{}).attachSupport&&(0,a.forEach)(e,function(e){var t=(0,l.getNewAttachShapeDelta)(e,n,i);o.moveShape(e,t,e.parent),(0,a.forEach)(e.labels,function(e){o.moveShape(e,t,e.parent)})})}),this.preExecute("shape.delete",function(e){e=e.context.shape;(0,s.saveClear)(e.attachers,function(e){o.removeShape(e)}),e.host&&o.updateAttachment(e,null)})}function h(e){return(0,a.flatten)((0,a.map)(e,function(e){return e.attachers||[]}))}(0,n.default)(o,c.default),o.$inject=["injector","eventBus","canvas","rules","modeling"]},{"../../command/CommandInterceptor":433,"../../util/AttachUtil":600,"../../util/Removal":615,inherits:623,"min-dash":834}],449:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../rules")),e=o(e("./AttachSupport"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["attachSupport"],attachSupport:["type",e.default]};n.default=e},{"../rules":561,"./AttachSupport":448}],450:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var a=e("../../layout/LayoutUtil"),s=e("./AutoPlaceUtil"),i=100;function o(o,r,t){o.on("autoPlace",i,function(e){var t=e.shape;return function(e,t,n){n=n||{};var i=n.defaultDistance||s.DEFAULT_DISTANCE,n=(0,a.getMid)(e);return{x:(0,a.asTRBL)(e).right+i+t.width/2,y:n.y}}(e.source,t)}),o.on("autoPlace.end",function(e){t.scrollToElement(e.shape)}),this.append=function(e,t,n){o.fire("autoPlace.start",{source:e,shape:t});var i=o.fire("autoPlace",{source:e,shape:t}),n=r.appendShape(e,t,i,e.parent,n);return o.fire("autoPlace.end",{source:e,shape:n}),n}}o.$inject=["eventBus","modeling","canvas"]},{"../../layout/LayoutUtil":589,"./AutoPlaceUtil":452}],451:[function(e,t,n){"use strict";function i(e,t){e.on("autoPlace.end",500,function(e){t.select(e.shape)})}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).$inject=["eventBus","selection"]},{}],452:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findFreePosition=function(e,t,n,i){var o;for(;o=r(e,n,t);)n=i(t,n,o);return n},n.generateGetNextPosition=function(l){return function(o,r,a){var s={x:r.x,y:r.y};return["x","y"].forEach(function(e){var t,n,i=l[e];i&&(t="x"===e?"width":"height",n=i.margin,i=i.minDistance,s[e]=n<0?Math.min(a[e]+n-o[t]/2,r[e]-i+n):Math.max(a[e]+a[t]+n+o[t]/2,r[e]+i+n))}),s}},n.getConnectedAtPosition=r,n.getConnectedDistance=function(i,e){e=e||{};var t=e.defaultDistance||d,n=e.direction||"e",o=e.filter,r=e.getWeight||function(e){return e.source===i?1:-1},a=e.maxDistance||p,s=e.reference||"start";o=o||h;function l(e,t){return"n"===n?"start"===s?(0,c.asTRBL)(e).top-(0,c.asTRBL)(t).bottom:"center"===s?(0,c.asTRBL)(e).top-(0,c.getMid)(t).y:(0,c.asTRBL)(e).top-(0,c.asTRBL)(t).top:"w"===n?"start"===s?(0,c.asTRBL)(e).left-(0,c.asTRBL)(t).right:"center"===s?(0,c.asTRBL)(e).left-(0,c.getMid)(t).x:(0,c.asTRBL)(e).left-(0,c.asTRBL)(t).left:"s"===n?"start"===s?(0,c.asTRBL)(t).top-(0,c.asTRBL)(e).bottom:"center"===s?(0,c.getMid)(t).y-(0,c.asTRBL)(e).bottom:(0,c.asTRBL)(t).bottom-(0,c.asTRBL)(e).bottom:"start"===s?(0,c.asTRBL)(t).left-(0,c.asTRBL)(e).right:"center"===s?(0,c.getMid)(t).x-(0,c.asTRBL)(e).right:(0,c.asTRBL)(t).right-(0,c.asTRBL)(e).right}e=i.incoming.filter(o).map(function(e){var t=r(e),n=t<0?l(e.source,i):l(i,e.source);return{id:e.source.id,distance:n,weight:t}}),o=i.outgoing.filter(o).map(function(e){var t=r(e),n=0<t?l(i,e.target):l(e.target,i);return{id:e.target.id,distance:n,weight:t}}),o=e.concat(o).reduce(function(e,t){return e[t.id+"__weight_"+t.weight]=t,e},{});return(0,u.reduce)(o,function(e,t){var n=t.distance,t=t.weight;return n<0||a<n||(e[String(n)]||(e[String(n)]=0),e[String(n)]+=+t,(!e.distance||e[e.distance]<e[String(n)])&&(e.distance=n)),e},{}).distance||t},n.DEFAULT_DISTANCE=void 0;var c=e("../../layout/LayoutUtil"),u=e("min-dash"),o=10,d=50;n.DEFAULT_DISTANCE=d;var p=250;function r(e,t,n){var i={x:t.x-n.width/2,y:t.y-n.height/2,width:n.width,height:n.height},e=function(e){var t=a(e);e.host&&(t=t.concat(a(e.host)));e.attachers&&(t=t.concat(e.attachers.reduce(function(e,t){return e.concat(a(t))},[])));return t}(e);return(0,u.find)(e,function(e){return e!==n&&"intersect"===(0,c.getOrientation)(e,i,o)})}function a(e){return e.outgoing.map(function(e){return e.target}).concat(e.incoming.map(function(e){return e.source}))}function h(){return!0}},{"../../layout/LayoutUtil":589,"min-dash":834}],453:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./AutoPlace")),e=o(e("./AutoPlaceSelectionBehavior"));function o(e){return e&&e.__esModule?e:{default:e}}e={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",i.default],autoPlaceSelectionBehavior:["type",e.default]};n.default=e},{"./AutoPlace":450,"./AutoPlaceSelectionBehavior":451}],454:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var n=i(e("inherits")),r=e("../../util/Elements"),a=e("../../layout/LayoutUtil"),s=e("min-dash"),l=i(e("../../command/CommandInterceptor"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,i){l.default.call(this,e),this._elementRegistry=t,this._modeling=n,this._rules=i;var o=this;this.postExecuted(["shape.create"],function(e){var t=e.context,n=t.hints||{},e=t.shape,t=t.parent||t.newParent;!1!==n.autoResize&&o._expand([e],t)}),this.postExecuted(["elements.move"],function(e){var t=e.context,e=(0,s.flatten)((0,s.values)(t.closure.topLevel)),t=t.hints,n=!t||t.autoResize;!1!==n&&(e=(0,s.groupBy)(e,function(e){return e.parent.id}),(0,s.forEach)(e,function(e,t){(0,s.isArray)(n)&&(e=e.filter(function(e){return(0,s.find)(n,(0,s.matchPattern)({id:e.id}))})),o._expand(e,t)}))}),this.postExecuted(["shape.toggleCollapse"],function(e){var t=e.context,e=t.hints,t=t.shape;e&&!1===e.autoResize||t.collapsed||o._expand(t.children||[],t)}),this.postExecuted(["shape.resize"],function(e){var t=e.context,n=t.hints,e=t.shape,t=e.parent;n&&!1===n.autoResize||t&&o._expand([e],t)})}o.$inject=["eventBus","elementRegistry","modeling","rules"],(0,n.default)(o,l.default),o.prototype._getOptimalBounds=function(e,t){var n=this.getOffset(t),i=this.getPadding(t),o=(0,a.asTRBL)((0,r.getBBox)(e)),e=(0,a.asTRBL)(t),t={};return o.top-e.top<i.top&&(t.top=o.top-n.top),o.left-e.left<i.left&&(t.left=o.left-n.left),e.right-o.right<i.right&&(t.right=o.right+n.right),e.bottom-o.bottom<i.bottom&&(t.bottom=o.bottom+n.bottom),(0,a.asBounds)((0,s.assign)({},e,t))},o.prototype._expand=function(e,t){var n,i;"string"==typeof t&&(t=this._elementRegistry.get(t)),this._rules.allowed("element.autoResize",{elements:e,target:t})&&(n=this._getOptimalBounds(e,t),i=t,(e=n).x===i.x&&e.y===i.y&&e.width===i.width&&e.height===i.height||(i=function(e,t){var n="";e=(0,a.asTRBL)(e),t=(0,a.asTRBL)(t),e.top>t.top&&(n=n.concat("n"));e.right<t.right&&(n=n.concat("w"));e.bottom<t.bottom&&(n=n.concat("s"));e.left>t.left&&(n=n.concat("e"));return n}((0,s.pick)(t,["x","y","width","height"]),n),this.resize(t,n,{autoResize:i}),(i=t.parent)&&this._expand([t],i)))},o.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}},o.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}},o.prototype.resize=function(e,t,n){this._modeling.resizeShape(e,t,null,n)}},{"../../command/CommandInterceptor":433,"../../layout/LayoutUtil":589,"../../util/Elements":604,inherits:623,"min-dash":834}],455:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=o(e("../rules/RuleProvider")),e=o(e("inherits"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){i.default.call(this,e);var t=this;this.addRule("element.autoResize",function(e){return t.canResize(e.elements,e.target)})}r.$inject=["eventBus"],(0,e.default)(r,i.default),r.prototype.canResize=function(e,t){return!1}},{"../rules/RuleProvider":559,inherits:623}],456:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var o=e("min-dash"),i=e("../../util/Event");function r(e,t,n){this._canvas=n,this._opts=(0,o.assign)({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var i=this;t.on("drag.move",function(e){e=i._toBorderPoint(e);i.startScroll(e)}),t.on(["drag.cleanup"],function(){i.stopScroll()})}r.$inject=["config.autoScroll","eventBus","canvas"],r.prototype.startScroll=function(e){var t=this._canvas,n=this._opts,i=this,o=t.getContainer().getBoundingClientRect(),r=[e.x,e.y,o.width-e.x,o.height-e.y];this.stopScroll();for(var a=0,s=0,l=0;l<4;l++)!function(e,t,n){if(t<e&&e<n)return!0;return!1}(r[l],n.scrollThresholdOut[l],n.scrollThresholdIn[l])||(0===l?a=n.scrollStep:1==l?s=n.scrollStep:2==l?a=-n.scrollStep:3==l&&(s=-n.scrollStep));0===a&&0===s||(t.scroll({dx:a,dy:s}),this._scrolling=setTimeout(function(){i.startScroll(e)},n.scrollRepeatTimeout))},r.prototype.stopScroll=function(){clearTimeout(this._scrolling)},r.prototype.setOptions=function(e){this._opts=(0,o.assign)({},this._opts,e)},r.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),e=(0,i.toPoint)(e.originalEvent);return{x:e.x-t.left,y:e.y-t.top}}},{"../../util/Event":606,"min-dash":834}],457:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../dragging")),e=o(e("./AutoScroll"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["autoScroll"],autoScroll:["type",e.default]};n.default=e},{"../dragging":484,"./AutoScroll":456}],458:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,n.isReverse=b;var f=e("../../layout/LayoutUtil"),m=Math.round,g="reconnectStart",v="reconnectEnd",y="updateWaypoints";function i(e,t,u,d,p,h){this._injector=e,this.start=function(e,t,n,i){var o=u.getGraphics(t),r=t.source,a=t.target,s=t.waypoints,l=i||0!==n?i||n!==s.length-1?y:v:g,c=l===y?"connection.updateWaypoints":"connection.reconnect",s=p.allowed(c,{connection:t,source:r,target:a});!1!==(s=!1===s?p.allowed(c,{connection:t,source:a,target:r}):s)&&d.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:o,context:{allowed:s,bendpointIndex:n,connection:t,source:r,target:a,insert:i,type:l}}})},t.on("bendpoint.move.hover",function(e){var t=e.context,n=t.connection,i=n.source,o=n.target,r=e.hover,a=t.type;if(t.hover=r){var s=a===y?"connection.updateWaypoints":"connection.reconnect";if(e=t.allowed=p.allowed(s,{connection:n,source:a===g?r:i,target:a===v?r:o}))return t.source=a===g?r:i,void(t.target=a===v?r:o);(e=!1===e?t.allowed=p.allowed(s,{connection:n,source:a===v?r:o,target:a===g?r:i}):e)&&(t.source=a===v?r:o,t.target=a===g?r:i)}}),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(e){var t=e.context,e=t.type;t.hover=null,t.source=null,t.target=null,e!==y&&(t.allowed=!1)}),t.on("bendpoint.move.end",function(e){var t=e.context,n=t.allowed,i=t.bendpointIndex,o=t.connection,r=t.insert,a=o.waypoints.slice(),s=t.source,l=t.target,c=t.type,u=t.hints||{},e={x:m(e.x),y:m(e.y)};if(!n)return!1;c===y?(r?a.splice(i,0,e):a[i]=e,u.bendpointMove={insert:r,bendpointIndex:i},a=this.cropWaypoints(o,a),h.updateWaypoints(o,(0,f.filterRedundantWaypoints)(a),u)):(c===g?(u.docking="source",b(t)&&(u.docking="target",u.newWaypoints=a.reverse())):c===v&&(u.docking="target",b(t)&&(u.docking="source",u.newWaypoints=a.reverse())),h.reconnect(o,s,l,e,u))},this)}function b(e){var t=e.hover,n=e.source,i=e.target,e=e.type;return e===g?t&&i&&t===i&&n!==i:e===v?t&&n&&t===n&&n!==i:void 0}i.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],i.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var i=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=i,t}},{"../../layout/LayoutUtil":589}],459:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var l=e("tiny-svg"),c=e("./BendpointUtil"),g=e("../../util/SvgTransformUtil"),v=e("./BendpointMove"),y="reconnectStart",b="reconnectEnd",x="updateWaypoints",a="connect-ok",u="connect-not-ok",i="connect-hover",d="djs-updating",p="djs-element-hidden",o=1100;function r(f,e,t,s){var m=(this._injector=e).get("connectionPreview",!1);t.on("bendpoint.move.start",function(e){var t=e.context,n=t.bendpointIndex,i=t.connection,o=t.insert,r=i.waypoints,a=r.slice();t.waypoints=r,o&&a.splice(n,0,{x:e.x,y:e.y}),i.waypoints=a;t=t.draggerGfx=(0,c.addBendpoint)(s.getLayer("overlays"));(0,l.classes)(t).add("djs-dragging"),s.addMarker(i,p),s.addMarker(i,d)}),t.on("bendpoint.move.hover",function(e){var t=e.context,n=t.allowed,e=t.hover,t=t.type;e&&(s.addMarker(e,i),t!==x&&(n?(s.removeMarker(e,u),s.addMarker(e,a)):!1===n&&(s.removeMarker(e,a),s.addMarker(e,u))))}),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],o,function(e){var t=e.context,e=t.hover,t=t.target;e&&(s.removeMarker(e,i),s.removeMarker(e,t?a:u))}),t.on("bendpoint.move.move",function(e){var t=e.context,n=t.allowed,i=t.bendpointIndex,o=t.draggerGfx,r=t.hover,a=t.type,s=t.connection,l=s.source,c=s.target,u=s.waypoints.slice(),d={x:e.x,y:e.y},p=t.hints||{},h={};m&&(p.connectionStart&&(h.connectionStart=p.connectionStart),p.connectionEnd&&(h.connectionEnd=p.connectionEnd),a===y?(0,v.isReverse)(t)?(h.connectionEnd=h.connectionEnd||d,h.source=c,h.target=r||l,u=u.reverse()):(h.connectionStart=h.connectionStart||d,h.source=r||l,h.target=c):a===b?(0,v.isReverse)(t)?(h.connectionStart=h.connectionStart||d,h.source=r||c,h.target=l,u=u.reverse()):(h.connectionEnd=h.connectionEnd||d,h.source=l,h.target=r||c):(h.noCropping=!0,h.noLayout=!0,u[i]=d),a===x&&(u=f.cropWaypoints(s,u)),h.waypoints=u,m.drawPreview(t,n,h)),(0,g.translate)(o,e.x,e.y)},this),t.on(["bendpoint.move.end","bendpoint.move.cancel"],o,function(e){var t=e.context,n=t.connection,i=t.draggerGfx,o=t.hover,r=t.target,e=t.waypoints;n.waypoints=e,(0,l.remove)(i),s.removeMarker(n,d),s.removeMarker(n,p),o&&(s.removeMarker(o,a),s.removeMarker(o,r?a:u)),m&&m.cleanUp(t)})}r.$inject=["bendpointMove","injector","eventBus","canvas"]},{"../../util/SvgTransformUtil":617,"./BendpointMove":458,"./BendpointUtil":461,"tiny-svg":851}],460:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var p=e("min-dash"),h=e("../snapping/SnapUtil"),o=Math.abs,i=Math.round,r=10;function a(e){function u(e,t){if((0,p.isArray)(e)){for(var n=e.length;n--;)if(o(e[n]-t)<=r)return e[n]}else{var i=t%(e=+e);if(i<r)return t-i;if(e-r<i)return t-i+e}return t}function d(e){if(e.width)return{x:i(e.width/2+e.x),y:i(e.height/2+e.y)}}e.on("connectionSegment.move.move",1500,function(e){var t,n,i,o,r,a,s,l,c=e.context,n=(t=(a=c).snapPoints,s=a.connection,r=s.waypoints,n=a.segmentStart,i=a.segmentStartIndex,l=a.segmentEnd,c=a.segmentEndIndex,o=a.axis,t||(l=[r[i-1],n,l,r[c+1]],i<2&&l.unshift(d(s.source)),c>r.length-3&&l.unshift(d(s.target)),a.snapPoints=t={horizontal:[],vertical:[]},(0,p.forEach)(l,function(e){e&&(e=e.original||e,"y"===o&&t.horizontal.push(e.y),"x"===o&&t.vertical.push(e.x))}),t)),i=e.x,c=e.y;n&&(s=i-(r=u(n.vertical,i)),l=c-(a=u(n.horizontal,c)),(0,p.assign)(e,{dx:e.dx-s,dy:e.dy-l,x:r,y:a}),!s&&-1===n.vertical.indexOf(i)||(0,h.setSnapped)(e,"x",r),!l&&-1===n.horizontal.indexOf(c)||(0,h.setSnapped)(e,"y",a))}),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(e){var t,n,i,o,r=e.context,a=(n=(t=r).snapPoints,i=t.connection.waypoints,o=t.bendpointIndex,n||(o=[i[o-1],i[o+1]],t.snapPoints=n={horizontal:[],vertical:[]},(0,p.forEach)(o,function(e){e&&(e=e.original||e,n.horizontal.push(e.y),n.vertical.push(e.x))}),n)),s=r.hover,l=s&&d(s),i=e.x,t=e.y;a&&(r=i-(o=u(l?a.vertical.concat([l.x]):a.vertical,i)),l=t-(s=u(l?a.horizontal.concat([l.y]):a.horizontal,t)),(0,p.assign)(e,{dx:e.dx-r,dy:e.dy-l,x:e.x-r,y:e.y-l}),!r&&-1===a.vertical.indexOf(i)||(0,h.setSnapped)(e,"x",o),!l&&-1===a.horizontal.indexOf(t)||(0,h.setSnapped)(e,"y",s))})}a.$inject=["eventBus"]},{"../snapping/SnapUtil":571,"min-dash":834}],461:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toCanvasCoordinates=u,n.getConnectionIntersection=function(e,t,n){n=u(e,n);return(0,o.getApproxIntersection)(t,n)},n.addBendpoint=function(e,t){var n=(0,s.create)("g");(0,s.classes)(n).add(r),(0,s.append)(e,n);e=(0,s.create)("circle");(0,s.attr)(e,{cx:0,cy:0,r:4}),(0,s.classes)(e).add("djs-visual"),(0,s.append)(n,e);e=(0,s.create)("circle");(0,s.attr)(e,{cx:0,cy:0,r:10}),(0,s.classes)(e).add("djs-hit"),(0,s.append)(n,e),t&&(0,s.classes)(n).add(t);return n},n.addSegmentDragger=function(e,t,n){var i=(0,s.create)("g"),o=(0,a.getMidPoint)(t,n),r=(0,a.pointsAligned)(t,n);return(0,s.append)(e,i),function(e,t,n,i){var o=(0,s.create)("g");(0,s.append)(e,o);t=function(e,t,n){var i=t.x-e.x,e=t.y-e.y;return d("h"===n?i:e)}(t,n,i),n=(0,s.create)("rect");(0,s.attr)(n,{x:-7,y:-1.5,width:14,height:3}),(0,s.classes)(n).add("djs-visual"),(0,s.append)(o,n);n=(0,s.create)("rect");return(0,s.attr)(n,{x:-t/2,y:-7,width:t,height:14}),(0,s.classes)(n).add("djs-hit"),(0,s.append)(o,n),(0,l.rotate)(o,"v"===i?90:0,0,0),o}(i,t,n,r),(0,s.classes)(i).add(c),(0,s.classes)(i).add("h"===r?"horizontal":"vertical"),(0,l.translate)(i,o.x,o.y),i},n.calculateSegmentMoveRegion=d,n.SEGMENT_DRAGGER_CLS=n.BENDPOINT_CLS=void 0;var i=e("../../util/Event"),a=e("../../util/Geometry"),s=e("tiny-svg"),l=e("../../util/SvgTransformUtil"),o=e("../../util/LineIntersection"),r="djs-bendpoint";n.BENDPOINT_CLS=r;var c="djs-segment-dragger";function u(e,t){var n=(0,i.toPoint)(t),t=e._container.getBoundingClientRect(),t={x:t.left,y:t.top},e=e.viewbox();return{x:e.x+(n.x-t.x)/e.scale,y:e.y+(n.y-t.y)/e.scale}}function d(e){return Math.abs(Math.round(2*e/3))}n.SEGMENT_DRAGGER_CLS=c},{"../../util/Event":606,"../../util/Geometry":607,"../../util/LineIntersection":610,"../../util/SvgTransformUtil":617,"tiny-svg":851}],462:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var f=e("min-dash"),m=e("min-dom"),g=e("./BendpointUtil"),v=e("../../util/EscapeUtil"),y=e("../../util/Geometry"),b=e("../../util/Mouse"),x=e("tiny-svg"),w=e("../../util/SvgTransformUtil");function i(e,l,i,c,u){function n(e,t){var n,i,o,r,a=t.waypoints,s=(0,g.getConnectionIntersection)(l,a,e);if(s)return o=s,n=(n=t).waypoints,r=o.index<=0||o.bendpoint?null:(n={start:n[o.index-1],end:n[o.index]},(o=(0,y.pointsAligned)(n.start,n.end))?(n="h"===o?n.end.x-n.start.x:n.end.y-n.start.y,(0,g.calculateSegmentMoveRegion)(n)/2):null),i=a,o=r,a=(n=s).index,r=n.point,!(a<=0||n.bendpoint)&&(n=i[a-1],i=i[a],a=(0,y.getMidPoint)(n,i),n=(0,y.pointsAligned)(n,i),i=Math.abs(r.x-a.x),a=Math.abs(r.y-a.y),n&&i<=o&&a<=o)?u.start(e,t,s.index):c.start(e,t,s.index,!s.bendpoint),!0}function a(e,t,n){m.event.bind(e,t,function(e){i.triggerMouseEvent(t,e,n),e.stopPropagation()})}function r(e,t){var n=l.getLayer("overlays"),i=(0,m.query)('.djs-bendpoints[data-element-id="'+(0,v.escapeCSS)(e.id)+'"]',n);return!i&&t&&(i=(0,x.create)("g"),(0,x.attr)(i,{"data-element-id":e.id}),(0,x.classes)(i).add("djs-bendpoints"),(0,x.append)(n,i),a(i,"mousedown",e),a(i,"click",e),a(i,"dblclick",e)),i}function s(e,t){return(0,m.query)('.djs-segment-dragger[data-segment-idx="'+e+'"]',t)}function o(i,e){e.waypoints.forEach(function(e,t){var n=(0,g.addBendpoint)(i);(0,x.append)(i,n),(0,w.translate)(n,e.x,e.y)}),(0,g.addBendpoint)(i,"floating")}function d(e,t){for(var n,i,o=t.waypoints,r=1;r<o.length;r++)n=o[r-1],i=o[r],(0,y.pointsAligned)(n,i)&&(i=(0,g.addSegmentDragger)(e,n,i),(0,x.attr)(i,{"data-segment-idx":r}),a(i,"mousemove",t))}function p(e){var t=r(e);return t||(o(t=r(e,!0),e),d(t,e)),t}function t(e){var t=r(e);t&&((0,f.forEach)((0,m.queryAll)("."+g.SEGMENT_DRAGGER_CLS,t),function(e){(0,x.remove)(e)}),(0,f.forEach)((0,m.queryAll)("."+g.BENDPOINT_CLS,t),function(e){(0,x.remove)(e)}),d(t,e),o(t,e))}function h(e,t,n){var i=s(t.index,e),o=n[t.index-1],e=n[t.index],n=t.point,t=(0,y.getMidPoint)(o,e),e=(0,y.pointsAligned)(o,e);i&&(i=(0,m.query)(".djs-visual",i),t={x:n.x-t.x,y:n.y-t.y},"v"===e&&(t={x:t.y,y:t.x}),(0,w.translate)(i,t.x,t.y))}e.on("connection.changed",function(e){t(e.element)}),e.on("connection.remove",function(e){e=r(e.element);e&&(0,x.remove)(e)}),e.on("element.marker.update",function(e){var t=e.element;t.waypoints&&(t=p(t),e.add?(0,x.classes)(t).add(e.marker):(0,x.classes)(t).remove(e.marker))}),e.on("element.mousemove",function(e){var t,n,i=e.element,o=i.waypoints;o&&(t=r(i,!0),(n=(0,g.getConnectionIntersection)(l,o,e.originalEvent))&&(i=t,e=n,i=(0,m.query)(".floating",i),e=e.point,i&&(0,w.translate)(i,e.x,e.y),n.bendpoint||h(t,n,o)))}),e.on("element.mousedown",function(e){if((0,b.isPrimaryButton)(e)){var t=e.originalEvent,e=e.element;if(e.waypoints)return n(t,e)}}),e.on("selection.changed",function(e){e=e.newSelection[0];e&&e.waypoints&&p(e)}),e.on("element.hover",function(e){var t=e.element;t.waypoints&&(p(t),i.registerEvent(e.gfx,"mousemove","element.mousemove"))}),e.on("element.out",function(e){i.unregisterEvent(e.gfx,"mousemove","element.mousemove")}),e.on("element.updateId",function(e){var t=e.element,e=e.newId;!t.waypoints||(t=r(t))&&(0,x.attr)(t,{"data-element-id":e})}),this.addHandles=p,this.updateHandles=t,this.getBendpointsContainer=r,this.getSegmentDragger=s}i.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"]},{"../../util/EscapeUtil":605,"../../util/Geometry":607,"../../util/Mouse":612,"../../util/SvgTransformUtil":617,"./BendpointUtil":461,"min-dash":834,"min-dom":835,"tiny-svg":851}],463:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var p=e("../../util/Geometry"),g=e("./BendpointUtil"),v=e("../../layout/LayoutUtil"),o=e("tiny-svg"),a=e("../../util/SvgTransformUtil"),r="connect-hover",s="djs-updating";function y(e,t,n){return c(e,t,e[t]+n)}function c(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function b(e){return"x"===e?"y":"x"}function x(e,t,n){return e.original||(t=(0,v.getMid)(t),c(e,n=b(n),t[n]))}function i(e,t,u,d,n,l){var i=e.get("connectionDocking",!1);function h(e,t){if(!i)return t;var n=e.waypoints;return e.waypoints=t,t=i.getCroppedWaypoints(e),e.waypoints=n,t}function f(e){n.update("connection",e.connection,e.connectionGfx)}function m(e,t,n){var i=e.newWaypoints,o=i[e.segmentStartIndex+t],r=i[e.segmentEndIndex+t],i=b(e.axis),i=(t=n,n=o,o=r,r=i,i=Math.max(n[r],o[r]),o=Math.min(n[r],o[r]),c(n,r,Math.min(Math.max(o+20,t[r]),i-20)));(0,a.translate)(e.draggerGfx,i.x,i.y)}this.start=function(e,t,n){var i=u.getGraphics(t),o=n-1,r=n,a=t.waypoints,s=a[o],l=a[r],c=(0,g.getConnectionIntersection)(u,a,e),n=(0,p.pointsAligned)(s,l);n&&(n="v"===n?"x":"y",0==o&&(s=x(s,t.source,n)),r===a.length-1&&(l=x(l,t.target,n)),c=c?c.point:{x:(s.x+l.x)/2,y:(s.y+l.y)/2},d.init(e,c,"connectionSegment.move",{cursor:"x"==n?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:i,context:{connection:t,segmentStartIndex:o,segmentEndIndex:r,segmentStart:s,segmentEnd:l,axis:n,dragPosition:c}}}))},t.on("connectionSegment.move.start",function(e){var t=e.context,n=e.connection,e=u.getLayer("overlays");t.originalWaypoints=n.waypoints.slice(),t.draggerGfx=(0,g.addSegmentDragger)(e,t.segmentStart,t.segmentEnd),(0,o.classes)(t.draggerGfx).add("djs-dragging"),u.addMarker(n,s)}),t.on("connectionSegment.move.move",function(e){var t=e.context,n=t.connection,i=t.segmentStartIndex,o=t.segmentEndIndex,r=t.segmentStart,a=t.segmentEnd,s=t.axis,l=t.originalWaypoints.slice(),c=y(r,s,e["d"+s]),u=y(a,s,e["d"+s]),d=l.length,p=0;l[i]=c,l[o]=u,i<2&&(s=(0,v.getOrientation)(n.source,c),1===i?"intersect"===s&&(l.shift(),l[0]=c,p--):"intersect"!==s&&(l.unshift(r),p++)),d-3<o&&(r=(0,v.getOrientation)(n.target,u),o===d-2?"intersect"===r&&(l.pop(),l[l.length-1]=u):"intersect"!==r&&l.push(a)),t.newWaypoints=n.waypoints=h(n,l),m(t,p,e),t.newSegmentStartIndex=i+p,f(e)}),t.on("connectionSegment.move.hover",function(e){e.context.hover=e.hover,u.addMarker(e.hover,r)}),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(e){e=e.context.hover;e&&u.removeMarker(e,r)}),t.on("connectionSegment.move.cleanup",function(e){var t=e.context,e=t.connection;t.draggerGfx&&(0,o.remove)(t.draggerGfx),u.removeMarker(e,s)}),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,f(e)}),t.on("connectionSegment.move.end",function(e){var n,i,o,t=e.context,r=t.connection,a=t.newWaypoints,s=t.newSegmentStartIndex,a=a.map(function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}}),e=(i=s,o=0,{waypoints:(n=a).filter(function(e,t){return!(0,p.pointsOnLine)(n[t-1],n[t+1],e)||(o=t<=i?o-1:o,!1)}),segmentOffset:o}),a=h(r,e.waypoints),e={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:s+e.segmentOffset}};l.updateWaypoints(r,a,e)})}i.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},{"../../layout/LayoutUtil":589,"../../util/Geometry":607,"../../util/SvgTransformUtil":617,"./BendpointUtil":461,"tiny-svg":851}],464:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=c(e("../dragging")),o=c(e("../rules")),r=c(e("./Bendpoints")),a=c(e("./BendpointMove")),s=c(e("./BendpointMovePreview")),l=c(e("./ConnectionSegmentMove")),e=c(e("./BendpointSnapping"));function c(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",r.default],bendpointMove:["type",a.default],bendpointMovePreview:["type",s.default],connectionSegmentMove:["type",l.default],bendpointSnapping:["type",e.default]};n.default=e},{"../dragging":484,"../rules":561,"./BendpointMove":458,"./BendpointMovePreview":459,"./BendpointSnapping":460,"./Bendpoints":462,"./ConnectionSegmentMove":463}],465:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var r=e("../../util/Elements");function i(n,i,o,t){n.on("element.changed",function(e){var t=e.element;!t.parent&&t!==i.getRootElement()||(e.gfx=o.getGraphics(t)),e.gfx&&n.fire((0,r.getType)(t)+".changed",e)}),n.on("elements.changed",function(e){e=e.elements;e.forEach(function(e){n.fire("element.changed",{element:e})}),t.updateContainments(e)}),n.on("shape.changed",function(e){t.update("shape",e.element,e.gfx)}),n.on("connection.changed",function(e){t.update("connection",e.element,e.gfx)})}i.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"]},{"../../util/Elements":604}],466:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["changeSupport"],changeSupport:["type",((i=e("./ChangeSupport"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./ChangeSupport":465}],467:[function(e,t,n){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).prototype.get=function(){return this._data},i.prototype.set=function(e){this._data=e},i.prototype.clear=function(){var e=this._data;return delete this._data,e},i.prototype.isEmpty=function(){return!this._data}},{}],468:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={clipboard:["type",((i=e("./Clipboard"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Clipboard":467}],469:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,n.isReverse=c;var a=e("../../layout/LayoutUtil"),l=e("min-dash");function i(e,o,s,n){function r(e,t){return n.allowed("connection.create",{source:e,target:t})}e.on("connect.hover",function(e){var t=e.context,n=t.start,i=e.hover;if(t.hover=i,e=t.canExecute=r(n,i),!(0,l.isNil)(e)){if(!1!==e)return t.source=n,void(t.target=i);e=t.canExecute=r(i,n);(0,l.isNil)(e)||!1!==e&&(t.source=i,t.target=n)}}),e.on(["connect.out","connect.cleanup"],function(e){e=e.context;e.hover=null,e.source=null,e.target=null,e.canExecute=!1}),e.on("connect.end",function(e){var t=e.context,n=t.canExecute,i=t.connectionStart,o={x:e.x,y:e.y},r=t.source,a=t.target;if(!n)return!1;e=null,o={connectionStart:c(t)?o:i,connectionEnd:c(t)?i:o};(0,l.isObject)(n)&&(e=n),s.connect(r,a,e,o)}),this.start=function(e,t,n,i){(0,l.isObject)(n)||(i=n,n=(0,a.getMid)(t)),o.init(e,"connect",{autoActivate:i,data:{shape:t,context:{start:t,connectionStart:n}}})}}function c(e){var t=e.hover,n=e.source,e=e.target;return t&&n&&t===n&&n!==e}i.$inject=["eventBus","dragging","modeling","rules"]},{"../../layout/LayoutUtil":589,"min-dash":834}],470:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var d=e("./Connect"),i=1100,o=900,r="connect-ok",a="connect-not-ok";function s(e,t,n){var u=e.get("connectionPreview",!1);u&&t.on("connect.move",function(e){var t=e.context,n=t.canExecute,i=t.hover,o=t.source,r=t.start,a=t.startPosition,s=t.target,l=t.connectionStart||a,c=t.connectionEnd||{x:e.x,y:e.y},a=l,e=c;(0,d.isReverse)(t)&&(a=c,e=l),u.drawPreview(t,n,{source:o||r,target:s||i,connectionStart:a,connectionEnd:e})}),t.on("connect.hover",o,function(e){var t=e.context,e=e.hover,t=t.canExecute;null!==t&&n.addMarker(e,t?r:a)}),t.on(["connect.out","connect.cleanup"],i,function(e){e=e.hover;e&&(n.removeMarker(e,r),n.removeMarker(e,a))}),u&&t.on("connect.cleanup",function(e){u.cleanUp(e.context)})}s.$inject=["injector","eventBus","canvas"]},{"./Connect":469}],471:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("../selection")),o=s(e("../rules")),r=s(e("../dragging")),a=s(e("./Connect")),e=s(e("./ConnectPreview"));function s(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default],__init__:["connectPreview"],connect:["type",a.default],connectPreview:["type",e.default]};n.default=e},{"../dragging":484,"../rules":561,"../selection":567,"./Connect":469,"./ConnectPreview":470}],472:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var v=e("tiny-svg"),i=e("min-dash"),y=e("../../layout/LayoutUtil");function o(e,t,n,i){this._canvas=t,this._graphicsFactory=n,this._elementFactory=i,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}o.$inject=["injector","canvas","graphicsFactory","elementFactory"],o.prototype.drawPreview=function(e,t,n){var i,o,r,a=e.connectionPreviewGfx,s=e.getConnection,l=(n=n||{}).source,c=n.target,u=n.waypoints,d=n.connectionStart,p=n.connectionEnd,h=n.noLayout,f=n.noCropping,m=n.noNoop,g=this,a=a||(e.connectionPreviewGfx=this.createConnectionPreviewGfx());(0,v.clear)(a),s=s||(e.getConnection=(o=function(e,t,n){return g.getConnection(e,t,n)},r={},function(e){e=JSON.stringify(e);return r[e]||(r[e]=o.apply(null,arguments))})),(i=t?s(t,l,c):i)?(i.waypoints=u||[],this._layouter&&!h&&(i.waypoints=this._layouter.layoutConnection(i,{source:l,target:c,connectionStart:d,connectionEnd:p,waypoints:n.waypoints||i.waypoints})),i.waypoints&&i.waypoints.length||(i.waypoints=[l?(0,y.getMid)(l):d,c?(0,y.getMid)(c):p]),this._connectionDocking&&(l||c)&&!f&&(i.waypoints=this._connectionDocking.getCroppedWaypoints(i,l,c)),this._graphicsFactory.drawConnection(a,i)):m||this.drawNoopPreview(a,n)},o.prototype.drawNoopPreview=function(e,t){var n=t.source,i=t.target,o=t.connectionStart||(0,y.getMid)(n),t=t.connectionEnd||(0,y.getMid)(i),i=this.cropWaypoints(o,t,n,i),i=this.createNoopConnection(i[0],i[1]);(0,v.append)(e,i)},o.prototype.cropWaypoints=function(e,t,n,i){var o=this._graphicsFactory,r=n&&o.getShapePath(n),a=i&&o.getShapePath(i),o=o.getConnectionPath({waypoints:[e,t]});return[e=n&&(0,y.getElementLineIntersection)(r,o,!0)||e,t=i&&(0,y.getElementLineIntersection)(a,o,!1)||t]},o.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&(0,v.remove)(e.connectionPreviewGfx)},o.prototype.getConnection=function(e){e=e,e=(0,i.isObject)(e)?e:{};return this._elementFactory.createConnection(e)},o.prototype.createConnectionPreviewGfx=function(){var e=(0,v.create)("g");return(0,v.attr)(e,{pointerEvents:"none"}),(0,v.classes)(e).add("djs-connection-preview"),(0,v.append)(this._canvas.getDefaultLayer(),e),e},o.prototype.createNoopConnection=function(e,t){var n=(0,v.create)("polyline");return(0,v.attr)(n,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,v.attr)(n,{points:[e.x,e.y,t.x,t.y]}),n}},{"../../layout/LayoutUtil":589,"min-dash":834,"tiny-svg":851}],473:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["connectionPreview"],connectionPreview:["type",((i=e("./ConnectionPreview"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./ConnectionPreview":472}],474:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("min-dash"),s=e("min-dom");function i(e,t,n){this._eventBus=t,this._overlays=n;e=(0,a.isDefined)(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:e},this._current=null,this._init()}i.$inject=["config.contextPad","eventBus","overlays"],i.prototype._init=function(){var e=this._eventBus,n=this;e.on("selection.changed",function(e){e=e.newSelection;1===e.length?n.open(e[0]):n.close()}),e.on("elements.delete",function(e){e=e.elements;(0,a.forEach)(e,function(e){n.isOpen(e)&&n.close()})}),e.on("element.changed",function(e){var t=e.element,e=n._current;e&&e.element===t&&n.open(t,!0)})},i.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,function(e){e.providers.push(t)})},i.prototype.getEntries=function(t){var e=this._getProviders(),n={};return(0,a.forEach)(e,function(e){e=e.getContextPadEntries(t);(0,a.isFunction)(e)?n=e(n):(0,a.forEach)(e,function(e,t){n[t]=e})}),n},i.prototype.trigger=function(e,t,n){var i=this._current.element,o=this._current.entries,r=t.delegateTarget||t.target;if(!r)return t.preventDefault();if(o=o[(0,s.attr)(r,"data-action")].action,r=t.originalEvent||t,(0,a.isFunction)(o)){if("click"===e)return o(r,i,n)}else if(o[e])return o[e](r,i,n);t.preventDefault()},i.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},i.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},i.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),r=n.html;(0,a.forEach)(t,function(e,t){var n,i=e.group||"default",o=(0,s.domify)(e.html||'<div class="entry" draggable="true"></div>');(0,s.attr)(o,"data-action",t),(t=(0,s.query)("[data-group="+i+"]",r))||(t=(0,s.domify)('<div class="group" data-group="'+i+'"></div>'),r.appendChild(t)),t.appendChild(o),e.className&&(t=e.className,n=(0,s.classes)(o),((0,a.isArray)(t)?t:t.split(/\s+/g)).forEach(function(e){n.add(e)})),e.title&&(0,s.attr)(o,"title",e.title),e.imageUrl&&o.appendChild((0,s.domify)('<img src="'+e.imageUrl+'">'))}),(0,s.classes)(r).add("open"),this._current={element:e,pad:n,entries:t},this._eventBus.fire("contextPad.open",{current:this._current})},i.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,i=(0,s.domify)('<div class="djs-context-pad"></div>'),o=(0,a.assign)({html:i},this._overlaysConfig);s.delegate.bind(i,".entry","click",function(e){t.trigger("click",e)}),s.delegate.bind(i,".entry","dragstart",function(e){t.trigger("dragstart",e)}),s.event.bind(i,"mousedown",function(e){e.stopPropagation()}),this._overlayId=n.add(e,"context-pad",o);n=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:e,pad:n}),n},i.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},i.prototype.isOpen=function(e){return!(!this._current||e&&this._current.element!==e)}},{"min-dash":834,"min-dom":835}],475:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../interaction-events")),o=r(e("../overlays")),e=r(e("./ContextPad"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],contextPad:["type",e.default]};n.default=e},{"../interaction-events":500,"../overlays":545,"./ContextPad":474}],476:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var c=e("min-dash"),u=e("../../util/Elements");function i(e,t,n,i,o,r,a,s){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=i,this._eventBus=o,this._modeling=r,this._mouse=a,this._rules=s,o.on("copyPaste.copyElement",function(e){var t=e.descriptor,n=e.element,e=e.elements;t.priority=1,t.id=n.id,(0,c.find)(e,function(e){return e===n.parent})&&(t.parent=n.parent.id),n.host&&(t.priority=2,t.host=n.host.id),l(n)&&(t.priority=3,t.source=n.source.id,t.target=n.target.id,t.waypoints=(0,c.map)(n.waypoints,function(e){return(e=p(e)).original&&(e.original=p(e.original)),e})),d(n)&&(t.priority=4,t.labelTarget=n.labelTarget.id),(0,c.forEach)(["x","y","width","height"],function(e){(0,c.isNumber)(n[e])&&(t[e]=n[e])}),t.hidden=n.hidden,t.collapsed=n.collapsed}),o.on("copyPaste.pasteElements",function(e){e=e.hints;(0,c.assign)(e,{createElementsBehavior:!1})})}function l(e){return e.waypoints}function d(e){return e.labelTarget}function p(e){return(0,c.assign)({},e)}function h(e,t){e=t.indexOf(e);return-1===e?t:t.splice(e,1)}i.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],i.prototype.copy=function(e){var t;return(0,c.isArray)(e)||(e=e?[e]:[]),t=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))?{}:this.createTree((0,c.isArray)(t)?t:e),this._clipboard.set(t),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:t}),t},i.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});t=this._createElements(t);if(e&&e.element&&e.point)return this._paste(t,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),t,{hints:n||{}})}},i.prototype._paste=function(e,t,n,i){(0,c.forEach)(e,function(e){(0,c.isNumber)(e.x)||(e.x=0),(0,c.isNumber)(e.y)||(e.y=0)});var o=(0,u.getBBox)(e);return(0,c.forEach)(e,function(e){l(e)&&(e.waypoints=(0,c.map)(e.waypoints,function(e){return{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2}})),(0,c.assign)(e,{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2})}),this._modeling.createElements(e,n,t,(0,c.assign)({},i))},i.prototype._createElements=function(e){var i=this,o=this._eventBus,r={},a=[];return(0,c.forEach)(e,function(e,t){t=parseInt(t,10),e=(0,c.sortBy)(e,"priority"),(0,c.forEach)(e,function(e){var t,n=(0,c.assign)({},(0,c.omit)(e,["priority"]));return r[e.parent]?n.parent=r[e.parent]:delete n.parent,o.fire("copyPaste.pasteElement",{cache:r,descriptor:n}),t=l(n)?(n.source=r[e.source],n.target=r[e.target],r[e.id]=i.createConnection(n)):d(n)?(n.labelTarget=r[n.labelTarget],r[e.id]=i.createLabel(n)):(n.host&&(n.host=r[n.host]),r[e.id]=i.createShape(n)),void a.push(t)})}),a},i.prototype.createConnection=function(e){return this._elementFactory.createConnection((0,c.omit)(e,["id"]))},i.prototype.createLabel=function(e){return this._elementFactory.createLabel((0,c.omit)(e,["id"]))},i.prototype.createShape=function(e){return this._elementFactory.createShape((0,c.omit)(e,["id"]))},i.prototype.hasRelations=function(e,t){var n,i;return!(l(e)&&(n=(0,c.find)(t,(0,c.matchPattern)({id:e.source.id})),i=(0,c.find)(t,(0,c.matchPattern)({id:e.target.id})),!n||!i))&&!(d(e)&&!(0,c.find)(t,(0,c.matchPattern)({id:e.labelTarget.id})))},i.prototype.createTree=function(o){var r=this._rules,a=this,s={},i=[],e=(0,u.getParents)(o);function l(t,e){var n=(0,c.find)(i,function(e){return t===e.element});n?n.depth<e&&(i=function(e,t){e=t.indexOf(e);-1!==e&&t.splice(e,1);return t}(n,i)).push({element:n.element,depth:e}):i.push({element:t,depth:e})}return(0,u.eachElement)(e,function(e,t,n){if(!d(e))return(0,c.forEach)(e.labels,function(e){l(e,n)}),(0,c.forEach)([e.attachers,e.incoming,e.outgoing],function(e){e&&e.length&&(0,c.forEach)(e,function(e){(0,c.forEach)(e.labels,function(e){l(e,n)}),l(e,n)})}),l(e,n),e.children}),o=(0,c.map)(i,function(e){return e.element}),i=(0,c.map)(i,function(e){return e.descriptor={},a._eventBus.fire("copyPaste.copyElement",{descriptor:e.descriptor,element:e.element,elements:o}),e}),i=(0,c.sortBy)(i,function(e){return e.descriptor.priority}),o=(0,c.map)(i,function(e){return e.element}),(0,c.forEach)(i,function(e){var t,n,i=e.depth;a.hasRelations(e.element,o)?(t=e.element,n=o,r.allowed("element.copy",{element:t,elements:n})?(s[i]||(s[i]=[]),s[i].push(e.descriptor)):h(e.element,o)):h(e.element,o)}),s}},{"../../util/Elements":604,"min-dash":834}],477:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("../clipboard")),o=s(e("../create")),r=s(e("../mouse")),a=s(e("../rules")),e=s(e("./CopyPaste"));function s(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default,a.default],__init__:["copyPaste"],copyPaste:["type",e.default]};n.default=e},{"../clipboard":468,"../create":480,"../mouse":537,"../rules":561,"./CopyPaste":476}],478:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var d=e("min-dash"),s=e("../../util/Elements"),o="drop-ok",l="drop-not-ok",p="attach-ok",h="new-parent",f="create",m=2e3;function i(i,r,e,u,c){function a(t,n){[p,o,l,h].forEach(function(e){e===n?i.addMarker(t,e):i.removeMarker(t,e)})}function t(){var e=r.context();e&&e.prefix===f&&r.cancel()}e.on(["create.move","create.hover"],function(e){var t=e.context,n=t.elements,i=e.hover,o=t.source,r=t.hints||{};if(!i)return t.canExecute=!1,void(t.target=null);g(e);e={x:e.x,y:e.y},r=t.canExecute=i&&function(n,e,t,i,o){if(!e)return!1;n=(0,d.filter)(n,function(e){var t=e.labelTarget;return!(e.parent||e.labelTarget&&-1!==n.indexOf(t))});var r=(0,d.find)(n,function(e){return!v(e)}),a=!1,s=!1,l=!1;return(a=y(n)?c.allowed("shape.attach",{position:t,shape:r,target:e}):a)||(l=y(n)?c.allowed("shape.create",{position:t,shape:r,source:i,target:e}):c.allowed("elements.create",{elements:n,position:t,target:e})),o=o.connectionTarget,l||a?{attach:a,connect:s=r&&i?c.allowed("connection.create",{source:o===i?r:i,target:o===i?i:r,hints:{targetParent:e,targetAttach:a}}):s}:(null===l||null===a)&&null}(n,i,e,o,r);i&&null!==r&&(t.target=i,r&&r.attach?a(i,p):a(i,r?h:l))}),e.on(["create.end","create.out","create.cleanup"],function(e){e=e.hover;e&&a(e,null)}),e.on("create.end",function(e){var t=e.context,n=t.source,i=t.shape,o=t.elements,r=t.target,a=t.canExecute,s=a&&a.attach,l=a&&a.connect,c=t.hints||{};if(!1===a||!r)return!1;g(e);a={x:e.x,y:e.y},i=l?u.appendShape(n,i,a,r,{attach:s,connection:!0===l?{}:l,connectionTarget:c.connectionTarget}):(o=u.createElements(o,a,r,(0,d.assign)({},c,{attach:s})),(0,d.find)(o,function(e){return!v(e)}));(0,d.assign)(t,{elements:o,shape:i}),(0,d.assign)(e,{elements:o,shape:i})}),e.on("create.init",function(){e.on("elements.changed",t),e.once(["create.cancel","create.end"],m,function(){e.off("elements.changed",t)})}),this.start=function(e,t,n){(0,d.isArray)(t)||(t=[t]);var i,o=(0,d.find)(t,function(e){return!v(e)});o&&(n=(0,d.assign)({elements:t,hints:{},shape:o},n||{}),(0,d.forEach)(t,function(e){(0,d.isNumber)(e.x)||(e.x=0),(0,d.isNumber)(e.y)||(e.y=0)}),i=(0,s.getBBox)(t),(0,d.forEach)(t,function(e){v(e)&&(e.waypoints=(0,d.map)(e.waypoints,function(e){return{x:e.x-i.x-i.width/2,y:e.y-i.y-i.height/2}})),(0,d.assign)(e,{x:e.x-i.x-i.width/2,y:e.y-i.y-i.height/2})}),r.init(e,f,{cursor:"grabbing",autoActivate:!0,data:{shape:o,elements:t,context:n}}))}}function g(e){var t=e.context.createConstraints;t&&(t.left&&(e.x=Math.max(e.x,t.left)),t.right&&(e.x=Math.min(e.x,t.right)),t.top&&(e.y=Math.max(e.y,t.top)),t.bottom&&(e.y=Math.min(e.y,t.bottom)))}function v(e){return e.waypoints}function y(e){return e&&1===e.length&&!v(e[0])}i.$inject=["canvas","dragging","eventBus","modeling","rules"]},{"../../util/Elements":604,"min-dash":834}],479:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var c=e("../../util/SvgTransformUtil"),u=e("../../util/GraphicsUtil"),d=e("tiny-svg"),i=750;function o(r,e,a,s,l){e.on("create.move",i,function(e){var t=e.hover,n=e.context,i=n.elements,o=(o=n.dragGroup)||(n.dragGroup=function(e){var n=(0,d.create)("g");(0,d.attr)(n,l.cls("djs-drag-group",["no-events"]));var i=(0,d.create)("g");return e.forEach(function(e){var t;e.hidden||(e.waypoints?(t=a._createContainer("connection",i),a.drawConnection((0,u.getVisual)(t),e)):(t=a._createContainer("shape",i),a.drawShape((0,u.getVisual)(t),e),(0,c.translate)(t,e.x,e.y)),s.addDragger(e,n,t))}),n}(i));t?(o.parentNode||(t=r.getDefaultLayer(),(0,d.append)(t,o)),(0,c.translate)(o,e.x,e.y)):(0,d.remove)(o)}),e.on("create.cleanup",function(e){e=e.context.dragGroup;e&&(0,d.remove)(e)})}o.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"]},{"../../util/GraphicsUtil":608,"../../util/SvgTransformUtil":617,"tiny-svg":851}],480:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../dragging")),o=l(e("../preview-support")),r=l(e("../rules")),a=l(e("../selection")),s=l(e("./Create")),e=l(e("./CreatePreview"));function l(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default,a.default],__init__:["create","createPreview"],create:["type",s.default],createPreview:["type",e.default]};n.default=e},{"../dragging":484,"../preview-support":551,"../rules":561,"../selection":567,"./Create":478,"./CreatePreview":479}],481:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var l=e("min-dash"),i={horizontal:["x","width"],vertical:["y","height"]};function o(e){this._modeling=e,this._filters=[],this.registerFilter(function(e,t,n){var i,o=0,r=0;return(0,l.forEach)(e,function(e){e.waypoints||e.labelTarget||(o+=e[n],r+=1)}),i=Math.round(o/r),(0,l.filter)(e,function(e){return e[n]<i+50})})}o.$inject=["modeling"],o.prototype.registerFilter=function(e){if("function"!=typeof e)throw new Error("the filter has to be a function");this._filters.push(e)},o.prototype.trigger=function(e,t){var n,i=this._modeling;if(!(e.length<3||(this._setOrientation(t),n=this._filterElements(e),(n=this._createGroups(n)).length<=2)))return i.distributeElements(n,this._axis,this._dimension),n},o.prototype._filterElements=function(e){var t=this._filters,n=this._axis,i=this._dimension,o=[].concat(e);return t.length?((0,l.forEach)(t,function(e){o=e(o,n,i)}),o):e},o.prototype._createGroups=function(e){var o=[],r=this,a=this._axis,s=this._dimension;if(!a)throw new Error('must have a defined "axis" and "dimension"');e=(0,l.sortBy)(e,a);return(0,l.forEach)(e,function(e,t){var n=r._findRange(e,a,s),i=o[o.length-1];i&&r._hasIntersection(i.range,n)?o[o.length-1].elements.push(e):o.push({range:n,elements:[e]})}),o},o.prototype._setOrientation=function(e){e=i[e];this._axis=e[0],this._dimension=e[1]},o.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)},o.prototype._findRange=function(e){var t=e[this._axis];return{min:t+5,max:t+e[this._dimension]-5}}},{"min-dash":834}],482:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["distributeElements"],distributeElements:["type",((i=e("./DistributeElements"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./DistributeElements":481}],483:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var E=e("min-dash"),C=e("min-dom"),S=e("../../util/Event"),T=e("../../util/Cursor"),o=e("../../util/ClickTrap"),_=e("../../util/PositionUtil"),N=Math.round,A="djs-drag-active";function P(e){e.preventDefault()}function i(u,l,c,i){var d,p={threshold:5,trapClick:!0};function h(e){var t=l.viewbox(),n=l._container.getBoundingClientRect();return{x:t.x+(e.x-n.left)/t.scale,y:t.y+(e.y-n.top)/t.scale}}function f(e,t){t=t||d;var n=u.createEvent((0,E.assign)({},t.payload,t.data,{isTouch:t.isTouch}));return!1!==u.fire("drag."+e,n)&&u.fire(t.prefix+"."+e,n)}function m(e,t){var n=d.payload,i=d.displacement,o=d.globalStart,r=(0,S.toPoint)(e),a=(0,_.delta)(r,o),s=d.localStart,o=h(r),r=(0,_.delta)(o,s);if(!d.active&&(t||(a=a,Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))>d.threshold))){if((0,E.assign)(n,{x:N(s.x+i.x),y:N(s.y+i.y),dx:0,dy:0},{originalEvent:e}),!1===f("start"))return k();d.active=!0,d.keepSelection||(n.previousSelection=c.get(),c.select(null)),d.cursor&&(0,T.set)(d.cursor),l.addMarker(l.getRootElement(),A)}(0,S.stopPropagation)(e),d.active&&((0,E.assign)(n,{x:N(o.x+i.x),y:N(o.y+i.y),dx:N(r.x),dy:N(r.y)},{originalEvent:e}),f("move"))}function g(e){var t=!0;d.active&&(e&&(d.payload.originalEvent=e,(0,S.stopPropagation)(e)),t=f("end")),!1===t&&f("rejected"),f("ended",n(!0!==t))}function v(e){27===e.which&&(P(e),k())}function y(e){var t;d.active&&(t=(0,o.install)(u),setTimeout(t,400),P(e)),g(e)}function b(e){m(e)}function x(e){var t=d.payload;t.hoverGfx=e.gfx,t.hover=e.element,f("hover")}function w(e){f("out");var t=d.payload;t.hoverGfx=null,t.hover=null}function k(e){var t;d&&((t=d.active)&&f("cancel"),e=n(e),t&&f("canceled",e))}function n(e){f("cleanup"),(0,T.unset)(),n=d.trapClick?y:g,C.event.unbind(document,"mousemove",m),C.event.unbind(document,"dragstart",P),C.event.unbind(document,"selectstart",P),C.event.unbind(document,"mousedown",n,!0),C.event.unbind(document,"mouseup",n,!0),C.event.unbind(document,"keyup",v),C.event.unbind(document,"touchstart",b,!0),C.event.unbind(document,"touchcancel",k,!0),C.event.unbind(document,"touchmove",m,!0),C.event.unbind(document,"touchend",g,!0),u.off("element.hover",x),u.off("element.out",w),l.removeMarker(l.getRootElement(),A);var t,n=d.payload.previousSelection;return!1!==e&&n&&!c.get().length&&(t=(t=n).filter(function(e){return i.get(e.id)})).length&&c.select(t),t=d,d=null,t}u.on("diagram.destroy",k),this.init=function(e,t,n,i){d&&k(!1),"string"==typeof t&&(i=n,n=t,t=null);var o,r,a,s,l=(i=(0,E.assign)({},p,i||{})).data||{},c=i.trapClick?y:g;e?(o=(0,S.getOriginal)(e)||e,r=(0,S.toPoint)(e),(0,S.stopPropagation)(e),"dragstart"===o.type&&P(o)):(o=null,r={x:0,y:0}),a=h(r),t=t||a,s=o,s="undefined"!=typeof TouchEvent&&s instanceof TouchEvent,d=(0,E.assign)({prefix:n,data:l,payload:{},globalStart:r,displacement:(0,_.delta)(t,a),localStart:a,isTouch:s},i),i.manual||(s?(C.event.bind(document,"touchstart",b,!0),C.event.bind(document,"touchcancel",k,!0),C.event.bind(document,"touchmove",m,!0),C.event.bind(document,"touchend",g,!0)):(C.event.bind(document,"mousemove",m),C.event.bind(document,"dragstart",P),C.event.bind(document,"selectstart",P),C.event.bind(document,"mousedown",c,!0),C.event.bind(document,"mouseup",c,!0)),C.event.bind(document,"keyup",v),u.on("element.hover",x),u.on("element.out",w)),f("init"),i.autoActivate&&m(e,!0)},this.move=m,this.hover=x,this.out=w,this.end=g,this.cancel=k,this.context=function(){return d},this.setOptions=function(e){(0,E.assign)(p,e)}}i.$inject=["eventBus","canvas","selection","elementRegistry"]},{"../../util/ClickTrap":601,"../../util/Cursor":603,"../../util/Event":606,"../../util/PositionUtil":614,"min-dash":834,"min-dom":835}],484:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../hover-fix")),o=r(e("../selection")),e=r(e("./Dragging"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],dragging:["type",e.default]};n.default=e},{"../hover-fix":498,"../selection":567,"./Dragging":483}],485:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var u=e("min-dash"),i="is not a registered action";function o(e,t){this._actions={};var n=this;e.on("diagram.init",function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})})}function r(e,t){return new Error(e+" "+t)}o.$inject=["eventBus","injector"],o.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),i=e.get("modeling",!1),o=e.get("selection",!1),n=e.get("zoomScroll",!1),r=e.get("copyPaste",!1),a=e.get("canvas",!1),s=e.get("rules",!1),l=e.get("keyboardMove",!1),c=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",function(){t.undo()}),this.register("redo",function(){t.redo()})),r&&o&&this.register("copy",function(){var e=o.get();r.copy(e)}),r&&this.register("paste",function(){r.paste()}),n&&this.register("stepZoom",function(e){n.stepZoom(e.value)}),a&&this.register("zoom",function(e){a.zoom(e.value)}),i&&o&&s&&this.register("removeSelection",function(){var e,t,n=o.get();!n.length||!1!==(e=s.allowed("elements.delete",{elements:n}))&&(t=(0,u.isArray)(e)?e:n).length&&i.removeElements(t.slice())}),l&&this.register("moveCanvas",function(e){l.moveCanvas(e)}),c&&this.register("moveSelection",function(e){c.moveSelection(e.direction,e.accelerated)})},o.prototype.trigger=function(e,t){if(!this._actions[e])throw r(e,i);return this._actions[e](t)},o.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);(0,u.forEach)(e,function(e,t){n._registerAction(t,e)})},o.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw r(e,"is already registered");this._actions[e]=t},o.prototype.unregister=function(e){if(!this.isRegistered(e))throw r(e,i);this._actions[e]=void 0},o.prototype.getActions=function(){return Object.keys(this._actions)},o.prototype.isRegistered=function(e){return!!this._actions[e]}},{"min-dash":834}],486:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["editorActions"],editorActions:["type",((i=e("./EditorActions"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./EditorActions":485}],487:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var l="connect-ok",c="connect-not-ok";function i(i,e,o,r,t,n,a){var s=this;this._dragging=e,this._rules=n,this._mouse=a,t.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),i.on("global-connect.hover",function(e){var t=e.context,n=e.hover,e=t.canStartConnect=s.canStartConnect(n);null!==e&&(t.startTarget=n,r.addMarker(n,e?l:c))}),i.on(["global-connect.out","global-connect.cleanup"],function(e){var t=e.context.startTarget,e=e.context.canStartConnect;t&&r.removeMarker(t,e?l:c)}),i.on(["global-connect.ended"],function(e){var t=e.context.startTarget,n={x:e.x,y:e.y};if(s.canStartConnect(t))return i.once("element.out",function(){i.once(["connect.ended","connect.canceled"],function(){i.fire("global-connect.drag.ended")}),o.start(null,t,n)}),!1})}i.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],i.prototype.start=function(e,t){this._dragging.init(e,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})},i.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)},i.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)},i.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})}},{}],488:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../connect")),o=l(e("../rules")),r=l(e("../dragging")),a=l(e("../tool-manager")),s=l(e("../mouse")),e=l(e("./GlobalConnect"));function l(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default,a.default,s.default],globalConnect:["type",e.default]};n.default=e},{"../connect":471,"../dragging":484,"../mouse":537,"../rules":561,"../tool-manager":579,"./GlobalConnect":487}],489:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var a=e("../snapping/SnapUtil"),s=e("../keyboard/KeyboardUtil"),l=e("min-dash"),o=e("./GridUtil"),i=1200,c=800;function r(o,e,t){var n=!t||!1!==t.active;this._eventBus=e;var r=this;e.on("diagram.init",c,function(){r.setActive(n)}),e.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],i,function(i){var e=i.originalEvent;!r.active||e&&(0,s.isCmd)(e)||((e=i.context).gridSnappingContext||(e.gridSnappingContext={}),["x","y"].forEach(function(e){var t={},n=function(e,t,n){var i=e.context,o=e.shape,r=i.gridSnappingContext,e=r.snapLocation,i=r.snapOffset;if(i&&(0,l.isNumber)(i[t]))return i[t];i=i||(r.snapOffset={});(0,l.isNumber)(i[t])||(i[t]=0);if(!o)return i[t];n.get(o.id)||(u(t)?i[t]+=o[t]+o.width/2:i[t]+=o[t]+o.height/2);if(!e)return i[t];"x"===t?/left/.test(e)?i[t]-=o.width/2:/right/.test(e)&&(i[t]+=o.width/2):/top/.test(e)?i[t]-=o.height/2:/bottom/.test(e)&&(i[t]+=o.height/2);return i[t]}(i,e,o);n&&(t.offset=n);n=function(e,t){var n=e.context,i=n.createConstraints,o=n.resizeConstraints||{},r=n.gridSnappingContext,e=r.snapConstraints;if(e&&e[t])return e[t];e=e||(r.snapConstraints={});e[t]||(e[t]={});n=n.direction;i&&(u(t)?(e.x.min=i.left,e.x.max=i.right):(e.y.min=i.top,e.y.max=i.bottom));i=o.min,o=o.max;i&&(u(t)?p(n)?e.x.max=i.left:e.x.min=i.right:d(n)?e.y.max=i.top:e.y.min=i.bottom);o&&(u(t)?p(n)?e.x.min=o.left:e.x.max=o.right:d(n)?e.y.min=o.top:e.y.max=o.bottom);return e[t]}(i,e);n&&(0,l.assign)(t,n),(0,a.isSnapped)(i,e)||r.snapEvent(i,e,t)}))})}function u(e){return"x"===e}function d(e){return-1!==e.indexOf("n")}function p(e){return-1!==e.indexOf("w")}r.prototype.snapEvent=function(e,t,n){n=this.snapValue(e[t],n);(0,a.setSnapped)(e,t,n)},r.prototype.getGridSpacing=function(){return o.SPACING},r.prototype.snapValue=function(e,t){var n,i=0;return t&&t.offset&&(i=t.offset),e=(0,o.quantize)(e+=i,o.SPACING),t&&t.min&&(n=t.min,(0,l.isNumber)(n)&&(n=(0,o.quantize)(n+i,o.SPACING,"ceil"),e=Math.max(e,n))),t&&t.max&&(t=t.max,(0,l.isNumber)(t)&&(t=(0,o.quantize)(t+i,o.SPACING,"floor"),e=Math.min(e,t))),e-=i},r.prototype.isActive=function(){return this.active},r.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})},r.prototype.toggleActive=function(){this.setActive(!this.active)},r.$inject=["elementRegistry","eventBus","config.gridSnapping"]},{"../keyboard/KeyboardUtil":505,"../snapping/SnapUtil":571,"./GridUtil":490,"min-dash":834}],490:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.quantize=function(e,t,n){n=n||"round";return Math[n](e/t)*t},n.SPACING=void 0;n.SPACING=10},{}],491:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var n=o(e("inherits")),i=o(e("../../../command/CommandInterceptor")),r=e("min-dash");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){i.default.call(this,e),this._gridSnapping=t;var o=this;this.preExecute("shape.resize",function(e){var t,n=e.context,i=(n.hints||{}).autoResize;i&&(t=n.shape,e=n.newBounds,(0,r.isString)(i)?n.newBounds=o.snapComplex(e,i):n.newBounds=o.snapSimple(t,e))})}a.$inject=["eventBus","gridSnapping","modeling"],(0,n.default)(a,i.default),a.prototype.snapSimple=function(e,t){var n=this._gridSnapping;return t.width=n.snapValue(t.width,{min:t.width}),t.height=n.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t},a.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),e=/n|s/.test(t)?this.snapVertically(e,t):e},a.prototype.snapHorizontally=function(e,t){var n=this._gridSnapping,i=/w/.test(t),o=/e/.test(t),t={};return t.width=n.snapValue(e.width,{min:e.width}),o&&(i?(t.x=n.snapValue(e.x,{max:e.x}),t.width+=n.snapValue(e.x-t.x,{min:e.x-t.x})):e.x=e.x+e.width-t.width),(0,r.assign)(e,t),e},a.prototype.snapVertically=function(e,t){var n=this._gridSnapping,i=/n/.test(t),o=/s/.test(t),t={};return t.height=n.snapValue(e.height,{min:e.height}),i&&(o?(t.y=n.snapValue(e.y,{max:e.y}),t.height+=n.snapValue(e.y-t.y,{min:e.y-t.y})):e.y=e.y+e.height-t.height),(0,r.assign)(e,t),e}},{"../../../command/CommandInterceptor":433,inherits:623,"min-dash":834}],492:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=2e3;function i(e,i){e.on(["spaceTool.move","spaceTool.end"],o,function(e){var t,n=e.context;n.initialized&&("x"===n.axis?(t=i.snapValue(e.dx),e.x=e.x+t-e.dx,e.dx=t):(t=i.snapValue(e.dy),e.y=e.y+t-e.dy,e.dy=t))})}i.$inject=["eventBus","gridSnapping"]},{}],493:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./ResizeBehavior")),e=o(e("./SpaceToolBehavior"));function o(e){return e&&e.__esModule?e:{default:e}}e={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",i.default],gridSnappingSpaceToolBehavior:["type",e.default]};n.default=e},{"./ResizeBehavior":491,"./SpaceToolBehavior":492}],494:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./GridSnapping"));function o(e){return e&&e.__esModule?e:{default:e}}i={__depends__:[o(e("./behavior")).default],__init__:["gridSnapping"],gridSnapping:["type",i.default]};n.default=i},{"./GridSnapping":489,"./behavior":493}],495:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var s=e("../../util/Mouse"),i=e("../../features/keyboard/KeyboardUtil"),l=1500;function o(n,i,e,t,o,r){this._dragging=e,this._mouse=r;var a=this,t=t.get("keyboard",!1);o.registerTool("hand",{tool:"hand",dragging:"hand.move"}),n.on("element.mousedown",l,function(e){if((0,s.hasPrimaryModifier)(e))return a.activateMove(e.originalEvent,!0),!1}),t&&t.addListener(l,function(e){c(e.keyEvent)&&!a.isActive()&&(e=a._mouse.getLastMoveEvent(),a.activateMove(e,!!e))},"keyboard.keydown"),t&&t.addListener(l,function(e){c(e.keyEvent)&&a.isActive()&&a.toggle()},"keyboard.keyup"),n.on("hand.end",function(e){var t=e.originalEvent.target;if(!(e.hover||t instanceof SVGElement))return!1;n.once("hand.ended",function(){a.activateMove(e.originalEvent,{reactivate:!0})})}),n.on("hand.move.move",function(e){var t=i.viewbox().scale;i.scroll({dx:e.dx*t,dy:e.dy*t})}),n.on("hand.move.end",function(e){var t=e.context.reactivate;return!(0,s.hasPrimaryModifier)(e)&&t&&n.once("hand.move.ended",function(e){a.activateHand(e.originalEvent,!0,!0)}),!1})}function c(e){return(0,i.isKey)(" ",e)}o.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],o.prototype.activateMove=function(e,t,n){"object"==typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:"grab",data:{context:n||{}}})},o.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:"grab",data:{context:{reactivate:n}}})},o.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)},o.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)}},{"../../features/keyboard/KeyboardUtil":505,"../../util/Mouse":612}],496:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../tool-manager")),o=r(e("../mouse")),e=r(e("./HandTool"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],__init__:["handTool"],handTool:["type",e.default]};n.default=e},{"../mouse":537,"../tool-manager":579,"./HandTool":495}],497:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var s=e("min-dom"),l=e("../../util/Event"),c=1500;function i(o,t,e){var n,i,r=this,a=e.get("dragging",!1);a&&t.on("drag.start",function(e){t.once("drag.move",c,function(e){var t,n,i;(t=e).hover||(n=t.originalEvent,e=(i=r._findTargetGfx(n))&&o.get(i),i&&e&&(t.stopPropagation(),a.hover({element:e,gfx:i}),a.move(n)))})}),t.on("element.hover",function(e){n=e.gfx,i=e.element}),t.on("element.hover",c,function(e){i&&t.fire("element.out",{element:i,gfx:n})}),t.on("element.out",function(){i=n=null}),this._findTargetGfx=function(e){if(e instanceof MouseEvent)return e=(0,l.toPoint)(e),e=document.elementFromPoint(e.x,e.y),(0,s.closest)(e,"svg, .djs-element",!0)}}i.$inject=["elementRegistry","eventBus","injector"]},{"../../util/Event":606,"min-dom":835}],498:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["hoverFix"],hoverFix:["type",((i=e("./HoverFix"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./HoverFix":497}],499:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var y=e("min-dash"),b=e("min-dom"),x=e("../../util/Mouse"),w=e("tiny-svg"),k=e("../../util/RenderUtil");function E(e){return!0}function C(e){return(0,x.isPrimaryButton)(e)||(0,x.isAuxiliaryButton)(e)}var S=500;function i(r,a,n){var i=this;function s(e,t,n){var i,o;(u[e]||x.isPrimaryButton)(t)&&(n?o=a.getGraphics(n):(i=t.delegateTarget||t.target)&&(n=a.get(o=i)),o&&n&&!1===r.fire(e,{element:n,gfx:o,originalEvent:t})&&(t.stopPropagation(),t.preventDefault()))}var l={};function o(e){return l[e]}var c={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},u={"element.contextmenu":E,"element.mousedown":C,"element.mouseup":C,"element.click":C,"element.dblclick":C};var d="svg, .djs-element";function p(e,t,n,i){var o=l[n]=function(e){s(n,e)};i&&(u[n]=i),o.$delegate=b.delegate.bind(e,d,t,o)}function h(e,t,n){n=o(n);n&&b.delegate.unbind(e,t,n.$delegate)}r.on("canvas.destroy",function(e){var n;n=e.svg,(0,y.forEach)(c,function(e,t){h(n,t,e)})}),r.on("canvas.init",function(e){var n;n=e.svg,(0,y.forEach)(c,function(e,t){p(n,t,e)})}),r.on(["shape.added","connection.added"],function(e){var t=e.element,e=e.gfx;r.fire("interactionEvents.createHit",{element:t,gfx:e})}),r.on(["shape.changed","connection.changed"],S,function(e){var t=e.element,e=e.gfx;r.fire("interactionEvents.updateHit",{element:t,gfx:e})}),r.on("interactionEvents.createHit",S,function(e){var t=e.element,e=e.gfx;i.createDefaultHit(t,e)}),r.on("interactionEvents.updateHit",function(e){var t=e.element,e=e.gfx;i.updateDefaultHit(t,e)});var e=m("djs-hit djs-hit-stroke"),t=m("djs-hit djs-hit-click-stroke"),f={all:m("djs-hit djs-hit-all"),"click-stroke":t,stroke:e};function m(e,t){return t=(0,y.assign)({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function g(e,t){var n=f[t];if(!n)throw new Error("invalid hit type <"+t+">");return(0,w.attr)(e,n),e}function v(e,t){(0,w.append)(e,t)}this.removeHits=function(e){e=(0,b.queryAll)(".djs-hit",e);(0,y.forEach)(e,w.remove)},this.createDefaultHit=function(e,t){var n=e.waypoints,i=e.isFrame;return n?this.createWaypointsHit(t,n):this.createBoxHit(t,i?"stroke":"all",{width:e.width,height:e.height})},this.createWaypointsHit=function(e,t){t=(0,k.createLine)(t);return g(t,"stroke"),v(e,t),t},this.createBoxHit=function(e,t,n){n=(0,y.assign)({x:0,y:0},n);var i=(0,w.create)("rect");return g(i,t),(0,w.attr)(i,n),v(e,i),i},this.updateDefaultHit=function(e,t){t=(0,b.query)(".djs-hit",t);if(t)return e.waypoints?(0,k.updateLine)(t,e.waypoints):(0,w.attr)(t,{width:e.width,height:e.height}),t},this.fire=s,this.triggerMouseEvent=function(e,t,n){var i=c[e];if(!i)throw new Error("unmapped DOM event name <"+e+">");return s(i,t,n)},this.mouseHandler=o,this.registerEvent=p,this.unregisterEvent=h}i.$inject=["eventBus","elementRegistry","styles"]},{"../../util/Mouse":612,"../../util/RenderUtil":616,"min-dash":834,"min-dom":835,"tiny-svg":851}],500:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["interactionEvents"],interactionEvents:["type",((i=e("./InteractionEvents"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./InteractionEvents":499}],501:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var s=e("min-dash"),l={moveSpeed:1,moveSpeedAccelerated:10},c=1500,u={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},d={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function i(e,n,i,o,r){var a=this;this._config=(0,s.assign)({},l,e||{}),n.addListener(c,function(e){var t=e.keyEvent,e=u[t.key];if(e&&!n.isCmd(t)){t=n.isShift(t);return a.moveSelection(e,t),!0}}),this.moveSelection=function(e,t){var n=r.get();n.length&&(t=this._config[t?"moveSpeedAccelerated":"moveSpeed"],t=d[e](t),o.allowed("elements.move",{shapes:n})&&i.moveElements(n,t))}}i.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"]},{"min-dash":834}],502:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../keyboard")),o=r(e("../selection")),e=r(e("./KeyboardMoveSelection"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",e.default]};n.default=e},{"../keyboard":506,"../selection":567,"./KeyboardMoveSelection":501}],503:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("min-dash"),o=e("min-dom"),e=e("./KeyboardUtil"),r="keyboard.keydown";function a(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),t.on("diagram.init",function(){n._fire("init")}),t.on("attach",function(){e&&e.bindTo&&n.bind(e.bindTo)}),t.on("detach",function(){n.unbind()})}a.$inject=["config.keyboard","eventBus"],a.prototype._keydownHandler=function(e){this._keyHandler(e,r)},a.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},a.prototype._keyHandler=function(e,t){var n=e.target;(n=n)&&((0,o.matches)(n,"input, textarea")||"true"===n.contentEditable)||this._eventBus.fire(t||r,{keyEvent:e})&&e.preventDefault()},a.prototype.bind=function(e){this.unbind(),this._node=e,o.event.bind(e,"keydown",this._keydownHandler,!0),o.event.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},a.prototype.getBinding=function(){return this._node},a.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),o.event.unbind(e,"keydown",this._keydownHandler,!0),o.event.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},a.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},a.prototype.addListener=function(e,t,n){(0,i.isFunction)(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||r,e,t)},a.prototype.removeListener=function(e,t){this._eventBus.off(t||r,e)},a.prototype.hasModifier=e.hasModifier,a.prototype.isCmd=e.isCmd,a.prototype.isShift=e.isShift,a.prototype.isKey=e.isKey},{"./KeyboardUtil":505,"min-dash":834,"min-dom":835}],504:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c,n.KEYS_UNDO=n.KEYS_REDO=n.KEYS_PASTE=n.KEYS_COPY=n.KEYCODE_Z=n.KEYCODE_Y=n.KEYCODE_V=n.KEYCODE_C=void 0;var o=e("./KeyboardUtil"),i=500;n.KEYCODE_C=67;n.KEYCODE_V=86;n.KEYCODE_Y=89;n.KEYCODE_Z=90;var r=["c","C",67];n.KEYS_COPY=r;var a=["v","V",86];n.KEYS_PASTE=a;var s=["y","Y",89];n.KEYS_REDO=s;var l=["z","Z",90];function c(e,t){var n=this;e.on("editorActions.init",i,function(e){e=e.editorActions;n.registerBindings(t,e)})}n.KEYS_UNDO=l,c.$inject=["eventBus","keyboard"],c.prototype.registerBindings=function(n,i){function e(e,t){i.isRegistered(e)&&n.addListener(t)}e("undo",function(e){e=e.keyEvent;if((0,o.isCmd)(e)&&!(0,o.isShift)(e)&&(0,o.isKey)(l,e))return i.trigger("undo"),!0}),e("redo",function(e){e=e.keyEvent;if((0,o.isCmd)(e)&&((0,o.isKey)(s,e)||(0,o.isKey)(l,e)&&(0,o.isShift)(e)))return i.trigger("redo"),!0}),e("copy",function(e){e=e.keyEvent;if((0,o.isCmd)(e)&&(0,o.isKey)(r,e))return i.trigger("copy"),!0}),e("paste",function(e){e=e.keyEvent;if((0,o.isCmd)(e)&&(0,o.isKey)(a,e))return i.trigger("paste"),!0}),e("stepZoom",function(e){e=e.keyEvent;if((0,o.isKey)(["+","Add","="],e)&&(0,o.isCmd)(e))return i.trigger("stepZoom",{value:1}),!0}),e("stepZoom",function(e){e=e.keyEvent;if((0,o.isKey)(["-","Subtract"],e)&&(0,o.isCmd)(e))return i.trigger("stepZoom",{value:-1}),!0}),e("zoom",function(e){e=e.keyEvent;if((0,o.isKey)("0",e)&&(0,o.isCmd)(e))return i.trigger("zoom",{value:1}),!0}),e("removeSelection",function(e){e=e.keyEvent;if((0,o.isKey)(["Backspace","Delete","Del"],e))return i.trigger("removeSelection"),!0})}},{"./KeyboardUtil":505}],505:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},n.isCmd=function(e){if(e.altKey)return!1;return e.ctrlKey||e.metaKey},n.isKey=function(e,t){return-1!==(e=(0,i.isArray)(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)},n.isShift=function(e){return e.shiftKey};var i=e("min-dash")},{"min-dash":834}],506:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./Keyboard")),e=o(e("./KeyboardBindings"));function o(e){return e&&e.__esModule?e:{default:e}}e={__init__:["keyboard","keyboardBindings"],keyboard:["type",i.default],keyboardBindings:["type",e.default]};n.default=e},{"./Keyboard":503,"./KeyboardBindings":504}],507:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=e("min-dash"),n=o(e("inherits")),i=e("../../util/Collections"),a=e("../../util/Removal"),s=o(e("../../command/CommandInterceptor"));function o(e){return e&&e.__esModule?e:{default:e}}var l=250,c=1400;function u(e,t,n){s.default.call(this,t);var o=e.get("movePreview",!1);t.on("shape.move.start",c,function(e){var t=e.context,n=t.shapes,e=t.validatedShapes;t.shapes=d(n),t.validatedShapes=d(e)}),o&&t.on("shape.move.start",l,function(e){var n=e.context,e=n.shapes,i=[];(0,r.forEach)(e,function(t){(0,r.forEach)(t.labels,function(e){e.hidden||-1!==n.shapes.indexOf(e)||i.push(e),t.labelTarget&&i.push(t)})}),(0,r.forEach)(i,function(e){o.makeDraggable(n,e,!0)})}),this.preExecuted("elements.move",c,function(e){var e=e.context.closure,t=e.enclosedElements,n=[];(0,r.forEach)(t,function(e){(0,r.forEach)(e.labels,function(e){t[e.id]||n.push(e)})}),e.addAll(n)}),this.preExecute(["connection.delete","shape.delete"],function(e){e=e.context,e=e.connection||e.shape;(0,a.saveClear)(e.labels,function(e){n.removeShape(e,{nested:!0})})}),this.execute("shape.delete",function(e){var t=e.context,n=t.shape,e=n.labelTarget;e&&(t.labelTargetIndex=(0,i.indexOf)(e.labels,n),t.labelTarget=e,n.labelTarget=null)}),this.revert("shape.delete",function(e){var t=e.context,n=t.shape,e=t.labelTarget,t=t.labelTargetIndex;e&&((0,i.add)(e.labels,n,t),n.labelTarget=e)})}function d(t){return(0,r.filter)(t,function(e){return-1===t.indexOf(e.labelTarget)})}(0,n.default)(u,s.default),u.$inject=["injector","eventBus","modeling"]},{"../../command/CommandInterceptor":433,"../../util/Collections":602,"../../util/Removal":615,inherits:623,"min-dash":834}],508:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["labelSupport"],labelSupport:["type",((i=e("./LabelSupport"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./LabelSupport":507}],509:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("min-dash"),o=e("../../util/Elements"),d=e("../../util/Mouse"),p=e("tiny-svg");function r(n,i,e,o,t,r,a){this._selection=t,this._dragging=e,this._mouse=a;var s=this,l=function(e){var t=i.getDefaultLayer(),e=e.frame=(0,p.create)("rect");(0,p.attr)(e,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,p.append)(t,e)},c=function(e){var t=e.frame,e=e.bbox;(0,p.attr)(t,{x:e.x,y:e.y,width:e.width,height:e.height})},u=function(e){e.frame&&(0,p.remove)(e.frame)};r.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),n.on("lasso.selection.end",function(e){var t=e.originalEvent.target;(e.hover||t instanceof SVGElement)&&n.once("lasso.selection.ended",function(){s.activateLasso(e.originalEvent,!0)})}),n.on("lasso.end",function(e){var t=h(e),e=o.filter(function(e){return e});s.select(e,t)}),n.on("lasso.start",function(e){var t=e.context;t.bbox=h(e),l(t)}),n.on("lasso.move",function(e){var t=e.context;t.bbox=h(e),c(t)}),n.on("lasso.cleanup",function(e){e=e.context;u(e)}),n.on("element.mousedown",1500,function(e){if((0,d.hasSecondaryModifier)(e))return s.activateLasso(e.originalEvent),!0})}function h(e){var t={x:e.x-e.dx,y:e.y-e.dy},e={x:e.x,y:e.y},e=t.x<=e.x&&t.y<e.y||t.x<e.x&&t.y<=e.y?{x:t.x,y:t.y,width:e.x-t.x,height:e.y-t.y}:e.x<=t.x&&t.y<e.y||e.x<t.x&&t.y<=e.y?{x:e.x,y:t.y,width:t.x-e.x,height:e.y-t.y}:t.x<=e.x&&e.y<t.y||t.x<e.x&&e.y<=t.y?{x:t.x,y:e.y,width:e.x-t.x,height:t.y-e.y}:e.x<=t.x&&e.y<t.y||e.x<t.x&&e.y<=t.y?{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}:{x:e.x,y:e.y,width:0,height:0};return e}r.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],r.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:"crosshair",data:{context:{}}})},r.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:"crosshair",data:{context:{}}})},r.prototype.select=function(e,t){t=(0,o.getEnclosedElements)(e,t);this._selection.select((0,i.values)(t))},r.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},r.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)}},{"../../util/Elements":604,"../../util/Mouse":612,"min-dash":834,"tiny-svg":851}],510:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../tool-manager")),o=r(e("../mouse")),e=r(e("./LassoTool"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],__init__:["lassoTool"],lassoTool:["type",e.default]};n.default=e},{"../mouse":537,"../tool-manager":579,"./LassoTool":509}],511:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=e("min-dash"),i=e("../../model"),o=T(e("./cmd/AlignElementsHandler")),a=T(e("./cmd/AppendShapeHandler")),s=T(e("./cmd/CreateConnectionHandler")),l=T(e("./cmd/CreateElementsHandler")),c=T(e("./cmd/CreateLabelHandler")),u=T(e("./cmd/CreateShapeHandler")),d=T(e("./cmd/DeleteConnectionHandler")),p=T(e("./cmd/DeleteElementsHandler")),h=T(e("./cmd/DeleteShapeHandler")),f=T(e("./cmd/DistributeElementsHandler")),m=T(e("./cmd/LayoutConnectionHandler")),g=T(e("./cmd/MoveConnectionHandler")),v=T(e("./cmd/MoveElementsHandler")),y=T(e("./cmd/MoveShapeHandler")),b=T(e("./cmd/ReconnectConnectionHandler")),x=T(e("./cmd/ReplaceShapeHandler")),w=T(e("./cmd/ResizeShapeHandler")),k=T(e("./cmd/SpaceToolHandler")),E=T(e("./cmd/ToggleShapeCollapseHandler")),C=T(e("./cmd/UpdateAttachmentHandler")),S=T(e("./cmd/UpdateWaypointsHandler"));function T(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var i=this;e.on("diagram.init",function(){i.registerHandlers(n)})}_.$inject=["eventBus","elementFactory","commandStack"],_.prototype.getHandlers=function(){return{"shape.append":a.default,"shape.create":u.default,"shape.delete":h.default,"shape.move":y.default,"shape.resize":w.default,"shape.replace":x.default,"shape.toggleCollapse":E.default,spaceTool:k.default,"label.create":c.default,"connection.create":s.default,"connection.delete":d.default,"connection.move":g.default,"connection.layout":m.default,"connection.updateWaypoints":S.default,"connection.reconnect":b.default,"elements.create":l.default,"elements.move":v.default,"elements.delete":p.default,"elements.distribute":f.default,"elements.align":o.default,"element.updateAttachment":C.default}},_.prototype.registerHandlers=function(n){(0,r.forEach)(this.getHandlers(),function(e,t){n.registerHandler(t,e)})},_.prototype.moveShape=function(e,t,n,i,o){"object"==typeof i&&(o=i,i=null),this._commandStack.execute("shape.move",{shape:e,delta:t,newParent:n,newParentIndex:i,hints:o||{}})},_.prototype.updateAttachment=function(e,t){this._commandStack.execute("element.updateAttachment",{shape:e,newHost:t})},_.prototype.moveElements=function(e,t,n,i){var o,r=(i=i||{}).attach,a=n;!0===r?a=(o=n).parent:!1===r&&(o=null),this._commandStack.execute("elements.move",{shapes:e,delta:t,newParent:a,newHost:o,hints:i})},_.prototype.moveConnection=function(e,t,n,i,o){"object"==typeof i&&(o=i,i=void 0),this._commandStack.execute("connection.move",{connection:e,delta:t,newParent:n,newParentIndex:i,hints:o||{}})},_.prototype.layoutConnection=function(e,t){this._commandStack.execute("connection.layout",{connection:e,hints:t||{}})},_.prototype.createConnection=function(e,t,n,i,o,r){"object"==typeof n&&(r=o,o=i,i=n,n=void 0);r={source:e,target:t,parent:o,parentIndex:n,connection:i=this._create("connection",i),hints:r};return this._commandStack.execute("connection.create",r),r.connection},_.prototype.createShape=function(e,t,n,i,o){"number"!=typeof i&&(o=i,i=void 0);var r,a,s=(o=o||{}).attach;e=this._create("shape",e),s?(r=n.parent,a=n):r=n;o={position:t,shape:e,parent:r,parentIndex:i,host:a,hints:o};return this._commandStack.execute("shape.create",o),o.shape},_.prototype.createElements=function(e,t,n,i,o){"number"!=typeof i&&(o=i,i=void 0);o={position:t,elements:e=!(0,r.isArray)(e)?[e]:e,parent:n,parentIndex:i,hints:o=o||{}};return this._commandStack.execute("elements.create",o),o.elements},_.prototype.createLabel=function(e,t,n,i){n=this._create("label",n);n={labelTarget:e,position:t,parent:i||e.parent,shape:n};return this._commandStack.execute("label.create",n),n.shape},_.prototype.appendShape=function(e,t,n,i,o){o=o||{};o={source:e,position:n,target:i,shape:t=this._create("shape",t),connection:o.connection,connectionParent:o.connectionParent,hints:o};return this._commandStack.execute("shape.append",o),o.shape},_.prototype.removeElements=function(e){this._commandStack.execute("elements.delete",{elements:e})},_.prototype.distributeElements=function(e,t,n){this._commandStack.execute("elements.distribute",{groups:e,axis:t,dimension:n})},_.prototype.removeShape=function(e,t){this._commandStack.execute("shape.delete",{shape:e,hints:t||{}})},_.prototype.removeConnection=function(e,t){this._commandStack.execute("connection.delete",{connection:e,hints:t||{}})},_.prototype.replaceShape=function(e,t,n){n={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",n),n.newShape},_.prototype.alignElements=function(e,t){this._commandStack.execute("elements.align",{elements:e,alignment:t})},_.prototype.resizeShape=function(e,t,n,i){this._commandStack.execute("shape.resize",{shape:e,newBounds:t,minBounds:n,hints:i})},_.prototype.createSpace=function(e,t,n,i,o){this._commandStack.execute("spaceTool",{delta:n,direction:i,movingShapes:e,resizingShapes:t,start:o})},_.prototype.updateWaypoints=function(e,t,n){this._commandStack.execute("connection.updateWaypoints",{connection:e,newWaypoints:t,hints:n||{}})},_.prototype.reconnect=function(e,t,n,i,o){this._commandStack.execute("connection.reconnect",{connection:e,newSource:t,newTarget:n,dockingOrPoints:i,hints:o||{}})},_.prototype.reconnectStart=function(e,t,n,i){this.reconnect(e,t,e.target,n,(0,r.assign)(i=i||{},{docking:"source"}))},_.prototype.reconnectEnd=function(e,t,n,i){this.reconnect(e,e.source,t,n,(0,r.assign)(i=i||{},{docking:"target"}))},_.prototype.connect=function(e,t,n,i){return this.createConnection(e,t,n||{},e.parent,i)},_.prototype._create=function(e,t){return t instanceof i.Base?t:this._elementFactory.create(e,t)},_.prototype.toggleCollapse=function(e,t){this._commandStack.execute("shape.toggleCollapse",{shape:e,hints:t||{}})}},{"../../model":591,"./cmd/AlignElementsHandler":512,"./cmd/AppendShapeHandler":513,"./cmd/CreateConnectionHandler":514,"./cmd/CreateElementsHandler":515,"./cmd/CreateLabelHandler":516,"./cmd/CreateShapeHandler":517,"./cmd/DeleteConnectionHandler":518,"./cmd/DeleteElementsHandler":519,"./cmd/DeleteShapeHandler":520,"./cmd/DistributeElementsHandler":521,"./cmd/LayoutConnectionHandler":522,"./cmd/MoveConnectionHandler":523,"./cmd/MoveElementsHandler":524,"./cmd/MoveShapeHandler":525,"./cmd/ReconnectConnectionHandler":526,"./cmd/ReplaceShapeHandler":527,"./cmd/ResizeShapeHandler":528,"./cmd/SpaceToolHandler":529,"./cmd/ToggleShapeCollapseHandler":530,"./cmd/UpdateAttachmentHandler":531,"./cmd/UpdateWaypointsHandler":532,"min-dash":834}],512:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash");function i(e,t){this._modeling=e,this._canvas=t}i.$inject=["modeling","canvas"],i.prototype.preExecute=function(e){var n=this._modeling,t=e.elements,i=e.alignment;(0,o.forEach)(t,function(e){var t={x:0,y:0};i.left?t.x=i.left-e.x:i.right?t.x=i.right-e.width-e.x:i.center?t.x=i.center-Math.round(e.width/2)-e.x:i.top?t.y=i.top-e.y:i.bottom?t.y=i.bottom-e.height-e.y:i.middle&&(t.y=i.middle-Math.round(e.height/2)-e.y),n.moveElements([e],t,e.parent)})},i.prototype.postExecute=function(e){}},{"min-dash":834}],513:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash");function i(e){this._modeling=e}i.$inject=["modeling"],i.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,i=e.shape,t=e.hints||{},i=e.shape=this._modeling.createShape(i,e.position,n,{attach:t.attach});e.shape=i},i.prototype.postExecute=function(e){var t,n,i=e.hints||{};t=e.source,n=e.shape,(0,o.some)(t.outgoing,function(e){return e.target===n})||(i.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))}},{"min-dash":834}],514:[function(e,t,n){"use strict";function i(e,t){this._canvas=e,this._layouter=t}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).$inject=["canvas","layouter"],i.prototype.execute=function(e){var t=e.connection,n=e.source,i=e.target,o=e.parent,r=e.parentIndex,e=e.hints;if(!n||!i)throw new Error("source and target required");if(!o)throw new Error("parent required");return t.source=n,t.target=i,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,e)),this._canvas.addConnection(t,o,r),t},i.prototype.revert=function(e){e=e.connection;return this._canvas.removeConnection(e),e.source=null,e.target=null,e}},{}],515:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var u=e("min-dash"),d=e("../../../util/Elements"),p=Math.round;function i(e){this._modeling=e}function h(e){return e.waypoints}i.$inject=["modeling"],i.prototype.preExecute=function(e){var t=e.elements,n=e.parent,i=e.parentIndex,o=e.position,r=e.hints,a=this._modeling;(0,u.forEach)(t,function(e){(0,u.isNumber)(e.x)||(e.x=0),(0,u.isNumber)(e.y)||(e.y=0)});var s=(0,d.getBBox)(t);(0,u.forEach)(t,function(e){h(e)&&(e.waypoints=(0,u.map)(e.waypoints,function(e){return{x:p(e.x-s.x-s.width/2+o.x),y:p(e.y-s.y-s.height/2+o.y)}})),(0,u.assign)(e,{x:p(e.x-s.x-s.width/2+o.x),y:p(e.y-s.y-s.height/2+o.y)})});var l=(0,d.getParents)(t),c={};(0,u.forEach)(t,function(e){var t;h(e)?c[e.id]=(0,u.isNumber)(i)?a.createConnection(c[e.source.id],c[e.target.id],i,e,e.parent||n,r):a.createConnection(c[e.source.id],c[e.target.id],e,e.parent||n,r):(t=(0,u.assign)({},r),-1===l.indexOf(e)&&(t.autoResize=!1),c[e.id]=(0,u.isNumber)(i)?a.createShape(e,(0,u.pick)(e,["x","y","width","height"]),e.parent||n,i,t):a.createShape(e,(0,u.pick)(e,["x","y","width","height"]),e.parent||n,t))}),e.elements=(0,u.values)(c)}},{"../../../util/Elements":604,"min-dash":834}],516:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=o(e("inherits")),i=o(e("./CreateShapeHandler"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){i.default.call(this,e)}(0,n.default)(r,i.default),r.$inject=["canvas"];var a=i.default.prototype.execute;r.prototype.execute=function(e){var t,n=e.shape;return t=n,["width","height"].forEach(function(e){void 0===t[e]&&(t[e]=0)}),n.labelTarget=e.labelTarget,a.call(this,e)};var s=i.default.prototype.revert;r.prototype.revert=function(e){return e.shape.labelTarget=null,s.call(this,e)}},{"./CreateShapeHandler":517,inherits:623}],517:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash"),r=Math.round;function i(e){this._canvas=e}i.$inject=["canvas"],i.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,e=e.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?(0,o.assign)(t,n):(0,o.assign)(t,{x:n.x-r(t.width/2),y:n.y-r(t.height/2)}),this._canvas.addShape(t,i,e),t},i.prototype.revert=function(e){e=e.shape;return this._canvas.removeShape(e),e}},{"min-dash":834}],518:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("../../../util/Collections");function i(e,t){this._canvas=e,this._modeling=t}i.$inject=["canvas","modeling"],i.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=(0,o.indexOf)(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},i.prototype.revert=function(e){var t=e.connection,n=e.parent,i=e.parentIndex;return t.source=e.source,t.target=e.target,(0,o.add)(n.children,t,i),this._canvas.addConnection(t,n),t}},{"../../../util/Collections":602}],519:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("min-dash");function o(e,t){this._modeling=e,this._elementRegistry=t}o.$inject=["modeling","elementRegistry"],o.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry,e=e.elements;(0,i.forEach)(e,function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))})}},{"min-dash":834}],520:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var o=e("../../../util/Collections"),i=e("../../../util/Removal");function r(e,t){this._canvas=e,this._modeling=t}r.$inject=["canvas","modeling"],r.prototype.preExecute=function(e){var t=this._modeling,e=e.shape;(0,i.saveClear)(e.incoming,function(e){t.removeConnection(e,{nested:!0})}),(0,i.saveClear)(e.outgoing,function(e){t.removeConnection(e,{nested:!0})}),(0,i.saveClear)(e.children,function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})})},r.prototype.execute=function(e){var t=this._canvas,n=e.shape,i=n.parent;return e.oldParent=i,e.oldParentIndex=(0,o.indexOf)(i.children,n),t.removeShape(n),n},r.prototype.revert=function(e){var t=this._canvas,n=e.shape,i=e.oldParent,e=e.oldParentIndex;return(0,o.add)(i.children,n,e),t.addShape(n,i),n}},{"../../../util/Collections":602,"../../../util/Removal":615}],521:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var v=e("min-dash");function i(e){this._modeling=e}i.$inject=["modeling"];var y={x:"y",y:"x"};i.prototype.preExecute=function(e){var r=this._modeling,a=e.groups,s=e.axis,l=e.dimension;function c(e,t){e.range.min=Math.min(t[s],e.range.min),e.range.max=Math.max(t[s]+t[l],e.range.max)}function u(e){return e[s]+e[l]/2}function d(e){return e.length-1}function p(e){return e.max-e.min}var h,t=a[0],f=d(a),m=a[f],g=0;(0,v.forEach)(a,function(i,e){var t,n,o;i.elements.length<2?e&&e!==a.length-1&&(c(i,i.elements[0]),g+=p(i.range)):(n=(t=(0,v.sortBy)(i.elements,s))[0],e===f&&(n=t[d(t)]),o=u(n),(i.range=null,v.forEach)(t,function(e){var t,n;(n={y:0})[s]=o-u(t=e),n[s]&&(n[y[s]]=0,r.moveElements([t],n,t.parent)),null!==i.range?c(i,e):i.range={min:e[s],max:e[s]+e[l]}}),e&&e!==a.length-1&&(g+=p(i.range)))}),e=Math.abs(m.range.min-t.range.max),(h=Math.round((e-g)/(a.length-1)))<a.length-1||(0,v.forEach)(a,function(n,e){var i,o={};n!==t&&n!==m&&(i=a[e-1],(n.range.max=0,v.forEach)(n.elements,function(e,t){o[y[s]]=0,o[s]=i.range.max-e[s]+h,n.range.min!==e[s]&&(o[s]+=e[s]-n.range.min),o[s]&&r.moveElements([e],o,e.parent),n.range.max=Math.max(e[s]+e[l],t?n.range.max:0)}))})},i.prototype.postExecute=function(e){}},{"min-dash":834}],522:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("min-dash");function o(e,t){this._layouter=e,this._canvas=t}o.$inject=["layouter","canvas"],o.prototype.execute=function(e){var t=e.connection,n=t.waypoints;return(0,i.assign)(e,{oldWaypoints:n}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},o.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t}},{"min-dash":834}],523:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("min-dash"),s=e("../../../util/Collections");function i(){}i.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,o=e.newParentIndex,r=t.parent;return e.oldParent=r,e.oldParentIndex=(0,s.remove)(r.children,t),(0,s.add)(i.children,t,o),t.parent=i,(0,a.forEach)(t.waypoints,function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)}),t},i.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,o=e.oldParentIndex,r=e.delta;return(0,s.remove)(n.children,t),(0,s.add)(i.children,t,o),t.parent=i,(0,a.forEach)(t.waypoints,function(e){e.x-=r.x,e.y-=r.y,e.original&&(e.original.x-=r.x,e.original.y-=r.y)}),t}},{"../../../util/Collections":602,"min-dash":834}],524:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i,o=(i=e("./helper/MoveHelper"))&&i.__esModule?i:{default:i};function r(e){this._helper=new o.default(e)}r.$inject=["modeling"],r.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},r.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)}},{"./helper/MoveHelper":535}],525:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var i,a=e("min-dash"),o=(i=e("./helper/MoveHelper"))&&i.__esModule?i:{default:i},s=e("../../../util/Collections"),r=e("./helper/AnchorsHelper");function l(e){this._modeling=e,this._helper=new o.default(e)}l.$inject=["modeling"],l.prototype.execute=function(e){var t=e.shape,n=e.delta,i=e.newParent||t.parent,o=e.newParentIndex,r=t.parent;return e.oldBounds=(0,a.pick)(t,["x","y","width","height"]),e.oldParent=r,e.oldParentIndex=(0,s.remove)(r.children,t),(0,s.add)(i.children,t,o),(0,a.assign)(t,{parent:i,x:t.x+n.x,y:t.y+n.y}),t},l.prototype.postExecute=function(e){var t=e.shape,n=e.delta,i=e.hints,o=this._modeling;!1!==i.layout&&((0,a.forEach)(t.incoming,function(e){o.layoutConnection(e,{connectionEnd:(0,r.getMovedTargetAnchor)(e,t,n)})}),(0,a.forEach)(t.outgoing,function(e){o.layoutConnection(e,{connectionStart:(0,r.getMovedSourceAnchor)(e,t,n)})})),!1!==i.recurse&&this.moveChildren(e)},l.prototype.revert=function(e){var t=e.shape,n=e.oldParent,i=e.oldParentIndex,e=e.delta;return(0,s.add)(n.children,t,i),(0,a.assign)(t,{parent:n,x:t.x-e.x,y:t.y-e.y}),t},l.prototype.moveChildren=function(e){var t=e.delta,e=e.shape;this._helper.moveRecursive(e.children,t,null)},l.prototype.getNewParent=function(e){return e.newParent||e.shape.parent}},{"../../../util/Collections":602,"./helper/AnchorsHelper":533,"./helper/MoveHelper":535,"min-dash":834}],526:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("min-dash");function i(e){this._modeling=e}function s(e){return e.original||e}i.$inject=["modeling"],i.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,i=e.connection,o=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return(0,a.isArray)(o)&&(e.oldWaypoints=i.waypoints,i.waypoints=o),t&&(e.oldSource=i.source,i.source=t),n&&(e.oldTarget=i.target,i.target=n),i},i.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,i=e.newTarget,o=e.dockingOrPoints,r=e.hints||{},e={};r.connectionStart&&(e.connectionStart=r.connectionStart),r.connectionEnd&&(e.connectionEnd=r.connectionEnd),!1!==r.layoutConnection&&(!n||i&&"source"!==r.docking||(e.connectionStart=e.connectionStart||s((0,a.isArray)(o)?o[0]:o)),!i||n&&"target"!==r.docking||(e.connectionEnd=e.connectionEnd||s((0,a.isArray)(o)?o[o.length-1]:o)),r.newWaypoints&&(e.waypoints=r.newWaypoints),this._modeling.layoutConnection(t,e))},i.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,i=e.oldWaypoints,e=e.connection;return t&&(e.source=t),n&&(e.target=n),i&&(e.waypoints=i),e}},{"min-dash":834}],527:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var p=e("min-dash"),h=e("./helper/AnchorsHelper");function i(e,t){this._modeling=e,this._rules=t}i.$inject=["modeling","rules"],i.prototype.preExecute=function(e){var n=this,t=this._modeling,i=this._rules,o=e.oldShape,r=e.newData,a=e.hints||{};function s(e,t,n){return i.allowed("connection.reconnect",{connection:n,source:e,target:t})}var l={x:r.x,y:r.y},c={x:o.x,y:o.y,width:o.width,height:o.height},u=e.newShape=e.newShape||n.createShape(r,l,o.parent,a);o.host&&t.updateAttachment(u,o.host),!1!==a.moveChildren&&(d=o.children.slice(),t.moveElements(d,{x:0,y:0},u,a));var d=o.incoming.slice(),o=o.outgoing.slice();(0,p.forEach)(d,function(e){s(e.source,u,e)&&n.reconnectEnd(e,u,(0,h.getResizedTargetAnchor)(e,u,c),a)}),(0,p.forEach)(o,function(e){var t=e.target;s(u,t,e)&&n.reconnectStart(e,u,(0,h.getResizedSourceAnchor)(e,u,c),a)})},i.prototype.postExecute=function(e){e=e.oldShape;this._modeling.removeShape(e)},i.prototype.execute=function(e){},i.prototype.revert=function(e){},i.prototype.createShape=function(e,t,n,i){return this._modeling.createShape(e,t,n,i)},i.prototype.reconnectStart=function(e,t,n,i){this._modeling.reconnectStart(e,t,n,i)},i.prototype.reconnectEnd=function(e,t,n,i){this._modeling.reconnectEnd(e,t,n,i)}},{"./helper/AnchorsHelper":533,"min-dash":834}],528:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash"),r=e("./helper/AnchorsHelper");function i(e){this._modeling=e}i.$inject=["modeling"],i.prototype.execute=function(e){var t=e.shape,n=e.newBounds,i=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(n.width<i.width||n.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},(0,o.assign)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},i.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,i=e.oldBounds;!1!==(e.hints||{}).layout&&((0,o.forEach)(n.incoming,function(e){t.layoutConnection(e,{connectionEnd:(0,r.getResizedTargetAnchor)(e,n,i)})}),(0,o.forEach)(n.outgoing,function(e){t.layoutConnection(e,{connectionStart:(0,r.getResizedSourceAnchor)(e,n,i)})}))},i.prototype.revert=function(e){var t=e.shape,e=e.oldBounds;return(0,o.assign)(t,{width:e.width,height:e.height,x:e.x,y:e.y}),t}},{"./helper/AnchorsHelper":533,"min-dash":834}],529:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var f=e("min-dash"),a=e("../../space-tool/SpaceUtil"),m=e("./helper/AnchorsHelper");function i(e){this._modeling=e}function g(e){return(0,f.assign)({},e)}function v(e){switch(e){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function y(e,t,n){var i=v(n);return/e|s/.test(n)?e[i]>t:/n|w/.test(n)&&e[i]<t}function b(e,t){return-1!==e.indexOf(t)}i.$inject=["modeling"],i.prototype.preExecute=function(e){var t=e.delta,n=e.direction,i=e.movingShapes,o=e.resizingShapes,e=e.start,r={};this.moveShapes(i,t),(0,f.forEach)(o,function(e){r[e.id]={x:e.x,y:e.y,height:e.height,width:e.width}}),this.resizeShapes(o,t,n),this.updateConnectionWaypoints((0,a.getWaypointsUpdatingConnections)(i,o),t,n,e,i,o,r)},i.prototype.execute=function(){},i.prototype.revert=function(){},i.prototype.moveShapes=function(e,t){var n=this;(0,f.forEach)(e,function(e){n._modeling.moveShape(e,t,null,{autoResize:!1,layout:!1,recurse:!1})})},i.prototype.resizeShapes=function(e,n,i){var o=this;(0,f.forEach)(e,function(e){var t=(0,a.resizeBounds)(e,i,n);o._modeling.resizeShape(e,t,null,{attachSupport:!1,autoResize:!1,layout:!1})})},i.prototype.updateConnectionWaypoints=function(e,a,s,l,c,u,d){var p=this,h=c.concat(u);(0,f.forEach)(e,function(e){var t=e.source,n=e.target,i=(0,f.map)(e.waypoints,function(e){return(e=g(e)).original&&(e.original=g(e.original)),e}),o=v(s),r={labelBehavior:!1};b(h,t)&&b(h,n)?(i=(0,f.map)(i,function(e){return y(e,l,s)&&(e[o]=e[o]+a[o]),e.original&&y(e.original,l,s)&&(e.original[o]=e.original[o]+a[o]),e}),p._modeling.updateWaypoints(e,i,{labelBehavior:!1})):(b(h,t)||b(h,n))&&(b(c,t)?r.connectionStart=(0,m.getMovedSourceAnchor)(e,t,a):b(c,n)?r.connectionEnd=(0,m.getMovedTargetAnchor)(e,n,a):b(u,t)?r.connectionStart=(0,m.getResizedSourceAnchor)(e,t,d[t.id]):b(u,n)&&(r.connectionEnd=(0,m.getResizedTargetAnchor)(e,n,d[n.id])),p._modeling.layoutConnection(e,r))})}},{"../../space-tool/SpaceUtil":576,"./helper/AnchorsHelper":533,"min-dash":834}],530:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash");function i(e){this._modeling=e}i.$inject=["modeling"],i.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=function t(e){var n={};(0,o.forEach)(e,function(e){n[e.id]=e.hidden,e.children&&(n=(0,o.assign)({},n,t(e.children)))});return n}(n),t.collapsed=!t.collapsed;n=function t(e,n){var i=[];(0,o.forEach)(e,function(e){e.hidden=n,i=i.concat(e),e.children&&(i=i.concat(t(e.children,e.collapsed||n)))});return i}(n,t.collapsed);return[t].concat(n)},i.prototype.revert=function(e){var t=e.shape,e=e.oldChildrenVisibility,e=function t(e,n){var i=[];(0,o.forEach)(e,function(e){e.hidden=n[e.id],i=i.concat(e),e.children&&(i=i.concat(t(e.children,n)))});return i}(t.children,e);return t.collapsed=!t.collapsed,[t].concat(e)}},{"min-dash":834}],531:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("../../../util/Collections");function i(e){this._modeling=e}function r(e,t){return(0,o.remove)(e&&e.attachers,t)}function a(e,t,n){var i;e&&((i=e.attachers)||(e.attachers=i=[]),(0,o.add)(i,t,n))}i.$inject=["modeling"],i.prototype.execute=function(e){var t=e.shape,n=e.newHost,i=t.host;return e.oldHost=i,e.attacherIdx=r(i,t),a(n,t),t.host=n,t},i.prototype.revert=function(e){var t=e.shape,n=e.newHost,i=e.oldHost,e=e.attacherIdx;return t.host=i,r(n,t),a(i,t,e),t}},{"../../../util/Collections":602}],532:[function(e,t,n){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},i.prototype.revert=function(e){var t=e.connection,e=e.oldWaypoints;return t.waypoints=e,t}},{}],533:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getResizedSourceAnchor=function(e,t,n){var i=s(e),e=l(i,t),i=i[0];if(e.length)return e[e.length-1];return(0,o.getNewAttachPoint)(i.original||i,n,t)},n.getResizedTargetAnchor=function(e,t,n){var i=s(e),e=l(i,t),i=i[i.length-1];if(e.length)return e[0];return(0,o.getNewAttachPoint)(i.original||i,n,t)},n.getMovedSourceAnchor=function(e,t,n){e=s(e),n=a(t,n),e=e[0];return(0,o.getNewAttachPoint)(e.original||e,n,t)},n.getMovedTargetAnchor=function(e,t,n){e=s(e),n=a(t,n),e=e[e.length-1];return(0,o.getNewAttachPoint)(e.original||e,n,t)};var o=e("../../../../util/AttachUtil"),i=e("../../../../layout/LayoutUtil"),r=e("min-dash");function a(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function s(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function l(e,t){e=(0,r.map)(e,c);return(0,r.filter)(e,function(e){return"intersect"===(0,i.getOrientation)(t,e,1)})}function c(e){return e.original||e}},{"../../../../layout/LayoutUtil":589,"../../../../util/AttachUtil":600,"min-dash":834}],534:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("min-dash"),o=e("../../../../util/Elements");function r(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}r.prototype.add=function(e,t){return this.addAll([e],t)},r.prototype.addAll=function(e,t){t=(0,o.getClosure)(e,!!t,this);return(0,i.assign)(this,t),this}},{"../../../../util/Elements":604,"min-dash":834}],535:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i,d=e("min-dash"),p=e("./AnchorsHelper"),o=(i=e("./MoveClosure"))&&i.__esModule?i:{default:i};function r(e){this._modeling=e}r.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},r.prototype.moveClosure=function(e,i,o,t,n){var r=this._modeling,a=e.allShapes,s=e.allConnections,l=e.enclosedConnections,c=e.topLevel,u=!1;n&&n.parent===o&&(u=!0),(0,d.forEach)(a,function(e){r.moveShape(e,i,c[e.id]&&!u&&o,{recurse:!1,layout:!1})}),(0,d.forEach)(s,function(e){var t=!!a[e.source.id],n=!!a[e.target.id];l[e.id]&&t&&n?r.moveConnection(e,i,c[e.id]&&!u&&o):r.layoutConnection(e,{connectionStart:t&&(0,p.getMovedSourceAnchor)(e,e.source,i),connectionEnd:n&&(0,p.getMovedTargetAnchor)(e,e.target,i)})})},r.prototype.getClosure=function(e){return(new o.default).addAll(e,!0)}},{"./AnchorsHelper":533,"./MoveClosure":534,"min-dash":834}],536:[function(e,t,n){"use strict";function i(e){var t=this;function n(e){t._lastMoveEvent=e}this._lastMoveEvent=null,e.on("canvas.init",function(e){(t._svg=e.svg).addEventListener("mousemove",n)}),e.on("canvas.destroy",function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)})}function o(e,t){var n=document.createEvent("MouseEvent");return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,e,t,e,t,!1,!1,!1,!1,0,null),n}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,n.createMoveEvent=o,i.$inject=["eventBus"],i.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||o(0,0)}},{}],537:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["mouse"],mouse:["type",((i=e("./Mouse"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Mouse":536}],538:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var c=e("min-dash"),i=e("../../util/Event"),u=e("../../util/Mouse"),d=500,p=1250,h=1500,f=Math.round;function o(e,r,a,s,o){function l(e,t,n,i){return o.allowed("elements.move",{shapes:e,delta:t,position:n,target:i})}function n(e,t,n,i){if((0,c.isObject)(n)&&(i=n,n=!1),!t.waypoints&&t.parent){var o,o={x:(o=t).x+f(o.width/2),y:o.y+f(o.height/2)};return r.init(e,o,"shape.move",{cursor:"grabbing",autoActivate:n,data:{shape:t,context:i||{}}}),!0}}e.on("shape.move.start",h,function(e){var t,n=e.context,i=e.shape,o=s.get().slice();-1===o.indexOf(i)&&(o=[i]),e=o,t=(0,c.groupBy)(e,"id"),o=(0,c.filter)(e,function(e){for(;e=e.parent;)if(t[e.id])return!1;return!0}),(0,c.assign)(n,{shapes:o,validatedShapes:o,shape:i})}),e.on("shape.move.start",p,function(e){var t=e.context,e=t.validatedShapes;if(!(t.canExecute=l(e)))return!1}),e.on("shape.move.move",d,function(e){var t=e.context,n=t.validatedShapes,i=e.hover,o={x:e.dx,y:e.dy},e=l(n,o,{x:e.x,y:e.y},i);t.delta=o,null!==(t.canExecute=e)?t.target=i:t.target=null}),e.on("shape.move.end",function(e){var t=e.context,n=t.delta,i=t.canExecute,o="attach"===i,e=t.shapes;if(!1===i)return!1;n.x=f(n.x),n.y=f(n.y),0===n.x&&0===n.y||a.moveElements(e,n,t.target,{primaryShape:t.shape,attach:o})}),e.on("element.mousedown",function(e){if((0,u.isPrimaryButton)(e)){var t=(0,i.getOriginal)(e);if(!t)throw new Error("must supply DOM mousedown event");return n(t,e.element)}}),this.start=n}o.$inject=["eventBus","dragging","modeling","selection","rules"]},{"../../util/Event":606,"../../util/Mouse":612,"min-dash":834}],539:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var p=e("min-dash"),i=e("../../util/Elements"),h=e("tiny-svg"),f=e("../../util/SvgTransformUtil"),o=499,m="djs-dragging",g="drop-ok",v="drop-not-ok",y="new-parent",b="attach-ok";function r(e,a,s,l){function c(e){var t,e=u(e);return t=e,(0,p.filter)(t,function(e){return!e.waypoints||(0,p.find)(t,(0,p.matchPattern)({id:e.source.id}))&&(0,p.find)(t,(0,p.matchPattern)({id:e.target.id}))})}function u(e){var t=(0,i.selfAndAllChildren)(e,!0),e=(0,p.map)(t,function(e){return(e.incoming||[]).concat(e.outgoing||[])});return(0,p.flatten)(t.concat(e))}function d(t,n){[b,g,v,y].forEach(function(e){e===n?a.addMarker(t,e):a.removeMarker(t,e)})}e.on("shape.move.start",o,function(e){var t,n=e.context,i=n.shapes,o=n.allDraggedElements,r=c(i);n.dragGroup||(t=(0,h.create)("g"),(0,h.attr)(t,s.cls("djs-drag-group",["no-events"])),e=a.getDefaultLayer(),(0,h.append)(e,t),n.dragGroup=t),r.forEach(function(e){l.addDragger(e,n.dragGroup)}),o=o?(0,p.flatten)([o,u(i)]):u(i),(0,p.forEach)(o,function(e){a.addMarker(e,m)}),n.allDraggedElements=o,n.differentParents=1!==(0,p.size)((0,p.groupBy)(i,function(e){return e.parent&&e.parent.id}))}),e.on("shape.move.move",o,function(e){var t=e.context,n=t.dragGroup,i=t.target,o=t.shape.parent,r=t.canExecute;i&&("attach"===r?d(i,b):t.canExecute&&i&&i.id!==o.id?d(i,y):d(i,t.canExecute?g:v)),(0,f.translate)(n,e.dx,e.dy)}),e.on(["shape.move.out","shape.move.cleanup"],function(e){e=e.context.target;e&&d(e,null)}),e.on("shape.move.cleanup",function(e){var t=e.context,e=t.allDraggedElements,t=t.dragGroup;(0,p.forEach)(e,function(e){a.removeMarker(e,m)}),t&&(0,h.remove)(t)}),this.makeDraggable=function(e,t,n){l.addDragger(t,e.dragGroup),n&&a.addMarker(t,m),e.allDraggedElements?e.allDraggedElements.push(t):e.allDraggedElements=[t]}}r.$inject=["eventBus","canvas","styles","previewSupport"]},{"../../util/Elements":604,"../../util/SvgTransformUtil":617,"min-dash":834,"tiny-svg":851}],540:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=u(e("../interaction-events")),o=u(e("../selection")),r=u(e("../outline")),a=u(e("../rules")),s=u(e("../dragging")),l=u(e("../preview-support")),c=u(e("./Move")),e=u(e("./MovePreview"));function u(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default,a.default,s.default,l.default],__init__:["move","movePreview"],move:["type",c.default],movePreview:["type",e.default]};n.default=e},{"../dragging":484,"../interaction-events":500,"../outline":543,"../preview-support":551,"../rules":561,"../selection":567,"./Move":538,"./MovePreview":539}],541:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=i(e("inherits")),o=i(e("../../command/CommandInterceptor"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){o.default.call(this,e);var i=this;this.preExecute(["shape.create","connection.create"],function(e){var t=e.context,n=t.shape||t.connection,e=t.parent,e=i.getOrdering(n,e);e&&(void 0!==e.parent&&(t.parent=e.parent),t.parentIndex=e.index)}),this.preExecute(["shape.move","connection.move"],function(e){var t=e.context,n=t.shape||t.connection,e=t.newParent||n.parent,e=i.getOrdering(n,e);e&&(void 0!==e.parent&&(t.newParent=e.parent),t.newParentIndex=e.index)})}r.prototype.getOrdering=function(e,t){return null},(0,n.default)(r,o.default)},{"../../command/CommandInterceptor":433,inherits:623}],542:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("../../util/Elements"),a=e("tiny-svg"),s=e("min-dom"),l=e("min-dash"),c=500;function o(e,t,n){this.offset=6;var i=t.cls("djs-outline",["no-fill"]),o=this;function r(e){var t=(0,a.create)("rect");return(0,a.attr)(t,(0,l.assign)({x:10,y:10,width:100,height:100},i)),(0,a.append)(e,t),t}e.on(["shape.added","shape.changed"],c,function(e){var t=e.element,n=e.gfx,e=(e=(0,s.query)(".djs-outline",n))||r(n);o.updateShapeOutline(e,t)}),e.on(["connection.added","connection.changed"],function(e){var t=e.element,n=e.gfx,e=(e=(0,s.query)(".djs-outline",n))||r(n);o.updateConnectionOutline(e,t)})}o.prototype.updateShapeOutline=function(e,t){(0,a.attr)(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},o.prototype.updateConnectionOutline=function(e,t){t=(0,i.getBBox)(t);(0,a.attr)(e,{x:t.x-this.offset,y:t.y-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},o.$inject=["eventBus","styles","elementRegistry"]},{"../../util/Elements":604,"min-dash":834,"min-dom":835,"tiny-svg":851}],543:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["outline"],outline:["type",((i=e("./Outline"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Outline":542}],544:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i,s=e("min-dash"),a=e("min-dom"),l=e("../../util/Elements");var o=new((i=e("../../util/IdGenerator"))&&i.__esModule?i:{default:i}).default("ov");function r(e,t,n,i){this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=o,this._overlayDefaults=(0,s.assign)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(e=n.getContainer(),n=(0,a.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),e.insertBefore(n,e.firstChild),n),this._init()}function c(e,t,n){(0,s.assign)(e.style,{left:t+"px",top:n+"px"})}function u(e,t){e.style.display=!1===t?"none":""}function d(t,n){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){t.style[e+"transform"]=n})}r.$inject=["config.overlays","eventBus","canvas","elementRegistry"],r.prototype.get=function(e){if((0,s.isString)(e)&&(e={id:e}),(0,s.isString)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?(0,s.filter)(t.overlays,(0,s.matchPattern)({type:e.type})):t.overlays.slice():[]}return e.type?(0,s.filter)(this._overlays,(0,s.matchPattern)({type:e.type})):e.id?this._overlays[e.id]:null},r.prototype.add=function(e,t,n){if((0,s.isObject)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=(0,s.assign)({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},r.prototype.remove=function(e){e=this.get(e)||[];(0,s.isArray)(e)||(e=[e]);var n=this;(0,s.forEach)(e,function(e){var t=n._getOverlayContainer(e.element,!0);e&&((0,a.remove)(e.html),(0,a.remove)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),!t||-1!==(e=t.overlays.indexOf(e))&&t.overlays.splice(e,1)})},r.prototype.show=function(){u(this._overlayRoot)},r.prototype.hide=function(){u(this._overlayRoot,!1)},r.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,a.clear)(this._overlayRoot)},r.prototype._updateOverlayContainer=function(e){var t,n=e.element,i=e.html,o=n.x,r=n.y;n.waypoints&&(o=(t=(0,l.getBBox)(n)).x,r=t.y),c(i,o,r),(0,a.attr)(e.html,"data-container-id",n.id)},r.prototype._updateOverlay=function(e){var t=e.position,n=e.htmlContainer,i=e.element,o=t.left,r=t.top;void 0!==t.right&&(e=(i.waypoints?(0,l.getBBox)(i):i).width,o=-1*t.right+e),void 0!==t.bottom&&(i=(i.waypoints?(0,l.getBBox)(i):i).height,r=-1*t.bottom+i),c(n,o||0,r||0)},r.prototype._createOverlayContainer=function(e){var t=(0,a.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);e={html:t,element:e,overlays:[]};return this._updateOverlayContainer(e),this._overlayContainers.push(e),e},r.prototype._updateRoot=function(e){var t=e.scale||1,t="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";d(this._overlayRoot,t)},r.prototype._getOverlayContainer=function(t,e){var n=(0,s.find)(this._overlayContainers,function(e){return e.element===t});return n||e?n:this._createOverlayContainer(t)},r.prototype._addOverlay=function(e){var t,n=e.id,i=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),(0,s.isString)(o)&&(o=(0,a.domify)(o)),t=this._getOverlayContainer(i),(i=(0,a.domify)('<div class="djs-overlay" data-overlay-id="'+n+'" style="position: absolute">')).appendChild(o),e.type&&(0,a.classes)(i).add("djs-overlay-"+e.type),e.htmlContainer=i,t.overlays.push(e),t.html.appendChild(i),this._overlays[n]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},r.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=n&&n.minZoom,o=n&&n.maxZoom,r=e.htmlContainer,a=!0;n&&u(r,a=(0,s.isDefined)(i)&&i>t.scale||(0,s.isDefined)(o)&&o<t.scale?!1:a),this._updateOverlayScale(e,t)},r.prototype._updateOverlayScale=function(e,t){var n,i,o=e.scale,r=e.htmlContainer,e="";!0!==o&&(o=!1===o?n=1:(n=o.min,o.max),(0,s.isDefined)(n)&&t.scale<n&&(i=(1/t.scale||1)*n),(0,s.isDefined)(o)&&t.scale>o&&(i=(1/t.scale||1)*o)),d(r,e=(0,s.isDefined)(i)?"scale("+i+","+i+")":e)},r.prototype._updateOverlaysVisibilty=function(t){var n=this;(0,s.forEach)(this._overlays,function(e){n._updateOverlayVisibilty(e,t)})},r.prototype._init=function(){var e=this._eventBus,n=this;e.on("canvas.viewbox.changing",function(e){n.hide()}),e.on("canvas.viewbox.changed",function(e){e=e.viewbox,n._updateRoot(e),n._updateOverlaysVisibilty(e),n.show()}),e.on(["shape.remove","connection.remove"],function(e){var t=e.element,e=n.get({element:t});(0,s.forEach)(e,function(e){n.remove(e.id)});t=n._getOverlayContainer(t);t&&((0,a.remove)(t.html),-1!==(t=n._overlayContainers.indexOf(t))&&n._overlayContainers.splice(t,1))}),e.on("element.changed",500,function(e){e=e.element,e=n._getOverlayContainer(e,!0);e&&((0,s.forEach)(e.overlays,function(e){n._updateOverlay(e)}),n._updateOverlayContainer(e))}),e.on("element.marker.update",function(e){var t=n._getOverlayContainer(e.element,!0);t&&(0,a.classes)(t.html)[e.add?"add":"remove"](e.marker)}),e.on("diagram.clear",this.clear,this)}},{"../../util/Elements":604,"../../util/IdGenerator":609,"min-dash":834,"min-dom":835}],545:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["overlays"],overlays:["type",((i=e("./Overlays"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Overlays":544}],546:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var a=e("min-dash"),s=e("min-dom"),o=".djs-palette-toggle";function r(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",function(e){e=e.tool;n.updateToolHighlight(e)}),e.on("i18n.changed",function(){n._update()}),e.on("diagram.init",function(){n._diagramInitialized=!0,n._rebuild()})}function i(n,e){e=e.getPaletteEntries();return(0,a.isFunction)(e)?e(n):((0,a.forEach)(e,function(e,t){n[t]=e}),n)}r.$inject=["eventBus","canvas"],r.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("palette.getProviders",e,function(e){e.providers.push(t)}),this._rebuild()},r.prototype.getEntries=function(){return this._getProviders().reduce(i,{})},r.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},r.prototype._init=function(){var n=this,e=this._eventBus,t=this._getParentContainer(),i=this._container=(0,s.domify)(r.HTML_MARKUP);t.appendChild(i),s.delegate.bind(i,".djs-palette-toggle, .entry","click",function(e){var t=e.delegateTarget;if((0,s.matches)(t,o))return n.toggle();n.trigger("click",e)}),s.event.bind(i,"mousedown",function(e){e.stopPropagation()}),s.delegate.bind(i,".entry","dragstart",function(e){n.trigger("dragstart",e)}),e.on("canvas.resized",this._layoutChanged,this),e.fire("palette.create",{container:i})},r.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},r.prototype._toggleState=function(e){e=e||{};var t=this._getParentContainer(),n=this._container,i=this._eventBus,n=(0,s.classes)(n),t="twoColumn"in e?e.twoColumn:this._needsCollapse(t.clientHeight,this._entries||{});n.toggle("two-column",t),"open"in e&&n.toggle("open",e.open),i.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},r.prototype._update=function(){var r=(0,s.query)(".djs-palette-entries",this._container),e=this._entries=this.getEntries();(0,s.clear)(r),(0,a.forEach)(e,function(e,t){var n=e.group||"default",i=(0,s.query)("[data-group="+n+"]",r);i||(i=(0,s.domify)('<div class="group" data-group="'+n+'"></div>'),r.appendChild(i));var o,n=e.html||(e.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),n=(0,s.domify)(n);i.appendChild(n),e.separator||((0,s.attr)(n,"data-action",t),e.title&&(0,s.attr)(n,"title",e.title),e.className&&(t=e.className,o=(0,s.classes)(n),((0,a.isArray)(t)?t:t.split(/\s+/g)).forEach(function(e){o.add(e)})),e.imageUrl&&n.appendChild((0,s.domify)('<img src="'+e.imageUrl+'">')))}),this.open()},r.prototype.trigger=function(e,t,n){var i=this._entries,o=t.delegateTarget||t.target;if(!o)return t.preventDefault();(i=i[(0,s.attr)(o,"data-action")])&&(o=i.action,i=t.originalEvent||t,(0,a.isFunction)(o)?"click"===e&&o(i,n):o[e]&&o[e](i,n),t.preventDefault())},r.prototype._layoutChanged=function(){this._toggleState({})},r.prototype._needsCollapse=function(e,t){return e<50+46*Object.keys(t).length},r.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},r.prototype.open=function(){this._toggleState({open:!0})},r.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},r.prototype.isActiveTool=function(e){return e&&this._activeTool===e},r.prototype.updateToolHighlight=function(n){var e;this._toolsContainer||(e=(0,s.query)(".djs-palette-entries",this._container),this._toolsContainer=(0,s.query)("[data-group=tools]",e)),e=this._toolsContainer,(0,a.forEach)(e.children,function(e){var t=e.getAttribute("data-action");t&&(e=(0,s.classes)(e),t=t.replace("-tool",""),e.contains("entry")&&t===n?e.add("highlighted-entry"):e.remove("highlighted-entry"))})},r.prototype.isOpen=function(){return(0,s.classes)(this._container).has("open")},r.prototype._getParentContainer=function(){return this._canvas.getContainer()},r.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>'},{"min-dash":834,"min-dom":835}],547:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["palette"],palette:["type",((i=e("./Palette"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Palette":546}],548:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var d=e("min-dash"),o=e("min-dom"),i=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function r(e,t,n){e=(0,d.isDefined)(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:e},this._eventBus=t,this._canvas=n,this._providers={},this._current={}}r.$inject=["config.popupMenu","eventBus","canvas"],r.prototype.registerProvider=function(e,t,n){n||(n=t,t=1e3),this._eventBus.on("popupMenu.getProviders."+e,t,function(e){e.providers.push(n)})},r.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._getProviders(t);if(!n)return!0;t=this._getEntries(e,n),n=this._getHeaderEntries(e,n),t=0<(0,d.size)(t),n=n&&0<(0,d.size)(n);return!t&&!n},r.prototype.open=function(e,t,n){var i=this._getProviders(t);if(!e)throw new Error("Element is missing");if(!i||!i.length)throw new Error("No registered providers for: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var o=this._current={className:t,element:e,position:n},t=this._getEntries(e,i),i=this._getHeaderEntries(e,i);o.entries=(0,d.assign)({},t,i),o.container=this._createContainer(),(0,d.size)(i)&&o.container.appendChild(this._createEntries(i,"djs-popup-header")),(0,d.size)(t)&&o.container.appendChild(this._createEntries(t,"djs-popup-body"));t=this._canvas.getContainer();this._attachContainer(o.container,t,n.cursor),this._bindAutoClose()},r.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),(0,o.remove)(this._current.container),this._current.container=null)},r.prototype.isOpen=function(){return!!this._current.container},r.prototype.trigger=function(e){e.preventDefault();var t=e.delegateTarget||e.target,t=(0,o.attr)(t,"data-id"),t=this._getEntry(t);if(t.action)return t.action.call(null,e,t)},r.prototype._getProviders=function(e){e=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(e),e.providers},r.prototype._getEntries=function(n,e){var i={};return(0,d.forEach)(e,function(e){var t;e.getPopupMenuEntries?(t=e.getPopupMenuEntries(n),(0,d.isFunction)(t)?i=t(i):(0,d.forEach)(t,function(e,t){i[t]=e})):(0,d.forEach)(e.getEntries(n),function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");i[t]=(0,d.omit)(e,["id"])})}),i},r.prototype._getHeaderEntries=function(t,e){var n={};return(0,d.forEach)(e,function(e){if(!e.getPopupMenuHeaderEntries)return e.getHeaderEntries?void(0,d.forEach)(e.getHeaderEntries(t),function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=(0,d.omit)(e,["id"])}):void 0;e=e.getPopupMenuHeaderEntries(t);(0,d.isFunction)(e)?n=e(n):(0,d.forEach)(e,function(e,t){n[t]=e})}),n},r.prototype._getEntry=function(e){e=this._current.entries[e];if(!e)throw new Error("entry not found");return e},r.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},r.prototype._createContainer=function(){var e=(0,o.domify)('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return(0,d.assign)(e.style,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),(0,o.classes)(e).add(n),e},r.prototype._attachContainer=function(e,t,n){var i=this;o.delegate.bind(e,".entry","click",function(e){i.trigger(e)}),this._updateScale(e),t.appendChild(e),n&&this._assureIsInbounds(e,n)},r.prototype._updateScale=function(e){var t,n,i,o=this._canvas.zoom(),r=this._config.scale,a=o;!0!==r&&(r=!1===r?t=1:(t=r.min,r.max),(0,d.isDefined)(t)&&o<t&&(a=t),(0,d.isDefined)(r)&&r<o&&(a=r)),i="scale("+a+")",(n=e).style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){n.style[e+"transform"]=i})},r.prototype._assureIsInbounds=function(e,t){var n,i,o=this._canvas._container.getBoundingClientRect(),r=e.offsetLeft,a=e.offsetTop,s=e.scrollWidth,l=e.scrollHeight,c={},u=t.x-o.left,t=t.y-o.top;r+s>o.width&&(c.x=!0),a+l>o.height&&(c.y=!0),c.x&&c.y?(n=u-s+"px",i=t-l+"px"):c.x?(n=u-s+"px",i=t+"px"):c.y&&t<l?(n=u+"px",i="10px"):c.y&&(n=u+"px",i=t-l+"px"),(0,d.assign)(e.style,{left:n,top:i},{visibility:"visible","z-index":1e3})},r.prototype._createEntries=function(e,t){var n=(0,o.domify)("<div>"),i=this;return(0,o.classes)(n).add(t),(0,d.forEach)(e,function(e,t){t=i._createEntry(e,t);n.appendChild(t)}),n},r.prototype._createEntry=function(e,t){var n=(0,o.domify)("<div>"),i=(0,o.classes)(n);return i.add("entry"),e.className&&e.className.split(" ").forEach(function(e){i.add(e)}),(0,o.attr)(n,"data-id",t),e.label&&((t=(0,o.domify)("<span>")).textContent=e.label,n.appendChild(t)),e.imageUrl&&n.appendChild((0,o.domify)('<img src="'+e.imageUrl+'" />')),!0===e.active&&i.add("active"),!0===e.disabled&&i.add("disabled"),e.title&&(n.title=e.title),n},r.prototype._bindAutoClose=function(){this._eventBus.once(i,this.close,this)},r.prototype._unbindAutoClose=function(){this._eventBus.off(i,this.close,this)}},{"min-dash":834,"min-dom":835}],549:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{"./PopupMenu":548,dup:21}],550:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=e("min-dash"),a=e("tiny-svg"),s=e("min-dom"),i=e("../../util/GraphicsUtil"),o=["marker-start","marker-mid","marker-end"],l=["circle","ellipse","line","path","polygon","polyline","rect"];function c(e,t,n,i){this._elementRegistry=e,this._canvas=n,this._styles=i,this._clonedMarkers={};var o=this;t.on("drag.cleanup",function(){(0,r.forEach)(o._clonedMarkers,function(e){(0,a.remove)(e)}),o._clonedMarkers={}})}c.$inject=["elementRegistry","eventBus","canvas","styles"],c.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},c.prototype.addDragger=function(e,t,n){n=n||this.getGfx(e);e=(0,a.clone)(n),n=n.getBoundingClientRect();return this._cloneMarkers((0,i.getVisual)(e)),(0,a.attr)(e,this._styles.cls("djs-dragger",[],{x:n.top,y:n.left})),(0,a.append)(t,e),e},c.prototype.addFrame=function(e,t){e=(0,a.create)("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return(0,a.append)(t,e),e},c.prototype._cloneMarkers=function(n){var i=this;if(n.childNodes)for(var e=0;e<n.childNodes.length;e++)i._cloneMarkers(n.childNodes[e]);-1!==l.indexOf(n.nodeName)&&o.forEach(function(e){var t;(0,a.attr)(n,e)&&(t=function(e,t,n){t=(0,a.attr)(e,t).match(/url\(['"]?#([^'"]*)['"]?\)/)[1];return(0,s.query)("marker#"+t,n||document)}(n,e,i._canvas.getContainer()),i._cloneMarker(n,t,e))})},c.prototype._cloneMarker=function(e,t,n){var i=t.id,o=this._clonedMarkers[i];o||((o=(0,a.clone)(t)).id=i+"-clone",(0,a.classes)(o).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[i]=o,(t=(0,s.query)("defs",this._canvas._svg))||(t=(0,a.create)("defs"),(0,a.append)(this._canvas._svg,t)),(0,a.append)(t,o));i="url(#"+this._clonedMarkers[i].id+")";(0,a.attr)(e,n,i)}},{"../../util/GraphicsUtil":608,"min-dash":834,"min-dom":835,"tiny-svg":851}],551:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["previewSupport"],previewSupport:["type",((i=e("./PreviewSupport"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./PreviewSupport":550}],552:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var l=e("min-dash"),c=Math.round;function i(e){this._modeling=e}i.$inject=["modeling"],i.prototype.replaceElement=function(e,t,n){if(e.waypoints)return null;var i=this._modeling,o=t.width||e.width,r=t.height||e.height,a=t.x||e.x,s=t.y||e.y,a=c(a+o/2),s=c(s+r/2);return i.replaceShape(e,(0,l.assign)({},t,{x:a,y:s,width:o,height:r}),n)}},{"min-dash":834}],553:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["replace"],replace:["type",((i=e("./Replace"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Replace":552}],554:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,n.getReferencePoint=l;var r=e("min-dash"),a=e("./ResizeUtil"),s=e("../../layout/LayoutUtil");function i(e,t,o,n){this._dragging=n,this._rules=t;var r=this;e.on("resize.start",function(e){var t,n;t=e.context,n=t.resizeConstraints,e=t.minBounds,void 0===n&&(void 0===e&&(e=r.computeMinResizeBox(t)),t.resizeConstraints={min:(0,s.asTRBL)(e)})}),e.on("resize.move",function(e){var t,n,i,o={x:e.dx,y:e.dy};t=e.context,n=o,i=t.shape,e=t.direction,o=t.resizeConstraints,t.delta=n,n=(0,a.resizeBounds)(i,e,n),t.newBounds=(0,a.ensureConstraints)(n,o),t.canExecute=r.canResize(t)}),e.on("resize.end",function(e){var t,n,i;t=e.context,n=t.shape,i=t.canExecute,e=t.newBounds,i&&(e=(0,s.roundBounds)(e),t=e,(i=n).x===t.x&&i.y===t.y&&i.width===t.width&&i.height===t.height||o.resizeShape(n,e))})}function l(e,t){var n=(0,s.getMid)(e),e=(0,s.asTRBL)(e),n={x:n.x,y:n.y};return-1!==t.indexOf("n")?n.y=e.top:-1!==t.indexOf("s")&&(n.y=e.bottom),-1!==t.indexOf("e")?n.x=e.right:-1!==t.indexOf("w")&&(n.x=e.left),n}i.prototype.canResize=function(e){var t=this._rules,e=(0,r.pick)(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",e)},i.prototype.activate=function(e,t,n){var i,o=this._dragging;if(!(n=(i=(0,r.assign)({shape:t},n="string"==typeof n?{direction:n}:n)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");o.init(e,l(t,n),"resize",{autoActivate:!0,cursor:(e="resize-","n"===(n=n)||"s"===n?e+"ns":"e"===n||"w"===n?e+"ew":"nw"===n||"se"===n?e+"nwse":e+"nesw"),data:{shape:t,context:i}})},i.prototype.computeMinResizeBox=function(e){var t=e.shape,n=e.direction,i=e.minDimensions||{width:10,height:10},e=(0,a.computeChildrenBBox)(t,e.childrenBoxPadding);return(0,a.getMinResizeBounds)(n,t,i,e)},i.$inject=["eventBus","rules","modeling","dragging"]},{"../../layout/LayoutUtil":589,"./ResizeUtil":557,"min-dash":834}],555:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=e("min-dash"),s=e("tiny-svg"),a=e("min-dom"),l=e("../../util/Mouse"),c=e("../../util/SvgTransformUtil"),i=e("./Resize"),u="djs-resizer",o=["n","w","s","e","nw","ne","se","sw"];function d(e,t,n,i){this._resize=i,this._canvas=t;var o=this;e.on("selection.changed",function(e){e=e.newSelection;o.removeResizers(),1===e.length&&(0,r.forEach)(e,(0,r.bind)(o.addResizer,o))}),e.on("shape.changed",function(e){e=e.element;n.isSelected(e)&&(o.removeResizers(),o.addResizer(e))})}d.prototype.makeDraggable=function(t,e,n){var i=this._resize;function o(e){(0,l.isPrimaryButton)(e)&&i.activate(e,t,n)}a.event.bind(e,"mousedown",o),a.event.bind(e,"touchstart",o)},d.prototype._createResizer=function(e,t,n,i){var o=this._getResizersParent(),r=function(e){var t={x:0,y:0};-1!==e.indexOf("e")?t.x=6:-1!==e.indexOf("w")&&(t.x=-6);-1!==e.indexOf("s")?t.y=6:-1!==e.indexOf("n")&&(t.y=-6);return t}(i),a=(0,s.create)("g");(0,s.classes)(a).add(u),(0,s.classes)(a).add(u+"-"+e.id),(0,s.classes)(a).add(u+"-"+i),(0,s.append)(o,a);o=(0,s.create)("rect");(0,s.attr)(o,{x:-2+r.x,y:-2+r.y,width:4,height:4}),(0,s.classes)(o).add(u+"-visual"),(0,s.append)(a,o);o=(0,s.create)("rect");return(0,s.attr)(o,{x:-10+r.x,y:-10+r.y,width:20,height:20}),(0,s.classes)(o).add(u+"-hit"),(0,s.append)(a,o),(0,c.transform)(a,t,n),a},d.prototype.createResizer=function(e,t){var n=(0,i.getReferencePoint)(e,t),n=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,n,t)},d.prototype.addResizer=function(t){var n=this;this._resize.canResize({shape:t})&&(0,r.forEach)(o,function(e){n.createResizer(t,e)})},d.prototype.removeResizers=function(){var e=this._getResizersParent();(0,s.clear)(e)},d.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},d.$inject=["eventBus","canvas","selection","resize"]},{"../../util/Mouse":612,"../../util/SvgTransformUtil":617,"./Resize":554,"min-dash":834,"min-dom":835,"tiny-svg":851}],556:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var a=e("tiny-svg"),s="djs-resizing",l="resize-not-ok",i=500;function o(e,o,r){e.on("resize.move",i,function(e){var t,n,i;t=e.context,n=t.shape,i=t.newBounds,(e=t.frame)||(e=t.frame=r.addFrame(n,o.getDefaultLayer()),o.addMarker(n,s)),5<i.width&&(0,a.attr)(e,{x:i.x,width:i.width}),5<i.height&&(0,a.attr)(e,{y:i.y,height:i.height}),t.canExecute?(0,a.classes)(e).remove(l):(0,a.classes)(e).add(l)}),e.on("resize.cleanup",function(e){var t;t=e.context,e=t.shape,t.frame&&(0,a.remove)(t.frame),o.removeMarker(e,s)})}o.$inject=["eventBus","canvas","previewSupport"]},{"tiny-svg":851}],557:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.substractTRBL=function(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}},n.resizeBounds=function(e,t,n){var i=n.x,o=n.y,n={x:e.x,y:e.y,width:e.width,height:e.height};-1!==t.indexOf("n")?(n.y=e.y+o,n.height=e.height-o):-1!==t.indexOf("s")&&(n.height=e.height+o);-1!==t.indexOf("e")?n.width=e.width+i:-1!==t.indexOf("w")&&(n.x=e.x+i,n.width=e.width-i);return n},n.resizeTRBL=function(e,t){return{x:e.x+(t.left||0),y:e.y+(t.top||0),width:e.width-(t.left||0)+(t.right||0),height:e.height-(t.top||0)+(t.bottom||0)}},n.reattachPoint=function(e,t,n){var i=e.width/t.width,o=e.height/t.height;return{x:Math.round(t.x+t.width/2)-Math.floor((e.x+e.width/2-n.x)/i),y:Math.round(t.y+t.height/2)-Math.floor((e.y+e.height/2-n.y)/o)}},n.ensureConstraints=function(e,t){if(!t)return e;e=(0,r.asTRBL)(e);return(0,r.asBounds)({top:c("top",e,t),right:c("right",e,t),bottom:c("bottom",e,t),left:c("left",e,t)})},n.getMinResizeBounds=function(e,t,n,i){t=(0,r.asTRBL)(t),t={top:/n/.test(e)?t.bottom-n.height:t.top,left:/w/.test(e)?t.right-n.width:t.left,bottom:/s/.test(e)?t.top+n.height:t.bottom,right:/e/.test(e)?t.left+n.width:t.right},i=i?(0,r.asTRBL)(i):t,i={top:s(t.top,i.top),left:s(t.left,i.left),bottom:a(t.bottom,i.bottom),right:a(t.right,i.right)};return(0,r.asBounds)(i)},n.addPadding=d,n.computeChildrenBBox=function(e,t){e=void 0===e.length?(0,o.filter)(e.children,p):e;if(e.length)return d((0,i.getBBox)(e),t)};var o=e("min-dash"),i=e("../../util/Elements"),r=e("../../layout/LayoutUtil"),a=Math.max,s=Math.min,l=20;function c(e,t,n){var i=t[e],t=n.min&&n.min[e],n=n.max&&n.max[e];return(0,o.isNumber)(t)&&(i=(/top|left/.test(e)?s:a)(i,t)),i=(0,o.isNumber)(n)?(/top|left/.test(e)?a:s)(i,n):i}function u(e){return void 0!==e?e:l}function d(e,t){var n,i,o,r;return"object"==typeof t?(n=u(t.left),i=u(t.right),o=u(t.top),r=u(t.bottom)):n=i=o=r=u(t),{x:e.x-n,y:e.y-o,width:e.width+n+i,height:e.height+o+r}}function p(e){return!e.waypoints&&"label"!==e.type}},{"../../layout/LayoutUtil":589,"../../util/Elements":604,"min-dash":834}],558:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../rules")),o=l(e("../dragging")),r=l(e("../preview-support")),a=l(e("./Resize")),s=l(e("./ResizePreview")),e=l(e("./ResizeHandles"));function l(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default,r.default],__init__:["resize","resizePreview","resizeHandles"],resize:["type",a.default],resizePreview:["type",s.default],resizeHandles:["type",e.default]};n.default=e},{"../dragging":484,"../preview-support":551,"../rules":561,"./Resize":554,"./ResizeHandles":555,"./ResizePreview":556}],559:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var n=o(e("inherits")),i=o(e("../../command/CommandInterceptor"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){i.default.call(this,e),this.init()}r.$inject=["eventBus"],(0,n.default)(r,i.default),r.prototype.addRule=function(e,t,i){var n=this;(e="string"==typeof e?[e]:e).forEach(function(e){n.canExecute(e,t,function(e,t,n){return i(e)},!0)})},r.prototype.init=function(){}},{"../../command/CommandInterceptor":433,inherits:623}],560:[function(e,t,n){"use strict";function i(e){this._commandStack=e.get("commandStack",!1)}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).$inject=["injector"],i.prototype.allowed=function(e,t){var n=!0,i=this._commandStack;return void 0===(n=i?i.canExecute(e,t):n)||n}},{}],561:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["rules"],rules:["type",((i=e("./Rules"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Rules":560}],562:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var r=e("min-dom"),o=e("../../util/Elements"),a=e("../../util/EscapeUtil");function s(e,t,n,i){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=e,this._eventBus=t,this._overlays=n,this._selection=i,this._container=(0,r.domify)(s.BOX_HTML),this._searchInput=(0,r.query)(s.INPUT_SELECTOR,this._container),this._resultsContainer=(0,r.query)(s.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy"],this.close,this)}function i(e,t,n){var i,t=(i="",t.forEach(function(e){e.matched?i+='<strong class="'+s.RESULT_HIGHLIGHT_CLASS+'">'+(0,a.escapeHTML)(e.matched)+"</strong>":i+=(0,a.escapeHTML)(e.normal)}),""!==i?i:null),n=(0,r.domify)(n);n.innerHTML=t,e.appendChild(n)}s.$inject=["canvas","eventBus","overlays","selection"],s.prototype._bindEvents=function(){var o=this;function e(e,t,n,i){o._eventMaps.push({el:e,type:n,listener:r.delegate.bind(e,t,n,i)})}e(document,"html","click",function(e){o.close()}),e(this._container,s.INPUT_SELECTOR,"click",function(e){e.stopPropagation(),e.delegateTarget.focus()}),e(this._container,s.RESULT_SELECTOR,"mouseover",function(e){e.stopPropagation(),o._scrollToNode(e.delegateTarget),o._preselect(e.delegateTarget)}),e(this._container,s.RESULT_SELECTOR,"click",function(e){e.stopPropagation(),o._select(e.delegateTarget)}),e(this._container,s.INPUT_SELECTOR,"keydown",function(e){38===e.keyCode&&e.preventDefault(),40===e.keyCode&&e.preventDefault()}),e(this._container,s.INPUT_SELECTOR,"keyup",function(e){if(27===e.keyCode)return o.close();if(13!==e.keyCode)return 38===e.keyCode?o._scrollToDirection(!0):40===e.keyCode?o._scrollToDirection():void(37!==e.keyCode&&39!==e.keyCode&&o._search(e.delegateTarget.value));e=o._getCurrentResult();return e?o._select(e):o.close()})},s.prototype._unbindEvents=function(){this._eventMaps.forEach(function(e){r.delegate.unbind(e.el,e.type,e.listener)})},s.prototype._search=function(e){var i=this;this._clearResults(),!e||""===e||(e=this._searchProvider.find(e)).length&&(e.forEach(function(e){var t=e.element.id,n=i._createResultNode(e,t);i._results[t]={element:e.element,node:n}}),e=(0,r.query)(s.RESULT_SELECTOR,this._resultsContainer),this._scrollToNode(e),this._preselect(e))},s.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();!t||(t=e?t.previousElementSibling:t.nextElementSibling)&&(this._scrollToNode(t),this._preselect(t))},s.prototype._scrollToNode=function(e){var t,n;e&&e!==this._getCurrentResult()&&(t=e.offsetTop,n=this._resultsContainer.scrollTop,e=t-this._resultsContainer.clientHeight+e.clientHeight,t<n?this._resultsContainer.scrollTop=t:n<e&&(this._resultsContainer.scrollTop=e))},s.prototype._clearResults=function(){(0,r.clear)(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},s.prototype._getCurrentResult=function(){return(0,r.query)(s.RESULT_SELECTED_SELECTOR,this._resultsContainer)},s.prototype._createResultNode=function(e,t){var n=(0,r.domify)(s.RESULT_HTML);return 0<e.primaryTokens.length&&i(n,e.primaryTokens,s.RESULT_PRIMARY_HTML),i(n,e.secondaryTokens,s.RESULT_SECONDARY_HTML),(0,r.attr)(n,s.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(n),n},s.prototype.registerProvider=function(e){this._searchProvider=e},s.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,(0,r.classes)(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},s.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),(this._open=!1,r.classes)(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},s.prototype.toggle=function(){this.isOpen()?this.close():this.open()},s.prototype.isOpen=function(){return this._open},s.prototype._preselect=function(e){var t=this._getCurrentResult();e!==t&&(t&&(0,r.classes)(t).remove(s.RESULT_SELECTED_CLASS),t=(0,r.attr)(e,s.RESULT_ID_ATTRIBUTE),t=this._results[t].element,(0,r.classes)(e).add(s.RESULT_SELECTED_CLASS),this._resetOverlay(t),this._canvas.scrollToElement(t,{top:400}),this._selection.select(t),this._eventBus.fire("searchPad.preselected",t))},s.prototype._select=function(e){e=(0,r.attr)(e,s.RESULT_ID_ATTRIBUTE),e=this._results[e].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(e,{top:400}),this._selection.select(e),this._eventBus.fire("searchPad.selected",e)},s.prototype._resetOverlay=function(e){var t,n,i;this._overlayId&&this._overlays.remove(this._overlayId),e&&(i=(0,o.getBBox)(e),n=(t=i).width+12,i=i.height+12,t=["width: "+n+"px","height: "+i+"px"].join("; "),this._overlayId=this._overlays.add(e,{position:{bottom:i-6,right:n-6},show:!0,html:'<div style="'+t+'" class="'+s.OVERLAY_CLASS+'"></div>'}))},s.CONTAINER_SELECTOR=".djs-search-container",s.INPUT_SELECTOR=".djs-search-input input",s.RESULTS_CONTAINER_SELECTOR=".djs-search-results",s.RESULT_SELECTOR=".djs-search-result",s.RESULT_SELECTED_SELECTOR="."+(s.RESULT_SELECTED_CLASS="djs-search-result-selected"),s.RESULT_ID_ATTRIBUTE="data-result-id",s.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",s.OVERLAY_CLASS="djs-search-overlay",s.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',s.RESULT_HTML='<div class="djs-search-result"></div>',s.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',s.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>'},{"../../util/Elements":604,"../../util/EscapeUtil":605,"min-dom":835}],563:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../overlays")),o=r(e("../selection")),e=r(e("./SearchPad"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default,o.default],searchPad:["type",e.default]};n.default=e},{"../overlays":545,"../selection":567,"./SearchPad":562}],564:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=e("min-dash");function i(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],function(e){e=e.element;t.deselect(e)}),e.on(["diagram.clear"],function(e){t.select(null)})}i.$inject=["eventBus"],i.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);-1!==n&&(e=t.slice(),t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:e,newSelection:t}))},i.prototype.get=function(){return this._selectedElements},i.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},i.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();(0,o.isArray)(e)||(e=e?[e]:[]),t?(0,o.forEach)(e,function(e){-1!==n.indexOf(e)||n.push(e)}):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})}},{"min-dash":834}],565:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("../../util/Mouse"),s=e("min-dash");function i(e,o,r,i){e.on("create.end",500,function(e){var t=e.context,n=t.canExecute,e=t.elements,t=(t.hints||{}).autoSelect;n&&!1!==t&&((0,s.isArray)(t)?o.select(t):o.select(e.filter(l)))}),e.on("connect.end",500,function(e){var t=e.context,e=t.canExecute,t=t.hover;e&&t&&o.select(t)}),e.on("shape.move.end",500,function(e){var t=e.previousSelection||[],n=i.get(e.context.shape.id);(0,s.find)(t,function(e){return n.id===e.id})||o.select(n)}),e.on("element.click",function(e){if((0,a.isPrimaryButton)(e)){var t=e.element;t===r.getRootElement()&&(t=null);var n=o.isSelected(t),i=1<o.get().length,e=(0,a.hasPrimaryModifier)(e)||(0,a.hasSecondaryModifier)(e);if(n&&i)return e?o.deselect(t):o.select(t);n?o.deselect(t):o.select(t,e)}})}function l(e){return!e.hidden}i.$inject=["eventBus","selection","canvas","elementRegistry"]},{"../../util/Mouse":612,"min-dash":834}],566:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("min-dash"),s="hover",l="selected";function i(e,n,t,i){function o(e,t){n.addMarker(e,t)}function r(e,t){n.removeMarker(e,t)}this._multiSelectionBox=null,e.on("element.hover",function(e){o(e.element,s)}),e.on("element.out",function(e){r(e.element,s)}),e.on("selection.changed",function(e){var t=e.oldSelection,n=e.newSelection;(0,a.forEach)(t,function(e){-1===n.indexOf(e)&&r(e,l)}),(0,a.forEach)(n,function(e){-1===t.indexOf(e)&&o(e,l)})})}i.$inject=["eventBus","canvas","selection","styles"]},{"min-dash":834}],567:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("../interaction-events")),o=s(e("../outline")),r=s(e("./Selection")),a=s(e("./SelectionVisuals")),e=s(e("./SelectionBehavior"));function s(e){return e&&e.__esModule?e:{default:e}}e={__init__:["selectionVisuals","selectionBehavior"],__depends__:[i.default,o.default],selection:["type",r.default],selectionVisuals:["type",a.default],selectionBehavior:["type",e.default]};n.default=e},{"../interaction-events":500,"../outline":543,"./Selection":564,"./SelectionBehavior":565,"./SelectionVisuals":566}],568:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i,l=(i=e("./SnapContext"))&&i.__esModule?i:{default:i},c=e("./SnapUtil"),a=e("../keyboard/KeyboardUtil"),o=e("min-dash");var s=1250;function r(e,t,o){var r=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],function(e){r.initSnap(e)}),t.on(["create.move","create.end","shape.move.move","shape.move.end"],s,function(e){var t=e.context,n=t.shape,i=t.snapContext,t=t.target;e.originalEvent&&(0,a.isCmd)(e.originalEvent)||!(0,c.isSnapped)(e)&&t&&((i=i.pointsForTarget(t)).initialized||((i=r.addSnapTargetPoints(i,n,t)).initialized=!0),o.snap(e,i))}),t.on(["create.cleanup","shape.move.cleanup"],function(){o.hide()})}function u(e){return e.labelTarget}r.$inject=["elementRegistry","eventBus","snapping"],r.prototype.initSnap=function(e){var t=this._elementRegistry,n=e.context,i=n.shape,o=(o=n.snapContext)||(n.snapContext=new l.default),r=t.get(i.id)?(0,c.mid)(i,e):{x:e.x+(0,c.mid)(i).x,y:e.y+(0,c.mid)(i).y},a=r.x-i.width/2,s=r.y-i.height/2,n=r.x+i.width/2,t=r.y+i.height/2;return o.setSnapOrigin("mid",{x:r.x-e.x,y:r.y-e.y}),u(i)||(o.setSnapOrigin("top-left",{x:a-e.x,y:s-e.y}),o.setSnapOrigin("bottom-right",{x:n-e.x,y:t-e.y})),o},r.prototype.addSnapTargetPoints=function(n,i,e){e=this.getSnapTargets(i,e);return(0,o.forEach)(e,function(e){var t;u(e)?u(i)&&n.add("mid",(0,c.mid)(e)):e.waypoints?e.waypoints.length<3||(t=e.waypoints.slice(1,-1),(0,o.forEach)(t,function(e){n.add("mid",e)})):n.add("mid",(0,c.mid)(e))}),(0,o.isNumber)(i.x)&&(0,o.isNumber)(i.y)&&this._elementRegistry.get(i.id)&&n.add("mid",(0,c.mid)(i)),n},r.prototype.getSnapTargets=function(e,t){return(0,c.getChildren)(t).filter(function(e){return!e.hidden})}},{"../keyboard/KeyboardUtil":505,"./SnapContext":570,"./SnapUtil":571,"min-dash":834}],569:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var i,r=(i=e("./SnapContext"))&&i.__esModule?i:{default:i},s=e("./SnapUtil"),l=e("../keyboard/KeyboardUtil"),o=e("../../layout/LayoutUtil"),a=e("min-dash");var c=1250;function u(e,r){var a=this;e.on(["resize.start"],function(e){a.initSnap(e)}),e.on(["resize.move","resize.end"],c,function(e){var t=e.context,n=t.shape,i=n.parent,o=t.direction,t=t.snapContext;e.originalEvent&&(0,l.isCmd)(e.originalEvent)||(0,s.isSnapped)(e)||((t=t.pointsForTarget(i)).initialized||((t=a.addSnapTargetPoints(t,n,i,o)).initialized=!0),"n"!==(i=o)&&"s"!==i||(0,s.setSnapped)(e,"x",e.x),"e"!==(o=o)&&"w"!==o||(0,s.setSnapped)(e,"y",e.y),r.snap(e,t))}),e.on(["resize.cleanup"],function(){r.hide()})}function d(e,t){var n=(0,o.getMid)(e),e=(0,o.asTRBL)(e),n={x:n.x,y:n.y};return-1!==t.indexOf("n")?n.y=e.top:-1!==t.indexOf("s")&&(n.y=e.bottom),-1!==t.indexOf("e")?n.x=e.right:-1!==t.indexOf("w")&&(n.x=e.left),n}u.prototype.initSnap=function(e){var t=e.context,n=t.shape,i=t.direction,o=(o=t.snapContext)||(t.snapContext=new r.default),i=d(n,i);return o.setSnapOrigin("corner",{x:i.x-e.x,y:i.y-e.y}),o},u.prototype.addSnapTargetPoints=function(t,e,n,i){n=this.getSnapTargets(e,n);return(0,a.forEach)(n,function(e){t.add("corner",(0,s.bottomRight)(e)),t.add("corner",(0,s.topLeft)(e))}),t.add("corner",d(e,i)),t},u.$inject=["eventBus","snapping"],u.prototype.getSnapTargets=function(t,e){return(0,s.getChildren)(e).filter(function(e){return!(e.host===t||e.waypoints||e.hidden||e.labelTarget)})}},{"../../layout/LayoutUtil":589,"../keyboard/KeyboardUtil":505,"./SnapContext":570,"./SnapUtil":571,"min-dash":834}],570:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,n.SnapPoints=a;var i=e("min-dash"),o=e("./SnapUtil");function r(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function a(e){this._snapValues={}}r.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},r.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},r.prototype.addDefaultSnap=function(e,t){(this._defaultSnaps[e]||(this._defaultSnaps[e]=[])).push(t)},r.prototype.getSnapLocations=function(){return this._snapLocations},r.prototype.setSnapLocations=function(e){this._snapLocations=e},r.prototype.pointsForTarget=function(e){var t=e.id||e,e=this._targets[t];return e||(e=this._targets[t]=new a).initDefaults(this._defaultSnaps),e},a.prototype.add=function(e,t){var n=this._snapValues[e];-1===(n=n||(this._snapValues[e]={x:[],y:[]})).x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},a.prototype.snap=function(e,t,n,i){t=this._snapValues[t];return t&&(0,o.snapTo)(e[n],t[n],i)},a.prototype.initDefaults=function(e){var n=this;(0,i.forEach)(e||{},function(e,t){(0,i.forEach)(e,function(e){n.add(t,e)})})}},{"./SnapUtil":571,"min-dash":834}],571:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.snapTo=function(e,t,n){var i,o;for(n=void 0===n?10:n,i=0;i<t.length;i++)if(o=t[i],r(o-e)<=n)return o},n.topLeft=function(e){return{x:e.x,y:e.y}},n.topRight=function(e){return{x:e.x+e.width,y:e.y}},n.bottomLeft=function(e){return{x:e.x,y:e.y+e.height}},n.bottomRight=function(e){return{x:e.x+e.width,y:e.y+e.height}},n.mid=function(e,t){if(!e||isNaN(e.x)||isNaN(e.y))return t;return{x:i(e.x+e.width/2),y:i(e.y+e.height/2)}},n.isSnapped=function(e,t){e=e.snapped;return!!e&&("string"!=typeof t?e.x&&e.y:e[t])},n.setSnapped=function(e,t,n){if("string"!=typeof t)throw new Error("axis must be in [x, y]");if("number"!=typeof n&&!1!==n)throw new Error("value must be Number or false");var i=e[t],o=e.snapped=e.snapped||{};!1===n?o[t]=!1:(o[t]=!0,n=n-i,e[t]+=n,e["d"+t]+=n);return i},n.getChildren=function(e){return e.children||[]};var r=Math.abs,i=Math.round},{}],572:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a,n.SNAP_LINE_HIDE_DELAY=void 0;var l=e("min-dash"),i=e("./SnapUtil"),o=e("tiny-svg"),r=1e3;function a(e){this._canvas=e,this._asyncHide=(0,l.debounce)((0,l.bind)(this.hide,this),r)}n.SNAP_LINE_HIDE_DELAY=r,a.$inject=["canvas"],a.prototype.snap=function(r,a){var e=r.context.snapContext,t=e.getSnapLocations(),s={x:(0,i.isSnapped)(r,"x"),y:(0,i.isSnapped)(r,"y")};(0,l.forEach)(t,function(n){var i=e.getSnapOrigin(n),o={x:r.x+i.x,y:r.y+i.y};if((0,l.forEach)(["x","y"],function(e){var t;s[e]||void 0!==(t=a.snap(o,n,e,7))&&(s[e]={value:t,originValue:t-i[e]})}),s.x&&s.y)return!1}),this.showSnapLine("vertical",s.x&&s.x.value),this.showSnapLine("horizontal",s.y&&s.y.value),(0,l.forEach)(["x","y"],function(e){var t=s[e];(0,l.isObject)(t)&&(0,i.setSnapped)(r,e,t.originValue)})},a.prototype._createLine=function(t){var e=this._canvas.getLayer("snap"),n=(0,o.create)("path");return(0,o.attr)(n,{d:"M0,0 L0,0"}),(0,o.classes)(n).add("djs-snap-line"),(0,o.append)(e,n),{update:function(e){(0,l.isNumber)(e)?"horizontal"===t?(0,o.attr)(n,{d:"M-100000,"+e+" L+100000,"+e,display:""}):(0,o.attr)(n,{d:"M "+e+",-100000 L "+e+", +100000",display:""}):(0,o.attr)(n,{display:"none"})}}},a.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},a.prototype.showSnapLine=function(e,t){e=this.getSnapLine(e);e&&e.update(t),this._asyncHide()},a.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},a.prototype.hide=function(){(0,l.forEach)(this._snapLines,function(e){e.update()})}},{"./SnapUtil":571,"min-dash":834,"tiny-svg":851}],573:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./CreateMoveSnapping")),o=r(e("./ResizeSnapping")),e=r(e("./Snapping"));function r(e){return e&&e.__esModule?e:{default:e}}e={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",i.default],resizeSnapping:["type",o.default],snapping:["type",e.default]};n.default=e},{"./CreateMoveSnapping":568,"./ResizeSnapping":569,"./Snapping":572}],574:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var f=e("min-dash"),m=e("../../layout/LayoutUtil"),g=e("../../util/Elements"),a=e("./SpaceUtil"),s=e("../../util/Mouse"),l=e("../../util/Cursor"),c=Math.abs,u=Math.round,v={x:"width",y:"height"},y={n:"top",w:"left",s:"bottom",e:"right"},d=1500,b={n:"s",w:"e",s:"n",e:"w"},i=20;function o(e,t,s,n,i,o,r){this._canvas=e,this._dragging=t,this._eventBus=s,this._modeling=n,this._rules=i,this._toolManager=o,this._mouse=r;var l=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),s.on("spaceTool.selection.end",function(e){s.once("spaceTool.selection.ended",function(){l.activateMakeSpace(e.originalEvent)})}),s.on("spaceTool.move",d,function(e){var t=e.context;(t.initialized||(t.initialized=l.init(e,t)))&&p(e)}),s.on("spaceTool.end",function(e){var t=e.context,n=t.axis,i=t.direction,o=t.movingShapes,r=t.resizingShapes,a=t.start;t.initialized&&(p(e),(t={x:0,y:0})[n]=u(e["d"+n]),l.makeSpace(o,r,t,i,a),s.once("spaceTool.ended",function(e){l.activateSelection(e.originalEvent,!0,!0)}))})}function x(e){return{top:e.top-i,right:e.right+i,bottom:e.bottom+i,left:e.left-i}}function p(e){var t,n,i=e.context.spaceToolConstraints;i&&((0,f.isNumber)(i.left)&&(t=Math.max(e.x,i.left),e.dx=e.dx+t-e.x,e.x=t),(0,f.isNumber)(i.right)&&(t=Math.min(e.x,i.right),e.dx=e.dx+t-e.x,e.x=t),(0,f.isNumber)(i.top)&&(n=Math.max(e.y,i.top),e.dy=e.dy+n-e.y,e.y=n),(0,f.isNumber)(i.bottom)&&(n=Math.min(e.y,i.bottom),e.dy=e.dy+n-e.y,e.y=n))}function w(e,t){return-1!==e.indexOf(t)}function k(e){return e.waypoints}function E(e){return e.labelTarget}o.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],o.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:"crosshair",data:{context:{reactivate:n}},trapClick:!1})},o.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},o.prototype.makeSpace=function(e,t,n,i,o){return this._modeling.createSpace(e,t,n,i,o)},o.prototype.init=function(e,t){var n=c(e.dx)>c(e.dy)?"x":"y",i=e["d"+n],o=e[n]-i;if(c(i)<5)return!1;i<0&&(i*=-1),(0,s.hasPrimaryModifier)(e)&&(i*=-1);var r=(0,a.getDirection)(n,i),e=this._canvas.getRootElement(),e=(0,g.selfAndAllChildren)(e,!0),e=this.calculateAdjustments(e,n,i,o),i=function(e,r,a,s,l){var c=e.movingShapes,u=e.resizingShapes;if(u.length){var d,p,h={};return(0,f.forEach)(u,function(e){var t,n=(0,m.asTRBL)(e),i=(0,f.filter)(e.children,function(e){return!(k(e)||E(e)||w(c,e)||w(u,e))}),o=(0,f.filter)(e.children,function(e){return!k(e)&&!E(e)&&w(c,e)});i.length&&(t=x((0,m.asTRBL)((0,g.getBBox)(i))),t=s-n[y[a]]+t[y[a]],"n"===a?h.bottom=p=(0,f.isNumber)(p)?Math.min(p,t):t:"w"===a?h.right=p=(0,f.isNumber)(p)?Math.min(p,t):t:"s"===a?h.top=d=(0,f.isNumber)(d)?Math.max(d,t):t:"e"===a&&(h.left=d=(0,f.isNumber)(d)?Math.max(d,t):t)),o.length&&(o=x((0,m.asTRBL)((0,g.getBBox)(o))),t=s-o[y[b[a]]]+n[y[b[a]]],"n"===a?h.bottom=p=(0,f.isNumber)(p)?Math.min(p,t):t:"w"===a?h.right=p=(0,f.isNumber)(p)?Math.min(p,t):t:"s"===a?h.top=d=(0,f.isNumber)(d)?Math.max(d,t):t:"e"===a&&(h.left=d=(0,f.isNumber)(d)?Math.max(d,t):t));n=l&&l[e.id];n&&("n"===a?(t=s+e[v[r]]-n[v[r]],h.bottom=p=(0,f.isNumber)(p)?Math.min(p,t):t):"w"===a?(t=s+e[v[r]]-n[v[r]],h.right=p=(0,f.isNumber)(p)?Math.min(p,t):t):"s"===a?(t=s-e[v[r]]+n[v[r]],h.top=d=(0,f.isNumber)(d)?Math.max(d,t):t):"e"===a&&(t=s-e[v[r]]+n[v[r]],h.left=d=(0,f.isNumber)(d)?Math.max(d,t):t))}),h}}(e,n,r,o,this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:r,shapes:e.resizingShapes,start:o}));return(0,f.assign)(t,e,{axis:n,direction:r,spaceToolConstraints:i,start:o}),(0,l.set)("resize-"+("x"==n?"ew":"ns")),!0},o.prototype.calculateAdjustments=function(e,i,o,r){var a=this._rules,s=[],l=[];return(0,f.forEach)(e,function(e){if(e.parent&&!k(e)){var t=e[i],n=t+e[v[i]];return 0<o&&r<t||o<0&&n<r?s.push(e):t<r&&r<n&&a.allowed("shape.resize",{shape:e})?l.push(e):void 0}}),{movingShapes:s,resizingShapes:l}},o.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},o.prototype.isActive=function(){var e=this._dragging.context();return e&&/^spaceTool/.test(e.prefix)}},{"../../layout/LayoutUtil":589,"../../util/Cursor":603,"../../util/Elements":604,"../../util/Mouse":612,"./SpaceUtil":576,"min-dash":834}],575:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var m=e("min-dash"),g=e("tiny-svg"),v=e("../../util/SvgTransformUtil"),a="djs-dragging",y="djs-resizing",i=250,b=Math.max;function o(e,u,d,p,h){function f(e,t){(0,m.forEach)(e,function(e){h.addDragger(e,t),d.addMarker(e,a)})}e.on("spaceTool.selection.start",function(e){var t=d.getLayer("space"),n=e.context,i="M 0,-10000 L 0,10000",o="M -10000,0 L 10000,0",e=(0,g.create)("g");(0,g.attr)(e,p.cls("djs-crosshair-group",["no-events"])),(0,g.append)(t,e);t=(0,g.create)("path");(0,g.attr)(t,"d",i),(0,g.classes)(t).add("djs-crosshair"),(0,g.append)(e,t);t=(0,g.create)("path");(0,g.attr)(t,"d",o),(0,g.classes)(t).add("djs-crosshair"),(0,g.append)(e,t),n.crosshairGroup=e}),e.on("spaceTool.selection.move",function(e){var t=e.context.crosshairGroup;(0,v.translate)(t,e.x,e.y)}),e.on("spaceTool.selection.cleanup",function(e){e=e.context.crosshairGroup;e&&(0,g.remove)(e)}),e.on("spaceTool.move",i,function(e){var i,o,t,r,a=e.context,n=a.line,s=a.axis,l=a.movingShapes,c=a.resizingShapes;a.initialized&&(a.dragGroup||(t=d.getLayer("space"),n=(0,g.create)("path"),(0,g.attr)(n,"d","M0,0 L0,0"),(0,g.classes)(n).add("djs-crosshair"),(0,g.append)(t,n),a.line=n,t=(0,g.create)("g"),(0,g.attr)(t,p.cls("djs-drag-group",["no-events"])),(0,g.append)(d.getDefaultLayer(),t),f(l,t),f(a.movingConnections=u.filter(function(t){var n=!1;(0,m.forEach)(l,function(e){(0,m.forEach)(e.outgoing,function(e){t===e&&(n=!0)})});var i=!1;(0,m.forEach)(l,function(e){(0,m.forEach)(e.incoming,function(e){t===e&&(i=!0)})});var o=!1;(0,m.forEach)(c,function(e){(0,m.forEach)(e.outgoing,function(e){t===e&&(o=!0)})});var r=!1;return(0,m.forEach)(c,function(e){(0,m.forEach)(e.incoming,function(e){t===e&&(r=!0)})}),t.waypoints&&(n||o)&&(i||r)}),t),a.dragGroup=t),a.frameGroup||(i=(0,g.create)("g"),(0,g.attr)(i,p.cls("djs-frame-group",["no-events"])),(0,g.append)(d.getDefaultLayer(),i),o=[],(0,m.forEach)(c,function(e){var t=h.addFrame(e,i),n=t.getBBox();o.push({element:t,initialBounds:n}),d.addMarker(e,y)}),a.frameGroup=i,a.frames=o),t={x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y},(0,g.attr)(n,{d:t[s]}),((r={x:e.dx,y:e.dy})[{x:"y",y:"x"}[a.axis]]=0,v.translate)(a.dragGroup,r.x,r.y),(0,m.forEach)(a.frames,function(e){var t,n=e.element,e=e.initialBounds;"e"===a.direction?(0,g.attr)(n,{width:b(e.width+r.x,5)}):(t=b(e.width-r.x,5),(0,g.attr)(n,{width:t,x:e.x+e.width-t})),"s"===a.direction?(0,g.attr)(n,{height:b(e.height+r.y,5)}):(t=b(e.height-r.y,5),(0,g.attr)(n,{height:t,y:e.y+e.height-t}))}))}),e.on("spaceTool.cleanup",function(e){var t=e.context,n=t.movingShapes,i=t.movingConnections,o=t.resizingShapes,r=t.line,e=t.dragGroup,t=t.frameGroup;(0,m.forEach)(n,function(e){d.removeMarker(e,a)}),(0,m.forEach)(i,function(e){d.removeMarker(e,a)}),e&&((0,g.remove)(r),(0,g.remove)(e)),(0,m.forEach)(o,function(e){d.removeMarker(e,y)}),t&&(0,g.remove)(t)})}o.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"]},{"../../util/SvgTransformUtil":617,"min-dash":834,"tiny-svg":851}],576:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDirection=function(e,t){if("x"===e){if(0<t)return"e";if(t<0)return"w"}if("y"===e){if(0<t)return"s";if(t<0)return"n"}return null},n.getWaypointsUpdatingConnections=function(i,o){var r=[];return(0,a.forEach)(i.concat(o),function(e){var t=e.incoming,e=e.outgoing;(0,a.forEach)(t.concat(e),function(e){var t=e.source,n=e.target;(s(i,t)||s(i,n)||s(o,t)||s(o,n))&&(s(r,e)||r.push(e))})}),r},n.resizeBounds=function(e,t,n){var i=e.x,o=e.y,r=e.width,a=e.height,s=n.x,l=n.y;switch(t){case"n":return{x:i,y:o+l,width:r,height:a-l};case"s":return{x:i,y:o,width:r,height:a+l};case"w":return{x:i+s,y:o,width:r-s,height:a};case"e":return{x:i,y:o,width:r+s,height:a};default:throw new Error("unknown direction: "+t)}};var a=e("min-dash");function s(e,t){return-1!==e.indexOf(t)}},{"min-dash":834}],577:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=c(e("../dragging")),o=c(e("../rules")),r=c(e("../tool-manager")),a=c(e("../preview-support")),s=c(e("../mouse")),l=c(e("./SpaceTool")),e=c(e("./SpaceToolPreview"));function c(e){return e&&e.__esModule?e:{default:e}}e={__init__:["spaceToolPreview"],__depends__:[i.default,o.default,r.default,a.default,s.default],spaceTool:["type",l.default],spaceToolPreview:["type",e.default]};n.default=e},{"../dragging":484,"../mouse":537,"../preview-support":551,"../rules":561,"../tool-manager":579,"./SpaceTool":574,"./SpaceToolPreview":575}],578:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var r=e("min-dash"),a=e("min-dom");function i(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}i.$inject=["eventBus","dragging"],i.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},i.prototype.isActive=function(e){return e&&this._active===e},i.prototype.length=function(e){return this._tools.length},i.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},i.prototype.bindEvents=function(t,e){var n=this._eventBus,i=this._dragging,o=[];n.on(e.tool+".init",function(e){return!e.context.reactivate&&this.isActive(t)?(this.setActive(null),void i.cancel()):void this.setActive(t)},this),(0,r.forEach)(e,function(e){o.push(e+".ended"),o.push(e+".canceled")}),n.on(o,250,function(e){this._active&&!function(e){e=e.originalEvent&&e.originalEvent.target;return e&&(0,a.closest)(e,'.group[data-group="tools"]')}(e)&&this.setActive(null)},this)}},{"min-dash":834,"min-dom":835}],579:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../dragging")),e=o(e("./ToolManager"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["toolManager"],toolManager:["type",e.default]};n.default=e},{"../dragging":484,"./ToolManager":578}],580:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var i,r=e("min-dash"),a=e("min-dom");var o=new((i=e("../../util/IdGenerator"))&&i.__esModule?i:{default:i}).default("tt");function s(e,t){e.style.display=!1===t?"none":""}var l="djs-tooltip",c="."+l;function u(e,t){this._eventBus=e,this._canvas=t,this._ids=o,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(e=t.getContainer(),t=(0,a.domify)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />'),e.insertBefore(t,e.firstChild),t);var n=this;a.delegate.bind(this._tooltipRoot,c,"mousedown",function(e){e.stopPropagation()}),a.delegate.bind(this._tooltipRoot,c,"mouseover",function(e){n.trigger("mouseover",e)}),a.delegate.bind(this._tooltipRoot,c,"mouseout",function(e){n.trigger("mouseout",e)}),this._init()}u.$inject=["eventBus","canvas"],u.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=(0,r.assign)({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},u.prototype.trigger=function(e,t){t=t.delegateTarget||t.target,t=this.get((0,a.attr)(t,"data-tooltip-id"));t&&("mouseover"===e&&t.timeout&&this.clearTimeout(t),"mouseout"===e&&t.timeout&&(t.timeout=1e3,this.setTimeout(t)))},u.prototype.get=function(e){return"string"!=typeof e&&(e=e.id),this._tooltips[e]},u.prototype.clearTimeout=function(e){var t;!(e=this.get(e))||(t=e.removeTimer)&&(clearTimeout(t),e.removeTimer=null)},u.prototype.setTimeout=function(e){var t;(e=this.get(e))&&(this.clearTimeout(e),t=this,e.removeTimer=setTimeout(function(){t.remove(e)},e.timeout))},u.prototype.remove=function(e){e=this.get(e);e&&((0,a.remove)(e.html),(0,a.remove)(e.htmlContainer),delete e.htmlContainer,delete this._tooltips[e.id])},u.prototype.show=function(){s(this._tooltipRoot)},u.prototype.hide=function(){s(this._tooltipRoot,!1)},u.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,n="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=n,this._tooltipRoot.style["-ms-transform"]=n},u.prototype._addTooltip=function(e){var t,n=e.id,i=e.html,o=this._tooltipRoot;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),(0,r.isString)(i)&&(i=(0,a.domify)(i)),(t=(0,a.domify)('<div data-tooltip-id="'+n+'" class="'+l+'" style="position: absolute">')).appendChild(i),e.type&&(0,a.classes)(t).add("djs-tooltip-"+e.type),e.className&&(0,a.classes)(t).add(e.className),e.htmlContainer=t,o.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},u.prototype._updateTooltip=function(e){var t=e.position,n=e.htmlContainer;e=t.x,t=t.y,(0,r.assign)(n.style,{left:e+"px",top:t+"px"})},u.prototype._updateTooltipVisibilty=function(i){(0,r.forEach)(this._tooltips,function(e){var t=e.show,n=e.htmlContainer,e=!0;t&&s(n,e=t.minZoom>i.scale||t.maxZoom<i.scale?!1:e)})},u.prototype._init=function(){var t=this;this._eventBus.on("canvas.viewbox.changing",function(e){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(e){e=e.viewbox,t._updateRoot(e),t._updateTooltipVisibilty(e),t.show()})}},{"../../util/IdGenerator":609,"min-dash":834,"min-dom":835}],581:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["tooltips"],tooltips:["type",((i=e("./Tooltips"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./Tooltips":580}],582:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("tiny-svg");function o(e,t){var n=this;t.on("canvas.init",function(e){n.addBBoxMarker(e.svg)})}o.$inject=["canvas","eventBus"],o.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=(0,i.create)("rect");(0,i.attr)(n,{x:-1e4,y:1e4,width:10,height:10}),(0,i.attr)(n,t),(0,i.append)(e,n);n=(0,i.create)("rect");(0,i.attr)(n,{x:1e4,y:1e4,width:10,height:10}),(0,i.attr)(n,t),(0,i.append)(e,n)}},{"tiny-svg":851}],583:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i,l=e("min-dash"),h=e("min-dom"),c=(i=e("hammerjs"))&&i.__esModule?i:{default:i},f=e("../../util/Event");var m=.2,g=4,u=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function v(e,t){return t.get(e,!1)}function y(e){e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.srcEvent&&"function"==typeof e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function b(t){function e(e){setTimeout(function(){(0,l.forEach)(u,function(e){h.event.unbind(t,e,y,!0)})},500)}h.event.bind(t,"touchstart",function(e){(0,l.forEach)(u,function(e){h.event.bind(t,e,y,!0)})},!0),h.event.bind(t,"touchend",e,!0),h.event.bind(t,"touchcancel",e,!0);var o=new c.default.Manager(t,{inputClass:c.default.TouchInput,recognizers:[],domEvents:!0}),n=new c.default.Tap,i=new c.default.Pan({threshold:10}),r=new c.default.Press,a=new c.default.Pinch,s=new c.default.Tap({event:"doubletap",taps:2});return a.requireFailure(i),a.requireFailure(r),o.add([i,r,a,s,n]),o.reset=function(e){var n=this.recognizers,i=this.session;i.stopped||(o.stop(e),setTimeout(function(){for(var e,t=0;e=n[t];t++)e.reset(),e.state=8;i.curRecognizer=null},0))},o.on("hammer.input",function(e){e.srcEvent.defaultPrevented&&o.reset(!0)}),o}function o(e,a,t,s,n){var l,i=v("dragging",e),c=v("move",e),o=v("contextPad",e),r=v("palette",e);function u(t){return function(e){n.fire(t,e)}}function d(e){return(0,h.closest)(e,"svg, .djs-element",!0)}function p(e){function t(e){var i,o,t=d(e.target),t=t&&s.get(t);if(c&&a.getRootElement()!==t)return c.start(e,t,!0);function n(e){var t=e.deltaX-i,n=e.deltaY-o;a.scroll({dx:t,dy:n}),i=e.deltaX,o=e.deltaY}function r(e){l.off("panmove",n),l.off("panend",r),l.off("pancancel",r)}o=i=0,l.on("panmove",n),l.on("panend",r),l.on("pancancel",r)}(l=b(e)).on("doubletap",u("element.dblclick")),l.on("tap",u("element.click")),l.on("panstart",t),l.on("press",t),l.on("pinchstart",function(e){var n=a.zoom(),i=e.center;function t(e){var t=1-(1-e.scale)/1.5,t=Math.max(m,Math.min(g,t*n));a.zoom(t,i),y(e)}function o(e){l.off("pinchmove",t),l.off("pinchend",o),l.off("pinchcancel",o),l.reset(!0)}l.on("pinchmove",t),l.on("pinchend",o),l.on("pinchcancel",o)})}i&&t.on("drag.move",function(e){var t,n=e.originalEvent;!n||n instanceof MouseEvent||(t=(0,f.toPoint)(n),(t=(n=d(document.elementFromPoint(t.x,t.y)))&&s.get(n))!==e.hover&&(e.hover&&i.out(e),t&&(i.hover({element:t,gfx:n}),e.hover=t,e.hoverGfx=n)))}),o&&t.on("contextPad.create",function(e){e=b(e.pad.html);e.on("panstart",function(e){o.trigger("dragstart",e,!0)}),e.on("press",function(e){o.trigger("dragstart",e,!0)}),e.on("tap",function(e){o.trigger("click",e)})}),r&&t.on("palette.create",function(e){e=b(e.container);e.on("panstart",function(e){r.trigger("dragstart",e,!0)}),e.on("press",function(e){r.trigger("dragstart",e,!0)}),e.on("tap",function(e){r.trigger("click",e)})}),t.on("canvas.init",function(e){p(e.svg)})}o.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"]},{"../../util/Event":606,hammerjs:621,"min-dash":834,"min-dom":835}],584:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../interaction-events")),o=r(e("./TouchInteractionEvents")),e=r(e("./TouchFix"));function r(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",o.default],touchFix:["type",e.default]};n.default=e},{"../interaction-events":500,"./TouchFix":582,"./TouchInteractionEvents":583}],585:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={translate:["value",((i=e("./translate"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./translate":586}],586:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){return n=n||{},e.replace(/{([^}]+)}/g,function(e,t){return n[t]||"{"+t+"}"})}},{}],587:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("./LayoutUtil");function o(){}o.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||(0,i.getMid)(t.source||e.source),t.connectionEnd||(0,i.getMid)(t.target||e.target)]}},{"./LayoutUtil":589}],588:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("min-dash"),o=e("./LayoutUtil");function r(e){return(0,i.assign)({original:e.point.original||e.point},e.actual)}function a(e,t){this._elementRegistry=e,this._graphicsFactory=t}a.$inject=["elementRegistry","graphicsFactory"],a.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;t=this.getDockingPoint(e,t,!0),n=this.getDockingPoint(e,n),e=e.waypoints.slice(t.idx+1,n.idx);return e.unshift(r(t)),e.push(r(n)),e},a.prototype.getDockingPoint=function(e,t,n){var i=e.waypoints,o=n?0:i.length-1,i=i[o];return{point:i,actual:this._getIntersection(t,e,n)||i,idx:o}},a.prototype._getIntersection=function(e,t,n){e=this._getShapePath(e),t=this._getConnectionPath(t);return(0,o.getElementLineIntersection)(e,t,n)},a.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},a.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},a.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)}},{"./LayoutUtil":589,"min-dash":834}],589:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.roundBounds=function(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}},n.roundPoint=s,n.asTRBL=l,n.asBounds=function(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},n.getMid=function(e){return s({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})},n.getOrientation=function(e,t,n){n=n||0,(0,a.isObject)(n)||(n={x:n,y:n});var i=l(e),o=l(t),r=i.bottom+n.y<=o.top,e=i.left-n.x>=o.right,t=i.top-n.y>=o.bottom,o=i.right+n.x<=o.left,t=r?"top":t?"bottom":null,e=o?"left":e?"right":null;return e&&t?t+"-"+e:e||t||"intersect"},n.getElementLineIntersection=function(e,t,n){t=c(e,t);{if(1===t.length)return s(t[0]);if(2===t.length&&(0,r.pointDistance)(t[0],t[1])<1)return s(t[0]);if(1<t.length)return s((t=(0,a.sortBy)(t,function(e){var t=Math.floor(100*e.t2)||1;return e.segment2+"#"+(t=((t=100-t)<10?"0":"")+t)}))[n?0:t.length-1])}return null},n.getIntersections=c,n.filterRedundantWaypoints=function(e){e=e.slice();var t,n,i,o=0;for(;e[o];)t=e[o],n=e[o-1],i=e[o+1],0===(0,r.pointDistance)(t,i)||(0,r.pointsOnLine)(n,i,t)?e.splice(o,1):o++;return e};var i,a=e("min-dash"),r=e("../util/Geometry"),o=(i=e("path-intersection"))&&i.__esModule?i:{default:i};function s(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function l(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function c(e,t){return(0,o.default)(e,t)}},{"../util/Geometry":607,"min-dash":834,"path-intersection":842}],590:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.connectPoints=g,n.connectRectangles=v,n.repairConnection=function(e,t,n,i,o,r){(0,s.isArray)(n)&&(o=n,r=i,n=(0,u.getMid)(e),i=(0,u.getMid)(t));r=(0,s.assign)({preferredLayouts:[]},r),o=o||[];var a=-1!==r.preferredLayouts.indexOf("straight");if(a=a&&b(e,t,n,i,r))return a;if(a=r.connectionEnd&&function(e,t,n,i){i=i.slice().reverse();return(i=x(e,t,n,i))?i.reverse():null}(t,e,i,o))return a;if(a=r.connectionStart&&x(e,t,n,o))return a;return r.connectionStart||r.connectionEnd||!o||!o.length?v(e,t,n,i,r):o},n.tryLayoutStraight=b,n.withoutRedundantPoints=i;var s=e("min-dash"),u=e("./LayoutUtil"),l=e("../util/Geometry"),d=Math.round,c=20,p={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function h(e,t,n){var i,o,r=(0,u.getOrientation)(t,e,5),a=n.split(":")[0],s=d((t.x-e.x)/2+e.x),l=d((t.y-e.y)/2+e.y),c={t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[a].test(r),n=/h|r|l/.test(a),t=!1;return c?(i=n?{x:s,y:e.y}:{x:e.x,y:l},o=n?"h:h":"v:v"):(o=n?"h:v":"v:h",i=!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[a].test(r)?n?(t=l===e.y,{x:e.x+20*(/l/.test(a)?-1:1),y:t?l+20:l}):{x:(t=s===e.x)?s+20:s,y:e.y+20*(/t/.test(a)?-1:1)}:{x:s,y:l}),{waypoints:m(e,i,o).concat(i),directions:o,turnNextDirections:t}}function f(e){return e.split(":").reverse().join(":")}function m(e,t,n){if(!(r=n=n||"h:h")||!/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(r))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");var i,o,r;if(w(n)){var a=h(e,t,n),s={waypoints:(l=h(t,e,f(l=n))).waypoints.slice().reverse(),directions:f(l.directions),turnNextDirections:l.turnNextDirections},l=(o=s,r=(i=a).directions.split(":")[1],l=o.directions.split(":")[0],l=(r=i.turnNextDirections?"h"==r?"v":"h":r)+":"+(l=o.turnNextDirections?"h"==l?"v":"h":l),{waypoints:m(i.waypoints[i.waypoints.length-1],o.waypoints[0],l),directions:l});return[].concat(a.waypoints,l.waypoints,s.waypoints)}return function(e,t,n){var i=d((t.x-e.x)/2+e.x),o=d((t.y-e.y)/2+e.y);if("h:v"===n)return[{x:t.x,y:e.y}];if("v:h"===n)return[{x:e.x,y:t.y}];if("h:h"===n)return[{x:i,y:e.y},{x:i,y:t.y}];if("v:v"===n)return[{x:e.x,y:o},{x:t.x,y:o}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(e,t,n)}function g(e,t,n){n=m(e,t,n);return n.unshift(e),n.push(t),i(n)}function v(e,t,n,i,o){var r=o&&o.preferredLayouts||[],a=(0,s.without)(r,"straight")[0]||"h:h",o=p[a]||0,r=(0,u.getOrientation)(e,t,o),o=function(e,t){if(w(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}(r,a);n=n||(0,u.getMid)(e),i=i||(0,u.getMid)(t);a=o.split(":");return g(k(n,e,a[0],{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[r]),k(i,t,a[1],r),o)}function y(e,t,n){var i;return i=t[e],t=n[e],e=n[e]+n[{x:"width",y:"height"}[e]],t<=i&&i<=e}function b(e,t,n,i,o){var r,a={},s=(0,u.getOrientation)(e,t);return/^(top|bottom|left|right)$/.test(s)?(/top|bottom/.test(s)&&(r="x"),/left|right/.test(s)&&(r="y"),"target"===o.preserveDocking?y(r,i,e)?(a[r]=i[r],[{x:(void 0!==a.x?a:n).x,y:(void 0!==a.y?a:n).y,original:{x:(void 0!==a.x?a:n).x,y:(void 0!==a.y?a:n).y}},{x:i.x,y:i.y}]):null:y(r,n,t)?(a[r]=n[r],[{x:n.x,y:n.y},{x:(void 0!==a.x?a:i).x,y:(void 0!==a.y?a:i).y,original:{x:(void 0!==a.x?a:i).x,y:(void 0!==a.y?a:i).y}}]):null):null}function x(e,t,n,i){if((o=i).length<3||!(4<o.length)&&(0,s.find)(o,function(e,t){t=o[t-1];return t&&(0,l.pointDistance)(e,t)<3}))return null;var o,r=i[0],a=i.slice();return a[0]=n,a[1]=function(e,t,n){switch((0,l.pointsAligned)(t,e)){case"v":return{x:n.x,y:e.y};case"h":return{x:e.x,y:n.y}}return{x:e.x,y:e.y}}(a[1],r,n),(a=(r=function(e,t,n){for(var i=e.length-2;0!==i;i--)if((0,l.pointInRect)(e[i],t,c)||(0,l.pointInRect)(e[i],n,c))return e.slice(i);return e}(a,e,t))!==a?x(e,t,n,r):a)&&(0,l.pointsAligned)(a)?null:a}function w(e){return e&&/t|r|b|l/.test(e)}function k(e,t,n,i){if("t"===(n="v"===(n="h"===n?/left/.test(i)?"l":"r":n)?/top/.test(i)?"t":"b":n))return{original:e,x:e.x,y:t.y};if("r"===n)return{original:e,x:t.x+t.width,y:e.y};if("b"===n)return{original:e,x:e.x,y:t.y+t.height};if("l"===n)return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+n+">")}function i(o){return o.reduce(function(e,t,n){var i=e[e.length-1],n=o[n+1];return(0,l.pointsOnLine)(i,n,t,0)||e.push(t),e},[])}},{"../util/Geometry":607,"./LayoutUtil":589,"min-dash":834}],591:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Base=u,n.Shape=d,n.Root=p,n.Label=h,n.Connection=f,n.create=function(e,t){var n=m[e];if(n)return(0,i.assign)(new n,t);throw new Error("unknown type: <"+e+">")};var i=e("min-dash"),n=o(e("inherits")),e=o(e("object-refs"));function o(e){return e&&e.__esModule?e:{default:e}}var r=new e.default({name:"children",enumerable:!0,collection:!0},{name:"parent"}),a=new e.default({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),s=new e.default({name:"attachers",collection:!0},{name:"host"}),l=new e.default({name:"outgoing",collection:!0},{name:"source"}),c=new e.default({name:"incoming",collection:!0},{name:"target"});function u(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),r.bind(this,"parent"),a.bind(this,"labels"),l.bind(this,"outgoing"),c.bind(this,"incoming")}function d(){u.call(this),r.bind(this,"children"),s.bind(this,"host"),s.bind(this,"attachers")}function p(){d.call(this)}function h(){d.call(this),a.bind(this,"labelTarget")}function f(){u.call(this),l.bind(this,"source"),c.bind(this,"target")}(0,n.default)(d,u),(0,n.default)(p,d),(0,n.default)(h,d),(0,n.default)(f,u);var m={connection:f,shape:d,label:h,root:p}},{inherits:623,"min-dash":834,"object-refs":839}],592:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("min-dash"),s={moveSpeed:50,moveSpeedAccelerated:200};function i(e,i,o){var r=this;this._config=(0,a.assign)({},s,e||{}),i.addListener(function(e){var t=e.keyEvent,e=r._config;if(i.isCmd(t)&&i.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],t)){var n,e=i.isShift(t)?e.moveSpeedAccelerated:e.moveSpeed;switch(t.key){case"ArrowLeft":case"Left":n="left";break;case"ArrowUp":case"Up":n="up";break;case"ArrowRight":case"Right":n="right";break;case"ArrowDown":case"Down":n="down"}return r.moveCanvas({speed:e,direction:n}),!0}}),this.moveCanvas=function(e){var t=0,n=0,i=e.speed/Math.min(Math.sqrt(o.viewbox().scale),1);switch(e.direction){case"left":t=i;break;case"up":n=i;break;case"right":t=-i;break;case"down":n=-i}o.scroll({dx:t,dy:n})}}i.$inject=["config.keyboardMove","keyboard","canvas"]},{"min-dash":834}],593:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../../features/keyboard")),e=o(e("./KeyboardMove"));function o(e){return e&&e.__esModule?e:{default:e}}e={__depends__:[i.default],__init__:["keyboardMove"],keyboardMove:["type",e.default]};n.default=e},{"../../features/keyboard":506,"./KeyboardMove":592}],594:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var l=e("../../util/Cursor"),c=e("../../util/ClickTrap"),u=e("../../util/PositionUtil"),o=e("min-dom"),d=e("../../util/Event"),p=15;function i(r,a){var s;function n(e){var t=s.start,n=s.button,i=(0,d.toPoint)(e),o=(0,u.delta)(i,t);!s.dragging&&(t=o,Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))>p)&&(s.dragging=!0,0===n&&(0,c.install)(r),(0,l.set)("grab")),s.dragging&&(n=s.last||s.start,o=(0,u.delta)(i,n),a.scroll({dx:o.x,dy:o.y}),s.last=i),e.preventDefault()}function i(e){o.event.unbind(document,"mousemove",n),o.event.unbind(document,"mouseup",i),(s=null,l.unset)()}r.on("element.mousedown",500,function(e){return function(e){if(!(0,o.closest)(e.target,".djs-draggable")){var t=e.button;if(!(2<=t||e.ctrlKey||e.shiftKey||e.altKey))return s={button:t,start:(0,d.toPoint)(e)},o.event.bind(document,"mousemove",n),o.event.bind(document,"mouseup",i),!0}}(e.originalEvent)}),this.isActive=function(){return!!s}}i.$inject=["eventBus","canvas"]},{"../../util/ClickTrap":601,"../../util/Cursor":603,"../../util/Event":606,"../../util/PositionUtil":614,"min-dom":835}],595:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["moveCanvas"],moveCanvas:["type",((i=e("./MoveCanvas"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./MoveCanvas":594}],596:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__depends__:[((i=e("../../features/touch"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"../../features/touch":584}],597:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=e("min-dom"),r=e("./ZoomUtil"),s=e("../../util/Math"),o=e("min-dash"),l=Math.sign||function(e){return 0<=e?1:-1},c={min:.2,max:4},u=.75;function i(t,e,n){t=t||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,o.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||u;var i=this;e.on("canvas.init",function(e){i._init(!1!==t.enabled)})}i.$inject=["config.zoomScroll","eventBus","canvas"],i.prototype.scroll=function(e){this._canvas.scroll(e)},i.prototype.reset=function(){this._canvas.zoom("fit-viewport")},i.prototype.zoom=function(e,t){var n=(0,r.getStepSize)(c,20);this._totalDelta+=e,.1<Math.abs(this._totalDelta)&&(this._zoom(e,t,n),this._totalDelta=0)},i.prototype._handleWheel=function(e){var t,n,i,o,r;(0,a.closest)(e.target,".djs-scrollable",!0)||(o=this._container,e.preventDefault(),t=e.ctrlKey,n=e.shiftKey,i=-1*this._scale,i*=t?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,t?(r=o.getBoundingClientRect(),o={x:e.clientX-r.left,y:e.clientY-r.top},r=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*l(e.deltaY)*i,this.zoom(r,o)):(r=n?{dx:i*e.deltaY,dy:0}:{dx:i*e.deltaX,dy:i*e.deltaY},this.scroll(r)))},i.prototype.stepZoom=function(e,t){var n=(0,r.getStepSize)(c,10);this._zoom(e,t,n)},i.prototype._zoom=function(e,t,n){var i=this._canvas,o=0<e?1:-1,e=(0,s.log10)(i.zoom()),e=Math.round(e/n)*n;e+=n*o;e=Math.pow(10,e);i.zoom((0,r.cap)(c,e),t)},i.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,i=this._enabled;return i!==(e=void 0===e?!i:e)&&a.event[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e},i.prototype._init=function(e){this.toggle(e)}},{"../../util/Math":611,"./ZoomUtil":598,"min-dash":834,"min-dom":835}],598:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getStepSize=function(e,t){var n=(0,i.log10)(e.min),e=(0,i.log10)(e.max);return(Math.abs(n)+Math.abs(e))/t},n.cap=function(e,t){return Math.max(e.min,Math.min(e.max,t))};var i=e("../../util/Math")},{"../../util/Math":611}],599:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={__init__:["zoomScroll"],zoomScroll:["type",((i=e("./ZoomScroll"))&&i.__esModule?i:{default:i}).default]};n.default=o},{"./ZoomScroll":597}],600:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getNewAttachPoint=function(e,t,n){var i=(0,l.center)(t),o=(0,l.center)(n),e=(0,l.delta)(e,i),i=e.x*(n.width/t.width),t=e.y*(n.height/t.height);return(0,s.roundPoint)({x:o.x+i,y:o.y+t})},n.getNewAttachShapeDelta=function(e,t,n){var i=(0,l.center)(e),o=(0,l.center)(t),r=(0,l.center)(n),a=(0,l.delta)(e,i),o=(0,l.delta)(i,o),i=function(e,t,n){var i=(0,s.asTRBL)(t),o=(0,s.asTRBL)(n);if(function(e,t){return function(e,t){return e.right!==t.right&&e.left!==t.left}(e,t)||function(e,t){return e.top!==t.top&&e.bottom!==t.bottom}(e,t)}(i,o))return null;var r,t=(0,s.getOrientation)(t,e);if("top"===t)r={x:0,y:o.bottom-i.bottom};else if("bottom"===t)r={x:0,y:o.top-i.top};else if("right"===t)r={x:o.left-i.left,y:0};else{if("left"!==t)return null;r={x:o.right-i.right,y:0}}return e={x:e.x+r.x,y:e.y+r.y},(0,s.getOrientation)(n,e)===t?r:null}(i,t,n);if(i)return i;i=o.x*(n.width/t.width),t=o.y*(n.height/t.height),i=r.x+i,t=r.y+t;return(0,s.roundPoint)({x:i+a.x-e.x,y:t+a.y-e.y})};var s=e("../layout/LayoutUtil"),l=e("./PositionUtil")},{"../layout/LayoutUtil":589,"./PositionUtil":614}],601:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.install=function(e,t){function n(){return!1}return t=t||"element.click",e.once(t,i,n),function(){e.off(t,n)}};var i=5e3},{}],602:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.remove=function(e,t){if(!e||!t)return-1;t=e.indexOf(t);-1!==t&&e.splice(t,1);return t},n.add=function(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)}},n.indexOf=function(e,t){return e&&t?e.indexOf(t):-1}},{}],603:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.set=r,n.unset=function(){r(null)},n.has=function(e){return(0,i.classes)(document.body).has("djs-cursor-"+e)};var i=e("min-dom"),o=/^djs-cursor-.*$/;function r(e){var t=(0,i.classes)(document.body);t.removeMatching(o),e&&t.add("djs-cursor-"+e)}},{"min-dom":835}],604:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getParents=function(e){return(0,c.filter)(e,function(t){return!(0,c.find)(e,function(e){return e!==t&&function e(t,n){if(!n)return;if(t===n)return n;if(!t.parent)return;return e(t.parent,n)}(t,e)})})},n.add=s,n.eachElement=u,n.selfAndChildren=i,n.selfAndDirectChildren=function(e,t){return i(e,!t,1)},n.selfAndAllChildren=function(e,t){return i(e,!t,-1)},n.getClosure=function(e,t,n){(0,c.isUndefined)(t)&&(t=!0);(0,c.isObject)(t)&&(n=t,t=!0);var i=p((n=n||{}).allShapes),o=p(n.allConnections),r=p(n.enclosedElements),a=p(n.enclosedConnections),s=p(n.topLevel,t&&(0,c.groupBy)(e,function(e){return e.id}));function l(e){s[e.source.id]&&s[e.target.id]&&(s[e.id]=[e]),i[e.source.id]&&i[e.target.id]&&(a[e.id]=r[e.id]=e),o[e.id]=e}return u(e,function(e){if(!(r[e.id]=e).waypoints)return i[e.id]=e,(0,c.forEach)(e.incoming,l),(0,c.forEach)(e.outgoing,l),e.children;a[e.id]=o[e.id]=e}),{allShapes:i,allConnections:o,topLevel:s,enclosedConnections:a,enclosedElements:r}},n.getBBox=d,n.getEnclosedElements=function(e,n){var i={};return(0,c.forEach)(e,function(e){var t=e;t.waypoints&&(t=d(t)),!(0,c.isNumber)(n.y)&&t.x>n.x&&(i[e.id]=e),!(0,c.isNumber)(n.x)&&t.y>n.y&&(i[e.id]=e),t.x>n.x&&t.y>n.y&&(!((0,c.isNumber)(n.width)&&(0,c.isNumber)(n.height)&&t.width+t.x<n.width+n.x&&t.height+t.y<n.height+n.y)&&(0,c.isNumber)(n.width)&&(0,c.isNumber)(n.height)||(i[e.id]=e))}),i},n.getType=function(e){if("waypoints"in e)return"connection";if("x"in e)return"shape";return"root"},n.isFrameElement=function(e){return!(!e||!e.isFrame)};var c=e("min-dash");function s(e,t,n){n=!n||-1===e.indexOf(t);return n&&e.push(t),n}function u(e,n,i){i=i||0,(0,c.isArray)(e)||(e=[e]),(0,c.forEach)(e,function(e,t){t=n(e,t,i);(0,c.isArray)(t)&&t.length&&u(t,n,i+1)})}function i(e,i,o){var r=[],a=[];return u(e,function(e,t,n){s(r,e,i);e=e.children;if((-1===o||n<o)&&e&&s(a,e,i))return e}),r}function d(e,o){var r,a,s,l;return o=!!o,(0,c.isArray)(e)||(e=[e]),(0,c.forEach)(e,function(e){var t=e,n=(t=e.waypoints&&!o?d(e.waypoints,!0):t).x,i=t.y,e=t.height||0,t=t.width||0;(n<r||void 0===r)&&(r=n),(i<a||void 0===a)&&(a=i),(s<n+t||void 0===s)&&(s=n+t),(l<i+e||void 0===l)&&(l=i+e)}),{x:r,y:a,height:l-a,width:s-r}}function p(e,t){return(0,c.assign)({},e||{},t||{})}},{"min-dash":834}],605:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.escapeHTML=function(e){return(e=""+e)&&e.replace(/[&<>"']/g,function(e){return r[e]})},Object.defineProperty(n,"escapeCSS",{enumerable:!0,get:function(){return o.default}});var i,o=(i=e("css.escape"))&&i.__esModule?i:{default:i};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}},{"css.escape":427}],606:[function(e,t,n){"use strict";function i(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function o(e){return e.originalEvent||e.srcEvent}Object.defineProperty(n,"__esModule",{value:!0}),n.getOriginal=o,n.stopPropagation=function(e,t){i(e),i(o(e))},n.toPoint=function(e){e.pointers&&e.pointers.length&&(e=e.pointers[0]);e.touches&&e.touches.length&&(e=e.touches[0]);return e?{x:e.clientX,y:e.clientY}:null}},{}],607:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pointDistance=o,n.pointsOnLine=function(e,t,n,i){void 0===i&&(i=5);if(!e||!t||!n)return!1;n=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),t=o(e,t);return Math.abs(n/t)<=i},n.pointsAligned=function(e,t){t=(0,i.isArray)(e)?e:[e,t];if(a(t))return"h";if(s(t))return"v";return!1},n.pointsAlignedHorizontally=a,n.pointsAlignedVertically=s,n.pointInRect=function(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n},n.getMidPoint=function(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}};var i=e("min-dash");function o(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}var r=2;function a(e,t){var t=(0,i.isArray)(e)?e:[e,t],n=t.slice().shift();return(0,i.every)(t,function(e){return Math.abs(n.y-e.y)<=r})}function s(e,t){var t=(0,i.isArray)(e)?e:[e,t],n=t.slice().shift();return(0,i.every)(t,function(e){return Math.abs(n.x-e.x)<=r})}},{"min-dash":834}],608:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVisual=function(e){return e.childNodes[0]},n.getChildren=function(e){return e.parentNode.childNodes[1]}},{}],609:[function(e,t,n){"use strict";function i(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).prototype.next=function(){return this._prefix+ ++this._counter}},{}],610:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getApproxIntersection=function(e,t){return function(e,t){var n,i;for(n=0;i=e[n];n++)if((0,o.pointDistance)(i,t)<=l)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n=(0,r.default)(function(e,t){var n=e.x,e=e.y;return[["M",n,e],["m",0,-t],["a",t,t,0,1,1,0,2*t],["a",t,t,0,1,1,0,-2*t],["z"]]}(t,l),function(e){var n=[];return e.forEach(function(e,t){n.push([0===t?"M":"L",e.x,e.y])}),n}(e)),t=n[0],n=n[n.length-1];return t?t===n?{point:{x:a(t.x),y:a(t.y)},index:t.segment2}:t.segment2===n.segment2?{point:{x:a(t.x+n.x)/2,y:a(t.y+n.y)/2},index:t.segment2}:(n=s(t.segment2,n.segment2)-1,{point:e[n],bendpoint:!0,index:n}):null}(e,t)};var i,o=e("./Geometry"),r=(i=e("path-intersection"))&&i.__esModule?i:{default:i};var a=Math.round,s=Math.max;var l=10},{"./Geometry":607,"path-intersection":842}],611:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.log10=function(e){return Math.log(e)/Math.log(10)},Object.defineProperty(n,"substract",{enumerable:!0,get:function(){return i.delta}});var i=e("./PositionUtil")},{"./PositionUtil":614}],612:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isButton=r,n.isPrimaryButton=a,n.isAuxiliaryButton=function(e){return r(e,1)},n.isSecondaryButton=function(e){return r(e,2)},n.hasPrimaryModifier=function(e){var t=(0,i.getOriginal)(e)||e;if(!a(e))return!1;return(0,o.isMac)()?t.metaKey:t.ctrlKey},n.hasSecondaryModifier=function(e){var t=(0,i.getOriginal)(e)||e;return a(e)&&t.shiftKey},Object.defineProperty(n,"isMac",{enumerable:!0,get:function(){return o.isMac}});var i=e("./Event"),o=e("./Platform");function r(e,t){return((0,i.getOriginal)(e)||e).button===t}function a(e){return r(e,0)}},{"./Event":606,"./Platform":613}],613:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isMac=function(){return/mac/i.test(navigator.platform)}},{}],614:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.center=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},n.delta=function(e,t){return{x:e.x-t.x,y:e.y-t.y}}},{}],615:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.saveClear=function(e,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}},{}],616:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.componentsToPath=function(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")},n.toSVGPoints=o,n.createLine=function(e,t){var n=(0,i.create)("polyline");(0,i.attr)(n,{points:o(e)}),t&&(0,i.attr)(n,t);return n},n.updateLine=function(e,t){return(0,i.attr)(e,{points:o(t)}),e};var i=e("tiny-svg");function o(e){for(var t,n="",i=0;t=e[i];i++)n+=t.x+","+t.y+" ";return n}},{"tiny-svg":851}],617:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transform=function(e,t,n,i,o){var r=(0,a.createTransform)();r.setTranslate(t,n);n=(0,a.createTransform)();n.setRotate(i||0,0,0);i=(0,a.createTransform)();i.setScale(o||1,o||1),(0,a.transform)(e,[r,n,i])},n.translate=function(e,t,n){var i=(0,a.createTransform)();i.setTranslate(t,n),(0,a.transform)(e,i)},n.rotate=function(e,t){var n=(0,a.createTransform)();n.setRotate(t,0,0),(0,a.transform)(e,n)},n.scale=function(e,t){var n=(0,a.createTransform)();n.setScale(t,t),(0,a.transform)(e,n)};var a=e("tiny-svg")},{"tiny-svg":851}],618:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var g=e("min-dash"),v=e("tiny-svg"),i=0,o={width:150,height:50};function y(e,t,n){for(var i,o=e.shift(),r=o;;){if((i=function(e,t){var n;t.textContent=e;try{var i,o=""===e;return t.textContent=o?"dummy":e,i={width:(n=t.getBBox()).width+2*n.x,height:n.height},o&&(i.width=0),i}catch(e){return{width:0,height:0}}}(r,n)).width=r?i.width:0," "===r||""===r||i.width<Math.round(t)||r.length<2)return function(e,t,n,i){t.length<n.length&&(n=n.slice(t.length).trim(),e.unshift(n));return{width:i.width,height:i.height,text:t}}(e,r,o,i);r=function(e,t,n){n=Math.max(e.length*(n/t),1),t=function(e,t){var n,i=e.split(/(\s|-|\u00AD)/g),o=[],r=0;if(1<i.length)for(;n=i.shift();){if(!(n.length+r<t)){"-"!==n&&n!==a||o.pop();break}o.push(n),r+=n.length}e=o[o.length-1];e&&e===a&&(o[o.length-1]="-");return o.join("")}(e,n);t=t||e.slice(0,Math.max(Math.round(n-1),1));return t}(r,i.width,t)}}var a="­";function r(e){this._config=(0,g.assign)({},{size:o,padding:i,style:{},align:"center-top"},e||{})}r.prototype.createText=function(e,t){return this.layoutText(e,t).element},r.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},r.prototype.layoutText=function(e,t){var n,i=(0,g.assign)({},this._config.size,t.box),o=(0,g.assign)({},this._config.style,t.style),r={horizontal:(n=(n=t.align||this._config.align).split("-"))[0]||"center",vertical:n[1]||"top"},a=(n=(void 0!==t.padding?t:this._config).padding,(0,g.isObject)(n)?(0,g.assign)({top:0,left:0,right:0,bottom:0},n):{top:n,left:n,right:n,bottom:n}),s=t.fitBox||!1,l=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(o),c=e.split(/\u00AD?\r?\n/),u=[],d=i.width-a.left-a.right,p=(0,v.create)("text");(0,v.attr)(p,{x:0,y:0}),(0,v.attr)(p,o);(e=document.getElementById("helper-svg"))||(e=(0,v.create)("svg"),(0,v.attr)(e,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e));for((0,v.append)(e,p);c.length;)u.push(y(c,d,p));"middle"===r.vertical&&(a.top=a.bottom=0);var e=(0,g.reduce)(u,function(e,t,n){return e+(l||t.height)},0)+a.top+a.bottom,h=(0,g.reduce)(u,function(e,t,n){return t.width>e?t.width:e},0),f=a.top;"middle"===r.vertical&&(f+=(i.height-e)/2),f-=(l||u[0].height)/4;var m=(0,v.create)("text");return(0,v.attr)(m,o),(0,g.forEach)(u,function(e){var t;switch(f+=l||e.height,r.horizontal){case"left":t=a.left;break;case"right":t=(s?h:d)-a.right-e.width;break;default:t=Math.max(((s?h:d)-e.width)/2+a.left,0)}var n=(0,v.create)("tspan");(0,v.attr)(n,{x:t,y:f}),n.textContent=e.text,(0,v.append)(m,n)}),(0,v.remove)(p),{dimensions:{width:h,height:e},element:m}}},{"min-dash":834,"tiny-svg":851}],619:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.annotate=v,n.parseAnnotations=y,n.Module=b,n.Injector=function p(e,o){o=o||{get:function(e,t){if(r.push(e),!1===t)return null;throw s('No provider for "'+e+'"!')}};var r=[];var h=this._providers=Object.create(o._providers||null);var a=this._instances=Object.create(null);var f=a.injector=this;var s=function(e){var t=r.join(" -> ");return r.length=0,new Error(t?e+" (Resolving: "+t+")":e)};var l=function(e,t){if(!h[e]&&-1!==e.indexOf(".")){for(var n=e.split("."),i=l(n.shift());n.length;)i=i[n.shift()];return i}if(g(a,e))return a[e];if(g(h,e)){if(-1!==r.indexOf(e))throw r.push(e),s("Cannot resolve circular dependency!");return r.push(e),a[e]=h[e][0](h[e][1]),r.pop(),a[e]}return o.get(e,t)};var i=function(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!d(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=v(e.slice())}var n=(e.$inject||y(e)).map(function(e){return g(t,e)?t[e]:l(e)});return{fn:e,dependencies:n}};var t=function(e){var t=i(e),e=t.fn,t=t.dependencies;return new(Function.prototype.bind.apply(e,[null].concat(t)))};var n=function(e,t,n){var e=i(e,n),n=e.fn,e=e.dependencies;return n.apply(t,e)};var m=function(t){return v(function(e){return t.get(e)})};var c=function(e,t){if(t&&t.length){var n,i,o,r,a,s=Object.create(null),l=Object.create(null),c=[],u=[],d=[];for(a in h)n=h[a],-1!==t.indexOf(a)&&("private"===n[2]?-1===(i=c.indexOf(n[3]))?(o=n[3].createChild([],t),r=m(o),c.push(n[3]),u.push(o),d.push(r),s[a]=[r,a,"private",o]):s[a]=[d[i],a,"private",u[i]]:s[a]=[n[2],n[1]],l[a]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach(function(e){-1!==n[1].$scope.indexOf(e)&&(s[a]=[n[2],n[1]],l[e]=!0)});t.forEach(function(e){if(!l[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}),e.unshift(s)}return new p(e,f)};var u={factory:n,type:t,value:function(e){return e}};e.forEach(function(i){function o(e,t){return t="value"!==e&&d(t)?v(t.slice()):t}var e,t,n;i instanceof b?i.forEach(function(e){var t=e[0],n=e[1],e=e[2];h[t]=[u[n],o(n,e),n]}):"object"==typeof i&&(i.__exports__?(e=Object.keys(i).reduce(function(e,t){return"__"!==t.substring(0,2)&&(e[t]=i[t]),e},Object.create(null)),t=new p((i.__modules__||[]).concat([e]),f),n=v(function(e){return t.get(e)}),i.__exports__.forEach(function(e){h[e]=[n,e,"private",t]})):Object.keys(i).forEach(function(e){var t,n;"private"!==i[e][2]?(t=i[e][0],n=i[e][1],h[e]=[u[t],o(t,n),t]):h[e]=i[e]}))});this.get=l;this.invoke=n;this.instantiate=t;this.createChild=c};var i=/^class /;function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(){var e=Array.prototype.slice.call(arguments),t=(e=1===e.length&&d(e[0])?e[0]:e).pop();return t.$inject=e,t}var o=/constructor\s*[^(]*\(\s*([^)]*)\)/m,r=/^(?:async )?(?:function\s*)?[^(]*\(\s*([^)]*)\)/m,a=/\/\*([^*]*)\*\//m;function y(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(i.test(e.toString())?o:r);return t&&t[1]&&t[1].split(",").map(function(e){return((t=e.match(a))?t[1]:e).trim()})||[]}function b(){var n=[];this.factory=function(e,t){return n.push([e,"factory",t]),this},this.value=function(e,t){return n.push([e,"value",t]),this},this.type=function(e,t){return n.push([e,"type",t]),this},this.forEach=function(e){n.forEach(e)}}},{}],620:[function(e,t,n){var i=!(t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t=t||document;var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i)return(o=t.createElement("html")).innerHTML=e,o.removeChild(o.lastChild);var o,n=Object.prototype.hasOwnProperty.call(s,i)?s[i]:s._default,r=n[0],i=n[1],n=n[2];(o=t.createElement("div")).innerHTML=i+e+n;for(;r--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);var a=t.createDocumentFragment();for(;o.firstChild;)a.appendChild(o.removeChild(o.firstChild));return a});"undefined"!=typeof document&&((t=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',i=!t.getElementsByTagName("link").length,t=void 0);var s={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};s.td=s.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],s.option=s.optgroup=[1,'<select multiple="multiple">',"</select>"],s.thead=s.tbody=s.colgroup=s.caption=s.tfoot=[1,"<table>","</table>"],s.polyline=s.ellipse=s.polygon=s.circle=s.text=s.line=s.path=s.rect=s.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],621:[function(e,Be,t){!function(o,s,c){"use strict";var r=["","webkit","Moz","MS","ms","o"],e=s.createElement("div"),n="function",a=Math.round,u=Math.abs,l=Date.now;function d(e,t,n){return setTimeout(v(e,n),t)}function i(e,t,n){return Array.isArray(e)&&(p(e,n[t],n),1)}function p(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==c)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function t(n,e,t){var i="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),t=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=o.console&&(o.console.warn||o.console.log);return e&&e.call(o.console,i,t),n.apply(this,arguments)}}var h="function"!=typeof Object.assign?function(e){if(e===c||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==c&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t}:Object.assign,f=t(function(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;)n&&e[i[o]]!==c||(e[i[o]]=t[i[o]]),o++;return e},"extend","Use `assign`."),m=t(function(e,t){return f(e,t,!0)},"merge","Use `assign`.");function g(e,t,n){var i=t.prototype,t=e.prototype=Object.create(i);t.constructor=e,t._super=i,n&&h(t,n)}function v(e,t){return function(){return e.apply(t,arguments)}}function y(e,t){return typeof e==n?e.apply(t&&t[0]||c,t):e}function b(e,t){return e===c?t:e}function x(t,e,n){p(C(e),function(e){t.addEventListener(e,n,!1)})}function w(t,e,n){p(C(e),function(e){t.removeEventListener(e,n,!1)})}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return-1<e.indexOf(t)}function C(e){return e.trim().split(/\s+/g)}function S(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function _(e,n,t){for(var i=[],o=[],r=0;r<e.length;){var a=n?e[r][n]:e[r];S(o,a)<0&&i.push(e[r]),o[r]=a,r++}return i=t?n?i.sort(function(e,t){return e[n]>t[n]}):i.sort():i}function N(e,t){for(var n,i=t[0].toUpperCase()+t.slice(1),o=0;o<r.length;){if((n=(n=r[o])?n+i:t)in e)return n;o++}return c}var A=1;function P(e){e=e.ownerDocument||e;return e.defaultView||e.parentWindow||o}var I="ontouchstart"in o,R=N(o,"PointerEvent")!==c,M=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L="touch",D=25,j=1,F=4,O=8,B=1,H=2,$=4,z=8,U=16,V=H|$,q=z|U,W=V|q,K=["x","y"],G=["clientX","clientY"];function Y(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){y(t.options.enable,[t])&&n.handler(e)},this.init()}function X(e,t,n){var i=n.pointers.length,o=n.changedPointers.length,r=t&j&&i-o==0,o=t&(F|O)&&i-o==0;n.isFirst=!!r,n.isFinal=!!o,r&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,o=i.length;n.firstInput||(n.firstInput=Q(t));1<o&&!n.firstMultiple?n.firstMultiple=Q(t):1===o&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=(a||r).center,o=t.center=Z(i);t.timeStamp=l(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=ne(s,o),t.distance=te(s,o),function(e,t){var n=t.center,i=e.offsetDelta||{},o=e.prevDelta||{},r=e.prevInput||{};t.eventType!==j&&r.eventType!==F||(o=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=o.x+(n.x-i.x),t.deltaY=o.y+(n.y-i.y)}(n,t),t.offsetDirection=ee(t.deltaX,t.deltaY);o=J(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=o.x,t.overallVelocityY=o.y,t.overallVelocity=u(o.x)>u(o.y)?o.x:o.y,t.scale=a?function(e,t){return te(t[0],t[1],G)/te(e[0],e[1],G)}(a.pointers,i):1,t.rotation=a?function(e,t){return ne(t[1],t[0],G)+ne(e[1],e[0],G)}(a.pointers,i):0,t.maxPointers=!n.prevInput||t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers,function(e,t){var n,i,o=e.lastInterval||t,r=t.timeStamp-o.timeStamp;{var a,s,l;t.eventType!=O&&(D<r||o.velocity===c)?(a=t.deltaX-o.deltaX,s=t.deltaY-o.deltaY,l=J(r,a,s),n=l.x,i=l.y,l=u(l.x)>u(l.y)?l.x:l.y,s=ee(a,s),e.lastInterval=t):(l=o.velocity,n=o.velocityX,i=o.velocityY,s=o.direction)}t.velocity=l,t.velocityX=n,t.velocityY=i,t.direction=s}(n,t);e=e.element;k(t.srcEvent.target,e)&&(e=t.srcEvent.target);t.target=e}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Q(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:a(e.pointers[n].clientX),clientY:a(e.pointers[n].clientY)},n++;return{timeStamp:l(),pointers:t,center:Z(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Z(e){var t=e.length;if(1===t)return{x:a(e[0].clientX),y:a(e[0].clientY)};for(var n=0,i=0,o=0;o<t;)n+=e[o].clientX,i+=e[o].clientY,o++;return{x:a(n/t),y:a(i/t)}}function J(e,t,n){return{x:t/e||0,y:n/e||0}}function ee(e,t){return e===t?B:u(e)>=u(t)?e<0?H:$:t<0?z:U}function te(e,t,n){var i=t[(n=n||K)[0]]-e[n[0]],n=t[n[1]]-e[n[1]];return Math.sqrt(i*i+n*n)}function ne(e,t,n){var i=t[(n=n||K)[0]]-e[n[0]],n=t[n[1]]-e[n[1]];return 180*Math.atan2(n,i)/Math.PI}Y.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(P(this.element),this.evWin,this.domHandler)}};var ie={mousedown:j,mousemove:2,mouseup:F};function oe(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,Y.apply(this,arguments)}g(oe,Y,{handler:function(e){var t=ie[e.type];t&j&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=F),this.pressed&&(t&F&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var re={pointerdown:j,pointermove:2,pointerup:F,pointercancel:O,pointerout:O},ae={2:L,3:"pen",4:"mouse",5:"kinect"},se="pointerdown",le="pointermove pointerup pointercancel";function ce(){this.evEl=se,this.evWin=le,Y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(se="MSPointerDown",le="MSPointerMove MSPointerUp MSPointerCancel"),g(ce,Y,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),o=re[i],r=ae[e.pointerType]||e.pointerType,a=r==L,i=S(t,e.pointerId,"pointerId");o&j&&(0===e.button||a)?i<0&&(t.push(e),i=t.length-1):o&(F|O)&&(n=!0),i<0||(t[i]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(i,1))}});var ue={touchstart:j,touchmove:2,touchend:F,touchcancel:O};function de(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Y.apply(this,arguments)}g(de,Y,{handler:function(e){var t,n=ue[e.type];n===j&&(this.started=!0),this.started&&(t=function(e,t){var n=T(e.touches),e=T(e.changedTouches);t&(F|O)&&(n=_(n.concat(e),"identifier",!0));return[n,e]}.call(this,e,n),n&(F|O)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:t[0],changedPointers:t[1],pointerType:L,srcEvent:e}))}});var pe={touchstart:j,touchmove:2,touchend:F,touchcancel:O};function he(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},Y.apply(this,arguments)}g(he,Y,{handler:function(e){var t=pe[e.type],n=function(e,t){var n=T(e.touches),i=this.targetIds;if(t&(2|j)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,a=T(e.changedTouches),s=[],l=this.target;if(r=n.filter(function(e){return k(e.target,l)}),t===j)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;o=0;for(;o<a.length;)i[a[o].identifier]&&s.push(a[o]),t&(F|O)&&delete i[a[o].identifier],o++;if(s.length)return[_(r.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:L,srcEvent:e})}});var fe=2500;function me(){Y.apply(this,arguments);var e=v(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new oe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ge(e){var t,n,e=e.changedPointers[0];e.identifier===this.primaryTouch&&(t={x:e.clientX,y:e.clientY},this.lastTouches.push(t),n=this.lastTouches,setTimeout(function(){var e=n.indexOf(t);-1<e&&n.splice(e,1)},fe))}g(me,Y,{handler:function(e,t,n){var i=n.pointerType==L,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)!function(e,t){e&j?(this.primaryTouch=t.changedPointers[0].identifier,ge.call(this,t)):e&(F|O)&&ge.call(this,t)}.call(this,t,n);else if(o&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(t-o.x),o=Math.abs(n-o.y);if(r<=25&&o<=25)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ve=N(e.style,"touchAction"),ye=ve!==c,be="manipulation",xe="none",we="pan-x",ke="pan-y",Ee=function(){if(!ye)return!1;var t={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!n||o.CSS.supports("touch-action",e)}),t}();function Ce(e,t){this.manager=e,this.set(t)}Ce.prototype={set:function(e){"compute"==e&&(e=this.compute()),ye&&this.manager.element.style&&Ee[e]&&(this.manager.element.style[ve]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return p(this.manager.recognizers,function(e){y(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(e){if(E(e,xe))return xe;var t=E(e,we),n=E(e,ke);if(t&&n)return xe;if(t||n)return t?we:ke;if(E(e,be))return be;return"auto"}(t.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,o=E(i,xe)&&!Ee.none,r=E(i,ke)&&!Ee[ke],a=E(i,we)&&!Ee[we];if(o){var s=1===e.pointers.length,i=e.distance<2,e=e.deltaTime<250;if(s&&i&&e)return}if(!a||!r)return o||r&&n&V||a&&n&q?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function Se(e){this.options=h({},this.defaults,e||{}),this.id=A++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Te(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function _e(e){return e==U?"down":e==z?"up":e==H?"left":e==$?"right":""}function Ne(e,t){t=t.manager;return t?t.get(e):e}function Ae(){Se.apply(this,arguments)}function Pe(){Ae.apply(this,arguments),this.pX=null,this.pY=null}function Ie(){Ae.apply(this,arguments)}function Re(){Se.apply(this,arguments),this._timer=null,this._input=null}function Me(){Ae.apply(this,arguments)}function Le(){Ae.apply(this,arguments)}function De(){Se.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function je(e,t){return(t=t||{}).recognizers=b(t.recognizers,je.defaults.preset),new Fe(e,t)}Se.prototype={defaults:{},set:function(e){return h(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(i(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ne(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return i(e,"dropRecognizeWith",this)||(e=Ne(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(i(e,"requireFailure",this))return this;var t=this.requireFail;return-1===S(t,e=Ne(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(i(e,"dropRequireFailure",this))return this;e=Ne(e,this);e=S(this.requireFail,e);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){var n=this,e=this.state;function i(e){n.manager.emit(e,t)}e<8&&i(n.options.event+Te(e)),i(n.options.event),t.additionalEvent&&i(t.additionalEvent),8<=e&&i(n.options.event+Te(e))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){e=h({},e);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(e){},getTouchAction:function(){},reset:function(){}},g(Ae,Se,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,e=this.attrTest(e);return i&&(n&O||!e)?16|t:i||e?n&F?8|t:2&t?4|t:2:32}}),g(Pe,Ae,{defaults:{event:"pan",threshold:10,pointers:1,direction:W},getTouchAction:function(){var e=this.options.direction,t=[];return e&V&&t.push(ke),e&q&&t.push(we),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,o=e.direction,r=e.deltaX,a=e.deltaY;return o&t.direction||(i=t.direction&V?(o=0===r?B:r<0?H:$,n=r!=this.pX,Math.abs(e.deltaX)):(o=0===a?B:a<0?z:U,n=a!=this.pY,Math.abs(e.deltaY))),e.direction=o,n&&i>t.threshold&&o&t.direction},attrTest:function(e){return Ae.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=_e(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),g(Ie,Ae,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){var t;1!==e.scale&&(t=e.scale<1?"in":"out",e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),g(Re,Se,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(F|O)&&!o)this.reset();else if(e.eventType&j)this.reset(),this._timer=d(function(){this.state=8,this.tryEmit()},t.time,this);else if(e.eventType&F)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&F?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=l(),this.manager.emit(this.options.event,this._input)))}}),g(Me,Ae,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),g(Le,Ae,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:V|q,pointers:1},getTouchAction:function(){return Pe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(V|q)?t=e.overallVelocity:n&V?t=e.overallVelocityX:n&q&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&u(t)>this.options.velocity&&e.eventType&F},emit:function(e){var t=_e(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),g(De,Se,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[be]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&j&&0===this.count)return this.failTimeout();if(i&&o&&n){if(e.eventType!=F)return this.failTimeout();o=!this.pTime||e.timeStamp-this.pTime<t.interval,n=!this.pCenter||te(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,n&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=d(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),je.VERSION="2.0.7",je.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Me,{enable:!1}],[Ie,{enable:!1},["rotate"]],[Le,{direction:V}],[Pe,{direction:V},["swipe"]],[De],[De,{event:"doubletap",taps:2},["tap"]],[Re]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Fe(e,t){this.options=h({},je.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((e=this).options.inputClass||(R?ce:M?he:I?me:oe))(e,X),this.touchAction=new Ce(this,this.options.touchAction),Oe(this,!0),p(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Oe(n,i){var o,r=n.element;r.style&&(p(n.options.cssProps,function(e,t){o=N(r.style,t),i?(n.oldCssProps[o]=r.style[o],r.style[o]=e):r.style[o]=n.oldCssProps[o]||""}),i||(n.oldCssProps={}))}Fe.prototype={set:function(e){return h(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t,n=this.session;if(!n.stopped){this.touchAction.preventDefaults(e);var i=this.recognizers,o=n.curRecognizer;(!o||8&o.state)&&(o=n.curRecognizer=null);for(var r=0;r<i.length;)t=i[r],2===n.stopped||o&&t!=o&&!t.canRecognizeWith(o)?t.reset():t.recognize(e),!o&&14&t.state&&(o=n.curRecognizer=t),r++}},get:function(e){if(e instanceof Se)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(i(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e},remove:function(e){return i(e,"remove",this)||!(e=this.get(e))||-1!==(e=S(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update()),this;var t},on:function(e,t){if(e!==c&&t!==c){var n=this.handlers;return p(C(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==c){var n=this.handlers;return p(C(e),function(e){t?n[e]&&n[e].splice(S(n[e],t),1):delete n[e]}),this}},emit:function(e,t){var n,i,o;this.options.domEvents&&(n=e,i=t,(o=s.createEvent("Event")).initEvent(n,!0,!0),(o.gesture=i).target.dispatchEvent(o));var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<r.length;)r[a](t),a++}},destroy:function(){this.element&&Oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(je,{INPUT_START:j,INPUT_MOVE:2,INPUT_END:F,INPUT_CANCEL:O,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:B,DIRECTION_LEFT:H,DIRECTION_RIGHT:$,DIRECTION_UP:z,DIRECTION_DOWN:U,DIRECTION_HORIZONTAL:V,DIRECTION_VERTICAL:q,DIRECTION_ALL:W,Manager:Fe,Input:Y,TouchAction:Ce,TouchInput:he,MouseInput:oe,PointerEventInput:ce,TouchMouseInput:me,SingleTouchInput:de,Recognizer:Se,AttrRecognizer:Ae,Tap:De,Pan:Pe,Swipe:Le,Pinch:Ie,Rotate:Me,Press:Re,on:x,off:w,each:p,merge:m,extend:f,assign:h,inherit:g,bindFn:v,prefixed:N}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=je,"function"==typeof define&&define.amd?define(function(){return je}):void 0!==Be&&Be.exports?Be.exports=je:o.Hammer=je}(window,document)},{}],622:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(function(e){var s=e.exports=function(e,t){if(t=t||16,(e=void 0===e?128:e)<=0)return"0";for(var n=Math.log(Math.pow(2,e))/Math.log(t),i=2;n===1/0;i*=2)n=Math.log(Math.pow(2,e/i))/Math.log(t)*i;for(var o=n-Math.floor(n),r="",i=0;i<Math.floor(n);i++)r=Math.floor(Math.random()*t).toString(t)+r;o&&(a=Math.pow(t,o),r=Math.floor(Math.random()*a).toString(t)+r);var a=parseInt(r,t);return a!==1/0&&a>=Math.pow(2,e)?s(e,t):r};s.rack=function(i,o,r){function n(e){var t=0;do{if(10<t++){if(!r)throw new Error("too many ID collisions, use more bits");i+=r}var n=s(i,o)}while(Object.hasOwnProperty.call(a,n));return a[n]=e,n}var a=n.hats={};return n.get=function(e){return n.hats[e]},n.set=function(e,t){return n.hats[e]=t,n},n.bits=i||128,n.base=o||16,n}}(i={exports:{}}),i.exports);function r(e){if(!(this instanceof r))return new r(e);this._seed=(e=e||[128,36,1]).length?o.rack(e[0],e[1],e[2]):e}r.prototype.next=function(e){return this._seed(e||!0)},r.prototype.nextPrefixed=function(e,t){for(var n;n=e+this.next(!0),this.assigned(n););return this.claim(n,t),n},r.prototype.claim=function(e,t){this._seed.set(e,t||!0)},r.prototype.assigned=function(e){return this._seed.get(e)||!1},r.prototype.unclaim=function(e){delete this._seed.hats[e]},r.prototype.clear=function(){for(var e in this._seed.hats)this.unclaim(e)},n.default=r},{}],623:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){var n;t&&(e.super_=t,(n=function(){}).prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e)}},{}],624:[function(e,n,t){!function(e,t){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(k,e){"use strict";function m(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function g(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,s=t.slice,v=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},l=t.push,o=t.indexOf,i={},r=i.toString,y=i.hasOwnProperty,a=y.toString,c=a.call(Object),b={},E=k.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var i,o,r=(n=n||E).createElement("script");if(r.text=e,t)for(i in u)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function f(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[r.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)};function d(e){var t=!!e&&"length"in e&&e.length,n=f(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:"3.6.0",constructor:C,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||m(r)||(r={}),a===s&&(r=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&r!==n&&(l&&n&&(C.isPlainObject(n)||(i=Array.isArray(n)))?(o=r[t],o=i&&!Array.isArray(o)?[]:i||C.isPlainObject(o)?o:{},i=!1,r[t]=C.extend(l,o,n)):void 0!==n&&(r[t]=n));return r},C.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==r.call(e))&&(!(e=n(e))||"function"==typeof(e=y.call(e,"constructor")&&e.constructor)&&a.call(e)===c)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(d(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(d(Object(e))?C.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!=a&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(d(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return v(a)},guid:1,support:b}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var p=function(n){function d(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function p(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function i(){k()}var e,h,x,r,o,f,m,g,w,l,c,k,E,a,C,v,s,u,y,S="sizzle"+ +new Date,b=n.document,T=0,_=0,N=le(),A=le(),P=le(),I=le(),R=function(e,t){return e===t&&(c=!0),0},M={}.hasOwnProperty,t=[],L=t.pop,D=t.push,j=t.push,F=t.slice,O=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",$="(?:\\\\[\\da-fA-F]{1,6}"+H+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+H+"*("+$+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+H+"*\\]",U=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",V=new RegExp(H+"+","g"),q=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),W=new RegExp("^"+H+"*,"+H+"*"),K=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),G=new RegExp(H+"|>"),Y=new RegExp(U),X=new RegExp("^"+$+"$"),Q={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,ee=/^h\d$/i,te=/^[^{]+\{\s*\[native \w/,ne=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ie=/[+~]/,oe=new RegExp("\\\\[\\da-fA-F]{1,6}"+H+"?|\\\\([^\\r\\n\\f])","g"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=ye(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{j.apply(t=F.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){j={apply:t.length?function(e,t){D.apply(e,F.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(t,e,n,i){var o,r,a,s,l,c,u=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&(k(e),e=e||E,C)){if(11!==d&&(s=ne.exec(t)))if(c=s[1]){if(9===d){if(!(r=e.getElementById(c)))return n;if(r.id===c)return n.push(r),n}else if(u&&(r=u.getElementById(c))&&y(e,r)&&r.id===c)return n.push(r),n}else{if(s[2])return j.apply(n,e.getElementsByTagName(t)),n;if((c=s[3])&&h.getElementsByClassName&&e.getElementsByClassName)return j.apply(n,e.getElementsByClassName(c)),n}if(h.qsa&&!I[t+" "]&&(!v||!v.test(t))&&(1!==d||"object"!==e.nodeName.toLowerCase())){if(c=t,u=e,1===d&&(G.test(t)||K.test(t))){for((u=ie.test(t)&&me(e.parentNode)||e)===e&&h.scope||((a=e.getAttribute("id"))?a=a.replace(re,p):e.setAttribute("id",a=S)),o=(l=f(t)).length;o--;)l[o]=(a?"#"+a:":scope")+" "+ve(l[o]);c=l.join(",")}try{return j.apply(n,u.querySelectorAll(c)),n}catch(e){I(t,!0)}finally{a===S&&e.removeAttribute("id")}}}return g(t.replace(q,"$1"),e,n,i)}function le(){var n=[];function i(e,t){return n.push(e+" ")>x.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function ce(e){return e[S]=!0,e}function ue(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function fe(a){return ce(function(r){return r=+r,ce(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!Z.test(t||e&&e.nodeName||"HTML")},k=se.setDocument=function(e){var t,e=e?e.ownerDocument||e:b;return e!=E&&9===e.nodeType&&e.documentElement&&(a=(E=e).documentElement,C=!o(E),b!=E&&(t=E.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",i,!1):t.attachEvent&&t.attachEvent("onunload",i)),h.scope=ue(function(e){return a.appendChild(e).appendChild(E.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),h.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=ue(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=te.test(E.getElementsByClassName),h.getById=ue(function(e){return a.appendChild(e).id=S,!E.getElementsByName||!E.getElementsByName(S).length}),h.getById?(x.filter.ID=function(e){var t=e.replace(oe,d);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&C){e=t.getElementById(e);return e?[e]:[]}}):(x.filter.ID=function(e){var t=e.replace(oe,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&C){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),x.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},x.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&C)return t.getElementsByClassName(e)},s=[],v=[],(h.qsa=te.test(E.querySelectorAll))&&(ue(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+H+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=E.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+H+"*name"+H+"*="+H+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+H+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(h.matchesSelector=te.test(u=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){h.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),s.push("!=",U)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=te.test(a.compareDocumentPosition),y=t||te.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e==E||e.ownerDocument==b&&y(b,e)?-1:t==E||t.ownerDocument==b&&y(b,t)?1:l?O(l,e)-O(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e==E?-1:t==E?1:o?-1:r?1:l?O(l,e)-O(l,t):0;if(o===r)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?pe(a[i],s[i]):a[i]==b?-1:s[i]==b?1:0}),E},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(k(e),h.matchesSelector&&C&&!I[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=u.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){I(t,!0)}return 0<se(t,E,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=E&&k(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=E&&k(e);var n=x.attrHandle[t.toLowerCase()],n=n&&M.call(x.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==n?n:h.attributes||!C?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},se.escape=function(e){return(e+"").replace(re,p)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,o=0;if(c=!h.detectDuplicates,l=!h.sortStable&&e.slice(0),e.sort(R),c){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return l=null,e},r=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(x=se.selectors={cacheLength:50,createPseudo:ce,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(oe,d),e[3]=(e[3]||e[4]||e[5]||"").replace(oe,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(oe,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=se.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(V," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=v!=y?"nextSibling":"previousSibling",u=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b,h=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&p){for(h=(s=(i=(o=(r=(a=u)[S]||(a[S]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===T&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||l.pop();)if(1===a.nodeType&&++h&&a===e){o[f]=[T,s,h];break}}else if(!1===(h=p?s=(i=(o=(r=(a=e)[S]||(a[S]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===T&&i[1]:h))for(;(a=++s&&a&&a[c]||(h=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++h||(p&&((o=(r=a[S]||(a[S]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]=[T,h]),a!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,r){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(r):1<a.length?(t=[e,e,"",r],x.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=O(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ce(function(e){var i=[],o=[],s=m(e.replace(q,"$1"));return s[S]?ce(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),i[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<se(t,e).length}}),contains:ce(function(t){return t=t.replace(oe,d),function(e){return-1<(e.textContent||r(e)).indexOf(t)}}),lang:ce(function(n){return X.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(oe,d).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ee.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ge(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(a,e,t){var s=e.dir,l=e.next,c=l||s,u=t&&"parentNode"===c,d=_++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n);return!1}:function(e,t,n){var i,o,r=[T,d];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((o=i[c])&&o[0]===T&&o[1]===d)return r[2]=o[2];if((i[c]=r)[2]=a(e,t,n))return!0}return!1}}function be(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function xe(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function we(h,f,m,g,v,e){return g&&!g[S]&&(g=we(g)),v&&!v[S]&&(v=we(v,e)),ce(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)se(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!h||!e&&f?u:xe(u,s,h,n,i),p=m?v||(e?h:c||g)?[]:t:d;if(m&&m(d,p,n,i),g)for(o=xe(p,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(p[l[r]]=!(d[l[r]]=a));if(e){if(v||h){if(v){for(o=[],r=p.length;r--;)(a=p[r])&&o.push(d[r]=a);v(null,p=[],o,i)}for(r=p.length;r--;)(a=p[r])&&-1<(o=v?O(e,a):s[r])&&(e[o]=!(t[o]=a))}}else p=xe(p===t?p.splice(c,p.length):p),v?v(null,t,p,i):j.apply(t,p)})}function ke(g,v){function e(e,t,n,i,o){var r,a,s,l=0,c="0",u=e&&[],d=[],p=w,h=e||b&&x.find.TAG("*",o),f=T+=null==p?1:Math.random()||.1,m=h.length;for(o&&(w=t==E||t||o);c!==m&&null!=(r=h[c]);c++){if(b&&r){for(a=0,t||r.ownerDocument==E||(k(r),n=!C);s=g[a++];)if(s(r,t||E,n)){i.push(r);break}o&&(T=f)}y&&((r=!s&&r)&&l--,e&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=L.call(i));d=xe(d)}j.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&se.uniqueSort(i)}return o&&(T=f,w=p),u}var y=0<v.length,b=0<g.length;return y?ce(e):e}return ge.prototype=x.filters=x.pseudos,x.setFilters=new ge,f=se.tokenize=function(e,t){var n,i,o,r,a,s,l,c=A[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=x.preFilter;a;){for(r in n&&!(i=W.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=K.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(q," ")}),a=a.slice(n.length)),x.filter)!(i=Q[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):A(e,s).slice(0)},m=se.compile=function(e,t){var n,i=[],o=[],r=P[e+" "];if(!r){for(n=(t=t||f(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=x.relative[t[0].type],s=a||x.relative[" "],l=a?1:0,c=ye(function(e){return e===i},s,!0),u=ye(function(e){return-1<O(i,e)},s,!0),d=[function(e,t,n){return n=!a&&(n||t!==w)||((i=t).nodeType?c:u)(e,t,n),i=null,n}];l<r;l++)if(n=x.relative[t[l].type])d=[ye(be(d),n)];else{if((n=x.filter[t[l].type].apply(null,t[l].matches))[S]){for(o=++l;o<r&&!x.relative[t[o].type];o++);return we(1<l&&be(d),1<l&&ve(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(q,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&ve(t))}d.push(n)}return be(d)}(t[n]))[S]?i:o).push(r);(r=P(e,ke(o,i))).selector=e}return r},g=se.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&f(e=c.selector||e);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===t.nodeType&&C&&x.relative[r[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(oe,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=Q.needsContext.test(e)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(oe,d),ie.test(r[0].type)&&me(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&ve(r)))return j.apply(n,i),n;break}}return(c||m(e,u))(i,t,!C,n,!t||ie.test(e)&&me(t.parentNode)||t),n},h.sortStable=S.split("").sort(R).join("")===S,h.detectDuplicates=!!c,k(),h.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(B,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),se}(k);C.find=p,C.expr=p.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=p.uniqueSort,C.text=p.getText,C.isXMLDoc=p.isXML,C.contains=p.contains,C.escapeSelector=p.escape;function h(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(n))break;i.push(e)}return i}function w(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var S=C.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var _=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,n,i){return m(n)?C.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?C.grep(e,function(e){return e===n!==i}):"string"!=typeof n?C.grep(e,function(e){return-1<o.call(n,e)!==i}):C.filter(n,e,i)}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,o[t],n);return 1<i?C.uniqueSort(n):n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&S.test(e)?C(e):e||[],!1).length}});var A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){if(!e)return this;if(n=n||P,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:A.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),_.test(i[1])&&C.isPlainObject(t))for(var i in t)m(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(e=E.getElementById(i[2]))&&(this[0]=e,this.length=1),this}).prototype=C.fn;var P=C(E),I=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],a="string"!=typeof e&&C(e);if(!S.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?o.call(C(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(i,o){C.fn[i]=function(e,t){var n=C.map(this,o,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(R[i]||C.uniqueSort(n),I.test(i)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function D(e){return e}function j(e){throw e}function F(e,t,n,i){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},C.each(e.match(L)||[],function(e,t){n[t]=!0}),n):C.extend({},i);function o(){for(s=s||i.once,a=r=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&i.stopOnFalse&&(u=l.length,t=!1);i.memory||(t=!1),r=!1,s&&(l=t?[]:"")}var r,t,a,s,l=[],c=[],u=-1,d={add:function(){return l&&(t&&!r&&(u=l.length-1,c.push(t)),function n(e){C.each(e,function(e,t){m(t)?i.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==f(t)&&n(t)})}(arguments),t&&!r&&o()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||r||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||o()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},C.extend({Deferred:function(e){var r=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var o=arguments;return C.Deferred(function(i){C.each(r,function(e,t){var n=m(o[t[4]])&&o[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,i){var l=0;function c(o,r,a,s){return function(){function e(){var e,t;if(!(o<l)){if((e=a.apply(n,i))===r.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,c(l,r,D,s),c(l,r,j,s)):(l++,t.call(e,c(l,r,D,s),c(l,r,j,s),c(l,r,D,r.notifyWith))):(a!==D&&(n=void 0,i=[e]),(s||r.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),l<=o+1&&(a!==j&&(n=void 0,i=[e]),r.rejectWith(n,i))}};o?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),k.setTimeout(t))}}return C.Deferred(function(e){r[0][3].add(c(0,e,m(i)?i:D,e.notifyWith)),r[1][3].add(c(0,e,m(t)?t:D)),r[2][3].add(c(0,e,m(n)?n:j))}).promise()},promise:function(e){return null!=e?C.extend(e,a):a}},s={};return C.each(r,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){o=i},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){o[t]=this,r[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(o,r)}}var n=arguments.length,i=n,o=Array(i),r=s.call(arguments),a=C.Deferred();if(n<=1&&(F(e,a.done(t(i)).resolve,a.reject,!n),"pending"===a.state()||m(r[i]&&r[i].then)))return a.then();for(;i--;)F(r[i],t(i),a.reject);return a.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){k.console&&k.console.warn&&e&&O.test(e.name)&&k.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){k.setTimeout(function(){throw e})};var B=C.Deferred();function H(){E.removeEventListener("DOMContentLoaded",H),k.removeEventListener("load",H),C.ready()}C.fn.ready=function(e){return B.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||B.resolveWith(E,[C])}}),C.ready.then=B.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?k.setTimeout(C.ready):(E.addEventListener("DOMContentLoaded",H),k.addEventListener("load",H));function $(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===f(n))for(s in o=!0,n)$(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,m(i)||(a=!0),t=c?a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(C(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r}var z=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function q(e){return e.replace(z,"ms-").replace(U,V)}function W(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function K(){this.expando=C.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},W(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[q(t)]=n;else for(i in t)o[q(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(q):(t=q(t))in i?[t]:t.match(L)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!C.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var G=new K,Y=new K,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e,t,n){var i,o;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:X.test(o)?JSON.parse(o):o)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return Y.hasData(e)||G.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return G.access(e,t,n)},_removeData:function(e,t){G.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,i,o,r=this[0],a=r&&r.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Y.set(this,n)}):$(this,function(e){var t;return r&&void 0===e?void 0!==(t=Y.get(r,n))||void 0!==(t=Z(r,n))?t:void 0:void this.each(function(){Y.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=Y.get(r),1===r.nodeType&&!G.get(r,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=q(i.slice(5)),Z(r,i,o[i]));G.set(r,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return i=G.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=G.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,o=n.shift(),r=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){C.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return G.get(e,n)||G.access(e,n,{empty:C.Callbacks("once memory").add(function(){G.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=C.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=G.get(a[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=E.documentElement,ie=function(e){return C.contains(e.ownerDocument,e)},oe={composed:!0};ne.getRootNode&&(ie=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});function re(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===C.css(e,"display")}function ae(e,t,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return C.css(e,t,"")},l=s(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&ee.exec(C.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;a--;)C.style(e,t,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;C.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}var se={};function le(e,t){for(var n,i,o,r,a,s=[],l=0,c=e.length;l<c;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(s[l]=G.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&re(i)&&(s[l]=(a=r=void 0,r=(o=i).ownerDocument,a=o.nodeName,(o=se[a])||(r=r.body.appendChild(r.createElement(a)),o=C.css(r,"display"),r.parentNode.removeChild(r),se[a]=o="none"===o?"block":o)))):"none"!==n&&(s[l]="none",G.set(i,"display",n)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}C.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){re(this)?C(this).show():C(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,de=/^$|^module$|\/(?:java|ecma)script/i;Kt=E.createDocumentFragment().appendChild(E.createElement("div")),(p=E.createElement("input")).setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),Kt.appendChild(p),b.checkClone=Kt.cloneNode(!0).cloneNode(!0).lastChild.checked,Kt.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!Kt.cloneNode(!0).lastChild.defaultValue,Kt.innerHTML="<option></option>",b.option=!!Kt.lastChild;var pe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&T(e,t)?C.merge([e],n):n}function fe(e,t){for(var n=0,i=e.length;n<i;n++)G.set(e[n],"globalEval",!t||G.get(t[n],"globalEval"))}pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td,b.option||(pe.optgroup=pe.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function ge(e,t,n,i,o){for(var r,a,s,l,c,u=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((r=e[p])||0===r)if("object"===f(r))C.merge(d,r.nodeType?[r]:r);else if(me.test(r)){for(a=a||u.appendChild(t.createElement("div")),s=(ue.exec(r)||["",""])[1].toLowerCase(),s=pe[s]||pe._default,a.innerHTML=s[1]+C.htmlPrefilter(r)+s[2],c=s[0];c--;)a=a.lastChild;C.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",p=0;r=d[p++];)if(i&&-1<C.inArray(r,i))o&&o.push(r);else if(l=ie(r),a=he(u.appendChild(r),"script"),l&&fe(a),n)for(c=0;r=a[c++];)de.test(r.type||"")&&n.push(r);return u}var ve=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function be(){return!1}function xe(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function we(e,t,n,i,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)we(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=be;else if(!o)return e;return 1===r&&(a=o,(o=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),e.each(function(){C.event.add(this,t,o,i,n)})}function ke(e,o,r){r?(G.set(e,o,!1),C.event.add(e,o,{namespace:!1,handler:function(e){var t,n,i=G.get(this,o);if(1&e.isTrigger&&this[o]){if(i.length)(C.event.special[o]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),G.set(this,o,i),t=r(this,o),this[o](),i!==(n=G.get(this,o))||t?G.set(this,o,!1):n={},i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else i.length&&(G.set(this,o,{value:C.event.trigger(C.extend(i[0],C.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===G.get(e,o)&&C.event.add(e,o,ye)}C.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,p,h,f=G.get(t);if(W(t))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&C.find.matchesSelector(ne,o),n.guid||(n.guid=C.guid++),(s=f.events)||(s=f.events=Object.create(null)),(a=f.handle)||(a=f.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(L)||[""]).length;l--;)d=h=(c=ve.exec(e[l])||[])[1],p=(c[2]||"").split(".").sort(),d&&(u=C.event.special[d]||{},d=(o?u.delegateType:u.bindType)||d,u=C.event.special[d]||{},c=C.extend({type:d,origType:h,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=s[d])||((h=s[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(d,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),C.event.global[d]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,h,f,m,g=G.hasData(e)&&G.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(h=m=(s=ve.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},p=l[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)u=p[r],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||C.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[c],n,i,!0);C.isEmptyObject(l)&&G.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,a=new Array(arguments.length),s=C.event.fix(e),l=(G.get(this,"events")||Object.create(null))[s.type]||[],e=C.event.special[s.type]||{};for(a[0]=s,t=1;t<arguments.length;t++)a[t]=arguments[t];if(s.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,s)){for(r=C.event.handlers.call(this,s,l),t=0;(i=r[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(o=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(s.result=o)&&(s.preventDefault(),s.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,o,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[o=(i=t[n]).selector+" "]&&(a[o]=i.needsContext?-1<C(o,this).index(c):C.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return ce.test(e.type)&&e.click&&T(e,"input")&&ke(e,"click",ye),!1},trigger:function(e){e=this||e;return ce.test(e.type)&&e.click&&T(e,"input")&&ke(e,"click"),!0},_default:function(e){e=e.target;return ce.test(e.type)&&e.click&&T(e,"input")&&G.get(e,"click")||T(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:be,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(e,t){C.event.special[e]={setup:function(){return ke(this,e,xe),!1},trigger:function(){return ke(this,e),!0},_default:function(){return!0},delegateType:t}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),C.fn.extend({on:function(e,t,n,i){return we(this,e,t,n,i)},one:function(e,t,n,i){return we(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=be),this.each(function(){C.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var Ee=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Te(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ae(e,t){var n,i,o,r;if(1===t.nodeType){if(G.hasData(e)&&(r=G.get(e).events))for(o in G.remove(t,"handle events"),r)for(n=0,i=r[o].length;n<i;n++)C.event.add(t,o,r[o][n]);Y.hasData(e)&&(e=Y.access(e),e=C.extend({},e),Y.set(t,e))}}function Pe(n,i,o,r){i=v(i);var e,t,a,s,l,c,u=0,d=n.length,p=d-1,h=i[0],f=m(h);if(f||1<d&&"string"==typeof h&&!b.checkClone&&Ce.test(h))return n.each(function(e){var t=n.eq(e);f&&(i[0]=h.call(this,e,t.html())),Pe(t,i,o,r)});if(d&&(t=(e=ge(i,n[0].ownerDocument,!1,n,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(s=(a=C.map(he(e,"script"),_e)).length;u<d;u++)l=e,u!==p&&(l=C.clone(l,!0,!0),s&&C.merge(a,he(l,"script"))),o.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,C.map(a,Ne),u=0;u<s;u++)l=a[u],de.test(l.type||"")&&!G.access(l,"globalEval")&&C.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):x(l.textContent.replace(Se,""),l,c))}return n}function Ie(e,t,n){for(var i,o=t?C.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||C.cleanData(he(i)),i.parentNode&&(n&&ie(i)&&fe(he(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,r,a,s,l,c,u=e.cloneNode(!0),d=ie(e);if(!(b.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=he(u),i=0,o=(r=he(e)).length;i<o;i++)s=r[i],l=a[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&ce.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(r=r||he(e),a=a||he(u),i=0,o=r.length;i<o;i++)Ae(r[i],a[i]);else Ae(e,u);return 0<(a=he(u,"script")).length&&fe(a,!d&&he(e,"script")),u},cleanData:function(e){for(var t,n,i,o=C.event.special,r=0;void 0!==(n=e[r]);r++)if(W(n)){if(t=n[G.expando]){if(t.events)for(i in t.events)o[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[G.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return $(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Te(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Te(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(he(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!pe[(ue.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(he(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(he(this)),t&&t.replaceChild(e,this))},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){C.fn[e]=function(e){for(var t,n=[],i=C(e),o=i.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),C(i[r])[a](t),l.apply(n,t.get());return this.pushStack(n)}});function Re(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?k:t).getComputedStyle(e)}function Me(e,t,n){var i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in n=n.call(e),t)e.style[i]=o[i];return n}var Le,De,je,Fe,Oe,Be,He,$e,ze=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Ue=new RegExp(te.join("|"),"i");function Ve(){var e;$e&&(He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",$e.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(He).appendChild($e),e=k.getComputedStyle($e),Le="1%"!==e.top,Be=12===qe(e.marginLeft),$e.style.right="60%",Fe=36===qe(e.right),De=36===qe(e.width),$e.style.position="absolute",je=12===qe($e.offsetWidth/3),ne.removeChild(He),$e=null)}function qe(e){return Math.round(parseFloat(e))}function We(e,t,n){var i,o,r=e.style;return(n=n||Re(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||ie(e)||(o=C.style(e,t)),!b.pixelBoxStyles()&&ze.test(o)&&Ue.test(t)&&(i=r.width,e=r.minWidth,t=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=i,r.minWidth=e,r.maxWidth=t)),void 0!==o?o+"":o}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}He=E.createElement("div"),($e=E.createElement("div")).style&&($e.style.backgroundClip="content-box",$e.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===$e.style.backgroundClip,C.extend(b,{boxSizingReliable:function(){return Ve(),De},pixelBoxStyles:function(){return Ve(),Fe},pixelPosition:function(){return Ve(),Le},reliableMarginLeft:function(){return Ve(),Be},scrollboxSize:function(){return Ve(),je},reliableTrDimensions:function(){var e,t,n;return null==Oe&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ne.appendChild(e).appendChild(t).appendChild(n),n=k.getComputedStyle(t),Oe=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,ne.removeChild(e)),Oe}}));var Ge=["Webkit","Moz","ms"],Ye=E.createElement("div").style,Xe={};function Qe(e){var t=C.cssProps[e]||Xe[e];return t||(e in Ye?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Ye)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,Je=/^--/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var i=ee.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function it(e,t,n,i,o,r){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=C.css(e,n+te[a],!0,o)),i?("content"===n&&(l-=C.css(e,"padding"+te[a],!0,o)),"margin"!==n&&(l-=C.css(e,"border"+te[a]+"Width",!0,o))):(l+=C.css(e,"padding"+te[a],!0,o),"padding"!==n?l+=C.css(e,"border"+te[a]+"Width",!0,o):s+=C.css(e,"border"+te[a]+"Width",!0,o));return!i&&0<=r&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-s-.5))||0),l}function ot(e,t,n){var i=Re(e),o=(!b.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,i),r=o,a=We(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(a)){if(!n)return a;a="auto"}return(!b.boxSizingReliable()&&o||!b.reliableTrDimensions()&&T(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===C.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===C.css(e,"boxSizing",!1,i),(r=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(o?"border":"content"),r,i,a)+"px"}function rt(e,t,n,i,o){return new rt.prototype.init(e,t,n,i,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=We(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=q(t),l=Je.test(t),c=e.style;if(l||(t=Qe(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:c[t];"string"===(r=typeof n)&&(o=ee.exec(n))&&o[1]&&(n=ae(e,t,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(C.cssNumber[s]?"":"px")),b.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var o,r=q(t);return Je.test(t)||(t=Qe(r)),"normal"===(o=void 0===(o=(r=C.cssHooks[t]||C.cssHooks[r])&&"get"in r?r.get(e,!0,n):o)?We(e,t,i):o)&&t in tt&&(o=tt[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),C.each(["height","width"],function(e,s){C.cssHooks[s]={get:function(e,t,n){if(t)return!Ze.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,s,n):Me(e,et,function(){return ot(e,s,n)})},set:function(e,t,n){var i,o=Re(e),r=!b.scrollboxSize()&&"absolute"===o.position,a=(r||n)&&"border-box"===C.css(e,"boxSizing",!1,o),n=n?it(e,s,n,a,o):0;return a&&r&&(n-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(o[s])-it(e,s,"border",!1,o)-.5)),n&&(i=ee.exec(t))&&"px"!==(i[3]||"px")&&(e.style[s]=t,t=C.css(e,s)),nt(0,t,n)}}}),C.cssHooks.marginLeft=Ke(b.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,r){C.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+te[t]+r]=i[t]||i[t-2]||i[0];return n}},"margin"!==o&&(C.cssHooks[o+r].set=nt)}),C.fn.extend({css:function(e,t){return $(this,function(e,t,n){var i,o,r={},a=0;if(Array.isArray(t)){for(i=Re(e),o=t.length;a<o;a++)r[t[a]]=C.css(e,t[a],!1,i);return r}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=rt).prototype={constructor:rt,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(C.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return(e&&e.get?e:rt.propHooks._default).get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:rt.propHooks._default).set(this),this}}).init.prototype=rt.prototype,(rt.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=rt.prototype.init,C.fx.step={};var at,st,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ut(){st&&(!1===E.hidden&&k.requestAnimationFrame?k.requestAnimationFrame(ut):k.setTimeout(ut,C.fx.interval),C.fx.tick())}function dt(){return k.setTimeout(function(){at=void 0}),at=Date.now()}function pt(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=te[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ht(e,t,n){for(var i,o=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function ft(o,e,t){var n,r,i=0,a=ft.prefilters.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=at||dt(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(t);return s.notifyWith(o,[c,t,e]),t<1&&i?e:(i||s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:at||dt(),duration:t.duration,tweens:[],createTween:function(e,t){e=C.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,e])):s.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,i,o,r,a;for(n in e)if(o=t[i=q(n)],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=C.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);i<a;i++)if(n=ft.prefilters[i].call(c,o,u,c.opts))return m(n.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return C.map(u,ht,c),m(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,o=(e=m(e)?(t=e,["*"]):e.match(L)).length;i<o;i++)n=e[i],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,a,s,l,c,u="width"in t||"height"in t,d=this,p={},h=e.style,f=e.nodeType&&re(e),m=G.get(e,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[i],lt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||C.style(e,i)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(i in u&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=G.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(le([e],!0),c=e.style.display||c,u=C.css(e,"display"),le([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(d.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(f=m.hidden):m=G.access(e,"fxshow",{display:c}),r&&(m.hidden=!f),f&&le([e],!0),d.done(function(){for(i in f||le([e]),G.remove(e,"fxshow"),p)C.style(e,i,p[i])})),l=ht(f?m[i]:0,i,d),i in m||(m[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=C.isEmptyObject(t),r=C.speed(e,n,i),i=function(){var e=ft(this,C.extend({},t),r);(o||G.get(this,"finish"))&&e.stop(!0)};return i.finish=i,o||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(o,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=C.timers,i=G.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&ct.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||C.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=G.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=C.timers,r=n?n.length:0;for(t.finish=!0,C.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var o=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(pt(i,!0),e,t,n)}}),C.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),at=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){st||(st=!0,ut())},C.fx.stop=function(){st=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=k.setTimeout(e,i);t.stop=function(){k.clearTimeout(n)}})},Kt=E.createElement("input"),J=E.createElement("select").appendChild(E.createElement("option")),Kt.type="checkbox",b.checkOn=""!==Kt.value,b.optSelected=J.selected,(Kt=E.createElement("input")).value="t",Kt.type="radio",b.radioValue="t"===Kt.value;var mt,gt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return $(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?C.prop(e,t,n):(1===r&&C.isXMLDoc(e)||(o=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(o&&"get"in o&&null!==(i=o.get(e,t)))&&null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!b.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||C.find.attr;gt[t]=function(e,t,n){var i,o,r=t.toLowerCase();return n||(o=gt[r],gt[r]=i,i=null!=a(e,t,n)?r:null,gt[r]=o),i}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function bt(e){return(e.match(L)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}C.fn.extend({prop:function(e,t){return $(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,i,o,r,a,s=0;if(m(t))return this.each(function(e){C(this).addClass(t.call(this,e,xt(this)))});if((e=wt(t)).length)for(;n=this[s++];)if(a=xt(n),i=1===n.nodeType&&" "+bt(a)+" "){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a!==(a=bt(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0;if(m(t))return this.each(function(e){C(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=wt(t)).length)for(;n=this[s++];)if(a=xt(n),i=1===n.nodeType&&" "+bt(a)+" "){for(r=0;o=e[r++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a!==(a=bt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(o,t){var r=typeof o,a="string"==r||Array.isArray(o);return"boolean"==typeof t&&a?t?this.addClass(o):this.removeClass(o):m(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=C(this),i=wt(o);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=r||((e=xt(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&G.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+bt(xt(t))+" ").indexOf(i))return!0;return!1}});var kt=/\r/g;C.fn.extend({val:function(t){var n,e,i,o=this[0];return arguments.length?(i=m(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(kt,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:bt(C.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type,r=o?null:[],a=o?i+1:n.length,s=i<0?a:o?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!T(t.parentNode,"optgroup"))){if(t=C(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=C.makeArray(t),a=o.length;a--;)((i=o[a]).selected=-1<C.inArray(C.valHooks.option.get(i),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},b.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),b.focusin="onfocusin"in k;function Et(e){e.stopPropagation()}var Ct=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,n,i){var o,r,a,s,l,c,u,d=[n||E],p=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[],f=u=r=n=n||E;if(3!==n.nodeType&&8!==n.nodeType&&!Ct.test(p+C.event.triggered)&&(-1<p.indexOf(".")&&(p=(h=p.split(".")).shift(),h.sort()),s=p.indexOf(":")<0&&"on"+p,(e=e[C.expando]?e:new C.Event(p,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[p]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!g(n)){for(a=c.delegateType||p,Ct.test(a+p)||(f=f.parentNode);f;f=f.parentNode)d.push(f),r=f;r===(n.ownerDocument||E)&&d.push(r.defaultView||r.parentWindow||k)}for(o=0;(f=d[o++])&&!e.isPropagationStopped();)u=f,e.type=1<o?a:c.bindType||p,(l=(G.get(f,"events")||Object.create(null))[e.type]&&G.get(f,"handle"))&&l.apply(f,t),(l=s&&f[s])&&l.apply&&W(f)&&(e.result=l.apply(f,t),!1===e.result&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!W(n)||s&&m(n[p])&&!g(n)&&((r=n[s])&&(n[s]=null),C.event.triggered=p,e.isPropagationStopped()&&u.addEventListener(p,Et),n[p](),e.isPropagationStopped()&&u.removeEventListener(p,Et),C.event.triggered=void 0,r&&(n[s]=r)),e.result}},simulate:function(e,t,n){e=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(e,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),b.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,i){function o(e){C.event.simulate(i,e.target,C.event.fix(e))}C.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=G.access(e,i);t||e.addEventListener(n,o,!0),G.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=G.access(e,i)-1;t?G.access(e,i,t):(e.removeEventListener(n,o,!0),G.remove(e,i))}}});var St=k.location,Tt={guid:Date.now()},_t=/\?/;C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new k.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Nt=/\[\]$/,At=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=m(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(Array.isArray(e))C.each(e,function(e,t){o||Nt.test(i)?r(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,r)});else if(o||"object"!==f(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&It.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Rt=/%20/g,Mt=/#.*$/,Lt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Ot={},Bt={},Ht="*/".concat("*"),$t=E.createElement("a");function zt(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(L)||[];if(m(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function Ut(t,i,o,r){var a={},s=t===Bt;function l(e){var n;return a[e]=!0,C.each(t[e]||[],function(e,t){t=t(i,o,r);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function Vt(e,t){var n,i,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}$t.href=St.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,C.ajaxSettings),t):Vt(C.ajaxSettings,e)},ajaxPrefilter:zt(Ot),ajaxTransport:zt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,c,u,n,d,p,h,i,o,f=C.ajaxSetup({},t=t||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=f.statusCode||{},r={},a={},s="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=Dt.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return p?u:null},setRequestHeader:function(e,t){return null==p&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==p&&(f.mimeType=e),this},statusCode:function(e){if(e)if(p)x.always(e[x.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),w(0,e),this}};if(v.promise(x),f.url=((e||f.url||St.href)+"").replace(Ft,St.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(L)||[""],null==f.crossDomain){o=E.createElement("a");try{o.href=f.url,o.href=o.href,f.crossDomain=$t.protocol+"//"+$t.host!=o.protocol+"//"+o.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ut(Ot,f,t,x),p)return x;for(i in(h=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!jt.test(f.type),c=f.url.replace(Mt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Rt,"+")):(o=f.url.slice(c.length),f.data&&(f.processData||"string"==typeof f.data)&&(c+=(_t.test(c)?"&":"?")+f.data,delete f.data),!1===f.cache&&(c=c.replace(Lt,"$1"),o=(_t.test(c)?"&":"?")+"_="+Tt.guid+++o),f.url=c+o),f.ifModified&&(C.lastModified[c]&&x.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&x.setRequestHeader("If-None-Match",C.etag[c])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ht+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(m,x,f)||p))return x.abort();if(s="abort",y.add(f.complete),x.done(f.success),x.fail(f.error),l=Ut(Bt,f,t,x)){if(x.readyState=1,h&&g.trigger("ajaxSend",[x,f]),p)return x;f.async&&0<f.timeout&&(d=k.setTimeout(function(){x.abort("timeout")},f.timeout));try{p=!1,l.send(r,w)}catch(e){if(p)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,n,i){var o,r,a,s=t;p||(p=!0,d&&k.clearTimeout(d),l=void 0,u=i||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a=a||o}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,x,n)),!i&&-1<C.inArray("script",f.dataTypes)&&C.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),a=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,a,x,i),i?(f.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=n),(n=x.getResponseHeader("etag"))&&(C.etag[c]=n)),204===e||"HEAD"===f.type?s="nocontent":304===e?s="notmodified":(s=a.state,o=a.data,i=!(r=a.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),x.status=e,x.statusText=(t||s)+"",i?v.resolveWith(m,[o,s,x]):v.rejectWith(m,[x,s,r]),x.statusCode(b),b=void 0,h&&g.trigger(i?"ajaxSuccess":"ajaxError",[x,f,i?o:r]),y.fireWith(m,[x,s]),h&&(g.trigger("ajaxComplete",[x,f]),--C.active||C.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,n,i){return m(t)&&(i=i||n,n=t,t=void 0),C.ajax(C.extend({url:e,type:o,dataType:i,data:t,success:n},C.isPlainObject(e)&&e))}}),C.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){return this[0]&&(m(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Wt=C.ajaxSettings.xhr();b.cors=!!Wt&&"withCredentials"in Wt,b.ajax=Wt=!!Wt,C.ajaxTransport(function(o){var r,a;if(b.cors||Wt&&!o.crossDomain)return{send:function(e,t){var n,i=o.xhr();if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);r=function(e){return function(){r&&(r=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(qt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=r(),a=i.onerror=i.ontimeout=r("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&k.setTimeout(function(){r&&a()})},r=r("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var i,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=C("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(i[0])},abort:function(){o&&o()}}});var Kt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||C.expando+"_"+Tt.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+i):!1!==e.jsonp&&(e.url+=(_t.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||C.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=k[i],k[i]=function(){r=arguments},n.always(function(){void 0===o?C(k).removeProp(i):k[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(i)),r&&m(o)&&o(r[0]),r=o=void 0}),"script"}),b.createHTMLDocument=((Kt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(b.createHTMLDocument?((i=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(i)):t=E),i=!n&&[],(n=_.exec(e))?[t.createElement(n[1])]:(n=ge([e],t,i),i&&i.length&&C(i).remove(),C.merge([],n.childNodes)));var i},C.fn.load=function(e,t,n){var i,o,r,a=this,s=e.indexOf(" ");return-1<s&&(i=bt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,n){var i,o,r,a,s=C.css(e,"position"),l=C(e),c={};"static"===s&&(e.style.position="relative"),r=l.offset(),i=C.css(e,"top"),a=C.css(e,"left"),a=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(o=(s=l.position()).top,s.left):(o=parseFloat(i)||0,parseFloat(a)||0),null!=(t=m(t)?t.call(e,n,C.extend({},r)):t).top&&(c.top=t.top-r.top+o),null!=t.left&&(c.left=t.left-r.left+a),"using"in t?t.using.call(e,c):l.css(c)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===C.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),o.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-C.css(i,"marginTop",!0),left:t.left-o.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||ne})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;C.fn[t]=function(e){return $(this,function(e,t,n){var i;return g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n?i?i[o]:e[t]:void(i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[t]=n)},t,e,arguments.length)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=Ke(b.pixelPosition,function(e,t){if(t)return t=We(e,n),ze.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(a,s){C.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,r){C.fn[r]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var i;return g(e)?0===r.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?C.css(e,t,o):C.style(e,t,n,o)},s,n?e:void 0,n)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),m(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=T,C.isFunction=m,C.isWindow=g,C.camelCase=q,C.type=f,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var Qt=k.jQuery,Zt=k.$;return C.noConflict=function(e){return k.$===C&&(k.$=Zt),e&&k.jQuery===C&&(k.jQuery=Qt),C},void 0===e&&(k.jQuery=k.$=C),C})},{}],625:[function(e,t,n){"use strict";function u(e){return new o(e)}function o(e){for(var t=0,n="object"==typeof e?[e]:(this.selector=e,p.querySelectorAll(e||null));t<n.length;t++)this.push(n[t])}var d,p,r,a,i,s,f,w,k,m,h,E,l,C,S,T,g,c,v,y;function b(){var t=this,e=t.config.id;return{hint:function(e){t.hint.call(t,e)},config:(b.that[e]=t).config}}function x(e){var t=this;t.index=++f.index,t.config=lay.extend({},t.config,f.config,e),(e=t.config).id="id"in e?e.id:t.index,f.ready(function(){t.init()})}!function(h){function i(){this.v="2.6.8"}function f(e,t){t=t||"log",h.console&&console[t]&&console[t]("layui error hint: "+e)}var e,m=h.document,g={modules:{},status:{},timeout:10,event:{}},t=h.LAYUI_GLOBAL||{},v=(e=m.currentScript?m.currentScript.src:function(){for(var e,t=m.scripts,n=t.length-1,i=n;0<i;i--)if("interactive"===t[i].readyState){e=t[i].src;break}return e||t[n].src}(),g.dir=t.dir||e.substring(0,e.lastIndexOf("/")+1)),y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),b=g.builtin={lay:"lay",layer:"layer",laydate:"laydate",laypage:"laypage",laytpl:"laytpl",layedit:"layedit",form:"form",upload:"upload",dropdown:"dropdown",transfer:"transfer",tree:"tree",table:"table",element:"element",rate:"rate",colorpicker:"colorpicker",slider:"slider",carousel:"carousel",flow:"flow",util:"util",code:"code",jquery:"jquery",all:"all","layui.all":"layui.all"};i.prototype.cache=g,i.prototype.define=function(e,i){return"function"==typeof e&&(i=e,e=[]),this.use(e,function(){function n(e,t){layui[e]=t,g.status[e]=!0}return"function"==typeof i&&i(function(e,t){n(e,t),g.callback[e]=function(){i(n)}}),this},null,"define"),this},i.prototype.use=function(n,e,t,i){function o(e,t){var n="PLaySTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;"load"!==e.type&&!n.test((e.currentTarget||e.srcElement).readyState)||(g.modules[c]=t,l.removeChild(d),function e(){return++u>1e3*g.timeout/4?f(c+" is not a valid module","error"):void(g.status[c]?r():setTimeout(e,4))}())}function r(){t.push(layui[c]),1<n.length?a.use(n.slice(1),e,t,i):"function"==typeof e&&(layui.jquery&&"function"==typeof layui.jquery&&"define"!==i?layui.jquery(function(){e.apply(layui,t)}):e.apply(layui,t))}var a=this,s=g.dir=g.dir||v,l=m.getElementsByTagName("head")[0];n="string"==typeof n?[n]:"function"==typeof n?(e=n,["all"]):n,h.jQuery&&jQuery.fn.on&&(a.each(n,function(e,t){"jquery"===t&&n.splice(e,1)}),layui.jquery=layui.$=jQuery);var c=n[0],u=0;if(t=t||[],g.host=g.host||(s.match(/\/\/([\s\S]+?)\//)||["//"+location.host+"/"])[0],0===n.length||layui["layui.all"]&&b[c])return r(),a;var d,p=(p=(b[c]?s+"modules/":!/^\{\/\}/.test(a.modules[c])&&g.base||"")+(a.modules[c]||c)+".js").replace(/^\{\/\}/,"");return!g.modules[c]&&layui[c]&&(g.modules[c]=p),g.modules[c]?function e(){return++u>1e3*g.timeout/4?f(c+" is not a valid module","error"):void("string"==typeof g.modules[c]&&g.status[c]?r():setTimeout(e,4))}():((d=m.createElement("script")).async=!0,d.charset="utf-8",d.src=p+((s=!0===g.version?g.v||(new Date).getTime():g.version||"")?"?v="+s:""),l.appendChild(d),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||y?d.addEventListener("load",function(e){o(e,p)},!1):d.attachEvent("onreadystatechange",function(e){o(e,p)}),g.modules[c]=p),a},i.prototype.getStyle=function(e,t){e=e.currentStyle||h.getComputedStyle(e,null);return e[e.getPropertyValue?"getPropertyValue":"getAttribute"](t)},i.prototype.link=function(i,o,e){var r=this,t=m.getElementsByTagName("head")[0],n=m.createElement("link"),e=((e="string"==typeof o?o:e)||i).replace(/\.|\//g,""),a=n.id="layuicss-"+e,s="creating",l=0;return n.rel="stylesheet",n.href=i+(g.debug?"?v="+(new Date).getTime():""),n.media="all",m.getElementById(a)||t.appendChild(n),"function"!=typeof o||function e(t){var n=m.getElementById(a);return++l>1e3*g.timeout/100?f(i+" timeout"):void(1989===parseInt(r.getStyle(n,"width"))?(t===s&&n.removeAttribute("lay-status"),n.getAttribute("lay-status")===s?setTimeout(e,100):o()):(n.setAttribute("lay-status",s),setTimeout(function(){e(s)},100)))}(),r},i.prototype.addcss=function(e,t,n){return layui.link(g.dir+"css/"+e,t,n)},g.callback={},i.prototype.factory=function(e){if(layui[e])return"function"==typeof g.callback[e]?g.callback[e]:null},i.prototype.img=function(e,t,n){var i=new Image;return i.src=e,i.complete?t(i):(i.onload=function(){i.onload=null,"function"==typeof t&&t(i)},void(i.onerror=function(e){i.onerror=null,"function"==typeof n&&n(e)}))},i.prototype.config=function(e){for(var t in e=e||{})g[t]=e[t];return this},i.prototype.modules=function(){var e,t={};for(e in b)t[e]=b[e];return t}(),i.prototype.extend=function(e){for(var t in e=e||{})this[t]||this.modules[t]?f(t+" Module already exists","error"):this.modules[t]=e[t];return this},i.prototype.router=function(e){var n={path:[],search:{},hash:((e=e||location.hash).match(/[^#](#.*$)/)||[])[1]||""};return/^#\//.test(e)&&(e=e.replace(/^#\//,""),n.href="/"+e,e=e.replace(/([^#])(#.*$)/,"$1").split("/")||[],this.each(e,function(e,t){/^\w+=/.test(t)?(t=t.split("="),n.search[t[0]]=t[1]):n.path.push(t)})),n},i.prototype.url=function(e){var o,t,n=this;return{pathname:(e?((e.match(/\.[^.]+?\/.+/)||[])[0]||"").replace(/^[^\/]+/,"").replace(/\?.+/,""):location.pathname).replace(/^\//,"").split("/"),search:(o={},t=(e?((e.match(/\?.+/)||[])[0]||"").replace(/\#.+/,""):location.search).replace(/^\?+/,"").split("&"),n.each(t,function(e,t){var n=t.indexOf("="),i=n<0?t.substr(0,t.length):0!==n&&t.substr(0,n);i&&(o[i]=0<n?t.substr(n+1):null)}),o),hash:n.router(e?(e.match(/#.+/)||[])[0]||"/":location.hash)}},i.prototype.data=function(e,t,n){if(e=e||"layui",n=n||localStorage,h.JSON&&h.JSON.parse){if(null===t)return delete n[e];t="object"==typeof t?t:{key:t};try{var i=JSON.parse(n[e])}catch(e){i={}}return"value"in t&&(i[t.key]=t.value),t.remove&&delete i[t.key],n[e]=JSON.stringify(i),t.key?i[t.key]:i}},i.prototype.sessionData=function(e,t){return this.data(e,t,sessionStorage)},i.prototype.device=function(e){function t(e){var t=new RegExp(e+"/([^\\s\\_\\-]+)");return(e=(n.match(t)||[])[1])||!1}var n=navigator.userAgent.toLowerCase(),i={os:/windows/.test(n)?"windows":/linux/.test(n)?"linux":/iphone|ipod|ipad|ios/.test(n)?"ios":/mac/.test(n)?"mac":void 0,ie:!!(h.ActiveXObject||"ActiveXObject"in h)&&((n.match(/msie\s(\d+)/)||[])[1]||"11"),weixin:t("micromessenger")};return e&&!i[e]&&(i[e]=t(e)),i.android=/android/.test(n),i.ios="ios"===i.os,i.mobile=!(!i.android&&!i.ios),i},i.prototype.hint=function(){return{error:f}},i.prototype._typeof=function(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?(t=(t=Object.prototype.toString.call(e).match(/\s(.+)\]$/)||[])[1]||"Object",new RegExp("\\b(Function|Array|Date|RegExp|Object|Error|Symbol)\\b").test(t)?t.toLowerCase():"object"):typeof e;var t},i.prototype._isArray=function(e){var t,n=this._typeof(e);return!(!e||"object"!=typeof e||e===h)&&(t="length"in e&&e.length,"array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)},i.prototype.each=function(e,n){function t(e,t){return n.call(t[e],e,t[e])}if("function"!=typeof n)return this;if(this._isArray(e=e||[]))for(i=0;i<e.length&&!t(i,e);i++);else for(var i in e)if(t(i,e))break;return this},i.prototype.sort=function(e,i,t){e=JSON.parse(JSON.stringify(e||[]));return i&&(e.sort(function(e,t){var n=e[i],e=t[i],t=[!isNaN(n),!isNaN(e)];return t[0]&&t[1]?n&&!e&&0!==e?1:!n&&0!==n&&e?-1:n-e:t[0]||t[1]?t[0]||!t[1]?-1:!t[0]||t[1]?1:void 0:e<n?1:n<e?-1:0}),t&&e.reverse()),e},i.prototype.stope=function(t){t=t||h.event;try{t.stopPropagation()}catch(e){t.cancelBubble=!0}};var c="LAYUI-EVENT-REMOVE";i.prototype.onevent=function(e,t,n){return"string"!=typeof e||"function"!=typeof n?this:i.event(e,t,null,n)},i.prototype.event=i.event=function(e,t,n,i){function o(e,t){!1===(t&&t.call(r,n))&&null===a&&(a=!1)}var r=this,a=null,s=(t||"").match(/\((.*)\)$/)||[],t=(e+"."+t).replace(s[0],""),l=s[1]||"";return n===c?(delete(r.cache.event[t]||{})[l],r):i?(g.event[t]=g.event[t]||{},g.event[t][l]=[i],this):(layui.each(g.event[t],function(e,t){return"{*}"===l?void layui.each(t,o):(""===e&&layui.each(t,o),void(l&&e===l&&layui.each(t,o)))}),a)},i.prototype.on=function(e,t,n){return this.onevent.call(this,t,e,n)},i.prototype.off=function(e,t){return this.event.call(this,t,e,c)},h.layui=new i}(window),layui.define(function(e){var t=layui.cache;layui.config({dir:t.dir.replace(/lay\/dest\/$/,"")}),e("layui.all",layui.v)}),d=window,window.document,p=d.document,(o.prototype=[]).constructor=o,u.extend=function(){function i(e,t){for(var n in e=e||("array"===layui._typeof(t)?[]:{}),t)e[n]=t[n]&&t[n].constructor===Object?i(e[n],t[n]):t[n];return e}var e=1,t=arguments;for(t[0]="object"==typeof t[0]?t[0]:{};e<t.length;e++)"object"==typeof t[e]&&i(t[0],t[e]);return t[0]},u.v="1.0.8",u.ie=(v=navigator.userAgent.toLowerCase(),!!(d.ActiveXObject||"ActiveXObject"in d)&&((v.match(/msie\s(\d+)/)||[])[1]||"11")),u.layui=layui||{},u.getPath=layui.cache.dir,u.stope=layui.stope,u.each=function(){return layui.each.apply(layui,arguments),this},u.digit=function(e,t,n){var i="";t=t||2;for(var o=(e=String(e)).length;o<t;o++)i+="0";return e<Math.pow(10,t)?i+(0|e):e},u.elem=function(e,t){var n=p.createElement(e);return u.each(t||{},function(e,t){n.setAttribute(e,t)}),n},u.hasScrollbar=function(){return p.body.scrollHeight>(d.innerHeight||p.documentElement.clientHeight)},u.position=function(e,t,n){var i,o,r,a,s,l,c;t&&(n=n||{},e!==p&&e!==u("body")[0]||(n.clickType="right"),i="right"===n.clickType?{left:(c=n.e||d.event||{}).clientX,top:c.clientY,right:c.clientX,bottom:c.clientY}:e.getBoundingClientRect(),o=t.offsetWidth,s=t.offsetHeight,l=function(e){return p.body[e=e?"scrollLeft":"scrollTop"]|p.documentElement[e]},r=i.left,a=i.bottom,"center"===n.align?r-=(o-e.offsetWidth)/2:"right"===n.align&&(r=r-o+e.offsetWidth),(r=r+o+5>(c=function(e){return p.documentElement[e?"clientWidth":"clientHeight"]})("width")?c("width")-o-5:r)<5&&(r=5),a+s+5>c()&&(i.top>s+5?a=i.top-s-10:"right"!==n.clickType||(a=c()-s-10)<0&&(a=0)),(s=n.position)&&(t.style.position=s),t.style.left=r+("fixed"===s?0:l(1))+"px",t.style.top=a+("fixed"===s?0:l())+"px",u.hasScrollbar()||(l=t.getBoundingClientRect(),!n.SYSTEM_RELOAD&&l.bottom+5>c()&&(n.SYSTEM_RELOAD=!0,setTimeout(function(){u.position(e,t,n)},50))))},u.options=function(e,t){e=u(e),t=t||"lay-options";try{return new Function("return "+(e.attr(t)||"{}"))()}catch(e){return hint.error("parseerror："+e,"error"),{}}},u.isTopElem=function(n){var e=[p,u("body")[0]],i=!1;return u.each(e,function(e,t){if(t===n)return i=!0}),i},o.addStr=function(n,e){return n=n.replace(/\s+/," "),e=e.replace(/\s+/," ").split(" "),u.each(e,function(e,t){new RegExp("\\b"+t+"\\b").test(n)||(n=n+" "+t)}),n.replace(/^\s|\s$/,"")},o.removeStr=function(n,e){return n=n.replace(/\s+/," "),e=e.replace(/\s+/," ").split(" "),u.each(e,function(e,t){t=new RegExp("\\b"+t+"\\b");t.test(n)&&(n=n.replace(t,""))}),n.replace(/\s+/," ").replace(/^\s|\s$/,"")},o.prototype.find=function(i){var o=this,r=0,a=[],s="object"==typeof i;return this.each(function(e,t){for(var n=s?t.contains(i):t.querySelectorAll(i||null);r<n.length;r++)a.push(n[r]);o.shift()}),s||(o.selector=(o.selector?o.selector+" ":"")+i),u.each(a,function(e,t){o.push(t)}),o},o.prototype.each=function(e){return u.each.call(this,this,e)},o.prototype.addClass=function(n,i){return this.each(function(e,t){t.className=o[i?"removeStr":"addStr"](t.className,n)})},o.prototype.removeClass=function(e){return this.addClass(e,!0)},o.prototype.hasClass=function(n){var i=!1;return this.each(function(e,t){new RegExp("\\b"+n+"\\b").test(t.className)&&(i=!0)}),i},o.prototype.css=function(t,i){function o(e){return isNaN(e)?e:e+"px"}var e=this;return"string"==typeof t&&void 0===i?function(){if(0<e.length)return e[0].style[t]}():e.each(function(e,n){"object"==typeof t?u.each(t,function(e,t){n.style[e]=o(t)}):n.style[t]=o(i)})},o.prototype.width=function(n){var i=this;return void 0===n?function(){if(0<i.length)return i[0].offsetWidth}():i.each(function(e,t){i.css("width",n)})},o.prototype.height=function(n){var i=this;return void 0===n?function(){if(0<i.length)return i[0].offsetHeight}():i.each(function(e,t){i.css("height",n)})},o.prototype.attr=function(n,i){var e=this;return void 0===i?function(){if(0<e.length)return e[0].getAttribute(n)}():e.each(function(e,t){t.setAttribute(n,i)})},o.prototype.removeAttr=function(n){return this.each(function(e,t){t.removeAttribute(n)})},o.prototype.html=function(n){var e=this;return void 0===n?function(){if(0<e.length)return e[0].innerHTML}():this.each(function(e,t){t.innerHTML=n})},o.prototype.val=function(n){var e=this;return void 0===n?function(){if(0<e.length)return e[0].value}():this.each(function(e,t){t.value=n})},o.prototype.append=function(n){return this.each(function(e,t){"object"==typeof n?t.appendChild(n):t.innerHTML=t.innerHTML+n})},o.prototype.remove=function(n){return this.each(function(e,t){n?t.removeChild(n):t.parentNode.removeChild(t)})},o.prototype.on=function(n,i){return this.each(function(e,t){t.attachEvent?t.attachEvent("on"+n,function(e){e.target=e.srcElement,i.call(t,e)}):t.addEventListener(n,i,!1)})},o.prototype.off=function(n,i){return this.each(function(e,t){t.detachEvent?t.detachEvent("on"+n,i):t.removeEventListener(n,i,!1)})},d.lay=u,d.layui&&layui.define&&layui.define(function(e){e("lay",u)}),layui.define(function(e){function t(e){this.tpl=e}var r={open:"{{",close:"}}"},a=function(e,t,n){return c((t||"")+r.open+["#([\\s\\S])+?","([^{#}])*?"][e||0]+r.close+(n||""))},s=function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},l=function(e,t){var n="Laytpl Error: ";return"object"==typeof console&&console.error(n+e+"\n"+(t||"")),n+e},c=function(e){return new RegExp(e,"g")};t.pt=t.prototype,window.errors=0,t.pt.parse=function(e,t){var n=e,i=c("^"+r.open+"#",""),o=c(r.close+"$","");e='"use strict";var view = "'+(e=e.replace(/\s+|\r|\t|\n/g," ").replace(c(r.open+"#"),r.open+"# ").replace(c(r.close+"}"),"} "+r.close).replace(/\\/g,"\\\\").replace(c(r.open+"!(.+?)!"+r.close),function(e){return e.replace(c("^"+r.open+"!"),"").replace(c("!"+r.close),"").replace(c(r.open+"|"+r.close),function(e){return e.replace(/(.)/g,"\\$1")})}).replace(/(?="|')/g,"\\").replace(a(),function(e){return'";'+(e=e.replace(i,"").replace(o,"")).replace(/\\(.)/g,"$1")+';view+="'}).replace(a(1),function(e){var t='"+(';return e.replace(/\s/g,"")===r.open+r.close?"":(e=e.replace(c(r.open+"|"+r.close),""),/^=/.test(e)&&(e=e.replace(/^=/,""),t='"+_escape_('),t+e.replace(/\\(.)/g,"$1")+')+"')}))+'";return view;';try{return this.cache=e=new Function("d, _escape_",e),e(t,s)}catch(e){return delete this.cache,l(e,n)}},t.pt.render=function(e,t){return e?(e=this.cache?this.cache(e,s):this.parse(this.tpl,e),t?void t(e):e):l("no data")};function n(e){return"string"!=typeof e?l("Template not found"):new t(e)}n.config=function(e){for(var t in e=e||{})r[t]=e[t]},n.v="1.2.0",e("laytpl",n)}),layui.define(function(e){function t(e){this.config=e||{},this.config.index=++d.index,this.render(!0)}var o=document,r="getElementById",u="getElementsByTagName",l="layui-disabled";t.prototype.type=function(){var e=this.config;if("object"==typeof e.elem)return void 0===e.elem.length?2:3},t.prototype.view=function(){var o=this.config,r=o.groups="groups"in o?0|o.groups:5;o.layout="object"==typeof o.layout?o.layout:["prev","page","next"],o.count=0|o.count,o.curr=0|o.curr||1,o.limits="object"==typeof o.limits?o.limits:[10,20,30,40,50],o.limit=0|o.limit||10,o.pages=Math.ceil(o.count/o.limit)||1,o.curr>o.pages&&(o.curr=o.pages),r<0?r=1:r>o.pages&&(r=o.pages),o.prev="prev"in o?o.prev:"&#x4E0A;&#x4E00;&#x9875;",o.next="next"in o?o.next:"&#x4E0B;&#x4E00;&#x9875;";var n,i,a=o.pages>r?Math.ceil((o.curr+(1<r?1:0))/(0<r?r:1)):1,s={prev:o.prev?'<a href="javascript:;" class="layui-laypage-prev'+(1==o.curr?" "+l:"")+'" data-page="'+(o.curr-1)+'">'+o.prev+"</a>":"",page:function(){var e=[];if(o.count<1)return"";1<a&&!1!==o.first&&0!==r&&e.push('<a href="javascript:;" class="layui-laypage-first" data-page="1"  title="&#x9996;&#x9875;">'+(o.first||1)+"</a>");var t=Math.floor((r-1)/2),n=1<a?o.curr-t:1,i=1<a?(t=o.curr+(r-t-1))>o.pages?o.pages:t:r;for(i-n<r-1&&(n=i-r+1),!1!==o.first&&2<n&&e.push('<span class="layui-laypage-spr">&#x2026;</span>');n<=i;n++)n===o.curr?e.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(o.theme)?'style="background-color:'+o.theme+';"':"")+"></em><em>"+n+"</em></span>"):e.push('<a href="javascript:;" data-page="'+n+'">'+n+"</a>");return o.pages>r&&o.pages>i&&!1!==o.last&&(i+1<o.pages&&e.push('<span class="layui-laypage-spr">&#x2026;</span>'),0!==r&&e.push('<a href="javascript:;" class="layui-laypage-last" title="&#x5C3E;&#x9875;"  data-page="'+o.pages+'">'+(o.last||o.pages)+"</a>")),e.join("")}(),next:o.next?'<a href="javascript:;" class="layui-laypage-next'+(o.curr==o.pages?" "+l:"")+'" data-page="'+(o.curr+1)+'">'+o.next+"</a>":"",count:'<span class="layui-laypage-count">共 '+o.count+" 条</span>",limit:(n=['<span class="layui-laypage-limits"><select lay-ignore>'],layui.each(o.limits,function(e,t){n.push('<option value="'+t+'"'+(t===o.limit?"selected":"")+">"+t+" 条/页</option>")}),n.join("")+"</select></span>"),refresh:['<a href="javascript:;" data-page="'+o.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"></i>',"</a>"].join(""),skip:['<span class="layui-laypage-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+o.curr+'" class="layui-input">','&#x9875;<button type="button" class="layui-laypage-btn">&#x786e;&#x5b9a;</button>',"</span>"].join("")};return['<div class="layui-box layui-laypage layui-laypage-'+(o.theme?/^#/.test(o.theme)?"molv":o.theme:"default")+'" id="layui-laypage-'+o.index+'">',(i=[],layui.each(o.layout,function(e,t){s[t]&&i.push(s[t])}),i.join("")),"</div>"].join("")},t.prototype.jump=function(e,t){if(e){var n=this,i=n.config,o=e.children,r=e[u]("button")[0],a=e[u]("input")[0],e=e[u]("select")[0],s=function(){var e=0|a.value.replace(/\s|\D/g,"");e&&(i.curr=e,n.render())};if(t)return s();for(var l=0,c=o.length;l<c;l++)"a"===o[l].nodeName.toLowerCase()&&d.on(o[l],"click",function(){var e=0|this.getAttribute("data-page");e<1||e>i.pages||(i.curr=e,n.render())});e&&d.on(e,"change",function(){var e=this.value;i.curr*e>i.count&&(i.curr=Math.ceil(i.count/e)),i.limit=e,n.render()}),r&&d.on(r,"click",function(){s()})}},t.prototype.skip=function(n){var i,e;n&&(i=this,(e=n[u]("input")[0])&&d.on(e,"keyup",function(e){var t=this.value,e=e.keyCode;/^(37|38|39|40)$/.test(e)||(/\D/.test(t)&&(this.value=t.replace(/\D/,"")),13===e&&i.jump(n,!0))}))},t.prototype.render=function(e){var t=this.config,n=this.type(),i=this.view();2===n?t.elem&&(t.elem.innerHTML=i):3===n?t.elem.html(i):o[r](t.elem)&&(o[r](t.elem).innerHTML=i),t.jump&&t.jump(t,e);i=o[r]("layui-laypage-"+t.index);this.jump(i),t.hash&&!e&&(location.hash="!"+t.hash+"="+t.curr),this.skip(i)};var d={render:function(e){return new t(e).index},index:layui.laypage?layui.laypage.index+1e4:0,on:function(t,e,n){return t.attachEvent?t.attachEvent("on"+e,function(e){e.target=e.srcElement,n.call(t,e)}):t.addEventListener(e,n,!1),this}};e("laypage",d)}),r=window,a=window.document,i=r.layui&&layui.define,s={getPath:r.lay&&lay.getPath?lay.getPath:"",link:function(e,t,n){f.path&&r.lay&&lay.layui&&lay.layui.link(f.path+e,t,n)}},v=r.LAYUI_GLOBAL||{},f={v:"5.3.1",config:{},index:r.laydate&&r.laydate.v?1e5:0,path:v.laydate_dir||s.getPath,set:function(e){return this.config=lay.extend({},this.config,e),this},ready:function(e){var t=(i?"modules/laydate/":"theme/")+"default/laydate.css?v="+f.v;return i?layui.addcss(t,e,"laydate"):s.link(t,e,"laydate"),this}},w="layui-this",k="laydate-disabled",m=[100,2e5],h="layui-laydate-static",E="layui-laydate-list",l="layui-laydate-hint",C=".laydate-btns-confirm",S="laydate-time-text",T="laydate-btns-time",g="layui-laydate-preview",c="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s",b.formatArr=function(e){return(e||"").match(new RegExp(c+"|.","g"))||[]},x.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},x.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,isInitValue:!0,min:"1900-1-1",max:"2099-12-31",trigger:"click",show:!1,showBottom:!0,isPreview:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},zIndex:null,done:null,change:null},x.prototype.lang=function(){var e={cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一","二","三","四","五","六","七","八","九","十","十一","十二"],tools:{confirm:"确定",clear:"清空",now:"现在"},timeout:"结束时间不能早于开始时间<br>请重新选择",invalidDate:"不在有效日期或时间范围内",formatError:["日期格式不合法<br>必须遵循下述格式：<br>","<br>已为你重置"],preview:"当前选中的结果"},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"},timeout:"End time cannot be less than start Time<br>Please re-select",invalidDate:"Invalid date",formatError:["The date format error<br>Must be followed：<br>","<br>It has been reset"],preview:"The selected result"}};return e[this.config.lang]||e.cn},x.prototype.init=function(){var n=this,a=n.config,e="static"===a.position,t={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};a.elem=lay(a.elem),a.eventElem=lay(a.eventElem),a.elem[0]&&(n.rangeStr=a.range?"string"==typeof a.range?a.range:"-":"","array"===layui._typeof(a.range)&&(n.rangeElem=[lay(a.range[0]),lay(a.range[1])]),t[a.type]||(r.console&&console.error&&console.error("laydate type error:'"+a.type+"' is not supported"),a.type="date"),a.format===t.date&&(a.format=t[a.type]||t.date),n.format=b.formatArr(a.format),n.EXP_IF="",n.EXP_SPLIT="",lay.each(n.format,function(e,t){t=new RegExp(c).test(t)?"\\d{"+(new RegExp(c).test(n.format[0===e?e+1:e-1]||"")?/^yyyy|y$/.test(t)?4:t.length:/^yyyy$/.test(t)?"1,4":/^y$/.test(t)?"1,308":"1,2")+"}":"\\"+t;n.EXP_IF=n.EXP_IF+t,n.EXP_SPLIT=n.EXP_SPLIT+"("+t+")"}),n.EXP_IF_ONE=new RegExp("^"+n.EXP_IF+"$"),n.EXP_IF=new RegExp("^"+(a.range?n.EXP_IF+"\\s\\"+n.rangeStr+"\\s"+n.EXP_IF:n.EXP_IF)+"$"),n.EXP_SPLIT=new RegExp("^"+n.EXP_SPLIT+"$",""),n.isInput(a.elem[0])||"focus"===a.trigger&&(a.trigger="click"),a.elem.attr("lay-key")||(a.elem.attr("lay-key",n.index),a.eventElem.attr("lay-key",n.index)),a.mark=lay.extend({},a.calendar&&"cn"===a.lang?{"0-1-1":"元旦","0-2-14":"情人","0-3-8":"妇女","0-3-12":"植树","0-4-1":"愚人","0-5-1":"劳动","0-5-4":"青年","0-6-1":"儿童","0-9-10":"教师","0-9-18":"国耻","0-10-1":"国庆","0-12-25":"圣诞"}:{},a.mark),lay.each(["min","max"],function(e,t){var n,i,o=[],r=[];"number"==typeof a[t]?(n=a[t],i=(new Date).getTime(),o=[(i=new Date(n?n<864e5?i+864e5*n:n:i)).getFullYear(),i.getMonth()+1,i.getDate()],n<864e5||(r=[i.getHours(),i.getMinutes(),i.getSeconds()])):(o=(a[t].match(/\d+-\d+-\d+/)||[""])[0].split("-"),r=(a[t].match(/\d+:\d+:\d+/)||[""])[0].split(":")),a[t]={year:0|o[0]||(new Date).getFullYear(),month:o[1]?(0|o[1])-1:(new Date).getMonth(),date:0|o[2]||(new Date).getDate(),hours:0|r[0],minutes:0|r[1],seconds:0|r[2]}}),n.elemID="layui-laydate"+a.elem.attr("lay-key"),(a.show||e)&&n.render(),e||n.events(),a.value&&a.isInitValue&&("date"===layui._typeof(a.value)?n.setValue(n.parse(0,n.systemDate(a.value))):n.setValue(a.value)))},x.prototype.render=function(){var e,i,t=this,s=t.config,l=t.lang(),o="static"===s.position,n=t.elem=lay.elem("div",{id:t.elemID,class:["layui-laydate",s.range?" layui-laydate-range":"",o?" "+h:"",s.theme&&"default"!==s.theme&&!/^#/.test(s.theme)?" laydate-theme-"+s.theme:""].join("")}),c=t.elemMain=[],u=t.elemHeader=[],d=t.elemCont=[],p=t.table=[],r=t.footer=lay.elem("div",{class:"layui-laydate-footer"});s.zIndex&&(n.style.zIndex=s.zIndex),lay.each(new Array(2),function(e){if(!s.range&&0<e)return!0;var t,n,i,o=lay.elem("div",{class:"layui-laydate-header"}),t=[((i=lay.elem("i",{class:"layui-icon laydate-icon laydate-prev-y"})).innerHTML="&#xe65a;",i),((n=lay.elem("i",{class:"layui-icon laydate-icon laydate-prev-m"})).innerHTML="&#xe603;",n),(t=lay.elem("div",{class:"laydate-set-ym"}),i=lay.elem("span"),n=lay.elem("span"),t.appendChild(i),t.appendChild(n),t),((i=lay.elem("i",{class:"layui-icon laydate-icon laydate-next-m"})).innerHTML="&#xe602;",i),((n=lay.elem("i",{class:"layui-icon laydate-icon laydate-next-y"})).innerHTML="&#xe65b;",n)],i=lay.elem("div",{class:"layui-laydate-content"}),r=lay.elem("table"),n=lay.elem("thead"),a=lay.elem("tr");lay.each(t,function(e,t){o.appendChild(t)}),n.appendChild(a),lay.each(new Array(6),function(n){var i=r.insertRow(0);lay.each(new Array(7),function(e){var t;0===n&&((t=lay.elem("th")).innerHTML=l.weeks[e],a.appendChild(t)),i.insertCell(e)})}),r.insertBefore(n,r.children[0]),i.appendChild(r),c[e]=lay.elem("div",{class:"layui-laydate-main laydate-main-list-"+e}),c[e].appendChild(o),c[e].appendChild(i),u.push(t),d.push(i),p.push(r)}),lay(r).html((e=[],i=[],"datetime"===s.type&&e.push('<span lay-type="datetime" class="'+T+'">'+l.timeTips+"</span>"),!s.range&&"datetime"===s.type||e.push('<span class="'+g+'" title="'+l.preview+'"></span>'),lay.each(s.btns,function(e,t){var n=l.tools[t]||"btn";s.range&&"now"===t||(o&&"clear"===t&&(n="cn"===s.lang?"重置":"Reset"),i.push('<span lay-type="'+t+'" class="laydate-btns-'+t+'">'+n+"</span>"))}),e.push('<div class="laydate-footer-btns">'+i.join("")+"</div>"),e.join(""))),lay.each(c,function(e,t){n.appendChild(t)}),s.showBottom&&n.appendChild(r),/^#/.test(s.theme)&&(e=lay.elem("style"),r=["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} .layui-this{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,t.elemID).replace(/{{theme}}/g,s.theme),"styleSheet"in e?(e.setAttribute("type","text/css"),e.styleSheet.cssText=r):e.innerHTML=r,lay(n).addClass("laydate-theme-molv"),n.appendChild(e)),f.thisId=s.id,t.remove(x.thisElemDate),o?s.elem.append(n):(a.body.appendChild(n),t.position()),t.checkDate().calendar(null,0,"init"),t.changeEvent(),x.thisElemDate=t.elemID,"function"==typeof s.ready&&s.ready(lay.extend({},s.dateTime,{month:s.dateTime.month+1})),t.preview()},x.prototype.remove=function(e){var t=(this.config,lay("#"+(e||this.elemID)));return t[0]&&(t.hasClass(h)||this.checkDate(function(){t.remove()})),this},x.prototype.position=function(){var e=this.config;return lay.position(this.bindElem||e.elem[0],this.elem,{position:e.position}),this},x.prototype.hint=function(e){var t=this,n=(t.config,lay.elem("div",{class:l}));t.elem&&(n.innerHTML=e||"",lay(t.elem).find("."+l).remove(),t.elem.appendChild(n),clearTimeout(t.hinTimer),t.hinTimer=setTimeout(function(){lay(t.elem).find("."+l).remove()},3e3))},x.prototype.getAsYM=function(e,t,n){return n?t--:t++,t<0&&(t=11,e--),11<t&&(t=0,e++),[e,t]},x.prototype.systemDate=function(e){var t=e||new Date;return{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hours:e?e.getHours():0,minutes:e?e.getMinutes():0,seconds:e?e.getSeconds():0}},x.prototype.checkDate=function(e){function n(i,o,r){var a=["startTime","endTime"];o=(o.match(l.EXP_SPLIT)||[]).slice(1),r=r||0,c.range&&(l[a[r]]=l[a[r]]||{}),lay.each(l.format,function(e,t){var n=parseFloat(o[e]);o[e].length<t.length&&(s=!0),/yyyy|y/.test(t)?(n<m[0]&&(n=m[0],s=!0),i.year=n):/MM|M/.test(t)?(n<1&&(n=1,s=!0),i.month=n-1):/dd|d/.test(t)?(n<1&&(n=1,s=!0),i.date=n):/HH|H/.test(t)?(n<1&&(s=!(n=0)),i.hours=n,c.range&&(l[a[r]].hours=n)):/mm|m/.test(t)?(n<1&&(s=!(n=0)),i.minutes=n,c.range&&(l[a[r]].minutes=n)):/ss|s/.test(t)&&(n<1&&(s=!(n=0)),i.seconds=n,c.range&&(l[a[r]].seconds=n))}),u(i)}var t,s,l=this,c=(new Date,l.config),i=l.lang(),o=c.dateTime=c.dateTime||l.systemDate(),r=l.bindElem||c.elem[0],a=(l.isInput(r),function(){if(l.rangeElem){var e=[l.rangeElem[0].val(),l.rangeElem[1].val()];if(e[0]&&e[1])return e.join(" "+l.rangeStr+" ")}return l.isInput(r)?r.value:"static"===c.position?"":lay(r).attr("lay-date")}()),u=function(e){e.year>m[1]&&(e.year=m[1],s=!0),11<e.month&&(e.month=11,s=!0),23<e.hours&&(e.hours=0,s=!0),59<e.minutes&&(e.minutes=0,e.hours++,s=!0),59<e.seconds&&(e.seconds=0,e.minutes++,s=!0),t=f.getEndDate(e.month+1,e.year),e.date>t&&(e.date=t,s=!0)};if("limit"===e)return u(o),l;"string"==typeof(a=a||c.value)&&(a=a.replace(/\s+/g," ").replace(/^\s|\s$/g,""));function d(){var e,t,n;c.range&&(l.endDate=l.endDate||lay.extend({},c.dateTime,(e={},t=c.dateTime,n=l.getAsYM(t.year,t.month),"year"===c.type?e.year=t.year+1:"time"!==c.type&&(e.year=n[0],e.month=n[1]),"datetime"!==c.type&&"time"!==c.type||(e.hours=23,e.minutes=e.seconds=59),e)))}var p;d(),"string"==typeof a&&a?l.EXP_IF.test(a)?c.range?(a=a.split(" "+l.rangeStr+" "),lay.each([c.dateTime,l.endDate],function(e,t){n(t,a[e],e)})):n(o,a):(l.hint(i.formatError[0]+(c.range?c.format+" "+l.rangeStr+" "+c.format:c.format)+i.formatError[1]),s=!0):a&&"date"===layui._typeof(a)?c.dateTime=l.systemDate(a):(c.dateTime=l.systemDate(),delete l.startTime,delete l.endDate,d(),delete l.endTime),l.rangeElem&&(h=[l.rangeElem[0].val(),l.rangeElem[1].val()],p=[c.dateTime,l.endDate],lay.each(h,function(e,t){l.EXP_IF_ONE.test(t)&&n(p[e],t,e)})),u(o),c.range&&u(l.endDate),s&&a&&l.setValue(!c.range||l.endDate?l.parse():"");var h=function(e){return l.newDate(e).getTime()};return(h(o)>h(c.max)||h(o)<h(c.min))&&(o=c.dateTime=lay.extend({},c.min)),c.range&&(h(l.endDate)<h(c.min)||h(l.endDate)>h(c.max))&&(l.endDate=lay.extend({},c.max)),e&&e(),l},x.prototype.mark=function(e,n){var i,t=this.config;return lay.each(t.mark,function(e,t){e=e.split("-");e[0]!=n[0]&&0!=e[0]||e[1]!=n[1]&&0!=e[1]||e[2]!=n[2]||(i=t||n[2])}),i&&e.html('<span class="laydate-day-mark">'+i+"</span>"),this},x.prototype.limit=function(e,t,n,o){var r=this,i=r.config,a={},n=i[41<n?"endDate":"dateTime"],t=lay.extend({},n,t||{});return lay.each({now:t,min:i.min,max:i.max},function(e,n){var i;a[e]=r.newDate(lay.extend({year:n.year,month:n.month,date:n.date},(i={},lay.each(o,function(e,t){i[t]=n[t]}),i))).getTime()}),i=a.now<a.min||a.now>a.max,e&&e[i?"addClass":"removeClass"](k),i},x.prototype.thisDateTime=function(e){var t=this.config;return e?this.endDate:t.dateTime},x.prototype.calendar=function(e,t,n){var o,r,a,s=this,i=s.config,t=t?1:0,l=e||s.thisDateTime(t),c=new Date,u=s.lang(),d="date"!==i.type&&"datetime"!==i.type,p=lay(s.table[t]).find("td"),t=lay(s.elemHeader[t][2]).find("span");return l.year<m[0]&&(l.year=m[0],s.hint(u.invalidDate)),l.year>m[1]&&(l.year=m[1],s.hint(u.invalidDate)),s.firstDate||(s.firstDate=lay.extend({},l)),c.setFullYear(l.year,l.month,1),o=c.getDay(),r=f.getEndDate(l.month||12,l.year),a=f.getEndDate(l.month+1,l.year),lay.each(p,function(e,t){var n=[l.year,l.month],i=0;(t=lay(t)).removeAttr("class"),e<o?(i=r-o+e,t.addClass("laydate-day-prev"),n=s.getAsYM(l.year,l.month,"sub")):o<=e&&e<a+o?(i=e-o)+1===l.date&&t.addClass(w):(i=e-a-o,t.addClass("laydate-day-next"),n=s.getAsYM(l.year,l.month)),n[1]++,n[2]=i+1,t.attr("lay-ymd",n.join("-")).html(n[2]),s.mark(t,n).limit(t,{year:n[0],month:n[1]-1,date:n[2]},e)}),lay(t[0]).attr("lay-ym",l.year+"-"+(l.month+1)),lay(t[1]).attr("lay-ym",l.year+"-"+(l.month+1)),"cn"===i.lang?(lay(t[0]).attr("lay-type","year").html(l.year+" 年"),lay(t[1]).attr("lay-type","month").html(l.month+1+" 月")):(lay(t[0]).attr("lay-type","month").html(u.month[l.month]),lay(t[1]).attr("lay-type","year").html(l.year)),d&&(i.range?e&&(s.listYM=[[i.dateTime.year,i.dateTime.month+1],[s.endDate.year,s.endDate.month+1]],s.list(i.type,0).list(i.type,1),"time"===i.type?s.setBtnStatus("时间",lay.extend({},s.systemDate(),s.startTime),lay.extend({},s.systemDate(),s.endTime)):s.setBtnStatus(!0)):(s.listYM=[[l.year,l.month+1]],s.list(i.type,0))),i.range&&"init"===n&&!e&&s.calendar(s.endDate,1),i.range||s.limit(lay(s.footer).find(C),null,0,["hours","minutes","seconds"]),s.setBtnStatus(),s},x.prototype.list=function(t,i){var o,e,r,a,s=this,l=s.config,c=l.dateTime,u=s.lang(),n=l.range&&"date"!==l.type&&"datetime"!==l.type,d=lay.elem("ul",{class:E+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[t]}),p=s.elemHeader[i],h=lay(p[2]).find("span"),f=s.elemCont[i||0],m=lay(f).find("."+E)[0],g="cn"===l.lang,v=g?"年":"",y=s.listYM[i]||{},b=["hours","minutes","seconds"],x=["startTime","endTime"][i];return y[0]<1&&(y[0]=1),"year"===t?(e=o=y[0]-7,o<1&&(e=o=1),lay.each(new Array(15),function(e){var t=lay.elem("li",{"lay-ym":o}),n={year:o};o==y[0]&&lay(t).addClass(w),t.innerHTML=o+v,d.appendChild(t),o<s.firstDate.year?(n.month=l.min.month,n.date=l.min.date):o>=s.firstDate.year&&(n.month=l.max.month,n.date=l.max.date),s.limit(lay(t),n,i),o++}),lay(h[g?0:1]).attr("lay-ym",o-8+"-"+y[1]).html(e+v+" - "+(o-1)+v)):"month"===t?(lay.each(new Array(12),function(e){var t=lay.elem("li",{"lay-ym":e}),n={year:y[0],month:e};e+1==y[1]&&lay(t).addClass(w),t.innerHTML=u.month[e]+(g?"月":""),d.appendChild(t),y[0]<s.firstDate.year?n.date=l.min.date:y[0]>=s.firstDate.year&&(n.date=l.max.date),s.limit(lay(t),n,i)}),lay(h[g?0:1]).attr("lay-ym",y[0]+"-"+y[1]).html(y[0]+v)):"time"===t&&(r=function(){lay(d).find("ol").each(function(n,e){lay(e).find("li").each(function(e,t){s.limit(lay(t),[{hours:e},{hours:s[x].hours,minutes:e},{hours:s[x].hours,minutes:s[x].minutes,seconds:e}][n],i,[["hours"],["hours","minutes"],["hours","minutes","seconds"]][n])})}),l.range||s.limit(lay(s.footer).find(C),s[x],0,["hours","minutes","seconds"])},l.range?s[x]||(s[x]="startTime"===x?c:s.endDate):s[x]=c,lay.each([24,60,60],function(t,e){var n=lay.elem("li"),i=["<p>"+u.time[t]+"</p><ol>"];lay.each(new Array(e),function(e){i.push("<li"+(s[x][b[t]]===e?' class="'+w+'"':"")+">"+lay.digit(e,2)+"</li>")}),n.innerHTML=i.join("")+"</ol>",d.appendChild(n)}),r()),m&&f.removeChild(m),f.appendChild(d),"year"===t||"month"===t?(lay(s.elemMain[i]).addClass("laydate-ym-show"),lay(d).find("li").on("click",function(){var e=0|lay(this).attr("lay-ym");lay(this).hasClass(k)||(0===i?(c[t]=e,s.limit(lay(s.footer).find(C),null,0)):s.endDate[t]=e,"year"===l.type||"month"===l.type?(lay(d).find("."+w).removeClass(w),lay(this).addClass(w),"month"===l.type&&"year"===t&&(s.listYM[i][0]=e,n&&((i?s.endDate:c).year=e),s.list("month",i))):(s.checkDate("limit").calendar(null,i),s.closeList()),s.setBtnStatus(),l.range||("month"===l.type&&"month"===t||"year"===l.type&&"year"===t)&&s.setValue(s.parse()).remove().done(),s.done(null,"change"),lay(s.footer).find("."+T).removeClass(k))})):(m=lay.elem("span",{class:S}),a=function(){lay(d).find("ol").each(function(e){var n=this,t=lay(n).find("li");n.scrollTop=30*(s[x][b[e]]-2),n.scrollTop<=0&&t.each(function(e,t){if(!lay(this).hasClass(k))return n.scrollTop=30*(e-2),!0})})},f=lay(p[2]).find("."+S),a(),m.innerHTML=l.range?[u.startTime,u.endTime][i]:u.timeTips,lay(s.elemMain[i]).addClass("laydate-time-show"),f[0]&&f.remove(),p[2].appendChild(m),lay(d).find("ol").each(function(t){var n=this;lay(n).find("li").on("click",function(){var e=0|this.innerHTML;lay(this).hasClass(k)||(l.range?s[x][b[t]]=e:c[b[t]]=e,lay(n).find("."+w).removeClass(w),lay(this).addClass(w),r(),a(),!s.endDate&&"time"!==l.type||s.done(null,"change"),s.setBtnStatus())})})),s},x.prototype.listYM=[],x.prototype.closeList=function(){var n=this;n.config,lay.each(n.elemCont,function(e,t){lay(this).find("."+E).remove(),lay(n.elemMain[e]).removeClass("laydate-ym-show laydate-time-show")}),lay(n.elem).find("."+S).remove()},x.prototype.setBtnStatus=function(e,t,n){var i=this.config,o=this.lang(),r=lay(this.footer).find(C);i.range&&"time"!==i.type&&(t=t||i.dateTime,n=n||this.endDate,i=this.newDate(t).getTime()>this.newDate(n).getTime(),this.limit(null,t)||this.limit(null,n)?r.addClass(k):r[i?"addClass":"removeClass"](k),e&&i&&this.hint("string"==typeof e?o.timeout.replace(/\u65e5\u671f/g,e):o.timeout))},x.prototype.parse=function(e,t){var n=this.config,t=t||("end"==e?lay.extend({},this.endDate,this.endTime):n.range?lay.extend({},n.dateTime,this.startTime):n.dateTime),t=f.parse(t,this.format,1);return n.range&&void 0===e?t+" "+this.rangeStr+" "+this.parse("end"):t},x.prototype.newDate=function(e){return e=e||{},new Date(e.year||1,e.month||0,e.date||1,e.hours||0,e.minutes||0,e.seconds||0)},x.prototype.setValue=function(e){var t=this,n=t.config,i=t.bindElem||n.elem[0];return"static"===n.position||(e=e||"",t.isInput(i)?lay(i).val(e):t.rangeElem?(t.rangeElem[0].val(e?t.parse("start"):""),t.rangeElem[1].val(e?t.parse("end"):"")):(0===lay(i).find("*").length&&lay(i).html(e),lay(i).attr("lay-date",e))),t},x.prototype.preview=function(){var e,t=this.config;t.isPreview&&(e=lay(this.elem).find("."+g),t=!t.range||this.endDate?this.parse():"",e.html(t).css({color:"#5FB878"}),setTimeout(function(){e.css({color:"#666"})},300))},x.prototype.done=function(e,t){var n=this.config,i=lay.extend({},lay.extend(n.dateTime,this.startTime)),o=lay.extend({},lay.extend(this.endDate,this.endTime));return lay.each([i,o],function(e,t){"month"in t&&lay.extend(t,{month:t.month+1})}),this.preview(),e=e||[this.parse(),i,o],"function"==typeof n[t||"done"]&&n[t||"done"].apply(n,e),this},x.prototype.choose=function(e,t){var n=this,i=n.config,o=n.thisDateTime(t),r={year:0|(r=(lay(n.elem).find("td"),e.attr("lay-ymd").split("-")))[0],month:(0|r[1])-1,date:0|r[2]};e.hasClass(k)||(lay.extend(o,r),i.range?(lay.each(["startTime","endTime"],function(e,t){n[t]=n[t]||{hours:0,minutes:0,seconds:0}}),n.calendar(null,t).done(null,"change")):"static"===i.position?n.calendar().done().done(null,"change"):"date"===i.type?n.setValue(n.parse()).remove().done():"datetime"===i.type&&n.calendar().done(null,"change"))},x.prototype.tool=function(e,t){var n=this,i=n.config,o=n.lang(),r=i.dateTime,a="static"===i.position,s={datetime:function(){lay(e).hasClass(k)||(n.list("time",0),i.range&&n.list("time",1),lay(e).attr("lay-type","date").html(n.lang().dateTips))},date:function(){n.closeList(),lay(e).attr("lay-type","datetime").html(n.lang().timeTips)},clear:function(){a&&(lay.extend(r,n.firstDate),n.calendar()),i.range&&(delete i.dateTime,delete n.endDate,delete n.startTime,delete n.endTime),n.setValue("").remove(),n.done(["",{},{}])},now:function(){var e=new Date;lay.extend(r,n.systemDate(),{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}),n.setValue(n.parse()).remove(),a&&n.calendar(),n.done()},confirm:function(){if(i.range){if(lay(e).hasClass(k))return n.hint("time"===i.type?o.timeout.replace(/\u65e5\u671f/g,"时间"):o.timeout)}else if(lay(e).hasClass(k))return n.hint(o.invalidDate);n.done(),n.setValue(n.parse()).remove()}};s[t]&&s[t]()},x.prototype.change=function(i){function e(e){var t=lay(l).find(".laydate-year-list")[0],n=lay(l).find(".laydate-month-list")[0];return t&&(c[0]=e?c[0]-15:c[0]+15,o.list("year",i)),n&&(e?c[0]--:c[0]++,o.list("month",i)),(t||n)&&(lay.extend(a,{year:c[0]}),s&&(a.year=c[0]),r.range||o.done(null,"change"),r.range||o.limit(lay(o.footer).find(C),{year:c[0]})),o.setBtnStatus(),t||n}var o=this,r=o.config,a=o.thisDateTime(i),s=r.range&&("year"===r.type||"month"===r.type),l=o.elemCont[i||0],c=o.listYM[i];return{prevYear:function(){e("sub")||(a.year--,o.checkDate("limit").calendar(null,i),o.done(null,"change"))},prevMonth:function(){var e=o.getAsYM(a.year,a.month,"sub");lay.extend(a,{year:e[0],month:e[1]}),o.checkDate("limit").calendar(null,i),o.done(null,"change")},nextMonth:function(){var e=o.getAsYM(a.year,a.month);lay.extend(a,{year:e[0],month:e[1]}),o.checkDate("limit").calendar(null,i),o.done(null,"change")},nextYear:function(){e()||(a.year++,o.checkDate("limit").calendar(null,i),o.done(null,"change"))}}},x.prototype.changeEvent=function(){var o=this;o.config,lay(o.elem).on("click",function(e){lay.stope(e)}).on("mousedown",function(e){lay.stope(e)}),lay.each(o.elemHeader,function(i,e){lay(e[0]).on("click",function(e){o.change(i).prevYear()}),lay(e[1]).on("click",function(e){o.change(i).prevMonth()}),lay(e[2]).find("span").on("click",function(e){var t=lay(this),n=t.attr("lay-ym"),t=t.attr("lay-type");n&&(n=n.split("-"),o.listYM[i]=[0|n[0],0|n[1]],o.list(t,i),lay(o.footer).find("."+T).addClass(k))}),lay(e[3]).on("click",function(e){o.change(i).nextMonth()}),lay(e[4]).on("click",function(e){o.change(i).nextYear()})}),lay.each(o.table,function(e,t){lay(t).find("td").on("click",function(){o.choose(lay(this),e)})}),lay(o.footer).find("span").on("click",function(){var e=lay(this).attr("lay-type");o.tool(this,e)})},x.prototype.isInput=function(e){return/input|textarea/.test(e.tagName.toLocaleLowerCase())},x.prototype.events=function(){function e(e,t){e.on(i.trigger,function(){t&&(n.bindElem=this),n.render()})}var n=this,i=n.config;i.elem[0]&&!i.elem[0].eventHandler&&(e(i.elem,"bind"),e(i.eventElem),i.elem[0].eventHandler=!0)},b.that={},b.getThis=function(e){var t=b.that[e];return!t&&i&&layui.hint().error(e?"laydate instance with ID '"+e+"' not found":"ID argument required"),t},s.run=function(i){i(a).on("mousedown",function(e){var t,n;!f.thisId||(t=b.getThis(f.thisId))&&(n=t.config,e.target!==n.elem[0]&&e.target!==n.eventElem[0]&&e.target!==i(n.closeStop)[0]&&t.remove())}).on("keydown",function(e){var t;!f.thisId||(t=b.getThis(f.thisId))&&13===e.keyCode&&i("#"+t.elemID)[0]&&t.elemID===x.thisElemDate&&(e.preventDefault(),i(t.footer).find(C)[0].click())}),i(r).on("resize",function(){if(f.thisId){var e=b.getThis(f.thisId);if(e)return!(!e.elem||!i(".layui-laydate")[0])&&void e.position()}})},f.render=function(e){e=new x(e);return b.call(e)},f.parse=function(n,i,o){return n=n||{},i=((i="string"==typeof i?b.formatArr(i):i)||[]).concat(),lay.each(i,function(e,t){/yyyy|y/.test(t)?i[e]=lay.digit(n.year,t.length):/MM|M/.test(t)?i[e]=lay.digit(n.month+(o||0),t.length):/dd|d/.test(t)?i[e]=lay.digit(n.date,t.length):/HH|H/.test(t)?i[e]=lay.digit(n.hours,t.length):/mm|m/.test(t)?i[e]=lay.digit(n.minutes,t.length):/ss|s/.test(t)&&(i[e]=lay.digit(n.seconds,t.length))}),i.join("")},f.getEndDate=function(e,t){var n=new Date;return n.setFullYear(t||n.getFullYear(),e||n.getMonth()+1,1),new Date(n.getTime()-864e5).getDate()},i?(f.ready(),layui.define("lay",function(e){f.path=layui.cache.dir,s.run(lay),e("laydate",f)})):"function"==typeof define&&define.amd?define(function(){return s.run(lay),f}):(f.ready(),s.run(r.lay),r.laydate=f),v="undefined"!=typeof window?window:void 0,y=function(w,e){function s(e){var t=!!e&&"length"in e&&e.length,n=re.type(e);return"function"!==n&&!re.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,n,i){if(re.isFunction(n))return re.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return re.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(fe.test(n))return re.filter(n,e,i);n=re.filter(n,e)}return re.grep(e,function(e){return-1<re.inArray(e,n)!==i})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",o),w.removeEventListener("load",o)):(X.detachEvent("onreadystatechange",o),w.detachEvent("onload",o))}function o(){!X.addEventListener&&"load"!==w.event.type&&"complete"!==X.readyState||(i(),re.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Se,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ce.test(n)?re.parseJSON(n):n)}catch(e){}re.data(e,t,n)}else n=void 0}return n}function c(e){for(var t in e)if(("data"!==t||!re.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}function r(e,t,n,i){if(ke(e)){var o,r=re.expando,a=e.nodeType,s=a?re.cache:e,l=a?e[r]:e[r]&&r;if(l&&s[l]&&(i||s[l].data)||void 0!==n||"string"!=typeof t)return s[l=l||(a?e[r]=Y.pop()||re.guid++:r)]||(s[l]=a?{}:{toJSON:re.noop}),"object"!=typeof t&&"function"!=typeof t||(i?s[l]=re.extend(s[l],t):s[l].data=re.extend(s[l].data,t)),l=s[l],i||(l.data||(l.data={}),l=l.data),void 0!==n&&(l[re.camelCase(t)]=n),"string"==typeof t?null==(o=l[t])&&(o=l[re.camelCase(t)]):o=l,o}}function a(e,t,n){if(ke(e)){var i,o,r=e.nodeType,a=r?re.cache:e,s=r?e[re.expando]:re.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){o=(t=re.isArray(t)?t.concat(re.map(t,re.camelCase)):t in i?[t]:(t=re.camelCase(t))in i?[t]:t.split(" ")).length;for(;o--;)delete i[t[o]];if(n?!c(i):!re.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(r?re.cleanData([e],!0):oe.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function u(e,t,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return re.css(e,t,"")},l=s(),c=n&&n[3]||(re.cssNumber[t]?"":"px"),u=(re.cssNumber[t]||"px"!==c&&+l)&&Ae.exec(re.css(e,t));if(u&&u[3]!==c)for(c=c||u[3],n=n||[],u=+l||1;re.style(e,t,(u/=r=r||".5")+c),r!==(r=s()/l)&&1!==r&&--a;);return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function g(e){var t=De.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function v(e,t){var n,i,o=0,r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||re.nodeName(i,t)?r.push(i):re.merge(r,v(i,t));return void 0===t||t&&re.nodeName(e,t)?re.merge([e],r):r}function y(e,t){for(var n,i=0;null!=(n=e[i]);i++)re._data(n,"globalEval",!t||re._data(t[i],"globalEval"))}function b(e){Ie.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,n,i,o){for(var r,a,s,l,c,u,d,p=e.length,h=g(t),f=[],m=0;m<p;m++)if((a=e[m])||0===a)if("object"===re.type(a))re.merge(f,a.nodeType?[a]:a);else if(Fe.test(a)){for(l=l||h.appendChild(t.createElement("div")),c=(Re.exec(a)||["",""])[1].toLowerCase(),d=je[c]||je._default,l.innerHTML=d[1]+re.htmlPrefilter(a)+d[2],r=d[0];r--;)l=l.lastChild;if(!oe.leadingWhitespace&&Le.test(a)&&f.push(t.createTextNode(Le.exec(a)[0])),!oe.tbody)for(r=(a="table"!==c||Oe.test(a)?"<table>"!==d[1]||Oe.test(a)?0:l:l.firstChild)&&a.childNodes.length;r--;)re.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(re.merge(f,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=h.lastChild}else f.push(t.createTextNode(a));for(l&&h.removeChild(l),oe.appendChecked||re.grep(v(f,"input"),b),m=0;a=f[m++];)if(i&&-1<re.inArray(a,i))o&&o.push(a);else if(s=re.contains(a.ownerDocument,a),l=v(h.appendChild(a),"script"),s&&y(l),n)for(r=0;a=l[r++];)Me.test(a.type||"")&&n.push(a);return l=null,h}function d(){return!0}function p(){return!1}function h(){try{return X.activeElement}catch(e){}}function f(e,t,n,i,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)f(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=p;else if(!o)return e;return 1===r&&(a=o,(o=function(e){return re().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=re.guid++)),e.each(function(){re.event.add(this,t,o,i,n)})}function x(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function k(e){return e.type=(null!==re.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=Ye.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&re.hasData(e)){var n,i,o,r=re._data(e),e=re._data(t,r),a=r.events;if(a)for(n in delete e.handle,e.events={},a)for(i=0,o=a[n].length;i<o;i++)re.event.add(t,n,a[n][i]);e.data&&(e.data=re.extend({},e.data))}}function S(n,i,o,r){i=Z.apply([],i);var e,t,a,s,l,c,u=0,d=n.length,p=d-1,h=i[0],f=re.isFunction(h);if(f||1<d&&"string"==typeof h&&!oe.checkClone&&Ge.test(h))return n.each(function(e){var t=n.eq(e);f&&(i[0]=h.call(this,e,t.html())),S(t,i,o,r)});if(d&&(e=(c=m(i,n[0].ownerDocument,!1,n,r)).firstChild,1===c.childNodes.length&&(c=e),e||r)){for(a=(s=re.map(v(c,"script"),k)).length;u<d;u++)t=c,u!==p&&(t=re.clone(t,!0,!0),a&&re.merge(s,v(t,"script"))),o.call(n[u],t,u);if(a)for(l=s[s.length-1].ownerDocument,re.map(s,E),u=0;u<a;u++)t=s[u],Me.test(t.type||"")&&!re._data(t,"globalEval")&&re.contains(l,t)&&(t.src?re._evalUrl&&re._evalUrl(t.src):re.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Xe,"")));c=e=null}return n}function T(e,t,n){for(var i,o=t?re.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||re.cleanData(v(i)),i.parentNode&&(n&&re.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return e}function _(e,t){e=re(t.createElement(e)).appendTo(t.body),t=re.css(e[0],"display");return e.detach(),t}function N(e){var t=X,n=lt[e];return n||("none"!==(n=_(e,t))&&n||((t=((Je=(Je||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Je[0].contentDocument).document).write(),t.close(),n=_(e,t),Je.detach()),lt[e]=n),n}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e){if(e in Et)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=kt.length;n--;)if((e=kt[n]+t)in Et)return e}function I(e,t){for(var n,i,o,r=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(r[a]=re._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Te(i)&&(r[a]=re._data(i,"olddisplay",N(i.nodeName)))):(o=Te(i),(n&&"none"!==n||!o)&&re._data(i,"olddisplay",o?n:re.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function R(e,t,n){var i=bt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function M(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=re.css(e,n+Pe[r],!0,o)),i?("content"===n&&(a-=re.css(e,"padding"+Pe[r],!0,o)),"margin"!==n&&(a-=re.css(e,"border"+Pe[r]+"Width",!0,o))):(a+=re.css(e,"padding"+Pe[r],!0,o),"padding"!==n&&(a+=re.css(e,"border"+Pe[r]+"Width",!0,o)));return a}function L(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=ht(e),a=oe.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=ft(e,t,r))<0||null==o)&&(o=e.style[t]),ut.test(o))return o;i=a&&(oe.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+M(e,t,n||(a?"border":"content"),i,r)+"px"}function D(e,t,n,i,o){return new D.prototype.init(e,t,n,i,o)}function j(){return w.setTimeout(function(){Ct=void 0}),Ct=re.now()}function F(e,t){var n,i={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=Pe[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var i,o=(B.tweeners[t]||[]).concat(B.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function B(o,e,t){var n,r,i=0,a=B.prefilters.length,s=re.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Ct||j(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(t);return s.notifyWith(o,[c,t,e]),t<1&&i?e:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:re.extend({},e),opts:re.extend(!0,{specialEasing:{},easing:re.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ct||j(),duration:t.duration,tweens:[],createTween:function(e,t){e=re.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,e])):s.rejectWith(o,[c,e]),this}}),u=c.props;for(function(e,t){var n,i,o,r,a;for(n in e)if(i=re.camelCase(n),o=t[i],r=e[n],re.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),a=re.cssHooks[i],a&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);i<a;i++)if(n=B.prefilters[i].call(c,o,u,c.opts))return re.isFunction(n.stop)&&(re._queueHooks(c.elem,c.opts.queue).stop=re.proxy(n.stop,n)),n;return re.map(u,O,c),re.isFunction(c.opts.start)&&c.opts.start.call(o,c),re.fx.timer(re.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return re.attr(e,"class")||""}function $(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(we)||[];if(re.isFunction(t))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function z(t,i,o,r){function a(e){var n;return s[e]=!0,re.each(t[e]||[],function(e,t){t=t(i,o,r);return"string"!=typeof t||l||s[t]?l?!(n=t):void 0:(i.dataTypes.unshift(t),a(t),!1)}),n}var s={},l=t===Zt;return a(i.dataTypes[0])||!s["*"]&&a("*")}function U(e,t){var n,i,o=re.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n=n||{})[i]=t[i]);return n&&re.extend(!0,e,n),e}function V(e){if(!re.contains(e.ownerDocument||X,e))return!0;for(;e&&1===e.nodeType;){if("none"===((t=e).style&&t.style.display||re.css(t,"display"))||"hidden"===e.type)return!0;e=e.parentNode}var t;return!1}function q(){try{return new w.XMLHttpRequest}catch(e){}}function W(){try{return new w.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function K(e){return re.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function G(e,t){return t.toUpperCase()}var Y=[],X=w.document,Q=Y.slice,Z=Y.concat,J=Y.push,ee=Y.indexOf,te={},ne=te.toString,ie=te.hasOwnProperty,oe={},re=function(e,t){return new re.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi;re.fn=re.prototype={jquery:"1.12.4",constructor:re,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){e=re.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e){return re.each(this,e)},map:function(n){return this.pushStack(re.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:Y.sort,splice:Y.splice},re.extend=re.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||re.isFunction(r)||(r={}),a===s&&(r=this,a--);a<s;a++)if(null!=(i=arguments[a]))for(n in i)o=r[n],t=i[n],r!==t&&(l&&t&&(re.isPlainObject(t)||(e=re.isArray(t)))?(o=e?(e=!1,o&&re.isArray(o)?o:[]):o&&re.isPlainObject(o)?o:{},r[n]=re.extend(l,o,t)):void 0!==t&&(r[n]=t));return r},re.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray||function(e){return"array"===re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!re.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||"object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!ie.call(e,"constructor")&&!ie.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!oe.ownFirst)for(var t in e)return ie.call(e,t);for(t in e);return void 0===t||ie.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?te[ne.call(e)]||"object":typeof e},globalEval:function(e){e&&re.trim(e)&&(w.execScript||function(e){w.eval.call(w,e)})(e)},camelCase:function(e){return e.replace(se,"ms-").replace(le,G)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(s(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){t=t||[];return null!=e&&(s(Object(e))?re.merge(t,"string"==typeof e?[e]:e):J.call(t,e)),t},inArray:function(e,t,n){var i;if(t){if(ee)return ee.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;)e[o++]=t[i++];if(n!=n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!=a&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(s(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&a.push(o);return Z.apply([],a)},guid:1,proxy:function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),re.isFunction(e))return n=Q.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(Q.call(arguments)))}).guid=e.guid=e.guid||re.guid++,i},now:function(){return+new Date},support:oe}),"function"==typeof Symbol&&(re.fn[Symbol.iterator]=Y[Symbol.iterator]),re.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){te["[object "+t+"]"]=t.toLowerCase()});var ce=function(n){function x(e,t,n,i){var o,r,a,s,l,c,u,d,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:O)!==P&&A(t),t=t||P,R)){if(11!==h&&(c=fe.exec(e)))if(o=c[1]){if(9===h){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&j(t,a)&&a.id===o)return n.push(a),n}else{if(c[2])return Y.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&g.getElementsByClassName&&t.getElementsByClassName)return Y.apply(n,t.getElementsByClassName(o)),n}if(g.qsa&&!U[e+" "]&&(!M||!M.test(e))){if(1!==h)p=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ge,"\\$&"):t.setAttribute("id",s=F),r=(u=E(e)).length,l=ce.test(s)?"#"+s:"[id='"+s+"']";r--;)u[r]=l+" "+m(u[r]);d=u.join(","),p=me.test(e)&&f(t.parentNode)||t}if(d)try{return Y.apply(n,p.querySelectorAll(d)),n}catch(e){}finally{s===F&&t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,n,i)}function e(){function n(e,t){return i.push(e+" ")>k.cacheLength&&delete n[i.shift()],n[e+" "]=t}var i=[];return n}function l(e){return e[F]=!0,e}function t(e){var t=P.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function i(e,t){for(var n=e.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=t}function c(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(a){return l(function(r){return r=+r,l(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function f(e){return e&&void 0!==e.getElementsByTagName&&e}function r(){}function m(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=H++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,o,r=[B,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((o=(i=(o=e[F]||(e[F]={}))[e.uniqueID]||(o[e.uniqueID]={}))[s])&&o[0]===B&&o[1]===c)return r[2]=o[2];if((i[s]=r)[2]=a(e,t,n))return!0}}}function h(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function w(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function y(h,f,m,g,v,e){return g&&!g[F]&&(g=y(g)),v&&!v[F]&&(v=y(v,e)),l(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)x(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!h||!e&&f?u:w(u,s,h,n,i),p=m?v||(e?h:c||g)?[]:t:d;if(m&&m(d,p,n,i),g)for(o=w(p,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(p[l[r]]=!(d[l[r]]=a));if(e){if(v||h){if(v){for(o=[],r=p.length;r--;)(a=p[r])&&o.push(d[r]=a);v(null,p=[],o,i)}for(r=p.length;r--;)(a=p[r])&&-1<(o=v?Q(e,a):s[r])&&(e[o]=!(t[o]=a))}}else p=w(p===t?p.splice(c,p.length):p),v?v(null,t,p,i):Y.apply(t,p)})}function a(g,v){function e(e,t,n,i,o){var r,a,s,l=0,c="0",u=e&&[],d=[],p=T,h=e||b&&k.find.TAG("*",o),f=B+=null==p?1:Math.random()||.1,m=h.length;for(o&&(T=t===P||t||o);c!==m&&null!=(r=h[c]);c++){if(b&&r){for(a=0,t||r.ownerDocument===P||(A(r),n=!R);s=g[a++];)if(s(r,t||P,n)){i.push(r);break}o&&(B=f)}y&&((r=!s&&r)&&l--,e&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=K.call(i));d=w(d)}Y.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&x.uniqueSort(i)}return o&&(B=f,T=p),u}var y=0<v.length,b=0<g.length;return y?l(e):e}function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function s(){A()}var u,g,k,v,b,E,C,S,T,_,N,A,P,I,R,M,L,D,j,F="sizzle"+ +new Date,O=n.document,B=0,H=0,$=e(),z=e(),U=e(),V=function(e,t){return e===t&&(N=!0),0},q={}.hasOwnProperty,W=[],K=W.pop,G=W.push,Y=W.push,X=W.slice,Q=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",J="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",te="\\["+J+"*("+ee+")(?:"+J+"*([*^$|!~]?=)"+J+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ee+"))|)"+J+"*\\]",ne=":("+ee+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+te+")*)|.*)\\)|)",ie=new RegExp(J+"+","g"),oe=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g"),re=new RegExp("^"+J+"*,"+J+"*"),ae=new RegExp("^"+J+"*([>+~]|"+J+")"+J+"*"),se=new RegExp("="+J+"*([^\\]'\"]*?)"+J+"*\\]","g"),le=new RegExp(ne),ce=new RegExp("^"+ee+"$"),ue={ID:new RegExp("^#("+ee+")"),CLASS:new RegExp("^\\.("+ee+")"),TAG:new RegExp("^("+ee+"|[*])"),ATTR:new RegExp("^"+te),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+J+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,fe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ge=/'|\\/g,ve=new RegExp("\\\\([\\da-f]{1,6}"+J+"?|("+J+")|.)","ig");try{Y.apply(W=X.call(O.childNodes),O.childNodes),W[O.childNodes.length].nodeType}catch(e){Y={apply:W.length?function(e,t){G.apply(e,X.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(u in g=x.support={},b=x.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},A=x.setDocument=function(e){var e=e?e.ownerDocument||e:O;return e!==P&&9===e.nodeType&&e.documentElement&&(I=(P=e).documentElement,R=!b(P),(e=P.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",s,!1):e.attachEvent&&e.attachEvent("onunload",s)),g.attributes=t(function(e){return e.className="i",!e.getAttribute("className")}),g.getElementsByTagName=t(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),g.getElementsByClassName=he.test(P.getElementsByClassName),g.getById=t(function(e){return I.appendChild(e).id=F,!P.getElementsByName||!P.getElementsByName(F).length}),g.getById?(k.find.ID=function(e,t){if(void 0!==t.getElementById&&R){e=t.getElementById(e);return e?[e]:[]}},k.filter.ID=function(e){var t=e.replace(ve,d);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(ve,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}}),k.find.TAG=g.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):g.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},k.find.CLASS=g.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&R)return t.getElementsByClassName(e)},L=[],M=[],(g.qsa=he.test(P.querySelectorAll))&&(t(function(e){I.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+J+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+J+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+F+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||M.push(".#.+[+~]")}),t(function(e){var t=P.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+J+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(g.matchesSelector=he.test(D=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&t(function(e){g.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),L.push("!=",ne)}),M=M.length&&new RegExp(M.join("|")),L=L.length&&new RegExp(L.join("|")),e=he.test(I.compareDocumentPosition),j=e||he.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=e?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===P||e.ownerDocument===O&&j(O,e)?-1:t===P||t.ownerDocument===O&&j(O,t)?1:_?Q(_,e)-Q(_,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===P?-1:t===P?1:o?-1:r?1:_?Q(_,e)-Q(_,t):0;if(o===r)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===O?-1:s[i]===O?1:0}),P},x.matches=function(e,t){return x(e,null,null,t)},x.matchesSelector=function(e,t){if((e.ownerDocument||e)!==P&&A(e),t=t.replace(se,"='$1']"),g.matchesSelector&&R&&!U[t+" "]&&(!L||!L.test(t))&&(!M||!M.test(t)))try{var n=D.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<x(t,P,null,[e]).length},x.contains=function(e,t){return(e.ownerDocument||e)!==P&&A(e),j(e,t)},x.attr=function(e,t){(e.ownerDocument||e)!==P&&A(e);var n=k.attrHandle[t.toLowerCase()],n=n&&q.call(k.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==n?n:g.attributes||!R?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},x.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x.uniqueSort=function(e){var t,n=[],i=0,o=0;if(N=!g.detectDuplicates,_=!g.sortStable&&e.slice(0),e.sort(V),N){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return _=null,e},v=x.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=v(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=v(t);return n},(k=x.selectors={cacheLength:50,createPseudo:l,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||x.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&x.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+J+")"+e+"("+J+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=x.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(ie," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=v!=y?"nextSibling":"previousSibling",u=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b,h=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&p){for(h=(s=(i=(o=(r=(a=u)[F]||(a[F]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===B&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||l.pop();)if(1===a.nodeType&&++h&&a===e){o[f]=[B,s,h];break}}else if(!1===(h=p?s=(i=(o=(r=(a=e)[F]||(a[F]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===B&&i[1]:h))for(;(a=++s&&a&&a[c]||(h=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++h||(p&&((o=(r=a[F]||(a[F]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]=[B,h]),a!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,r){var t,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||x.error("unsupported pseudo: "+e);return a[F]?a(r):1<a.length?(t=[e,e,"",r],k.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=Q(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var i=[],o=[],s=C(e.replace(oe,"$1"));return s[F]?l(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(t){return function(e){return 0<x(t,e).length}}),contains:l(function(t){return t=t.replace(ve,d),function(e){return-1<(e.textContent||e.innerText||v(e)).indexOf(t)}}),lang:l(function(n){return ce.test(n||"")||x.error("unsupported lang: "+n),n=n.replace(ve,d).toLowerCase(),function(e){var t;do{if(t=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===I},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[u]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(u);for(u in{submit:!0,reset:!0})k.pseudos[u]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(u);return r.prototype=k.filters=k.pseudos,k.setFilters=new r,E=x.tokenize=function(e,t){var n,i,o,r,a,s,l,c=z[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=k.preFilter;a;){for(r in n&&!(i=re.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=ae.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(oe," ")}),a=a.slice(n.length)),k.filter)!(i=ue[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?x.error(e):z(e,s).slice(0)},C=x.compile=function(e,t){var n,i=[],o=[],r=U[e+" "];if(!r){for(n=(t=t||E(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=k.relative[t[0].type],s=a||k.relative[" "],l=a?1:0,c=p(function(e){return e===i},s,!0),u=p(function(e){return-1<Q(i,e)},s,!0),d=[function(e,t,n){return n=!a&&(n||t!==T)||((i=t).nodeType?c:u)(e,t,n),i=null,n}];l<r;l++)if(n=k.relative[t[l].type])d=[p(h(d),n)];else{if((n=k.filter[t[l].type].apply(null,t[l].matches))[F]){for(o=++l;o<r&&!k.relative[t[o].type];o++);return y(1<l&&h(d),1<l&&m(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(oe,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&m(t))}d.push(n)}return h(d)}(t[n]))[F]?i:o).push(r);(r=U(e,a(o,i))).selector=e}return r},S=x.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&E(e=c.selector||e);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&g.getById&&9===t.nodeType&&R&&k.relative[r[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(ve,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=ue.needsContext.test(e)?0:r.length;o--&&(a=r[o],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(ve,d),me.test(r[0].type)&&f(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&m(r)))return Y.apply(n,i),n;break}}return(c||C(e,u))(i,t,!R,n,!t||me.test(e)&&f(t.parentNode)||t),n},g.sortStable=F.split("").sort(V).join("")===F,g.detectDuplicates=!!N,A(),g.sortDetached=t(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),t(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),g.attributes&&t(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),t(function(e){return null==e.getAttribute("disabled")})||i(Z,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),x}(w);re.find=ce,re.expr=ce.selectors,re.expr[":"]=re.expr.pseudos,re.uniqueSort=re.unique=ce.uniqueSort,re.text=ce.getText,re.isXMLDoc=ce.isXML,re.contains=ce.contains;function ue(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&re(e).is(n))break;i.push(e)}return i}function de(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var pe=re.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;re.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?re.find.matchesSelector(i,e)?[i]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;t<o;t++)if(re.contains(i[t],this))return!0}));for(t=0;t<o;t++)re.find(e,i[t],n);return(n=this.pushStack(1<o?re.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&pe.test(e)?re(e):e||[],!1).length}});var me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(re.fn.init=function(e,t,n){if(!e)return this;if(n=n||ge,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==n.ready?n.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this));if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:me.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),he.test(i[1])&&re.isPlainObject(t))for(var i in t)re.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((n=X.getElementById(i[2]))&&n.parentNode){if(n.id!==i[2])return ge.find(e);this.length=1,this[0]=n}return this.context=X,this.selector=e,this}).prototype=re.fn;var ge=re(X),ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({has:function(e){var t,n=re(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(re.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=pe.test(e)||"string"!=typeof e?re(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&re.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?re.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?re.inArray(this[0],re(e)):re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.uniqueSort(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return ue(e,"parentNode")},parentsUntil:function(e,t,n){return ue(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return ue(e,"nextSibling")},prevAll:function(e){return ue(e,"previousSibling")},nextUntil:function(e,t,n){return ue(e,"nextSibling",n)},prevUntil:function(e,t,n){return ue(e,"previousSibling",n)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:re.merge([],e.childNodes)}},function(i,o){re.fn[i]=function(e,t){var n=re.map(this,o,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=re.filter(t,n)),1<this.length&&(ye[i]||(n=re.uniqueSort(n)),ve.test(i)&&(n=n.reverse())),this.pushStack(n)}});var be,xe,we=/\S+/g;for(xe in re.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},re.each(e.match(we)||[],function(e,t){n[t]=!0}),n):re.extend({},i);function o(){for(s=i.once,a=r=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&i.stopOnFalse&&(u=l.length,t=!1);i.memory||(t=!1),r=!1,s&&(l=t?[]:"")}var r,t,a,s,l=[],c=[],u=-1,d={add:function(){return l&&(t&&!r&&(u=l.length-1,c.push(t)),function n(e){re.each(e,function(e,t){re.isFunction(t)?i.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==re.type(t)&&n(t)})}(arguments),t&&!r&&o()),this},remove:function(){return re.each(arguments,function(e,t){for(var n;-1<(n=re.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<re.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=!0,t||d.disable(),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||o()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},re.extend({Deferred:function(e){var r=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return re.Deferred(function(i){re.each(r,function(e,t){var n=re.isFunction(o[e])&&o[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?re.extend(e,a):a}},s={};return a.pipe=a.then,re.each(r,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){o=i},r[1^e][2].disable,r[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?Q.call(arguments):e,i===o?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var o,n,i,r=0,a=Q.call(arguments),s=a.length,l=1!==s||e&&re.isFunction(e.promise)?s:0,c=1===l?e:re.Deferred();if(1<s)for(o=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)a[r]&&re.isFunction(a[r].promise)?a[r].promise().progress(t(r,n,o)).done(t(r,i,a)).fail(c.reject):--l;return l||c.resolveWith(i,a),c.promise()}}),re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){(!0===e?--re.readyWait:re.isReady)||((re.isReady=!0)!==e&&0<--re.readyWait||(be.resolveWith(X,[re]),re.fn.triggerHandler&&(re(X).triggerHandler("ready"),re(X).off("ready"))))}}),re.ready.promise=function(e){if(!be)if(be=re.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll)w.setTimeout(re.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",o),w.addEventListener("load",o);else{X.attachEvent("onreadystatechange",o),w.attachEvent("onload",o);var n=!1;try{n=null==w.frameElement&&X.documentElement}catch(e){}n&&n.doScroll&&!function t(){if(!re.isReady){try{n.doScroll("left")}catch(e){return w.setTimeout(t,50)}i(),re.ready()}}()}return be.promise(e)},re.ready.promise(),re(oe))break;oe.ownFirst="0"===xe,oe.inlineBlockNeedsLayout=!1,re(function(){var e,t,n=X.getElementsByTagName("body")[0];n&&n.style&&(e=X.createElement("div"),(t=X.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(t).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",oe.inlineBlockNeedsLayout=e=3===e.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(t))}),function(){var e=X.createElement("div");oe.deleteExpando=!0;try{delete e.test}catch(e){oe.deleteExpando=!1}}();function ke(e){var t=re.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)}var Ee,Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?re.cache[e[re.expando]]:e[re.expando])&&!c(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)}}),re.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0!==e)return"object"==typeof e?this.each(function(){re.data(this,e)}):1<arguments.length?this.each(function(){re.data(this,e,t)}):r?l(r,e,re.data(r,e)):void 0;if(this.length&&(o=re.data(r),1===r.nodeType&&!re._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(0===(i=a[n].name).indexOf("data-")&&l(r,i=re.camelCase(i.slice(5)),o[i]));re._data(r,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){re.removeData(this,e)})}}),re.extend({queue:function(e,t,n){var i;if(e)return i=re._data(e,t=(t||"fx")+"queue"),n&&(!i||re.isArray(n)?i=re._data(e,t,re.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=re.queue(e,t),i=n.length,o=n.shift(),r=re._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){re.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return re._data(e,n)||re._data(e,n,{empty:re.Callbacks("once memory").add(function(){re._removeData(e,t+"queue"),re._removeData(e,n)})})}}),re.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?re.queue(this[0],t):void 0===n?this:this.each(function(){var e=re.queue(this,t,n);re._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&re.dequeue(this,t)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=re.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=re._data(a[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}}),oe.shrinkWrapBlocks=function(){return null!=Ee?Ee:(Ee=!1,(t=X.getElementsByTagName("body")[0])&&t.style?(e=X.createElement("div"),(n=X.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(X.createElement("div")).style.width="5px",Ee=3!==e.offsetWidth),t.removeChild(n),Ee):void 0);var e,t,n};function Te(e,t){return"none"===re.css(e=t||e,"display")||!re.contains(e.ownerDocument,e)}function _e(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===re.type(n))for(s in o=!0,n)_e(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,re.isFunction(i)||(a=!0),t=c?a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(re(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r}var Ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+Ne+")([a-z%]*)$","i"),Pe=["Top","Right","Bottom","Left"],Ie=/^(?:checkbox|radio)$/i,Re=/<([\w:-]+)/,Me=/^$|\/(?:java|ecma)script/i,Le=/^\s+/,De="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Nt=X.createElement("div"),Tt=X.createDocumentFragment(),_t=X.createElement("input"),Nt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",oe.leadingWhitespace=3===Nt.firstChild.nodeType,oe.tbody=!Nt.getElementsByTagName("tbody").length,oe.htmlSerialize=!!Nt.getElementsByTagName("link").length,oe.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,_t.type="checkbox",_t.checked=!0,Tt.appendChild(_t),oe.appendChecked=_t.checked,Nt.innerHTML="<textarea>x</textarea>",oe.noCloneChecked=!!Nt.cloneNode(!0).lastChild.defaultValue,Tt.appendChild(Nt),(_t=X.createElement("input")).setAttribute("type","radio"),_t.setAttribute("checked","checked"),_t.setAttribute("name","t"),Nt.appendChild(_t),oe.checkClone=Nt.cloneNode(!0).cloneNode(!0).lastChild.checked,oe.noCloneEvent=!!Nt.addEventListener,Nt[re.expando]=1,oe.attributes=!Nt.getAttribute(re.expando);var je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:oe.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td;var Fe=/<|&#?\w+;/,Oe=/<tbody/i;!function(){var e,t,n=X.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(oe[e]=t in w)||(n.setAttribute(t,"t"),oe[e]=!1===n.attributes[t].expando)}();var Be=/^(?:input|select|textarea)$/i,He=/^key/,$e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ze=/^(?:focusinfocus|focusoutblur)$/,Ue=/^([^.]*)(?:\.(.+)|)/;re.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,h,f=re._data(e);if(f)for(n.handler&&(n=(s=n).handler,o=s.selector),n.guid||(n.guid=re.guid++),(r=f.events)||(r=f.events={}),(c=f.handle)||((c=f.handle=function(e){return void 0===re||e&&re.event.triggered===e.type?void 0:re.event.dispatch.apply(c.elem,arguments)}).elem=e),a=(t=(t||"").match(we)||[""]).length;a--;)d=h=(u=Ue.exec(t[a])||[])[1],p=(u[2]||"").split(".").sort(),d&&(l=re.event.special[d]||{},d=(o?l.delegateType:l.bindType)||d,l=re.event.special[d]||{},u=re.extend({type:d,origType:h,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&re.expr.match.needsContext.test(o),namespace:p.join(".")},s),(h=r[d])||((h=r[d]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,p,c)||(e.addEventListener?e.addEventListener(d,c,!1):e.attachEvent&&e.attachEvent("on"+d,c))),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),re.event.global[d]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,h,f,m,g=re.hasData(e)&&re._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(we)||[""]).length;c--;)if(h=m=(s=Ue.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=re.event.special[h]||{},p=u[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)a=p[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(p.splice(r,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));l&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||re.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)re.event.remove(e,h+t[c],n,i,!0);re.isEmptyObject(u)&&(delete g.handle,re._removeData(e,"events"))}},trigger:function(e,t,n,i){var o,r,a,s,l,c,u=[n||X],d=ie.call(e,"type")?e.type:e,p=ie.call(e,"namespace")?e.namespace.split("."):[],h=l=n=n||X;if(3!==n.nodeType&&8!==n.nodeType&&!ze.test(d+re.event.triggered)&&(-1<d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),r=d.indexOf(":")<0&&"on"+d,(e=e[re.expando]?e:new re.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:re.makeArray(t,[e]),s=re.event.special[d]||{},i||!s.trigger||!1!==s.trigger.apply(n,t))){if(!i&&!s.noBubble&&!re.isWindow(n)){for(a=s.delegateType||d,ze.test(a+d)||(h=h.parentNode);h;h=h.parentNode)u.push(h),l=h;l===(n.ownerDocument||X)&&u.push(l.defaultView||l.parentWindow||w)}for(c=0;(h=u[c++])&&!e.isPropagationStopped();)e.type=1<c?a:s.bindType||d,(o=(re._data(h,"events")||{})[e.type]&&re._data(h,"handle"))&&o.apply(h,t),(o=r&&h[r])&&o.apply&&ke(h)&&(e.result=o.apply(h,t),!1===e.result&&e.preventDefault());if(e.type=d,!i&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(u.pop(),t))&&ke(n)&&r&&n[d]&&!re.isWindow(n)){(l=n[r])&&(n[r]=null),re.event.triggered=d;try{n[d]()}catch(e){}re.event.triggered=void 0,l&&(n[r]=l)}return e.result}},dispatch:function(e){e=re.event.fix(e);var t,n,i,o,r,a=Q.call(arguments),s=(re._data(this,"events")||{})[e.type]||[],l=re.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(r=re.event.handlers.call(this,e,s),t=0;(i=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(o=((re.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(e.result=o)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?-1<re(o,this).index(l):re.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[re.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=$e.test(o)?this.mouseHooks:He.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new re.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||X).documentElement,n=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(re.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){e=re.extend(new re.Event,n,{type:e,isSimulated:!0});re.event.trigger(e,null,t),e.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){t="on"+t;e.detachEvent&&(void 0===e[t]&&(e[t]=null),e.detachEvent(t,n))},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?d:p):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={constructor:re.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){re.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||re.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),oe.submit||(re.event.special.submit={setup:function(){return!re.nodeName(this,"form")&&void re.event.add(this,"click._submit keypress._submit",function(e){e=e.target,e=re.nodeName(e,"input")||re.nodeName(e,"button")?re.prop(e,"form"):void 0;e&&!re._data(e,"submit")&&(re.event.add(e,"submit._submit",function(e){e._submitBubble=!0}),re._data(e,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&re.event.simulate("submit",this.parentNode,e))},teardown:function(){return!re.nodeName(this,"form")&&void re.event.remove(this,"._submit")}}),oe.change||(re.event.special.change={setup:function(){return Be.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),re.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),re.event.simulate("change",this,e)})),!1):void re.event.add(this,"beforeactivate._change",function(e){e=e.target;Be.test(e.nodeName)&&!re._data(e,"change")&&(re.event.add(e,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||re.event.simulate("change",this.parentNode,e)}),re._data(e,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return re.event.remove(this,"._change"),!Be.test(this.nodeName)}}),oe.focusin||re.each({focus:"focusin",blur:"focusout"},function(n,i){function o(e){re.event.simulate(i,e.target,re.event.fix(e))}re.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=re._data(e,i);t||e.addEventListener(n,o,!0),re._data(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=re._data(e,i)-1;t?re._data(e,i,t):(e.removeEventListener(n,o,!0),re._removeData(e,i))}}}),re.fn.extend({on:function(e,t,n,i){return f(this,e,t,n,i)},one:function(e,t,n,i){return f(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,re(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=p),this.each(function(){re.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return re.event.trigger(e,t,n,!0)}});var Ve=/ jQuery\d+="(?:null|\d+)"/g,qe=new RegExp("<(?:"+De+")[\\s/>]","i"),We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ke=/<script|<style|<link/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe=g(X).appendChild(X.createElement("div"));re.extend({htmlPrefilter:function(e){return e.replace(We,"<$1></$2>")},clone:function(e,t,n){var i,o,r,a,s,l=re.contains(e.ownerDocument,e);if(oe.html5Clone||re.isXMLDoc(e)||!qe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(r=Qe.firstChild)),!(oe.noCloneEvent&&oe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(i=v(r),s=v(e),a=0;null!=(o=s[a]);++a)i[a]&&function(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!oe.noCloneEvent&&t[re.expando]){for(i in(o=re._data(t)).events)re.removeEvent(t,i,o.handle);t.removeAttribute(re.expando)}"script"===n&&t.text!==e.text?(k(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),oe.html5Clone&&e.innerHTML&&!re.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ie.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}(o,i[a]);if(t)if(n)for(s=s||v(e),i=i||v(r),a=0;null!=(o=s[a]);a++)C(o,i[a]);else C(e,r);return 0<(i=v(r,"script")).length&&y(i,!l&&v(e,"script")),i=s=o=null,r},cleanData:function(e,t){for(var n,i,o,r,a=0,s=re.expando,l=re.cache,c=oe.attributes,u=re.event.special;null!=(n=e[a]);a++)if((t||ke(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)u[i]?re.event.remove(n,i):re.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),Y.push(o))}}}),re.fn.extend({domManip:S,detach:function(e){return T(this,e,!0)},remove:function(e){return T(this,e)},text:function(e){return _e(this,function(e){return void 0===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,e).appendChild(e)})},prepend:function(){return S(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=x(this,e)).insertBefore(e,t.firstChild)})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&re.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ve,""):void 0;if("string"==typeof e&&!Ke.test(e)&&(oe.htmlSerialize||!qe.test(e))&&(oe.leadingWhitespace||!Le.test(e))&&!je[(Re.exec(e)||["",""])[1].toLowerCase()]){e=re.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(re.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return S(this,arguments,function(e){var t=this.parentNode;re.inArray(this,n)<0&&(re.cleanData(v(this)),t&&t.replaceChild(e,this))},n)}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){re.fn[e]=function(e){for(var t,n=0,i=[],o=re(e),r=o.length-1;n<=r;n++)t=n===r?this:this.clone(!0),re(o[n])[a](t),J.apply(i,t.get());return this.pushStack(i)}});function Ze(e,t,n,i){var o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,i||[]),t)e.style[o]=r[o];return i}var Je,et,tt,nt,it,ot,rt,at,st,lt={HTML:"block",BODY:"block"},ct=/^margin/,ut=new RegExp("^("+Ne+")(?!px)[a-z%]+$","i"),dt=X.documentElement;function pt(){var e,t=X.documentElement;t.appendChild(at),st.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",et=nt=rt=!1,tt=ot=!0,w.getComputedStyle&&(e=w.getComputedStyle(st),et="1%"!==(e||{}).top,rt="2px"===(e||{}).marginLeft,nt="4px"===(e||{width:"4px"}).width,st.style.marginRight="50%",tt="4px"===(e||{marginRight:"4px"}).marginRight,(e=st.appendChild(X.createElement("div"))).style.cssText=st.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",st.style.width="1px",ot=!parseFloat((w.getComputedStyle(e)||{}).marginRight),st.removeChild(e)),st.style.display="none",(it=0===st.getClientRects().length)&&(st.style.display="",st.innerHTML="<table><tr><td></td><td>t</td></tr></table>",st.childNodes[0].style.borderCollapse="separate",(e=st.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(it=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",it=0===e[0].offsetHeight)),t.removeChild(at)}at=X.createElement("div"),(st=X.createElement("div")).style&&(st.style.cssText="float:left;opacity:.5",oe.opacity="0.5"===st.style.opacity,oe.cssFloat=!!st.style.cssFloat,st.style.backgroundClip="content-box",st.cloneNode(!0).style.backgroundClip="",oe.clearCloneStyle="content-box"===st.style.backgroundClip,(at=X.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",st.innerHTML="",at.appendChild(st),oe.boxSizing=""===st.style.boxSizing||""===st.style.MozBoxSizing||""===st.style.WebkitBoxSizing,re.extend(oe,{reliableHiddenOffsets:function(){return null==et&&pt(),it},boxSizingReliable:function(){return null==et&&pt(),nt},pixelMarginRight:function(){return null==et&&pt(),tt},pixelPosition:function(){return null==et&&pt(),et},reliableMarginRight:function(){return null==et&&pt(),ot},reliableMarginLeft:function(){return null==et&&pt(),rt}}));var ht,ft,mt=/^(top|right|bottom|left)$/;w.getComputedStyle?(ht=function(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?w:t).getComputedStyle(e)},ft=function(e,t,n){var i,o,r=e.style;return""!==(o=(n=n||ht(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==o||re.contains(e.ownerDocument,e)||(o=re.style(e,t)),n&&!oe.pixelMarginRight()&&ut.test(o)&&ct.test(t)&&(i=r.width,e=r.minWidth,t=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=i,r.minWidth=e,r.maxWidth=t),void 0===o?o:o+""}):dt.currentStyle&&(ht=function(e){return e.currentStyle},ft=function(e,t,n){var i,o,r,a=e.style;return null==(r=(n=n||ht(e))?n[t]:void 0)&&a&&a[t]&&(r=a[t]),ut.test(r)&&!mt.test(t)&&(i=a.left,(n=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=i,n&&(o.left=n)),void 0===r?r:r+""||"auto"});var gt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,yt=/^(none|table(?!-c[ea]).+)/,bt=new RegExp("^("+Ne+")(.*)$","i"),xt={position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:"0",fontWeight:"400"},kt=["Webkit","O","Moz","ms"],Et=X.createElement("div").style;re.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=ft(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:oe.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=re.camelCase(t),l=e.style;if(t=re.cssProps[s]||(re.cssProps[s]=P(s)||s),a=re.cssHooks[t]||re.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:l[t];if("string"===(r=typeof n)&&(o=Ae.exec(n))&&o[1]&&(n=u(e,t,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(re.cssNumber[s]?"":"px")),oe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var o,r=re.camelCase(t);return t=re.cssProps[r]||(re.cssProps[r]=P(r)||r),"normal"===(o=void 0===(o=(r=re.cssHooks[t]||re.cssHooks[r])&&"get"in r?r.get(e,!0,n):o)?ft(e,t,i):o)&&t in wt&&(o=wt[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),re.each(["height","width"],function(e,o){re.cssHooks[o]={get:function(e,t,n){if(t)return yt.test(re.css(e,"display"))&&0===e.offsetWidth?Ze(e,xt,function(){return L(e,o,n)}):L(e,o,n)},set:function(e,t,n){var i=n&&ht(e);return R(0,t,n?M(e,o,n,oe.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,i),i):0)}}}),oe.opacity||(re.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle:e.style).filter||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=re.isNumeric(t)?"alpha(opacity="+100*t+")":"",e=i&&i.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===re.trim(e.replace(gt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=gt.test(e)?e.replace(gt,o):e+" "+o)}}),re.cssHooks.marginRight=A(oe.reliableMarginRight,function(e,t){if(t)return Ze(e,{display:"inline-block"},ft,[e,"marginRight"])}),re.cssHooks.marginLeft=A(oe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ft(e,"marginLeft"))||(re.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),re.each({margin:"",padding:"",border:"Width"},function(o,r){re.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+Pe[t]+r]=i[t]||i[t-2]||i[0];return n}},ct.test(o)||(re.cssHooks[o+r].set=R)}),re.fn.extend({css:function(e,t){return _e(this,function(e,t,n){var i,o,r={},a=0;if(re.isArray(t)){for(i=ht(e),o=t.length;a<o;a++)r[t[a]]=re.css(e,t[a],!1,i);return r}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,1<arguments.length)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Te(this)?re(this).show():re(this).hide()})}}),((re.Tween=D).prototype={constructor:D,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||re.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(re.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return(e&&e.get?e:D.propHooks._default).get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:D.propHooks._default).set(this),this}}).init.prototype=D.prototype,(D.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=re.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[re.cssProps[e.prop]]&&!re.cssHooks[e.prop]?e.elem[e.prop]=e.now:re.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},re.fx=D.prototype.init,re.fx.step={};var Ct,St,Tt,_t,Nt,At=/^(?:toggle|show|hide)$/,Pt=/queueHooks$/;re.Animation=re.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,o=(e=re.isFunction(e)?(t=e,["*"]):e.match(we)).length;i<o;i++)n=e[i],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[function(t,e,n){var i,o,r,a,s,l,c,u=this,d={},p=t.style,h=t.nodeType&&Te(t),f=re._data(t,"fxshow");for(i in n.queue||(null==(s=re._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,re.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(c=re.css(t,"display"))?re._data(t,"olddisplay")||N(t.nodeName):c)&&"none"===re.css(t,"float")&&(oe.inlineBlockNeedsLayout&&"inline"!==N(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",oe.shrinkWrapBlocks()||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),e)if(o=e[i],At.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!f||void 0===f[i])continue;h=!0}d[i]=f&&f[i]||re.style(t,i)}else c=void 0;if(re.isEmptyObject(d))"inline"===("none"===c?N(t.nodeName):c)&&(p.display=c);else for(i in f?"hidden"in f&&(h=f.hidden):f=re._data(t,"fxshow",{}),r&&(f.hidden=!h),h?re(t).show():u.done(function(){re(t).hide()}),u.done(function(){for(var e in re._removeData(t,"fxshow"),d)re.style(t,e,d[e])}),d)a=O(h?f[i]:0,i,u),i in f||(f[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),re.speed=function(e,t,n){var i=e&&"object"==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t};return i.duration=re.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in re.fx.speeds?re.fx.speeds[i.duration]:re.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){re.isFunction(i.old)&&i.old.call(this),i.queue&&re.dequeue(this,i.queue)},i},re.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Te).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=re.isEmptyObject(t),r=re.speed(e,n,i),i=function(){var e=B(this,re.extend({},t),r);(o||re._data(this,"finish"))&&e.stop(!0)};return i.finish=i,o||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(o,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=re.timers,i=re._data(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&Pt.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||re.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=re._data(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=re.timers,r=n?n.length:0;for(t.finish=!0,re.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),re.each(["toggle","show","hide"],function(e,i){var o=re.fn[i];re.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(F(i,!0),e,t,n)}}),re.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){re.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),re.timers=[],re.fx.tick=function(){var e,t=re.timers,n=0;for(Ct=re.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||re.fx.stop(),Ct=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){St=St||w.setInterval(re.fx.tick,re.fx.interval)},re.fx.stop=function(){w.clearInterval(St),St=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(i,e){return i=re.fx&&re.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=w.setTimeout(e,i);t.stop=function(){w.clearTimeout(n)}})},ce=X.createElement("input"),Tt=X.createElement("div"),_t=X.createElement("select"),Nt=_t.appendChild(X.createElement("option")),(Tt=X.createElement("div")).setAttribute("className","t"),Tt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ne=Tt.getElementsByTagName("a")[0],ce.setAttribute("type","checkbox"),Tt.appendChild(ce),(Ne=Tt.getElementsByTagName("a")[0]).style.cssText="top:1px",oe.getSetAttribute="t"!==Tt.className,oe.style=/top/.test(Ne.getAttribute("style")),oe.hrefNormalized="/a"===Ne.getAttribute("href"),oe.checkOn=!!ce.value,oe.optSelected=Nt.selected,oe.enctype=!!X.createElement("form").enctype,_t.disabled=!0,oe.optDisabled=!Nt.disabled,(ce=X.createElement("input")).setAttribute("value",""),oe.input=""===ce.getAttribute("value"),ce.value="t",ce.setAttribute("type","radio"),oe.radioValue="t"===ce.value;var It=/\r/g,Rt=/[\x20\t\r\n\f]+/g;re.fn.extend({val:function(t){var n,e,i,o=this[0];return arguments.length?(i=re.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,re(this).val()):t)?e="":"number"==typeof e?e+="":re.isArray(e)&&(e=re.map(e,function(e){return null==e?"":e+""})),(n=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=re.valHooks[o.type]||re.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(It,""):null==e?"":e:void 0}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e)).replace(Rt," ")}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,r=o?null:[],a=o?i+1:n.length,s=i<0?a:o?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&(oe.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!re.nodeName(t.parentNode,"optgroup"))){if(t=re(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=re.makeArray(t),a=o.length;a--;)if(i=o[a],-1<re.inArray(re.valHooks.option.get(i),r))try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){if(re.isArray(t))return e.checked=-1<re.inArray(re(e).val(),t)}},oe.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Mt,Lt,Dt=re.expr.attrHandle,jt=/^(?:checked|selected)$/i,Ft=oe.getSetAttribute,Ot=oe.input;re.fn.extend({attr:function(e,t){return _e(this,re.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?re.prop(e,t,n):(1===r&&re.isXMLDoc(e)||(t=t.toLowerCase(),o=re.attrHooks[t]||(re.expr.match.bool.test(t)?Lt:Mt)),void 0!==n?null===n?void re.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=re.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!oe.radioValue&&"radio"===t&&re.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(we);if(r&&1===e.nodeType)for(;n=r[o++];)i=re.propFix[n]||n,re.expr.match.bool.test(n)?Ot&&Ft||!jt.test(n)?e[i]=!1:e[re.camelCase("default-"+n)]=e[i]=!1:re.attr(e,n,""),e.removeAttribute(Ft?n:i)}}),Lt={set:function(e,t,n){return!1===t?re.removeAttr(e,n):Ot&&Ft||!jt.test(n)?e.setAttribute(!Ft&&re.propFix[n]||n,n):e[re.camelCase("default-"+n)]=e[n]=!0,n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var r=Dt[t]||re.find.attr;Ot&&Ft||!jt.test(t)?Dt[t]=function(e,t,n){var i,o;return n||(o=Dt[t],Dt[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,Dt[t]=o),i}:Dt[t]=function(e,t,n){if(!n)return e[re.camelCase("default-"+t)]?t.toLowerCase():null}}),Ot&&Ft||(re.attrHooks.value={set:function(e,t,n){return re.nodeName(e,"input")?void(e.defaultValue=t):Mt&&Mt.set(e,t,n)}}),Ft||(Mt={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},Dt.id=Dt.name=Dt.coords=function(e,t,n){if(!n)return(t=e.getAttributeNode(t))&&""!==t.value?t.value:null},re.valHooks.button={get:function(e,t){t=e.getAttributeNode(t);if(t&&t.specified)return t.value},set:Mt.set},re.attrHooks.contenteditable={set:function(e,t,n){Mt.set(e,""!==t&&t,n)}},re.each(["width","height"],function(e,n){re.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),oe.style||(re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Bt=/^(?:input|select|textarea|button|object)$/i,Ht=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return _e(this,re.prop,e,t,1<arguments.length)},removeProp:function(e){return e=re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),re.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&re.isXMLDoc(e)||(t=re.propFix[t]||t,o=re.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):Bt.test(e.nodeName)||Ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),oe.hrefNormalized||re.each(["href","src"],function(e,t){re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),oe.optSelected||(re.propHooks.selected={get:function(e){e=e.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),oe.enctype||(re.propFix.enctype="encoding");var $t=/[\t\r\n\f]/g;re.fn.extend({addClass:function(t){var e,n,i,o,r,a,s=0;if(re.isFunction(t))return this.each(function(e){re(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(we)||[];n=this[s++];)if(a=H(n),i=1===n.nodeType&&(" "+a+" ").replace($t," ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a!==(a=re.trim(i))&&re.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0;if(re.isFunction(t))return this.each(function(e){re(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(we)||[];n=this[s++];)if(a=H(n),i=1===n.nodeType&&(" "+a+" ").replace($t," ")){for(r=0;o=e[r++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a!==(a=re.trim(i))&&re.attr(n,"class",a)}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"==r?t?this.addClass(o):this.removeClass(o):re.isFunction(o)?this.each(function(e){re(this).toggleClass(o.call(this,e,H(this),t),t)}):this.each(function(){var e,t,n,i;if("string"==r)for(t=0,n=re(this),i=o.match(we)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=r||((e=H(this))&&re._data(this,"__className__",e),re.attr(this,"class",!e&&!1!==o&&re._data(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+H(t)+" ").replace($t," ").indexOf(i))return!0;return!1}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){re.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var ce=w.location,zt=re.now(),Ut=/\?/,Vt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;re.parseJSON=function(e){if(w.JSON&&w.JSON.parse)return w.JSON.parse(e+"");var o,r=null,t=re.trim(e+"");return t&&!re.trim(t.replace(Vt,function(e,t,n,i){return 0===(r=o&&t?0:r)?e:(o=n||t,r+=!i-!n,"")}))?Function("return "+t)():re.error("Invalid JSON: "+e)},re.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{w.DOMParser?t=(new w.DOMParser).parseFromString(e,"text/xml"):((t=new w.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+e),t};var qt=/#.*$/,Wt=/([?&])_=[^&]*/,Kt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Gt=/^(?:GET|HEAD)$/,Yt=/^\/\//,Xt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},Zt={},Jt="*/".concat("*"),en=ce.href,tn=Xt.exec(en.toLowerCase())||[];re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:en,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(tn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,re.ajaxSettings),t):U(re.ajaxSettings,e)},ajaxPrefilter:$(Qt),ajaxTransport:$(Zt),ajax:function(e,t){function n(e,t,n,i){var o,r,a,s=t;2!==b&&(b=2,u&&w.clearTimeout(u),p=void 0,c=i||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}i=i||a}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}(h,x,n)),a=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(h,a,x,i),i?(h.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(re.lastModified[l]=n),(n=x.getResponseHeader("etag"))&&(re.etag[l]=n)),204===e||"HEAD"===h.type?s="nocontent":304===e?s="notmodified":(s=a.state,o=a.data,i=!(r=a.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),x.status=e,x.statusText=(t||s)+"",i?g.resolveWith(f,[o,s,x]):g.rejectWith(f,[x,s,r]),x.statusCode(y),y=void 0,d&&m.trigger(i?"ajaxSuccess":"ajaxError",[x,h,i?o:r]),v.fireWith(f,[x,s]),d&&(m.trigger("ajaxComplete",[x,h]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0);var i,l,c,u,d,p,o,h=re.ajaxSetup({},t=t||{}),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?re(f):re.event,g=re.Deferred(),v=re.Callbacks("once memory"),y=h.statusCode||{},r={},a={},b=0,s="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=Kt.exec(c);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?c:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=a[n]=a[n]||e,r[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){if(e)if(b<2)for(var t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){e=e||s;return p&&p.abort(e),n(0,e),this}};if(g.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||en)+"").replace(qt,"").replace(Yt,tn[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=re.trim(h.dataType||"*").toLowerCase().match(we)||[""],null==h.crossDomain&&(e=Xt.exec(h.url.toLowerCase()),h.crossDomain=!(!e||e[1]===tn[1]&&e[2]===tn[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=re.param(h.data,h.traditional)),z(Qt,h,t,x),2===b)return x;for(i in(d=re.event&&h.global)&&0==re.active++&&re.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Gt.test(h.type),l=h.url,h.hasContent||(h.data&&(l=h.url+=(Ut.test(l)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Wt.test(l)?l.replace(Wt,"$1_="+zt++):l+(Ut.test(l)?"&":"?")+"_="+zt++)),h.ifModified&&(re.lastModified[l]&&x.setRequestHeader("If-Modified-Since",re.lastModified[l]),re.etag[l]&&x.setRequestHeader("If-None-Match",re.etag[l])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Jt+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(!1===h.beforeSend.call(f,x,h)||2===b))return x.abort();for(i in s="abort",{success:1,error:1,complete:1})x[i](h[i]);if(p=z(Zt,h,t,x)){if(x.readyState=1,d&&m.trigger("ajaxSend",[x,h]),2===b)return x;h.async&&0<h.timeout&&(u=w.setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,p.send(r,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return re.get(e,t,n,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,o){re[o]=function(e,t,n,i){return re.isFunction(t)&&(i=i||n,n=t,t=void 0),re.ajax(re.extend({url:e,type:o,dataType:i,data:t,success:n},re.isPlainObject(e)&&e))}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(t){return re.isFunction(t)?this.each(function(e){re(this).wrapAll(t.call(this,e))}):(this[0]&&(e=re(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this);var e},wrapInner:function(n){return re.isFunction(n)?this.each(function(e){re(this).wrapInner(n.call(this,e))}):this.each(function(){var e=re(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=re.isFunction(t);return this.each(function(e){re(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return oe.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:V(e)},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var nn=/%20/g,on=/\[\]$/,rn=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){function n(e,t){t=re.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,o=[];if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(re.isArray(e))re.each(e,function(e,t){o||on.test(i)?r(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,r)});else if(o||"object"!==re.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&").replace(nn,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&sn.test(this.nodeName)&&!an.test(e)&&(this.checked||!Ie.test(e))}).map(function(e,t){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(rn,"\r\n")}}):{name:t.name,value:n.replace(rn,"\r\n")}}).get()}}),re.ajaxSettings.xhr=void 0!==w.ActiveXObject?function(){return this.isLocal?W():8<X.documentMode?q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||W()}:q;var ln=0,cn={},ce=re.ajaxSettings.xhr();w.attachEvent&&w.attachEvent("onunload",function(){for(var e in cn)cn[e](void 0,!0)}),oe.cors=!!ce&&"withCredentials"in ce,(ce=oe.ajax=!!ce)&&re.ajaxTransport(function(l){var c;if(!l.crossDomain||oe.cors)return{send:function(e,r){var t,a=l.xhr(),s=++ln;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)a[t]=l.xhrFields[t];for(t in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&a.setRequestHeader(t,e[t]+"");a.send(l.hasContent&&l.data||null),c=function(e,t){var n,i,o;if(c&&(t||4===a.readyState))if(delete cn[s],c=void 0,a.onreadystatechange=re.noop,t)4!==a.readyState&&a.abort();else{o={},n=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{i=a.statusText}catch(e){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&r(n,i,o,a.getAllResponseHeaders())},l.async?4===a.readyState?w.setTimeout(c):a.onreadystatechange=cn[s]=c:c()},abort:function(){c&&c(void 0,!0)}}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),re.ajaxTransport("script",function(t){if(t.crossDomain){var i,o=X.head||re("head")[0]||X.documentElement;return{send:function(e,n){(i=X.createElement("script")).async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(e,t){!t&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(void 0,!0)}}}});var un=[],dn=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=un.pop()||re.expando+"_"+zt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(dn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=re.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(dn,"$1"+i):!1!==e.jsonp&&(e.url+=(Ut.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||re.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=w[i],w[i]=function(){r=arguments},n.always(function(){void 0===o?re(w).removeProp(i):w[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,un.push(i)),r&&re.isFunction(o)&&o(r[0]),r=o=void 0}),"script"}),re.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=he.exec(e),n=!n&&[];return i?[t.createElement(i[1])]:(i=m([e],t,n),n&&n.length&&re(n).remove(),re.merge([],i.childNodes))};var pn=re.fn.load;return re.fn.load=function(e,t,n){if("string"!=typeof e&&pn)return pn.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return-1<s&&(i=re.trim(e.slice(s,e.length)),e=e.slice(0,s)),re.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&re.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?re("<div>").append(re.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(t){return re.grep(re.timers,function(e){return t===e.elem}).length},re.offset={setOffset:function(e,t,n){var i,o,r,a,s=re.css(e,"position"),l=re(e),c={};"static"===s&&(e.style.position="relative"),r=l.offset(),i=re.css(e,"top"),a=re.css(e,"left"),a=("absolute"===s||"fixed"===s)&&-1<re.inArray("auto",[i,a])?(o=(s=l.position()).top,s.left):(o=parseFloat(i)||0,parseFloat(a)||0),null!=(t=re.isFunction(t)?t.call(e,n,re.extend({},r)):t).top&&(c.top=t.top-r.top+o),null!=t.left&&(c.left=t.left-r.left+a),"using"in t?t.using.call(e,c):l.css(c)}},re.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){re.offset.setOffset(this,t,e)});var e,n={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(e=o.documentElement,re.contains(e,i)?(void 0!==i.getBoundingClientRect&&(n=i.getBoundingClientRect()),o=K(o),{top:n.top+(o.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(o.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===re.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),(n=!re.nodeName(e[0],"html")?e.offset():n).top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(i,"marginTop",!0),left:t.left-n.left-re.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||dt})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r=/Y/.test(o);re.fn[t]=function(e){return _e(this,function(e,t,n){var i=K(e);return void 0===n?i?o in i?i[o]:i.document.documentElement[t]:e[t]:void(i?i.scrollTo(r?re(i).scrollLeft():n,r?n:re(i).scrollTop()):e[t]=n)},t,e,arguments.length,null)}}),re.each(["top","left"],function(e,n){re.cssHooks[n]=A(oe.pixelPosition,function(e,t){if(t)return t=ft(e,n),ut.test(t)?re(e).position()[n]+"px":t})}),re.each({Height:"height",Width:"width"},function(r,a){re.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,e){re.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return _e(this,function(e,t,n){var i;return re.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?re.css(e,t,o):re.style(e,t,n,o)},a,n?e:void 0,n,null)}})}),re.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,layui.define(function(e){e("jquery",layui.$=re)}),re},"object"==typeof t&&"object"==typeof t.exports?t.exports=v.document?y(v):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return y(e)}:y(v),function(m){function t(e){function t(){n.creat()}var n=this;n.index=++v.index,n.config.maxWidth=g(c).width()-30,n.config=g.extend({},n.config,u.config,e),document.body?t():setTimeout(function(){t()},30)}var g,c,e,n=m.layui&&layui.define,u={getPath:(e=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,n=t.length-1,i=n;0<i;i--)if("interactive"===t[i].readyState){e=t[i].src;break}return e||t[n].src}(),(m.LAYUI_GLOBAL||{}).layer_dir||e.substring(0,e.lastIndexOf("/")+1)),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"],getStyle:function(e,t){e=e.currentStyle||m.getComputedStyle(e,null);return e[e.getPropertyValue?"getPropertyValue":"getAttribute"](t)},link:function(e,i,t){var n,o,r,a,s,l;v.path&&(n=document.getElementsByTagName("head")[0],o=document.createElement("link"),r=((t="string"==typeof i?i:t)||e).replace(/\.|\//g,""),a="layuicss-"+r,s="creating",l=0,o.rel="stylesheet",o.href=v.path+e,o.id=a,document.getElementById(a)||n.appendChild(o),"function"==typeof i&&function e(t){var n=document.getElementById(a);return 100<++l?m.console&&console.error(r+".css: Invalid"):void(1989===parseInt(u.getStyle(n,"width"))?(t===s&&n.removeAttribute("lay-status"),n.getAttribute("lay-status")===s?setTimeout(e,100):i()):(n.setAttribute("lay-status",s),setTimeout(function(){e(s)},100)))}())}},v={v:"3.5.1",ie:(e=navigator.userAgent.toLowerCase(),!!(m.ActiveXObject||"ActiveXObject"in m)&&((e.match(/msie\s(\d+)/)||[])[1]||"11")),index:m.layer&&m.layer.v?1e5:0,path:u.getPath,config:function(e,t){return v.cache=u.config=g.extend({},u.config,e=e||{}),v.path=u.config.path||v.path,"string"==typeof e.extend&&(e.extend=[e.extend]),u.config.path&&v.ready(),e.extend&&(n?layui.addcss("modules/layer/"+e.extend):u.link("theme/"+e.extend)),this},ready:function(e){var t=(n?"modules/layer/":"theme/")+"default/layer.css?v="+v.v;return n?layui.addcss(t,e,"layer"):u.link(t,e,"layer"),this},alert:function(e,t,n){var i="function"==typeof t;return v.open(g.extend({content:e,yes:n=i?t:n},i?{}:t))},confirm:function(e,t,n,i){var o="function"==typeof t;return o&&(i=n,n=t),v.open(g.extend({content:e,btn:u.btn,yes:n,btn2:i},o?{}:t))},msg:function(e,t,n){var i="function"==typeof t,o=u.config.skin,r=(o?o+" "+o+"-msg":"")||"layui-layer-msg",o=d.anim.length-1;return i&&(n=t),v.open(g.extend({content:e,time:3e3,shade:!1,skin:r,title:!1,closeBtn:!1,btn:!1,resize:!1,end:n},i&&!u.config.skin?{skin:r+" layui-layer-hui",anim:o}:(-1!==(t=t||{}).icon&&(void 0!==t.icon||u.config.skin)||(t.skin=r+" "+(t.skin||"layui-layer-hui")),t)))},load:function(e,t){return v.open(g.extend({type:3,icon:e||0,resize:!1,shade:.01},t))},tips:function(e,t,n){return v.open(g.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:260},n))}};t.pt=t.prototype;var d=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];d.anim=["layer-anim-00","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],d.SHADE="layui-layer-shade",d.MOVE="layui-layer-move",t.pt.config={type:0,shade:.3,fixed:!0,move:d[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,minStack:!0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},t.pt.vessel=function(e,t){var n=this.index,i=this.config,o=i.zIndex+n,r="object"==typeof i.title,a=i.maxmin&&(1===i.type||2===i.type),r=i.title?'<div class="layui-layer-title" style="'+(r?i.title[1]:"")+'">'+(r?i.title[0]:i.title)+"</div>":"";return i.zIndex=o,t([i.shade?'<div class="'+d.SHADE+'" id="'+d.SHADE+n+'" times="'+n+'" style="z-index:'+(o-1)+'; "></div>':"",'<div class="'+d[0]+" layui-layer-"+u.type[i.type]+(0!=i.type&&2!=i.type||i.shade?"":" layui-layer-border")+" "+(i.skin||"")+'" id="'+d[0]+n+'" type="'+u.type[i.type]+'" times="'+n+'" showtime="'+i.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+o+"; width:"+i.area[0]+";height:"+i.area[1]+";position:"+(i.fixed?"fixed;":"absolute;")+'">'+(e&&2!=i.type?"":r)+'<div id="'+(i.id||"")+'" class="layui-layer-content'+(0==i.type&&-1!==i.icon?" layui-layer-padding":"")+(3==i.type?" layui-layer-loading"+i.icon:"")+'">'+(0==i.type&&-1!==i.icon?'<i class="layui-layer-ico layui-layer-ico'+i.icon+'"></i>':"")+((1!=i.type||!e)&&i.content||"")+'</div><span class="layui-layer-setwin">'+(a=a?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"",i.closeBtn&&(a+='<a class="layui-layer-ico '+d[7]+" "+d[7]+(i.title?i.closeBtn:4==i.type?"1":"2")+'" href="javascript:;"></a>'),a)+"</span>"+(i.btn?function(){var e="";"string"==typeof i.btn&&(i.btn=[i.btn]);for(var t=0,n=i.btn.length;t<n;t++)e+='<a class="'+d[6]+t+'">'+i.btn[t]+"</a>";return'<div class="'+d[6]+" layui-layer-btn-"+(i.btnAlign||"")+'">'+e+"</div>"}():"")+(i.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],r,g('<div class="'+d.MOVE+'" id="'+d.MOVE+'"></div>')),this},t.pt.creat=function(){var e,i=this,o=i.config,r=i.index,a="object"==typeof(l=o.content),s=g("body");if(!o.id||!g("#"+o.id)[0]){switch("string"==typeof o.area&&(o.area="auto"===o.area?["",""]:[o.area,""]),o.shift&&(o.anim=o.shift),6==v.ie&&(o.fixed=!1),o.type){case 0:o.btn="btn"in o?o.btn:u.btn[0],v.closeAll("dialog");break;case 2:var l=o.content=a?o.content:[o.content||"","auto"];o.content='<iframe scrolling="'+(o.content[1]||"auto")+'" allowtransparency="true" id="'+d[4]+r+'" name="'+d[4]+r+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+o.content[0]+'"></iframe>';break;case 3:delete o.title,delete o.closeBtn,-1===o.icon&&o.icon,v.closeAll("loading");break;case 4:a||(o.content=[o.content,"body"]),o.follow=o.content[1],o.content=o.content[0]+'<i class="layui-layer-TipsG"></i>',delete o.title,o.tips="object"==typeof o.tips?o.tips:[o.tips,!0],o.tipsMore||v.closeAll("tips")}i.vessel(a,function(e,t,n){s.append(e[0]),a?2==o.type||4==o.type?g("body").append(e[1]):l.parents("."+d[0])[0]||(l.data("display",l.css("display")).show().addClass("layui-layer-wrap").wrap(e[1]),g("#"+d[0]+r).find("."+d[5]).before(t)):s.append(e[1]),g("#"+d.MOVE)[0]||s.append(u.moveElem=n),i.layero=g("#"+d[0]+r),i.shadeo=g("#"+d.SHADE+r),o.scrollbar||d.html.css("overflow","hidden").attr("layer-full",r)}).auto(r),i.shadeo.css({"background-color":o.shade[1]||"#000",opacity:o.shade[0]||o.shade}),2==o.type&&6==v.ie&&i.layero.find("iframe").attr("src",l[0]),4==o.type?i.tips():(i.offset(),parseInt(u.getStyle(document.getElementById(d.MOVE),"z-index"))||(i.layero.css("visibility","hidden"),v.ready(function(){i.offset(),i.layero.css("visibility","visible")}))),o.fixed&&c.on("resize",function(){i.offset(),(/^\d+%$/.test(o.area[0])||/^\d+%$/.test(o.area[1]))&&i.auto(r),4==o.type&&i.tips()}),o.time<=0||setTimeout(function(){v.close(i.index)},o.time),i.move().callback(),d.anim[o.anim]&&(e="layer-anim "+d.anim[o.anim],i.layero.addClass(e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){g(this).removeClass(e)})),o.isOutAnim&&i.layero.data("isOutAnim",!0)}},t.pt.auto=function(e){var t=this.config,n=g("#"+d[0]+e);""===t.area[0]&&0<t.maxWidth&&(v.ie&&v.ie<8&&t.btn&&n.width(n.innerWidth()),n.outerWidth()>t.maxWidth&&n.width(t.maxWidth));var i=[n.innerWidth(),n.innerHeight()],o=n.find(d[1]).outerHeight()||0,r=n.find("."+d[6]).outerHeight()||0,e=function(e){(e=n.find(e)).height(i[1]-o-r-2*(0|parseFloat(e.css("padding-top"))))};return 2===t.type?e("iframe"):""===t.area[1]?0<t.maxHeight&&n.outerHeight()>t.maxHeight?(i[1]=t.maxHeight,e("."+d[5])):t.fixed&&i[1]>=c.height()&&(i[1]=c.height(),e("."+d[5])):e("."+d[5]),this},t.pt.offset=function(){var e=this,t=e.config,n=e.layero,i=[n.outerWidth(),n.outerHeight()],o="object"==typeof t.offset;e.offsetTop=(c.height()-i[1])/2,e.offsetLeft=(c.width()-i[0])/2,o?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&("t"===t.offset?e.offsetTop=0:"r"===t.offset?e.offsetLeft=c.width()-i[0]:"b"===t.offset?e.offsetTop=c.height()-i[1]:"l"===t.offset?e.offsetLeft=0:"lt"===t.offset?(e.offsetTop=0,e.offsetLeft=0):"lb"===t.offset?(e.offsetTop=c.height()-i[1],e.offsetLeft=0):"rt"===t.offset?(e.offsetTop=0,e.offsetLeft=c.width()-i[0]):"rb"===t.offset?(e.offsetTop=c.height()-i[1],e.offsetLeft=c.width()-i[0]):e.offsetTop=t.offset),t.fixed||(e.offsetTop=/%$/.test(e.offsetTop)?c.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?c.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=c.scrollTop(),e.offsetLeft+=c.scrollLeft()),n.attr("minLeft")&&(e.offsetTop=c.height()-(n.find(d[1]).outerHeight()||0),e.offsetLeft=n.css("left")),n.css({top:e.offsetTop,left:e.offsetLeft})},t.pt.tips=function(){var e=this.config,t=this.layero,n=[t.outerWidth(),t.outerHeight()],i=g(e.follow),o={width:(i=!i[0]?g("body"):i).outerWidth(),height:i.outerHeight(),top:i.offset().top,left:i.offset().left},r=t.find(".layui-layer-TipsG"),i=e.tips[0];e.tips[1]||r.remove(),o.autoLeft=function(){0<o.left+n[0]-c.width()?(o.tipLeft=o.left+o.width-n[0],r.css({right:12,left:"auto"})):o.tipLeft=o.left},o.where=[function(){o.autoLeft(),o.tipTop=o.top-n[1]-10,r.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",e.tips[1])},function(){o.tipLeft=o.left+o.width+10,o.tipTop=o.top,r.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",e.tips[1])},function(){o.autoLeft(),o.tipTop=o.top+o.height+10,r.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",e.tips[1])},function(){o.tipLeft=o.left-n[0]-10,o.tipTop=o.top,r.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",e.tips[1])}],o.where[i-1](),1===i?o.top-(c.scrollTop()+n[1]+16)<0&&o.where[2]():2===i?0<c.width()-(o.left+o.width+n[0]+16)||o.where[3]():3===i?0<o.top-c.scrollTop()+o.height+n[1]+16-c.height()&&o.where[0]():4===i&&0<n[0]+16-o.left&&o.where[1](),t.find("."+d[5]).css({"background-color":e.tips[1],"padding-right":e.closeBtn?"30px":""}),t.css({left:o.tipLeft-(e.fixed?c.scrollLeft():0),top:o.tipTop-(e.fixed?c.scrollTop():0)})},t.pt.move=function(){var r=this,a=r.config,e=g(document),s=r.layero,t=s.find(a.move),n=s.find(".layui-layer-resize"),l={};return a.move&&t.css("cursor","move"),t.on("mousedown",function(e){e.preventDefault(),a.move&&(l.moveStart=!0,l.offset=[e.clientX-parseFloat(s.css("left")),e.clientY-parseFloat(s.css("top"))],u.moveElem.css("cursor","move").show())}),n.on("mousedown",function(e){e.preventDefault(),l.resizeStart=!0,l.offset=[e.clientX,e.clientY],l.area=[s.outerWidth(),s.outerHeight()],u.moveElem.css("cursor","se-resize").show()}),e.on("mousemove",function(e){var t,n,i,o;l.moveStart&&(i=e.clientX-l.offset[0],o=e.clientY-l.offset[1],n="fixed"===s.css("position"),e.preventDefault(),l.stX=n?0:c.scrollLeft(),l.stY=n?0:c.scrollTop(),a.moveOut||(t=c.width()-s.outerWidth()+l.stX,n=c.height()-s.outerHeight()+l.stY,t<(i=i<l.stX?l.stX:i)&&(i=t),n<(o=o<l.stY?l.stY:o)&&(o=n)),s.css({left:i,top:o})),a.resize&&l.resizeStart&&(i=e.clientX-l.offset[0],o=e.clientY-l.offset[1],e.preventDefault(),v.style(r.index,{width:l.area[0]+i,height:l.area[1]+o}),l.isResize=!0,a.resizing&&a.resizing(s))}).on("mouseup",function(e){l.moveStart&&(delete l.moveStart,u.moveElem.hide(),a.moveEnd&&a.moveEnd(s)),l.resizeStart&&(delete l.resizeStart,u.moveElem.hide())}),r},t.pt.callback=function(){var t=this,n=t.layero,i=t.config;t.openLayer(),i.success&&(2==i.type?n.find("iframe").on("load",function(){i.success(n,t.index,t)}):i.success(n,t.index,t)),6==v.ie&&t.IE6(n),n.find("."+d[6]).children("a").on("click",function(){var e=g(this).index();0===e?i.yes?i.yes(t.index,n):i.btn1?i.btn1(t.index,n):v.close(t.index):!1===(i["btn"+(e+1)]&&i["btn"+(e+1)](t.index,n))||v.close(t.index)}),n.find("."+d[7]).on("click",function(){!1===(i.cancel&&i.cancel(t.index,n))||v.close(t.index)}),i.shadeClose&&t.shadeo.on("click",function(){v.close(t.index)}),n.find(".layui-layer-min").on("click",function(){!1===(i.min&&i.min(n,t.index))||v.min(t.index,i)}),n.find(".layui-layer-max").on("click",function(){g(this).hasClass("layui-layer-maxmin")?(v.restore(t.index),i.restore&&i.restore(n,t.index)):(v.full(t.index,i),setTimeout(function(){i.full&&i.full(n,t.index)},100))}),i.end&&(u.end[t.index]=i.end)},u.reselect=function(){g.each(g("select"),function(e,t){var n=g(this);n.parents("."+d[0])[0]||1==n.attr("layer")&&g("."+d[0]).length<1&&n.removeAttr("layer").show()})},t.pt.IE6=function(e){g("select").each(function(e,t){var n=g(this);n.parents("."+d[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide()})},t.pt.openLayer=function(){v.zIndex=this.config.zIndex,v.setTop=function(e){return v.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",function(){v.zIndex++,e.css("z-index",v.zIndex+1)}),v.zIndex}},u.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},u.rescollbar=function(e){d.html.attr("layer-full")==e&&(d.html[0].style.removeProperty?d.html[0].style.removeProperty("overflow"):d.html[0].style.removeAttribute("overflow"),d.html.removeAttr("layer-full"))},(m.layer=v).getChildFrame=function(e,t){return t=t||g("."+d[4]).attr("times"),g("#"+d[0]+t).find("iframe").contents().find(e)},v.getFrameIndex=function(e){return g("#"+e).parents("."+d[4]).attr("times")},v.iframeAuto=function(e){var t,n,i;e&&(t=v.getChildFrame("html",e).outerHeight(),i=(n=g("#"+d[0]+e)).find(d[1]).outerHeight()||0,e=n.find("."+d[6]).outerHeight()||0,n.css({height:t+i+e}),n.find("iframe").css({height:t}))},v.iframeSrc=function(e,t){g("#"+d[0]+e).find("iframe").attr("src",t)},v.style=function(e,t,n){var i=g("#"+d[0]+e),o=i.find(".layui-layer-content"),r=i.attr("type"),a=i.find(d[1]).outerHeight()||0,e=i.find("."+d[6]).outerHeight()||0;i.attr("minLeft"),r!==u.type[3]&&r!==u.type[4]&&(n||(parseFloat(t.width)<=260&&(t.width=260),parseFloat(t.height)-a-e<=64&&(t.height=64+a+e)),i.css(t),e=i.find("."+d[6]).outerHeight(),r===u.type[2]?i.find("iframe").css({height:parseFloat(t.height)-a-e}):o.css({height:parseFloat(t.height)-a-e-parseFloat(o.css("padding-top"))-parseFloat(o.css("padding-bottom"))}))},v.min=function(e,t){t=t||{};var n=g("#"+d[0]+e),i=g("#"+d.SHADE+e),o=n.find(d[1]).outerHeight()||0,r=n.attr("minLeft")||181*u.minIndex+"px",a=n.css("position"),s={width:180,height:o,position:"fixed",overflow:"hidden"};u.record(n),u.minLeft[0]&&(r=u.minLeft[0],u.minLeft.shift()),t.minStack&&(s.left=r,s.top=c.height()-o,n.attr("minLeft")||u.minIndex++,n.attr("minLeft",r)),n.attr("position",a),v.style(e,s,!0),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(d[4]).hide(),u.rescollbar(e),i.hide()},v.restore=function(e){var t=g("#"+d[0]+e),n=g("#"+d.SHADE+e),i=t.attr("area").split(",");t.attr("type"),v.style(e,{width:parseFloat(i[0]),height:parseFloat(i[1]),top:parseFloat(i[2]),left:parseFloat(i[3]),position:t.attr("position"),overflow:"visible"},!0),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(d[4]).show(),u.rescollbar(e),n.show()},v.full=function(t){var n=g("#"+d[0]+t);u.record(n),d.html.attr("layer-full")||d.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(void 0),setTimeout(function(){var e="fixed"===n.css("position");v.style(t,{top:e?0:c.scrollTop(),left:e?0:c.scrollLeft(),width:c.width(),height:c.height()},!0),n.find(".layui-layer-min").hide()},100)},v.title=function(e,t){g("#"+d[0]+(t||v.index)).find(d[1]).html(e)},v.close=function(i,o){var r,e,a=g("#"+d[0]+i),s=a.attr("type");a[0]&&(r="layui-layer-wrap",e=function(){if(s===u.type[1]&&"object"===a.attr("conType")){a.children(":not(."+d[5]+")").remove();for(var e=a.find("."+r),t=0;t<2;t++)e.unwrap();e.css("display",e.data("display")).removeClass(r)}else{if(s===u.type[2])try{var n=g("#"+d[4]+i)[0];n.contentWindow.document.write(""),n.contentWindow.close(),a.find("."+d[5])[0].removeChild(n)}catch(e){}a[0].innerHTML="",a.remove()}"function"==typeof u.end[i]&&u.end[i](),delete u.end[i],"function"==typeof o&&o()},a.data("isOutAnim")&&a.addClass("layer-anim layer-anim-close"),g("#layui-layer-moves, #"+d.SHADE+i).remove(),6==v.ie&&u.reselect(),u.rescollbar(i),a.attr("minLeft")&&(u.minIndex--,u.minLeft.push(a.attr("minLeft"))),v.ie&&v.ie<10||!a.data("isOutAnim")?e():setTimeout(function(){e()},200))},v.closeAll=function(i,o){"function"==typeof i&&(o=i,i=null);var r=g("."+d[0]);g.each(r,function(e){var t=g(this),n=i?t.attr("type")===i:1;n&&v.close(t.attr("times"),e===r.length-1?o:null)}),0===r.length&&"function"==typeof o&&o()};function y(e){return i.skin?" "+i.skin+" "+i.skin+"-"+e:""}var i=v.cache||{};v.prompt=function(n,i){var e,t="";"function"==typeof(n=n||{})&&(i=n),n.area&&(t='style="width: '+(e=n.area)[0]+"; height: "+e[1]+';"',delete n.area);var o,t=2==n.formType?'<textarea class="layui-layer-input"'+t+"></textarea>":'<input type="'+(1==n.formType?"password":"text")+'" class="layui-layer-input">',r=n.success;return delete n.success,v.open(g.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:t,skin:"layui-layer-prompt"+y("prompt"),maxWidth:c.width(),success:function(e){(o=e.find(".layui-layer-input")).val(n.value||"").focus(),"function"==typeof r&&r(e)},resize:!1,yes:function(e){var t=o.val();""===t?o.focus():t.length>(n.maxlength||500)?v.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(n.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",o,{tips:1}):i&&i(t,e,o)}},n))},v.tab=function(i){var o=(i=i||{}).tab||{},r="layui-this",a=i.success;return delete i.success,v.open(g.extend({type:1,skin:"layui-layer-tab"+y("tab"),resize:!1,title:function(){var e=o.length,t=1,n="";if(0<e)for(n='<span class="'+r+'">'+o[0].title+"</span>";t<e;t++)n+="<span>"+o[t].title+"</span>";return n}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=o.length,t=1,n="";if(0<e)for(n='<li class="layui-layer-tabli '+r+'">'+(o[0].content||"no content")+"</li>";t<e;t++)n+='<li class="layui-layer-tabli">'+(o[t].content||"no  content")+"</li>";return n}()+"</ul>",success:function(e){var t=e.find(".layui-layer-title").children(),n=e.find(".layui-layer-tabmain").children();t.on("mousedown",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;var t=g(this),e=t.index();t.addClass(r).siblings().removeClass(r),n.eq(e).show().siblings().hide(),"function"==typeof i.change&&i.change(e)}),"function"==typeof a&&a(e)}},i))},v.photos=function(n,e,i){var t,o,r,a,s={};if((n=n||{}).photos){var l=!("string"==typeof n.photos||n.photos instanceof g),c=l?n.photos:{},u=c.data||[],d=c.start||0;s.imgIndex=1+(0|d),n.img=n.img||"img";var p=n.success;if(delete n.success,l){if(0===u.length)return v.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var h=g(n.photos),f=function(){u=[],h.find(n.img).each(function(e){var t=g(this);t.attr("layer-index",e),u.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};if(f(),0===u.length)return;if(e||h.on("click",n.img,function(){f();var e=g(this).attr("layer-index");v.photos(g.extend(n,{photos:{start:e,data:u,tab:n.tab},full:n.full}),!0)}),!e)return}s.imgprev=function(e){s.imgIndex--,s.imgIndex<1&&(s.imgIndex=u.length),s.tabimg(e)},s.imgnext=function(e,t){s.imgIndex++,s.imgIndex>u.length&&(s.imgIndex=1,t)||s.tabimg(e)},s.keyup=function(e){var t;s.end||(t=e.keyCode,e.preventDefault(),37===t?s.imgprev(!0):39===t?s.imgnext(!0):27===t&&v.close(s.index))},s.tabimg=function(e){if(!(u.length<=1))return c.start=s.imgIndex-1,v.close(s.index),v.photos(n,!0,e)},s.event=function(){s.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),s.imgprev(!0)}),s.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),s.imgnext(!0)}),g(document).on("keyup",s.keyup)},s.loadi=v.load(1,{shade:!("shade"in n)&&.9,scrollbar:!1}),t=u[d].src,o=function(e){var t;v.close(s.loadi),i&&(n.anim=-1),s.index=v.open(g.extend({type:1,id:"layui-layer-photos",area:(t=[e.width,e.height],e=[g(m).width()-100,g(m).height()-100],!n.full&&(t[0]>e[0]||t[1]>e[1])&&((e=[t[0]/e[0],t[1]/e[1]])[1]<e[0]?(t[0]=t[0]/e[0],t[1]=t[1]/e[0]):e[0]<e[1]&&(t[0]=t[0]/e[1],t[1]=t[1]/e[1])),[t[0]+"px",t[1]+"px"]),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,anim:5,isOutAnim:!1,skin:"layui-layer-photos"+y("photos"),content:'<div class="layui-layer-phimg"><img src="'+u[d].src+'" alt="'+(u[d].alt||"")+'" layer-pid="'+u[d].pid+'">'+(1<u.length?'<div class="layui-layer-imgsee"><span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span><div class="layui-layer-imgbar" style="display:'+(i?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(u[d].alt||"")+"</a><em>"+s.imgIndex+" / "+u.length+"</em></span></div></div>":"")+"</div>",success:function(e,t){s.bigimg=e.find(".layui-layer-phimg"),s.imgsee=e.find(".layui-layer-imgbar"),s.event(e),n.tab&&n.tab(u[d],e),"function"==typeof p&&p(e)},end:function(){s.end=!0,g(document).off("keyup",s.keyup)}},n))},r=function(){v.close(s.loadi),v.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){1<u.length&&s.imgnext(!0,!0)}})},(a=new Image).src=t,a.complete?o(a):(a.onload=function(){a.onload=null,o(a)},a.onerror=function(e){a.onerror=null,r(e)})}},u.run=function(e){c=(g=e)(m),d.html=g("html"),v.open=function(e){return new t(e).index}},m.layui&&layui.define?(v.ready(),layui.define("jquery",function(e){v.path=layui.cache.dir,u.run(layui.$),e("layer",m.layer=v)})):"function"==typeof define&&define.amd?define(["jquery"],function(){return u.run(m.jQuery),v}):(v.ready(),u.run(m.jQuery))}(window),layui.define("jquery",function(e){var u=layui.$,r=layui.hint(),o={fixbar:function(t){var e,n,i="layui-fixbar",o="layui-fixbar-top",r=u(document),a=u("body");(t=u.extend({showHeight:200},t)).bar1=!0===t.bar1?"&#xe606;":t.bar1,t.bar2=!0===t.bar2?"&#xe607;":t.bar2,t.bgcolor=t.bgcolor?"background-color:"+t.bgcolor:"";function s(){r.scrollTop()>=t.showHeight?e||(c.show(),e=1):e&&(c.hide(),e=0)}var l=[t.bar1,t.bar2,"&#xe604;"],l=u(['<ul class="'+i+'">',t.bar1?'<li class="layui-icon" lay-type="bar1" style="'+t.bgcolor+'">'+l[0]+"</li>":"",t.bar2?'<li class="layui-icon" lay-type="bar2" style="'+t.bgcolor+'">'+l[1]+"</li>":"",'<li class="layui-icon '+o+'" lay-type="top" style="'+t.bgcolor+'">'+l[2]+"</li>","</ul>"].join("")),c=l.find("."+o);u("."+i)[0]||("object"==typeof t.css&&l.css(t.css),a.append(l),s(),l.find("li").on("click",function(){var e=u(this).attr("lay-type");"top"===e&&u("html,body").animate({scrollTop:0},200),t.click&&t.click.call(this,e)}),r.on("scroll",function(){clearTimeout(n),n=setTimeout(function(){s()},100)}))},countdown:function(e,t,n){var i=this,o="function"==typeof t,r=new Date(e).getTime(),a=new Date(!t||o?(new Date).getTime():t).getTime(),s=r-a,r=[Math.floor(s/864e5),Math.floor(s/36e5)%24,Math.floor(s/6e4)%60,Math.floor(s/1e3)%60];o&&(n=t);o=setTimeout(function(){i.countdown(e,a+1e3,n)},1e3);return n&&n(0<s?r:[0,0,0,0],t,o),s<=0&&clearTimeout(o),o},timeAgo:function(e,t){var n=[[],[]],i=(new Date).getTime()-new Date(e).getTime();return 26784e5<i?(i=new Date(e),n[0][0]=this.digit(i.getFullYear(),4),n[0][1]=this.digit(i.getMonth()+1),n[0][2]=this.digit(i.getDate()),t||(n[1][0]=this.digit(i.getHours()),n[1][1]=this.digit(i.getMinutes()),n[1][2]=this.digit(i.getSeconds())),n[0].join("-")+" "+n[1].join(":")):864e5<=i?(i/1e3/60/60/24|0)+"天前":36e5<=i?(i/1e3/60/60|0)+"小时前":18e4<=i?(i/1e3/60|0)+"分钟前":i<0?"未来":"刚刚"},digit:function(e,t){var n="";t=t||2;for(var i=(e=String(e)).length;i<t;i++)n+="0";return e<Math.pow(10,t)?n+(0|e):e},toDateString:function(e,t){if(null===e||""===e)return"";var n=new Date(function(){if(e)return!isNaN(e)&&"string"==typeof e?parseInt(e):e}()||new Date),i=[this.digit(n.getFullYear(),4),this.digit(n.getMonth()+1),this.digit(n.getDate())],o=[this.digit(n.getHours()),this.digit(n.getMinutes()),this.digit(n.getSeconds())];return n.getDate()?(t=t||"yyyy-MM-dd HH:mm:ss").replace(/yyyy/g,i[0]).replace(/MM/g,i[1]).replace(/dd/g,i[2]).replace(/HH/g,o[0]).replace(/mm/g,o[1]).replace(/ss/g,o[2]):(r.error('Invalid Msec for "util.toDateString(Msec)"'),"")},escape:function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},unescape:function(e){return String(e||"").replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&#39;/,"'").replace(/\&quot;/,'"')},toVisibleArea:function(e){var t,n,i,o,r,a,s,l;(e=u.extend({margin:160,duration:200,type:"y"},e)).scrollElem[0]&&e.thisElem[0]&&(t=e.scrollElem,n=e.thisElem,o=(l="y"===e.type)?"top":"left",r=t[i=l?"scrollTop":"scrollLeft"](),a=t[l?"height":"width"](),s=t.offset()[o],l={},((s=n.offset()[o]-s)>a-e.margin||s<e.margin)&&(l[i]=s-a/2+r,t.animate(l,e.duration)))},event:function(n,i,e){var t=u("body");return e=e||"click",i=o.event[n]=u.extend(!0,o.event[n],i)||{},o.event.UTIL_EVENT_CALLBACK=o.event.UTIL_EVENT_CALLBACK||{},t.off(e,"*["+n+"]",o.event.UTIL_EVENT_CALLBACK[n]),o.event.UTIL_EVENT_CALLBACK[n]=function(){var e=u(this),t=e.attr(n);"function"==typeof i[t]&&i[t].call(this,e)},t.on(e,"*["+n+"]",o.event.UTIL_EVENT_CALLBACK[n]),i}};e("util",o)}),layui.define("jquery",function(e){function t(){this.config={}}var u=layui.$,d=(layui.hint(),layui.device()),l="element",c="layui-this",p="layui-show";t.prototype.set=function(e){return u.extend(!0,this.config,e),this},t.prototype.on=function(e,t){return layui.onevent.call(this,l,e,t)},t.prototype.tabAdd=function(e,t){var n,i=u(".layui-tab[lay-filter="+e+"]"),o=i.children(".layui-tab-title"),r=o.children(".layui-tab-bar"),e=i.children(".layui-tab-content"),i="<li"+(n=[],layui.each(t,function(e,t){/^(title|content)$/.test(e)||n.push("lay-"+e+'="'+t+'"')}),0<n.length&&n.unshift(""),n.join(" "))+">"+(t.title||"unnaming")+"</li>";return r[0]?r.before(i):o.append(i),e.append('<div class="layui-tab-item">'+(t.content||"")+"</div>"),b.hideTabMore(!0),b.tabAuto(),this},t.prototype.tabDelete=function(e,t){t=u(".layui-tab[lay-filter="+e+"]").children(".layui-tab-title").find('>li[lay-id="'+t+'"]');return b.tabDelete(null,t),this},t.prototype.tabChange=function(e,t){t=u(".layui-tab[lay-filter="+e+"]").children(".layui-tab-title").find('>li[lay-id="'+t+'"]');return b.tabClick.call(t[0],null,null,t),this},t.prototype.tab=function(n){n=n||{},i.on("click",n.headerElem,function(e){var t=u(this).index();b.tabClick.call(this,e,t,null,n)})},t.prototype.progress=function(e,t){var n="layui-progress",e=u("."+n+"[lay-filter="+e+"]").find("."+n+"-bar"),n=e.find("."+n+"-text");return e.css("width",t).attr("lay-percent",t),n.text(t),this};var h=".layui-nav",f="layui-nav-item",o="layui-nav-bar",m="layui-nav-tree",g="layui-nav-child",v="layui-nav-more",y="layui-anim layui-anim-upbit",b={tabClick:function(e,t,n,i){i=i||{};var o=n||u(this),t=t||o.parent().children("li").index(o),r=i.headerElem?o.parent():o.parents(".layui-tab").eq(0),a=i.bodyElem?u(i.bodyElem):r.children(".layui-tab-content").children(".layui-tab-item"),s=o.find("a"),n="javascript:;"!==s.attr("href")&&"_blank"===s.attr("target"),i="string"==typeof o.attr("lay-unselect"),s=r.attr("lay-filter");n||i||(o.addClass(c).siblings().removeClass(c),a.eq(t).addClass(p).siblings().removeClass(p)),layui.event.call(this,l,"tab("+s+")",{elem:r,index:t})},tabDelete:function(e,t){var n=t||u(this).parent(),i=n.index(),o=n.parents(".layui-tab").eq(0),r=o.children(".layui-tab-content").children(".layui-tab-item"),t=o.attr("lay-filter");n.hasClass(c)&&(n.next()[0]?b.tabClick.call(n.next()[0],null,i+1):n.prev()[0]&&b.tabClick.call(n.prev()[0],null,i-1)),n.remove(),r.eq(i).remove(),setTimeout(function(){b.tabAuto()},50),layui.event.call(this,l,"tabDelete("+t+")",{elem:o,index:i})},tabAuto:function(){var i="layui-tab-bar",o="layui-tab-close",r=this;u(".layui-tab").each(function(){var e=u(this),t=e.children(".layui-tab-title"),n=(e.children(".layui-tab-content").children(".layui-tab-item"),'lay-stope="tabmore"'),n=u('<span class="layui-unselect layui-tab-bar" '+n+"><i "+n+' class="layui-icon">&#xe61a;</i></span>');r===window&&8!=d.ie&&b.hideTabMore(!0),e.attr("lay-allowClose")&&t.find("li").each(function(){var e,t=u(this);t.find("."+o)[0]||((e=u('<i class="layui-icon layui-icon-close layui-unselect '+o+'"></i>')).on("click",b.tabDelete),t.append(e))}),"string"!=typeof e.attr("lay-unauto")&&(t.prop("scrollWidth")>t.outerWidth()+1?t.find("."+i)[0]||(t.append(n),e.attr("overflow",""),n.on("click",function(e){t[this.title?"removeClass":"addClass"]("layui-tab-more"),this.title=this.title?"":"收缩"})):(t.find("."+i).remove(),e.removeAttr("overflow")))})},hideTabMore:function(e){var t=u(".layui-tab-title");!0!==e&&"tabmore"===u(e.target).attr("lay-stope")||(t.removeClass("layui-tab-more"),t.find(".layui-tab-bar").attr("title",""))},clickThis:function(){var e=u(this),t=e.parents(h),n=t.attr("lay-filter"),i=e.parent(),o=e.siblings("."+g),r="string"==typeof i.attr("lay-unselect");"javascript:;"!==e.attr("href")&&"_blank"===e.attr("target")||r||o[0]||(t.find("."+c).removeClass(c),i.addClass(c)),t.hasClass(m)&&(o.removeClass(y),o[0]&&(i["none"===o.css("display")?"addClass":"removeClass"](f+"ed"),"all"===t.attr("lay-shrink")&&i.siblings().removeClass(f+"ed"))),layui.event.call(this,l,"nav("+n+")",e)},collapse:function(){var e=u(this),t=e.find(".layui-colla-icon"),n=e.siblings(".layui-colla-content"),i=e.parents(".layui-collapse").eq(0),o=i.attr("lay-filter"),r="none"===n.css("display");"string"==typeof i.attr("lay-accordion")&&((i=i.children(".layui-colla-item").children("."+p)).siblings(".layui-colla-title").children(".layui-colla-icon").html("&#xe602;"),i.removeClass(p)),n[r?"addClass":"removeClass"](p),t.html(r?"&#xe61a;":"&#xe602;"),layui.event.call(this,l,"collapse("+o+")",{title:e,content:n,show:r})}};t.prototype.init=function(e,t){var n=t?'[lay-filter="'+t+'"]':"",t={tab:function(){b.tabAuto.call({})},nav:function(){var a={},s={},l={},c="layui-nav-title";u(h+n).each(function(e){var t=u(this),n=u('<span class="'+o+'"></span>'),i=t.find("."+f);t.find("."+o)[0]||(t.append(n),(t.hasClass(m)?i.find("dd,>."+c):i).on("mouseenter",function(){!function(e,t,n){var i,o=u(this),r=o.find("."+g);t.hasClass(m)?r[0]||(i=o.children("."+c),e.css({top:o.offset().top-t.offset().top,height:(i[0]?i:o).outerHeight(),opacity:1})):(r.addClass(y),r.hasClass("layui-nav-child-c")&&r.css({left:-(r.outerWidth()-o.width())/2}),r[0]?e.css({left:e.position().left+e.width()/2,width:0,opacity:0}):e.css({left:o.position().left+parseFloat(o.css("marginLeft")),top:o.position().top+o.height()-e.height()}),a[n]=setTimeout(function(){e.css({width:r[0]?0:o.width(),opacity:r[0]?0:1})},d.ie&&d.ie<10?0:200),clearTimeout(l[n]),"block"===r.css("display")&&clearTimeout(s[n]),s[n]=setTimeout(function(){r.addClass(p),o.find("."+v).addClass(v+"d")},300))}.call(this,n,t,e)}).on("mouseleave",function(){t.hasClass(m)?n.css({height:0,opacity:0}):(clearTimeout(s[e]),s[e]=setTimeout(function(){t.find("."+g).removeClass(p),t.find("."+v).removeClass(v+"d")},300))}),t.on("mouseleave",function(){clearTimeout(a[e]),l[e]=setTimeout(function(){t.hasClass(m)||n.css({width:0,left:n.position().left+n.width()/2,opacity:0})},200)})),i.find("a").each(function(){var e=u(this);(e.parent(),e.siblings("."+g))[0]&&!e.children("."+v)[0]&&e.append('<i class="layui-icon layui-icon-down '+v+'"></i>'),e.off("click",b.clickThis).on("click",b.clickThis)})})},breadcrumb:function(){u(".layui-breadcrumb"+n).each(function(){var e=u(this),t="lay-separator",n=e.attr(t)||"/",i=e.find("a");i.next("span["+t+"]")[0]||(i.each(function(e){e!==i.length-1&&u(this).after("<span "+t+">"+n+"</span>")}),e.css("visibility","visible"))})},progress:function(){var i="layui-progress";u("."+i+n).each(function(){var e=u(this),t=e.find(".layui-progress-bar"),n=t.attr("lay-percent");t.css("width",/^.+\/.+$/.test(n)?100*new Function("return "+n)()+"%":n),e.attr("lay-showPercent")&&setTimeout(function(){t.html('<span class="'+i+'-text">'+n+"</span>")},350)})},collapse:function(){u(".layui-collapse"+n).each(function(){u(this).find(".layui-colla-item").each(function(){var e=u(this),t=e.find(".layui-colla-title"),e="none"===e.find(".layui-colla-content").css("display");t.find(".layui-colla-icon").remove(),t.append('<i class="layui-icon layui-colla-icon">'+(e?"&#xe602;":"&#xe61a;")+"</i>"),t.off("click",b.collapse).on("click",b.collapse)})})}};return t[e]?t[e]():layui.each(t,function(e,t){t()})},t.prototype.render=t.prototype.init;var n=new t,i=u(document);u(function(){n.render()});i.on("click",".layui-tab-title li",b.tabClick),i.on("click",b.hideTabMore),u(window).on("resize",b.tabAuto),e(l,n)}),layui.define("layer",function(e){function v(e){this.config=y.extend({},this.config,i.config,e),this.render()}var y=layui.$,t=layui.layer,n=layui.hint(),b=layui.device(),i={config:{},set:function(e){return this.config=y.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,o,e,t)}},o="upload",r="layui-upload-file",a="layui-upload-form",x="layui-upload-iframe",w="layui-upload-choose";v.prototype.config={accept:"images",exts:"",auto:!0,bindAction:"",url:"",field:"file",acceptMime:"",method:"post",data:{},drag:!0,size:0,number:0,multiple:!1},v.prototype.render=function(e){(e=this.config).elem=y(e.elem),e.bindAction=y(e.bindAction),this.file(),this.events()},v.prototype.file=function(){var e=this.config,t=this.elemFile=y(['<input class="'+r+'" type="file" accept="'+e.acceptMime+'" name="'+e.field+'"',e.multiple?" multiple":"",">"].join("")),n=e.elem.next();(n.hasClass(r)||n.hasClass(a))&&n.remove(),b.ie&&b.ie<10&&e.elem.wrap('<div class="layui-upload-wrap"></div>'),this.isFile()?(this.elemFile=e.elem,e.field=e.elem[0].name):e.elem.after(t),b.ie&&b.ie<10&&this.initIE()},v.prototype.initIE=function(){var n,e=this.config,t=y('<iframe id="'+x+'" class="'+x+'" name="'+x+'" frameborder="0"></iframe>'),i=y(['<form target="'+x+'" class="'+a+'" method="post" key="set-mine" enctype="multipart/form-data" action="'+e.url+'">',"</form>"].join(""));y("#"+x)[0]||y("body").append(t),e.elem.next().hasClass(a)||(this.elemFile.wrap(i),e.elem.next("."+a).append((n=[],layui.each(e.data,function(e,t){t="function"==typeof t?t():t,n.push('<input type="hidden" name="'+e+'" value="'+t+'">')}),n.join(""))))},v.prototype.msg=function(e){return t.msg(e,{icon:2,shift:6})},v.prototype.isFile=function(){var e=this.config.elem[0];if(e)return"input"===e.tagName.toLocaleLowerCase()&&"file"===e.type},v.prototype.preview=function(i){window.FileReader&&layui.each(this.chooseFiles,function(e,t){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){i&&i(e,t,this.result)}})},v.prototype.upload=function(n,e){var i,o,r,t,a,s=this,l=s.config,c=s.elemFile[0],u=function(){function t(){l.multiple&&o+r===s.fileLength&&"function"==typeof l.allDone&&l.allDone({total:s.fileLength,successful:o,aborted:r})}var o=0,r=0,e=n||s.files||s.chooseFiles||c.files;layui.each(e,function(n,e){var i=new FormData;i.append(l.field,e),layui.each(l.data,function(e,t){t="function"==typeof t?t():t,i.append(e,t)});e={url:l.url,type:"post",data:i,contentType:!1,processData:!1,dataType:"json",headers:l.headers||{},success:function(e){o++,p(n,e),t()},error:function(){r++,s.msg("请求上传接口出现异常"),h(n),t()}};"function"==typeof l.progress&&(e.xhr=function(){var e=y.ajaxSettings.xhr();return e.upload.addEventListener("progress",function(e){var t;e.lengthComputable&&(t=Math.floor(e.loaded/e.total*100),l.progress(t,(l.item||l.elem)[0],e,n))}),e}),y.ajax(e)})},d=function(){var n=y("#"+x);s.elemFile.parent().submit(),clearInterval(v.timer),v.timer=setInterval(function(){var e,t=n.contents().find("body");try{e=t.text()}catch(e){s.msg("获取上传后的响应信息出现异常"),clearInterval(v.timer),h()}e&&(clearInterval(v.timer),t.html(""),p(0,e))},30)},p=function(e,t){if(s.elemFile.next("."+w).remove(),c.value="","object"!=typeof t)try{t=JSON.parse(t)}catch(e){return t={},s.msg("请对上传接口返回有效JSON")}"function"==typeof l.done&&l.done(t,e||0,function(e){s.upload(e)})},h=function(e){l.auto&&(c.value=""),"function"==typeof l.error&&l.error(e||0,function(e){s.upload(e)})},f=l.exts,m=(o=[],layui.each(n||s.chooseFiles,function(e,t){o.push(t.name)}),o),g={preview:function(e){s.preview(e)},upload:function(e,t){var n={};n[e]=t,s.upload(n)},pushFile:function(){return s.files=s.files||{},layui.each(s.chooseFiles,function(e,t){s.files[e]=t}),s.files},resetFile:function(e,t,n){n=new File([t],n);s.files=s.files||{},s.files[e]=n}};if(0!==(m=0===m.length?c.value.match(/[^\/\\]+\..+/g)||[]||"":m).length){switch(l.accept){case"file":if(f&&!RegExp("\\w\\.("+f+")$","i").test(escape(m)))return s.msg("选择的文件中包含不支持的格式"),c.value="";break;case"video":if(!RegExp("\\w\\.("+(f||"avi|mp4|wma|rmvb|rm|flash|3gp|flv")+")$","i").test(escape(m)))return s.msg("选择的视频中包含不支持的格式"),c.value="";break;case"audio":if(!RegExp("\\w\\.("+(f||"mp3|wav|mid")+")$","i").test(escape(m)))return s.msg("选择的音频中包含不支持的格式"),c.value="";break;default:if(layui.each(m,function(e,t){RegExp("\\w\\.("+(f||"jpg|png|gif|bmp|jpeg$")+")","i").test(escape(t))||(i=!0)}),i)return s.msg("选择的图片中包含不支持的格式"),c.value=""}if(s.fileLength=(t=0,a=n||s.files||s.chooseFiles||c.files,layui.each(a,function(){t++}),t),l.number&&s.fileLength>l.number)return s.msg("同时最多只能上传的数量为："+l.number);if(0<l.size&&!(b.ie&&b.ie<10))if(layui.each(s.chooseFiles,function(e,t){t.size>1024*l.size&&(t=1<=(t=l.size/1024)?t.toFixed(2)+"MB":l.size+"KB",c.value="",r=t)}),r)return s.msg("文件不能超过"+r);!function(){if(!(("choose"===e||l.auto)&&(l.choose&&l.choose(g),"choose"===e)||l.before&&!1===l.before(g)))b.ie?(9<b.ie?u:d)():u()}()}},v.prototype.reload=function(e){delete(e=e||{}).elem,delete e.bindAction;(e=this.config=y.extend({},this.config,i.config,e)).elem.next().attr({name:e.name,accept:e.acceptMime,multiple:e.multiple})},v.prototype.events=function(){function i(e){r.chooseFiles={},layui.each(e,function(e,t){var n=(new Date).getTime();r.chooseFiles[n+"-"+e]=t})}function o(e,t){var n=r.elemFile,e=(a.item||a.elem,1<e.length?e.length+"个文件":(e[0]||{}).name||n[0].value.match(/[^\/\\]+\..+/g)||[]||"");n.next().hasClass(w)&&n.next().remove(),r.upload(null,"choose"),r.isFile()||a.choose||n.after('<span class="layui-inline '+w+'">'+e+"</span>")}var r=this,a=r.config;a.elem.off("upload.start").on("upload.start",function(){var e=y(this),t=e.attr("lay-data");if(t)try{t=new Function("return "+t)(),r.config=y.extend({},a,t)}catch(e){n.error("Upload element property lay-data configuration item has a syntax error: "+t)}r.config.item=e,r.elemFile[0].click()}),b.ie&&b.ie<10||a.elem.off("upload.over").on("upload.over",function(){y(this).attr("lay-over","")}).off("upload.leave").on("upload.leave",function(){y(this).removeAttr("lay-over")}).off("upload.drop").on("upload.drop",function(e,t){var n=y(this),t=t.originalEvent.dataTransfer.files||[];n.removeAttr("lay-over"),i(t),a.auto?r.upload(t):o(t)}),r.elemFile.off("upload.change").on("upload.change",function(){var e=this.files||[];i(e),a.auto?r.upload():o(e)}),a.bindAction.off("upload.action").on("upload.action",function(){r.upload()}),a.elem.data("haveEvents")||(r.elemFile.on("change",function(){y(this).trigger("upload.change")}),a.elem.on("click",function(){r.isFile()||y(this).trigger("upload.start")}),a.drag&&a.elem.on("dragover",function(e){e.preventDefault(),y(this).trigger("upload.over")}).on("dragleave",function(e){y(this).trigger("upload.leave")}).on("drop",function(e){e.preventDefault(),y(this).trigger("upload.drop",e)}),a.bindAction.on("click",function(){y(this).trigger("upload.action")}),a.elem.data("haveEvents",!0))},i.render=function(e){e=new v(e);return function(){var t=this;return{upload:function(e){t.upload.call(t,e)},reload:function(e){t.reload.call(t,e)},config:t.config}}.call(e)},e(o,i)}),layui.define(["jquery","laytpl","lay"],function(e){function r(){var t=this,e=t.config,n=e.id;return r.that[n]=t,{config:e,reload:function(e){t.reload.call(t,e)}}}function t(e){this.index=++h.index,this.config=u.extend({},this.config,h.config,e),this.init()}var u=layui.$,d=layui.laytpl,n=layui.hint(),a=layui.device().mobile?"click":"mousedown",s="dropdown",p="layui_"+s+"_index",h={config:{},index:layui[s]?layui[s].index+1e4:0,set:function(e){return this.config=u.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,s,e,t)}},i="layui-menu-item-up",o="layui-menu-item-down",f="layui-menu-body-title",l="layui-menu-item-group",m="layui-menu-item-parent",c="layui-menu-item-checked",g="layui-menu-item-checked2",v="layui-menu-body-panel",y="layui-menu-body-panel-left",b="."+l+">."+f;t.prototype.config={trigger:"click",content:"",className:"",style:"",show:!1,isAllowSpread:!0,isSpreadItem:!0,data:[],delay:300},t.prototype.reload=function(e){this.config=u.extend({},this.config,e),this.init(!0)},t.prototype.init=function(e){var t=this.config,n=t.elem=u(t.elem);if(1<n.length)return layui.each(n,function(){h.render(u.extend({},t,{elem:this}))}),this;if(!e&&n[0]&&n.data(p)){n=r.getThis(n.data(p));return n?n.reload(t):void 0}t.id="id"in t?t.id:this.index,t.show&&this.render(e),this.events()},t.prototype.render=function(e){var t,i=this,l=i.config,n=u("body"),c=function(s,e){return layui.each(e,function(e,t){var n,i=t.child&&0<t.child.length,o=("isSpreadItem"in t?t:l).isSpreadItem,r=t.templet?d(t.templet).render(t):l.templet?d(l.templet).render(t):t.title,a=(i&&(t.type=t.type||"parent"),t.type?{group:"group",parent:"parent","-":"-"}[t.type]||"parent":"");("-"===a||t.title||t.id||i)&&((o=u(["<li"+(n={group:"layui-menu-item-group"+(l.isAllowSpread?o?" layui-menu-item-down":" layui-menu-item-up":""),parent:m,"-":"layui-menu-item-divider"},i||a?' class="'+n[a]+'"':"")+">",(r="href"in t?'<a href="'+t.href+'" target="'+(t.target||"_self")+'">'+r+"</a>":r,i?'<div class="'+f+'">'+r+("parent"===a?'<i class="layui-icon layui-icon-right"></i>':"group"===a&&l.isAllowSpread?'<i class="layui-icon layui-icon-'+(o?"up":"down")+'"></i>':"")+"</div>":'<div class="'+f+'">'+r+"</div>"),"</li>"].join(""))).data("item",t),i&&(r=u('<div class="layui-panel layui-menu-body-panel"></div>'),i=u("<ul></ul>"),"parent"===a?(r.append(c(i,t.child)),o.append(r)):o.append(c(i,t.child))),s.append(o))}),s},o=['<div class="layui-dropdown layui-border-box layui-panel layui-anim layui-anim-downbit">',"</div>"].join("");!(e="contextmenu"===l.trigger||lay.isTopElem(l.elem[0])?!0:e)&&l.elem.data(p+"_opened")||(i.elemView=u(o),i.elemView.append(l.content||(t=u('<ul class="layui-menu layui-dropdown-menu"></ul>'),0<l.data.length?c(t,l.data):t.html('<li class="layui-menu-item-none">no menu</li>'),t)),l.className&&i.elemView.addClass(l.className),l.style&&i.elemView.attr("style",l.style),h.thisId=l.id,i.remove(),n.append(i.elemView),l.elem.data(p+"_opened",!0),i.position(),(r.prevElem=i.elemView).data("prevElem",l.elem),i.elemView.find(".layui-menu").on(a,function(e){layui.stope(e)}),i.elemView.find(".layui-menu li").on("click",function(e){var t=u(this),n=t.data("item")||{};n.child&&0<n.child.length||"-"===n.type||(i.remove(),"function"==typeof l.click&&l.click(n,t))}),i.elemView.find(b).on("click",function(e){var t=u(this).parent();"group"===(t.data("item")||{}).type&&l.isAllowSpread&&r.spread(t)}),"mouseenter"===l.trigger&&i.elemView.on("mouseenter",function(){clearTimeout(r.timer)}).on("mouseleave",function(){i.delayRemove()}))},t.prototype.position=function(e){var t=this.config;lay.position(t.elem[0],this.elemView[0],{position:t.position,e:this.e,clickType:"contextmenu"===t.trigger?"right":null,align:t.align||null})},t.prototype.remove=function(){var e=(this.config,r.prevElem);e&&(e.data("prevElem")&&e.data("prevElem").data(p+"_opened",!1),e.remove())},t.prototype.delayRemove=function(){var e=this,t=e.config;clearTimeout(r.timer),r.timer=setTimeout(function(){e.remove()},t.delay)},t.prototype.events=function(){var t=this,n=t.config;"hover"===n.trigger&&(n.trigger="mouseenter"),t.prevElem&&t.prevElem.off(n.trigger,t.prevElemCallback),t.prevElem=n.elem,t.prevElemCallback=function(e){clearTimeout(r.timer),t.e=e,t.render(),e.preventDefault(),"function"==typeof n.ready&&n.ready(t.elemView,n.elem,t.e.target)},n.elem.on(n.trigger,t.prevElemCallback),"mouseenter"===n.trigger&&n.elem.on("mouseleave",function(){t.delayRemove()})},r.that={},r.getThis=function(e){var t=r.that[e];return t||n.error(e?s+" instance with ID '"+e+"' not found":"ID argument required"),t},r.spread=function(e){var t=e.children("."+f).find(".layui-icon");e.hasClass(i)?(e.removeClass(i).addClass(o),t.removeClass("layui-icon-down").addClass("layui-icon-up")):(e.removeClass(o).addClass(i),t.removeClass("layui-icon-up").addClass("layui-icon-down"))},function(){var i=u(window),e=u(document);i.on("resize",function(){if(h.thisId){var e=r.getThis(h.thisId);if(e){if(!e.elemView[0]||!u(".layui-dropdown")[0])return!1;"contextmenu"===e.config.trigger?e.remove():e.position()}}}),e.on(a,function(e){var t,n;!h.thisId||(t=r.getThis(h.thisId))&&(n=t.config,!lay.isTopElem(n.elem[0])&&"contextmenu"!==n.trigger&&(e.target===n.elem[0]||n.elem.find(e.target)[0]||e.target===t.elemView[0]||t.elemView&&t.elemView.find(e.target)[0])||t.remove())});var t=".layui-menu:not(.layui-dropdown-menu) li";e.on("click",t,function(e){var t=u(this),n=t.parents(".layui-menu").eq(0),i=t.hasClass(l)||t.hasClass(m),o=n.attr("lay-filter")||n.attr("id"),r=lay.options(this);t.hasClass("layui-menu-item-divider")||i||(n.find("."+c).removeClass(c),n.find("."+g).removeClass(g),t.addClass(c),t.parents("."+m).addClass(g),layui.event.call(this,s,"click("+o+")",r))}),e.on("click",t+b,function(e){var t=u(this).parents("."+l+":eq(0)"),n=lay.options(t[0]);"isAllowSpread"in n&&!n.isAllowSpread||r.spread(t)});t=".layui-menu ."+m;e.on("mouseenter",t,function(e){var t,n=u(this).find("."+v);n[0]&&((t=n[0].getBoundingClientRect()).right>i.width()&&(n.addClass(y),(t=n[0].getBoundingClientRect()).left<0&&n.removeClass(y)),t.bottom>i.height()&&n.eq(0).css("margin-top",-(t.bottom-i.height())))}).on("mouseleave",t,function(e){var t=u(this).children("."+v);t.removeClass(y),t.css("margin-top",0)})}(),h.reload=function(e,t){e=r.getThis(e);return e?(e.reload(t),r.call(e)):this},h.render=function(e){e=new t(e);return r.call(e)},e(s,h)}),layui.define("jquery",function(e){function t(e){this.index=++n.index,this.config=g.extend({},this.config,n.config,e),this.render()}var g=layui.jquery,n={config:{},index:layui.slider?layui.slider.index+1e4:0,set:function(e){return this.config=g.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,i,e,t)}},i="slider",u="layui-disabled",v="layui-slider-bar",y="layui-slider-wrap",b="layui-slider-wrap-btn",x="layui-slider-tips",w="layui-slider-input-txt",k="layui-slider-hover";t.prototype.config={type:"default",min:0,max:100,value:0,step:1,showstep:!1,tips:!0,input:!1,range:!1,height:200,disabled:!1,theme:"#009688"},t.prototype.render=function(){var e,n=this,i=n.config;i.step<1&&(i.step=1),i.max<i.min&&(i.max=i.min+i.step),i.range?(i.value="object"==typeof i.value?i.value:[i.min,i.value],o=Math.min(i.value[0],i.value[1]),t=Math.max(i.value[0],i.value[1]),i.value[0]=o>i.min?o:i.min,i.value[1]=t>i.min?t:i.min,i.value[0]=i.value[0]>i.max?i.max:i.value[0],i.value[1]=i.value[1]>i.max?i.max:i.value[1],e=Math.floor((i.value[0]-i.min)/(i.max-i.min)*100),o=(r=Math.floor((i.value[1]-i.min)/(i.max-i.min)*100))-e+"%",e+="%",r+="%"):("object"==typeof i.value&&(i.value=Math.min.apply(null,i.value)),i.value<i.min&&(i.value=i.min),i.value>i.max&&(i.value=i.max),o=Math.floor((i.value-i.min)/(i.max-i.min)*100)+"%");var t=i.disabled?"#c2c2c2":i.theme,o='<div class="layui-slider '+("vertical"===i.type?"layui-slider-vertical":"")+'">'+(i.tips?'<div class="layui-slider-tips"></div>':"")+'<div class="layui-slider-bar" style="background:'+t+"; "+("vertical"===i.type?"height":"width")+":"+o+";"+("vertical"===i.type?"bottom":"left")+":"+(e||0)+';"></div><div class="layui-slider-wrap" style="'+("vertical"===i.type?"bottom":"left")+":"+(e||o)+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+t+';"></div></div>'+(i.range?'<div class="layui-slider-wrap" style="'+("vertical"===i.type?"bottom":"left")+":"+r+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+t+';"></div></div>':"")+"</div>",r=g(i.elem),t=r.next(".layui-slider");if(t[0]&&t.remove(),n.elemTemp=g(o),i.range?(n.elemTemp.find("."+y).eq(0).data("value",i.value[0]),n.elemTemp.find("."+y).eq(1).data("value",i.value[1])):n.elemTemp.find("."+y).data("value",i.value),r.html(n.elemTemp),"vertical"===i.type&&n.elemTemp.height(i.height+"px"),i.showstep){for(var a=(i.max-i.min)/i.step,s="",l=1;l<1+a;l++){var c=100*l/a;c<100&&(s+='<div class="layui-slider-step" style="'+("vertical"===i.type?"bottom":"left")+":"+c+'%"></div>')}n.elemTemp.append(s)}i.input&&!i.range&&(o=g('<div class="layui-slider-input layui-input"><div class="layui-slider-input-txt"><input type="text" class="layui-input"></div><div class="layui-slider-input-btn"><i class="layui-icon layui-icon-up"></i><i class="layui-icon layui-icon-down"></i></div></div>'),r.css("position","relative"),r.append(o),r.find("."+w).children("input").val(i.value),"vertical"===i.type?o.css({left:0,top:-48}):n.elemTemp.css("margin-right",o.outerWidth()+15)),i.disabled?(n.elemTemp.addClass(u),n.elemTemp.find("."+b).addClass(u)):n.slide(),n.elemTemp.find("."+b).on("mouseover",function(){var e="vertical"===i.type?i.height:n.elemTemp[0].offsetWidth,t=n.elemTemp.find("."+y),t=("vertical"===i.type?e-g(this).parent()[0].offsetTop-t.height():g(this).parent()[0].offsetLeft)/e*100,e=g(this).parent().data("value"),e=i.setTips?i.setTips(e):e;n.elemTemp.find("."+x).html(e),"vertical"===i.type?n.elemTemp.find("."+x).css({bottom:t+"%","margin-bottom":"20px",display:"inline-block"}):n.elemTemp.find("."+x).css({left:t+"%",display:"inline-block"})}).on("mouseout",function(){n.elemTemp.find("."+x).css("display","none")})},t.prototype.slide=function(e,t,n){var s=this.config,l=this.elemTemp,c=function(){return"vertical"===s.type?s.height:l[0].offsetWidth},u=l.find("."+y),a=l.next(".layui-slider-input"),d=a.children("."+w).children("input").val(),p=100/((s.max-s.min)/Math.ceil(s.step)),h=function(e,t){e=100<(e=100<Math.ceil(e)*p?Math.ceil(e)*p:Math.round(e)*p)?100:e,u.eq(t).css("vertical"===s.type?"bottom":"left",e+"%");var n=f(u[0].offsetLeft),i=s.range?f(u[1].offsetLeft):0;"vertical"===s.type?(l.find("."+x).css({bottom:e+"%","margin-bottom":"20px"}),n=f(c()-u[0].offsetTop-u.height()),i=s.range?f(c()-u[1].offsetTop-u.height()):0):l.find("."+x).css("left",e+"%");var n=100<n?100:n,i=100<i?100:i,o=Math.min(n,i),i=Math.abs(n-i);"vertical"===s.type?l.find("."+v).css({height:i+"%",bottom:o+"%"}):l.find("."+v).css({width:i+"%",left:o+"%"});var r,e=s.min+Math.round((s.max-s.min)*e/100);d=e,a.children("."+w).children("input").val(d),u.eq(t).data("value",e),l.find("."+x).html(s.setTips?s.setTips(e):e),s.range&&(r=[u.eq(0).data("value"),u.eq(1).data("value")])[0]>r[1]&&r.reverse(),s.change&&s.change(s.range?r:e)},f=function(e){var t=e/c()*100/p,n=Math.round(t)*p;return n=e==c()?Math.ceil(t)*p:n},m=g(['<div class="layui-auxiliar-moving" id="LAY-slider-moving"></div'].join(""));if("set"===e)return h(t,n);l.find("."+b).each(function(r){var a=g(this);a.on("mousedown",function(e){e=e||window.event;var n=a.parent()[0].offsetLeft,i=e.clientX;"vertical"===s.type&&(n=c()-a.parent()[0].offsetTop-u.height(),i=e.clientY);var t;function o(){t&&t(),m.remove()}e=function(e){e=e||window.event;var t=n+("vertical"===s.type?i-e.clientY:e.clientX-i),t=(t=(t=t<0?0:t)>c()?c():t)/c()*100/p;h(t,r),a.addClass(k),l.find("."+x).show(),e.preventDefault()},t=function(){a.removeClass(k),l.find("."+x).hide()},g("#LAY-slider-moving")[0]||g("body").append(m),m.on("mousemove",e),m.on("mouseup",o).on("mouseleave",o)})}),l.on("click",function(e){var t,n=g("."+b);!n.is(event.target)&&0===n.has(event.target).length&&n.length&&(n=(t=(t=(t="vertical"===s.type?c()-e.clientY+g(this).offset().top:e.clientX-g(this).offset().left)<0?0:t)>c()?c():t)/c()*100/p,t=s.range?"vertical"===s.type?Math.abs(t-parseInt(g(u[0]).css("bottom")))>Math.abs(t-parseInt(g(u[1]).css("bottom")))?1:0:Math.abs(t-u[0].offsetLeft)>Math.abs(t-u[1].offsetLeft)?1:0:0,h(n,t),e.preventDefault())}),a.children(".layui-slider-input-btn").children("i").each(function(t){g(this).on("click",function(){d=a.children("."+w).children("input").val();var e=((d=1==t?d-s.step<s.min?s.min:Number(d)-s.step:Number(d)+s.step>s.max?s.max:Number(d)+s.step)-s.min)/(s.max-s.min)*100/p;h(e,0)})});function i(){var e=this.value;e=(e=(e=isNaN(e)?0:e)<s.min?s.min:e)>s.max?s.max:e,e=((this.value=e)-s.min)/(s.max-s.min)*100/p,h(e,0)}a.children("."+w).children("input").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),i.call(this))}).on("change",i)},t.prototype.events=function(){this.config},n.render=function(e){e=new t(e);return function(){var n=this,i=n.config;return{setValue:function(e,t){return i.value=e,n.slide("set",e,t||0)},config:i}}.call(e)},e(i,n)}),layui.define(["jquery","lay"],function(e){function b(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),o=i-n;return t.b=i,t.s=0!=i?255*o/i:0,0!=t.s?e.r==i?t.h=(e.g-e.b)/o:e.g==i?t.h=2+(e.b-e.r)/o:t.h=4+(e.r-e.g)/o:t.h=-1,i==n&&(t.h=0),t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function x(e){var t={},n=e.h,i=255*e.s/100,o=255*e.b/100;return 0==i?t.r=t.g=t.b=o:(o=n%60*((e=o)-(i=(255-i)*o/255))/60,(n=360==n?0:n)<60?(t.r=e,t.b=i,t.g=i+o):n<120?(t.g=e,t.b=i,t.r=e-o):n<180?(t.g=e,t.r=i,t.b=i+o):n<240?(t.b=e,t.r=i,t.g=e-o):n<300?(t.b=e,t.g=i,t.r=i+o):n<360?(t.r=e,t.g=i,t.b=e-o):(t.r=0,t.g=0,t.b=0)),{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function d(e){var n=[(e=x(e)).r.toString(16),e.g.toString(16),e.b.toString(16)];return k.each(n,function(e,t){1==t.length&&(n[e]="0"+t)}),n.join("")}function w(e){return{r:(e=e.match(/[0-9]{1,3}/g)||[])[0],g:e[1],b:e[2]}}function o(e){this.index=++n.index,this.config=k.extend({},this.config,n.config,e),this.render()}var k=layui.jquery,t=layui.lay,i=layui.device().mobile?"click":"mousedown",n={config:{},index:layui.colorpicker?layui.colorpicker.index+1e4:0,set:function(e){return this.config=k.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,"colorpicker",e,t)}},r="layui-colorpicker",a=".layui-colorpicker-main",E="layui-icon-down",C="layui-icon-close",S="layui-colorpicker-trigger-span",T="layui-colorpicker-trigger-i",_="layui-colorpicker-side-slider",N="layui-colorpicker-basis",A="layui-colorpicker-alpha-bgcolor",P="layui-colorpicker-alpha-slider",I="layui-colorpicker-basis-cursor",R="layui-colorpicker-main-input",M=k(window),s=k(document);o.prototype.config={color:"",size:null,alpha:!1,format:"hex",predefine:!1,colors:["#009688","#5FB878","#1E9FFF","#FF5722","#FFB800","#01AAED","#999","#c00","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgb(0, 186, 189)","rgb(255, 120, 0)","rgb(250, 212, 0)","#393D49","rgba(0,0,0,.5)","rgba(255, 69, 0, 0.68)","rgba(144, 240, 144, 0.5)","rgba(31, 147, 255, 0.73)"]},o.prototype.render=function(){var e,t=this.config,n=k(['<div class="layui-unselect layui-colorpicker">',"<span "+("rgb"==t.format&&t.alpha?'class="layui-colorpicker-trigger-bgcolor"':"")+">",'<span class="layui-colorpicker-trigger-span" ','lay-type="'+("rgb"==t.format?t.alpha?"rgba":"torgb":"")+'" ','style="'+(e="",t.color?(e=t.color,3<(t.color.match(/[0-9]{1,3}/g)||[]).length&&(t.alpha&&"rgb"==t.format||(e="#"+d(b(w(t.color))))),"background: "+e):e)+'">','<i class="layui-icon layui-colorpicker-trigger-i '+(t.color?E:C)+'"></i>',"</span>","</span>","</div>"].join("")),e=k(t.elem);t.size&&n.addClass("layui-colorpicker-"+t.size),e.addClass("layui-inline").html(this.elemColorBox=n),this.color=this.elemColorBox.find("."+S)[0].style.background,this.events()},o.prototype.renderPicker=function(){var e=this,t=e.config,n=e.elemColorBox[0],i=e.elemPicker=k(['<div id="layui-colorpicker'+e.index+'" data-index="'+e.index+'" class="layui-anim layui-anim-downbit layui-colorpicker-main">','<div class="layui-colorpicker-main-wrapper">','<div class="layui-colorpicker-basis">','<div class="layui-colorpicker-basis-white"></div>','<div class="layui-colorpicker-basis-black"></div>','<div class="layui-colorpicker-basis-cursor"></div>',"</div>",'<div class="layui-colorpicker-side">','<div class="layui-colorpicker-side-slider"></div>',"</div>","</div>",'<div class="layui-colorpicker-main-alpha '+(t.alpha?"layui-show":"")+'">','<div class="layui-colorpicker-alpha-bgcolor">','<div class="layui-colorpicker-alpha-slider"></div>',"</div>","</div>",function(){if(t.predefine){var n=['<div class="layui-colorpicker-main-pre">'];return layui.each(t.colors,function(e,t){n.push(['<div class="layui-colorpicker-pre'+(3<(t.match(/[0-9]{1,3}/g)||[]).length?" layui-colorpicker-pre-isalpha":"")+'">','<div style="background:'+t+'"></div>',"</div>"].join(""))}),n.push("</div>"),n.join("")}return""}(),'<div class="layui-colorpicker-main-input">','<div class="layui-inline">','<input type="text" class="layui-input">',"</div>",'<div class="layui-btn-container">','<button class="layui-btn layui-btn-primary layui-btn-sm" colorpicker-events="clear">清空</button>','<button class="layui-btn layui-btn-sm" colorpicker-events="confirm">确定</button>',"</div","</div>","</div>"].join(""));e.elemColorBox.find("."+S)[0],k(a)[0]&&k(a).data("index")==e.index?e.removePicker(o.thisElemInd):(e.removePicker(o.thisElemInd),k("body").append(i)),o.thisElemInd=e.index,o.thisColor=n.style.background,e.position(),e.pickerEvents()},o.prototype.removePicker=function(e){return this.config,k("#layui-colorpicker"+(e||this.index)).remove(),this},o.prototype.position=function(){var e=this.config;return t.position(this.bindElem||this.elemColorBox[0],this.elemPicker[0],{position:e.position,align:"center"}),this},o.prototype.val=function(){var e,t=this,n=(t.config,t.elemColorBox.find("."+S)),i=t.elemPicker.find("."+R),o=n[0].style.backgroundColor;o?(e=b(w(o)),n=n.attr("lay-type"),t.select(e.h,e.s,e.b),"torgb"===n&&i.find("input").val(o),"rgba"===n&&(n=w(o),3==(o.match(/[0-9]{1,3}/g)||[]).length?(i.find("input").val("rgba("+n.r+", "+n.g+", "+n.b+", 1)"),t.elemPicker.find("."+P).css("left",280)):(i.find("input").val(o),o=280*o.slice(o.lastIndexOf(",")+1,o.length-1),t.elemPicker.find("."+P).css("left",o)),t.elemPicker.find("."+A)[0].style.background="linear-gradient(to right, rgba("+n.r+", "+n.g+", "+n.b+", 0), rgb("+n.r+", "+n.g+", "+n.b+"))")):(t.select(0,100,100),i.find("input").val(""),t.elemPicker.find("."+A)[0].style.background="",t.elemPicker.find("."+P).css("left",280))},o.prototype.side=function(){function c(e,t,n,i){o.select(e,t,n),n=x({h:e,s:t,b:n}),v.addClass(E).removeClass(C),a[0].style.background="rgb("+n.r+", "+n.g+", "+n.b+")","torgb"===s&&o.elemPicker.find("."+R).find("input").val("rgb("+n.r+", "+n.g+", "+n.b+")"),"rgba"===s&&(p.css("left",280*i),o.elemPicker.find("."+R).find("input").val("rgba("+n.r+", "+n.g+", "+n.b+", "+i+")"),a[0].style.background="rgba("+n.r+", "+n.g+", "+n.b+", "+i+")",d[0].style.background="linear-gradient(to right, rgba("+n.r+", "+n.g+", "+n.b+", 0), rgb("+n.r+", "+n.g+", "+n.b+"))"),r.change&&r.change(o.elemPicker.find("."+R).find("input").val())}function t(e){k("#LAY-colorpicker-moving")[0]||k("body").append(y),y.on("mousemove",e),y.on("mouseup",function(){y.remove()}).on("mouseleave",function(){y.remove()})}var o=this,r=o.config,a=o.elemColorBox.find("."+S),s=a.attr("lay-type"),l=o.elemPicker.find(".layui-colorpicker-side"),e=o.elemPicker.find("."+_),u=o.elemPicker.find("."+N),i=o.elemPicker.find("."+I),d=o.elemPicker.find("."+A),p=o.elemPicker.find("."+P),h=e[0].offsetTop/180*360,f=100-(i[0].offsetTop+3)/180*100,m=(i[0].offsetLeft+3)/260*100,g=Math.round(p[0].offsetLeft/280*100)/100,v=o.elemColorBox.find("."+T),n=o.elemPicker.find(".layui-colorpicker-pre").children("div"),y=k(['<div class="layui-auxiliar-moving" id="LAY-colorpicker-moving"></div>'].join(""));e.on("mousedown",function(e){var i=this.offsetTop,o=e.clientY;t(function(e){var t=i+(e.clientY-o),n=l[0].offsetHeight,t=(t=n<(t=t<0?0:t)?n:t)/180*360;c(h=t,m,f,g),e.preventDefault()}),e.preventDefault()}),l.on("click",function(e){var t=e.clientY-k(this).offset().top,t=(t=(t=t<0?0:t)>this.offsetHeight?this.offsetHeight:t)/180*360;c(h=t,m,f,g),e.preventDefault()}),i.on("mousedown",function(e){var r=this.offsetTop,a=this.offsetLeft,s=e.clientY,l=e.clientX;layui.stope(e),t(function(e){var t=r+(e.clientY-s),n=a+(e.clientX-l),i=u[0].offsetHeight-3,o=u[0].offsetWidth-3,n=((n=o<(n=n<-3?-3:n)?o:n)+3)/260*100,t=100-((t=i<(t=t<-3?-3:t)?i:t)+3)/180*100;c(h,m=n,f=t,g),e.preventDefault()}),e.preventDefault()}),u.on("mousedown",function(e){var t=e.clientY-k(this).offset().top-3+M.scrollTop(),n=e.clientX-k(this).offset().left-3+M.scrollLeft();(t=t<-3?-3:t)>this.offsetHeight-3&&(t=this.offsetHeight-3);n=((n=(n=n<-3?-3:n)>this.offsetWidth-3?this.offsetWidth-3:n)+3)/260*100,t=100-(t+3)/180*100;c(h,m=n,f=t,g),layui.stope(e),e.preventDefault(),i.trigger(e,"mousedown")}),p.on("mousedown",function(e){var i=this.offsetLeft,o=e.clientX;t(function(e){var t=i+(e.clientX-o),n=d[0].offsetWidth;n<(t=t<0?0:t)&&(t=n);t=Math.round(t/280*100)/100;c(h,m,f,g=t),e.preventDefault()}),e.preventDefault()}),d.on("click",function(e){var t=e.clientX-k(this).offset().left;(t=t<0?0:t)>this.offsetWidth&&(t=this.offsetWidth);t=Math.round(t/280*100)/100;c(h,m,f,g=t),e.preventDefault()}),n.each(function(){k(this).on("click",function(){k(this).parent(".layui-colorpicker-pre").addClass("selected").siblings().removeClass("selected");var e=this.style.backgroundColor,t=b(w(e)),n=e.slice(e.lastIndexOf(",")+1,e.length-1);h=t.h,m=t.s,f=t.b,3==(e.match(/[0-9]{1,3}/g)||[]).length&&(n=1),g=n,c(t.h,t.s,t.b,n)})})},o.prototype.select=function(e,t,n,i){var o=(this.config,d({h:e,s:100,b:100})),r=d({h:e,s:t,b:n}),e=e/360*180,n=180-n/100*180-3,t=t/100*260-3;this.elemPicker.find("."+_).css("top",e),this.elemPicker.find("."+N)[0].style.background="#"+o,this.elemPicker.find("."+I).css({top:n,left:t}),"change"!==i&&this.elemPicker.find("."+R).find("input").val("#"+r)},o.prototype.pickerEvents=function(){var s=this,l=s.config,c=s.elemColorBox.find("."+S),u=s.elemPicker.find("."+R+" input"),n={clear:function(e){c[0].style.background="",s.elemColorBox.find("."+T).removeClass(E).addClass(C),s.color="",l.done&&l.done(""),s.removePicker()},confirm:function(e,t){var n,i,o=u.val(),r=o,a={};return-1<o.indexOf(",")?(a=b(w(o)),s.select(a.h,a.s,a.b),c[0].style.background=r="#"+d(a),3<(o.match(/[0-9]{1,3}/g)||[]).length&&"rgba"===c.attr("lay-type")&&(i=280*o.slice(o.lastIndexOf(",")+1,o.length-1),s.elemPicker.find("."+P).css("left",i),r=c[0].style.background=o)):(3==(n=-1<(n=o).indexOf("#")?n.substring(1):n).length&&(n=(i=n.split(""))[0]+i[0]+i[1]+i[1]+i[2]+i[2]),n=parseInt(n,16),a=b({r:n>>16,g:(65280&n)>>8,b:255&n}),c[0].style.background=r="#"+d(a),s.elemColorBox.find("."+T).removeClass(C).addClass(E)),"change"===t?(s.select(a.h,a.s,a.b,t),void(l.change&&l.change(r))):(s.color=o,l.done&&l.done(o),void s.removePicker())}};s.elemPicker.on("click","*[colorpicker-events]",function(){var e=k(this),t=e.attr("colorpicker-events");n[t]&&n[t].call(this,e)}),u.on("keyup",function(e){var t=k(this);n.confirm.call(this,t,13===e.keyCode?null:"change")})},o.prototype.events=function(){var t=this,e=t.config,n=t.elemColorBox.find("."+S);t.elemColorBox.on("click",function(){t.renderPicker(),k(a)[0]&&(t.val(),t.side())}),e.elem[0]&&!t.elemColorBox[0].eventHandler&&(s.on(i,function(e){k(e.target).hasClass(r)||k(e.target).parents("."+r)[0]||k(e.target).hasClass(a.replace(/\./g,""))||k(e.target).parents(a)[0]||!t.elemPicker||(t.color?(e=b(w(t.color)),t.select(e.h,e.s,e.b)):t.elemColorBox.find("."+T).removeClass(E).addClass(C),n[0].style.background=t.color||"",t.removePicker())}),M.on("resize",function(){return!(!t.elemPicker||!k(a)[0])&&void t.position()}),t.elemColorBox[0].eventHandler=!0)},n.render=function(e){e=new o(e);return function(){return{config:this.config}}.call(e)},e("colorpicker",n)}),layui.define("layer",function(e){function t(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/^(#|(http(s?)):\/\/|\/\/)[^\s]+\.[^\s]+$/,"链接格式不正确"],number:function(e){if(!e||isNaN(e))return"只能填写数字"},date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]},autocomplete:null}}var x=layui.$,p=layui.layer,o=layui.hint(),h=layui.device(),w="form",l=".layui-form",k="layui-this",E="layui-hide",C="layui-disabled";t.prototype.set=function(e){return x.extend(!0,this.config,e),this},t.prototype.verify=function(e){return x.extend(!0,this.config.verify,e),this},t.prototype.on=function(e,t){return layui.onevent.call(this,w,e,t)},t.prototype.val=function(e,n){return x(l+'[lay-filter="'+e+'"]').each(function(e,t){var i=x(this);layui.each(n,function(e,t){var n=i.find('[name="'+e+'"]');n[0]&&("checkbox"===(e=n[0].type)?n[0].checked=t:"radio"===e?n.each(function(){this.value==t&&(this.checked=!0)}):n.val(t))})}),r.render(null,e),this.getValue(e)},t.prototype.getValue=function(e,t){t=t||x(l+'[lay-filter="'+e+'"]').eq(0);var i={},o={},t=t.find("input,select,textarea");return layui.each(t,function(e,t){var n;x(this),t.name=(t.name||"").replace(/^\s*|\s*&/,""),t.name&&(/^.*\[\]$/.test(t.name)&&(n=t.name.match(/^(.*)\[\]$/g)[0],i[n]=0|i[n],n=t.name.replace(/^(.*)\[\]$/,"$1["+i[n]+++"]")),/^checkbox|radio$/.test(t.type)&&!t.checked||(o[n||t.name]=t.value))}),o},t.prototype.render=function(e,t){var n=this.config,i=x(l+(t?'[lay-filter="'+t+'"]':"")),t={input:function(){var e=i.find("input,textarea");n.autocomplete&&e.attr("autocomplete",n.autocomplete)},select:function(){function f(e,t){x(e.target).parent().hasClass(v)&&!t||(x("."+g).removeClass(g+"ed "+g+"up"),m&&b&&m.val(b)),m=null}var m,g="layui-form-select",v="layui-select-title",y="layui-select-none",b="",e=i.find("select");e.each(function(e,t){var n=x(this),i=n.next("."+g),o=this.disabled,r=t.value,a=x(t.options[t.selectedIndex]),s=t.options[0];if("string"==typeof n.attr("lay-ignore"))return n.show();var l,t="string"==typeof n.attr("lay-search"),s=s&&!s.value&&s.innerHTML||"请选择",a=x(['<div class="'+(t?"":"layui-unselect ")+g,(o?" layui-select-disabled":"")+'">','<div class="'+v+'">','<input type="text" placeholder="'+x.trim(s)+'" value="'+x.trim(r?a.html():"")+'"'+(!o&&t?"":" readonly")+' class="layui-input'+(t?"":" layui-unselect")+(o?" "+C:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(n.find("optgroup")[0]?" layui-select-group":"")+'">',(a=n.find("*"),l=[],layui.each(a,function(e,t){0!==e||t.value?"optgroup"===t.tagName.toLowerCase()?l.push("<dt>"+t.label+"</dt>"):l.push('<dd lay-value="'+t.value+'" class="'+(r===t.value?k:"")+(t.disabled?" "+C:"")+'">'+x.trim(t.innerHTML)+"</dd>"):l.push('<dd lay-value="" class="layui-select-tips">'+x.trim(t.innerHTML||"请选择")+"</dd>")}),0===l.length&&l.push('<dd lay-value="" class="'+C+'">没有选项</dd>'),l.join("")+"</dl>"),"</div>"].join(""));i[0]&&i.remove(),n.after(a),function(i,e,t){var s,n,o,l,r,a=x(this),c=i.find("."+v),u=c.find("input"),d=i.find("dl"),p=d.children("dd"),h=this.selectedIndex;e||(n=function(){var e=i.offset().top+i.outerHeight()+5-S.scrollTop(),t=d.outerHeight();h=a[0].selectedIndex,i.addClass(g+"ed"),p.removeClass(E),s=null,p.eq(h).addClass(k).siblings().removeClass(k),e+t>S.height()&&t<=e&&i.addClass(g+"up"),l()},o=function(e){i.removeClass(g+"ed "+g+"up"),u.blur(),s=null,e||r(u.val(),function(e){var t=a[0].selectedIndex;e&&(b=x(a[0].options[t]).html(),0===t&&b===u.attr("placeholder")&&(b=""),u.val(b||""))})},l=function(){var e,t,n=d.children("dd."+k);n[0]&&(e=n.position().top,t=d.height(),n=n.height(),t<e&&d.scrollTop(e+d.scrollTop()-t+n-5),e<0&&d.scrollTop(e+d.scrollTop()-5))},c.on("click",function(e){i.hasClass(g+"ed")?o():(f(e,!0),n()),d.find("."+y).remove()}),c.find(".layui-edge").on("click",function(){u.focus()}),u.on("keyup",function(e){9===e.keyCode&&n()}).on("keydown",function(r){var e=r.keyCode;9===e&&o();var a=function(i,o){r.preventDefault();var e=function(){var e=d.children("dd."+k);if(d.children("dd."+E)[0]&&"next"===i){var t=d.children("dd:not(."+E+",."+C+")"),n=t.eq(0).index();if(0<=n&&n<e.index()&&!t.hasClass(k))return t.eq(0).prev()[0]?t.eq(0).prev():d.children(":last")}return o&&o[0]?o:s&&s[0]?s:e}(),t=e[i](),n=e[i]("dd:not(."+E+")");return t[0]?(s=e[i](),n[0]&&!n.hasClass(C)||!s[0]?(n.addClass(k).siblings().removeClass(k),void l()):a(i,s)):s=null};38===e&&a("prev"),40===e&&a("next"),13===e&&(r.preventDefault(),d.children("dd."+k).trigger("click"))}),r=function(i,e,o){var r=0;layui.each(p,function(){var e=x(this),t=e.text(),n=-1===t.indexOf(i);(""===i||"blur"===o?i!==t:n)&&r++,"keyup"===o&&e[n?"addClass":"removeClass"](E)});var t=r===p.length;return e(t),t},t&&u.on("keyup",function(e){var t=this.value,e=e.keyCode;return 9!==e&&13!==e&&37!==e&&38!==e&&39!==e&&40!==e&&(r(t,function(e){e?d.find("."+y)[0]||d.append('<p class="'+y+'">无匹配项</p>'):d.find("."+y).remove()},"keyup"),""===t&&d.find("."+y).remove(),void l())}).on("blur",function(e){var t=a[0].selectedIndex;m=u,b=x(a[0].options[t]).html(),0===t&&b===u.attr("placeholder")&&(b=""),setTimeout(function(){r(u.val(),function(e){b||u.val("")},"blur")},200)}),p.on("click",function(){var e=x(this),t=e.attr("lay-value"),n=a.attr("lay-filter");return!e.hasClass(C)&&(e.hasClass("layui-select-tips")?u.val(""):(u.val(e.text()),e.addClass(k)),e.siblings().removeClass(k),a.val(t).removeClass("layui-form-danger"),layui.event.call(this,w,"select("+n+")",{elem:a[0],value:t,othis:i}),o(!0),!1)}),i.find("dl>dt").on("click",function(e){return!1}),x(document).off("click",f).on("click",f))}.call(this,a,o,t)})},checkbox:function(){var l={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},e=i.find("input[type=checkbox]");e.each(function(e,t){var n=x(this),i=n.attr("lay-skin"),o=(n.attr("lay-text")||"").split("|"),r=this.disabled,a=l[i="switch"===i?"_"+i:i]||l.checkbox;if("string"==typeof n.attr("lay-ignore"))return n.show();var s=n.next("."+a[0]),o=x(['<div class="layui-unselect '+a[0],t.checked?" "+a[1]:"",r?" layui-checkbox-disabled "+C:"",'"',i?' lay-skin="'+i+'"':"",">",(o={checkbox:[t.title.replace(/\s/g,"")?"<span>"+t.title+"</span>":"",'<i class="layui-icon layui-icon-ok"></i>'].join(""),_switch:"<em>"+((t.checked?o[0]:o[1])||"")+"</em><i></i>"})[i]||o.checkbox,"</div>"].join(""));s[0]&&s.remove(),n.after(o),function(n,i){var o=x(this);n.on("click",function(){var e=o.attr("lay-filter"),t=(o.attr("lay-text")||"").split("|");o[0].disabled||(o[0].checked?(o[0].checked=!1,n.removeClass(i[1]).find("em").text(t[1])):(o[0].checked=!0,n.addClass(i[1]).find("em").text(t[0])),layui.event.call(o[0],w,i[2]+"("+e+")",{elem:o[0],value:o[0].value,othis:n}))})}.call(this,o,a)})},radio:function(){var a="layui-form-radio",s=["&#xe643;","&#xe63f;"],e=i.find("input[type=radio]");e.each(function(e,t){var n=x(this),i=n.next("."+a),o=this.disabled;if("string"==typeof n.attr("lay-ignore"))return n.show();i[0]&&i.remove();t=x(['<div class="layui-unselect '+a,t.checked?" "+a+"ed":"",(o?" layui-radio-disabled "+C:"")+'">','<i class="layui-anim layui-icon">'+s[t.checked?0:1]+"</i>","<div>"+(t=t.title||"",t="string"==typeof n.next().attr("lay-radio")?n.next().html():t)+"</div>","</div>"].join(""));n.after(t),function(i){var o=x(this),r="layui-anim-scaleSpring";i.on("click",function(){var e=o[0].name,t=o.parents(l),n=o.attr("lay-filter"),e=t.find("input[name="+e.replace(/(\.|#|\[|\])/g,"\\$1")+"]");o[0].disabled||(layui.each(e,function(){var e=x(this).next("."+a);this.checked=!1,e.removeClass(a+"ed"),e.find(".layui-icon").removeClass(r).html(s[1])}),o[0].checked=!0,i.addClass(a+"ed"),i.find(".layui-icon").addClass(r).html(s[0]),layui.event.call(o[0],w,"radio("+n+")",{elem:o[0],value:o[0].value,othis:i}))})}.call(this,t)})}};return e?t[e]?t[e]():o.error('不支持的 "'+e+'" 表单渲染'):layui.each(t,function(e,t){t()}),this};function n(){var c=null,u=r.config.verify,d="layui-form-danger",e=(i=x(this)).parents(l).eq(0),t=e.find("*[lay-verify]"),n=i.parents("form")[0],i=i.attr("lay-filter");return layui.each(t,function(e,r){var a=x(this),t=a.attr("lay-verify").split("|"),s=a.attr("lay-verType"),l=a.val();if(a.removeClass(d),layui.each(t,function(e,t){var n="",i="function"==typeof u[t];if(u[t]){var i=i?n=u[t](l,r):!u[t][0].test(l),o="select"===r.tagName.toLowerCase()||/^checkbox|radio$/.test(r.type),n=n||u[t][1];if("required"===t&&(n=a.attr("lay-reqText")||n),i)return"tips"===s?p.tips(n,"string"!=typeof a.attr("lay-ignore")&&o?a.next():a,{tips:1}):"alert"===s?p.alert(n,{title:"提示",shadeClose:!0}):/\bstring|number\b/.test(typeof n)&&p.msg(n,{icon:5,shift:6}),h.mobile?f.scrollTop(function(){try{return(o?a.next():a).offset().top-15}catch(e){return 0}}()):setTimeout(function(){(o?a.next().find("input"):r).focus()},7),a.addClass(d),c=!0}}),c)return c}),!c&&(e=r.getValue(null,e),layui.event.call(this,w,"submit("+i+")",{elem:this,form:n,field:e}))}var r=new t,f=x(document),S=x(window);x(function(){r.render()}),f.on("reset",l,function(){var e=x(this).attr("lay-filter");setTimeout(function(){r.render(null,e)},50)}),f.on("submit",l,n).on("click","*[lay-submit]",n),e(w,r)}),layui.define("form",function(e){function i(){var t=this,e=t.config,n=e.id||t.index;return i.that[n]=t,{config:i.config[n]=e,reload:function(e){t.reload.call(t,e)},getChecked:function(){return t.getChecked.call(t)},setChecked:function(e){return t.setChecked.call(t,e)}}}function t(e){this.index=++r.index,this.config=p.extend({},this.config,r.config,e),this.render()}var p=layui.$,n=layui.form,h=layui.layer,o="tree",r={config:{},index:layui.tree?layui.tree.index+1e4:0,set:function(e){return this.config=p.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,o,e,t)}},f="layui-hide",l="layui-disabled",m="layui-tree-set",g="layui-tree-iconClick",v="layui-icon-addition",y="layui-icon-subtraction",b="layui-tree-entry",x="layui-tree-main",w="layui-tree-txt",k="layui-tree-pack",E="layui-tree-spread",C="layui-tree-setLineShort",S="layui-tree-showLine",T="layui-tree-lineExtend";t.prototype.config={data:[],showCheckbox:!1,showLine:!0,accordion:!1,onlyIconControl:!1,isJump:!1,edit:!1,text:{defaultNodeName:"未命名",none:"无数据"}},t.prototype.reload=function(e){var n=this;layui.each(e,function(e,t){"array"===layui._typeof(t)&&delete n.config[e]}),n.config=p.extend(!0,{},n.config,e),n.render()},t.prototype.render=function(){var e=this,t=e.config;e.checkids=[];var n=p('<div class="layui-tree'+(t.showCheckbox?" layui-form":"")+(t.showLine?" layui-tree-line":"")+'" lay-filter="LAY-tree-'+e.index+'"></div>');e.tree(n);var i=t.elem=p(t.elem);if(i[0]){if(e.key=t.id||e.index,e.elem=n,e.elemNone=p('<div class="layui-tree-emptyText">'+t.text.none+"</div>"),i.html(e.elem),0==e.elem.find(".layui-tree-set").length)return e.elem.append(e.elemNone);t.showCheckbox&&e.renderForm("checkbox"),e.elem.find(".layui-tree-set").each(function(){var e=p(this);e.parent(".layui-tree-pack")[0]||e.addClass("layui-tree-setHide"),!e.next()[0]&&e.parents(".layui-tree-pack").eq(1).hasClass("layui-tree-lineExtend")&&e.addClass(C),e.next()[0]||e.parents(".layui-tree-set").eq(0).next()[0]||e.addClass(C)}),e.events()}},t.prototype.renderForm=function(e){n.render(e,"LAY-tree-"+this.index)},t.prototype.tree=function(r,e){var a=this,s=a.config,e=e||s.data;layui.each(e,function(e,t){var n=t.children&&0<t.children.length,i=p('<div class="layui-tree-pack" '+(t.spread?'style="display: block;"':"")+"></div>"),o=p(['<div data-id="'+t.id+'" class="layui-tree-set'+(t.spread?" layui-tree-spread":"")+(t.checked?" layui-tree-checkedFirst":"")+'">','<div class="layui-tree-entry">','<div class="layui-tree-main">',s.showLine?n?'<span class="layui-tree-iconClick layui-tree-icon"><i class="layui-icon '+(t.spread?"layui-icon-subtraction":"layui-icon-addition")+'"></i></span>':'<span class="layui-tree-iconClick"><i class="layui-icon layui-icon-file"></i></span>':'<span class="layui-tree-iconClick"><i class="layui-tree-iconArrow '+(n?"":f)+'"></i></span>',s.showCheckbox?'<input type="checkbox" name="'+(t.field||"layuiTreeCheck_"+t.id)+'" same="layuiTreeCheck" lay-skin="primary" '+(t.disabled?"disabled":"")+' value="'+t.id+'">':"",s.isJump&&t.href?'<a href="'+t.href+'" target="_blank" class="'+w+'">'+(t.title||t.label||s.text.defaultNodeName)+"</a>":'<span class="'+w+(t.disabled?" "+l:"")+'">'+(t.title||t.label||s.text.defaultNodeName)+"</span>","</div>",function(){if(!s.edit)return"";var n={add:'<i class="layui-icon layui-icon-add-1"  data-type="add"></i>',update:'<i class="layui-icon layui-icon-edit" data-type="update"></i>',del:'<i class="layui-icon layui-icon-delete" data-type="del"></i>'},i=['<div class="layui-btn-group layui-tree-btnGroup">'];return!0===s.edit&&(s.edit=["update","del"]),"object"==typeof s.edit?(layui.each(s.edit,function(e,t){i.push(n[t]||"")}),i.join("")+"</div>"):void 0}(),"</div></div>"].join(""));n&&(o.append(i),a.tree(i,t.children)),r.append(o),o.prev("."+m)[0]&&o.prev().children(".layui-tree-pack").addClass("layui-tree-showLine"),n||o.parent(".layui-tree-pack").addClass("layui-tree-lineExtend"),a.spread(o,t),s.showCheckbox&&(t.checked&&a.checkids.push(t.id),a.checkClick(o,t)),s.edit&&a.operate(o,t)})},t.prototype.spread=function(i,e){var o=this.config,t=i.children("."+b),n=t.children("."+x),r=t.find("."+g),t=t.find("."+w),a=o.onlyIconControl?r:n,s="";a.on("click",function(e){var t=i.children("."+k),n=(a.children(".layui-icon")[0]?a:a.find(".layui-tree-icon")).children(".layui-icon");t[0]?i.hasClass(E)?(i.removeClass(E),t.slideUp(200),n.removeClass(y).addClass(v)):(i.addClass(E),t.slideDown(200),n.addClass(y).removeClass(v),o.accordion&&((n=i.siblings("."+m)).removeClass(E),n.children("."+k).slideUp(200),n.find(".layui-tree-icon").children(".layui-icon").removeClass(y).addClass(v))):s="normal"}),t.on("click",function(){p(this).hasClass(l)||(s=i.hasClass(E)?o.onlyIconControl?"open":"close":o.onlyIconControl?"close":"open",o.click&&o.click({elem:i,state:s,data:e}))})},t.prototype.setCheckbox=function(e,t,n){var o,r=(this.config,n.prop("checked"));n.prop("disabled")||("object"!=typeof t.children&&!e.find("."+k)[0]||e.find("."+k).find('input[same="layuiTreeCheck"]').each(function(){this.disabled||(this.checked=r)}),(o=function(e){var t,n,i;e.parents("."+m)[0]&&(i=(n=e.parent("."+k)).parent(),e=n.prev().find('input[same="layuiTreeCheck"]'),r?e.prop("checked",r):(n.find('input[same="layuiTreeCheck"]').each(function(){this.checked&&(t=!0)}),t||e.prop("checked",!1)),o(i))})(e),this.renderForm("checkbox"))},t.prototype.checkClick=function(n,i){var o=this,r=o.config;n.children("."+b).children("."+x).on("click",'input[same="layuiTreeCheck"]+',function(e){layui.stope(e);var t=p(this).prev(),e=t.prop("checked");t.prop("disabled")||(o.setCheckbox(n,i,t),r.oncheck&&r.oncheck({elem:n,checked:e,data:i}))})},t.prototype.operate=function(l,r){var c=this,u=c.config,e=l.children("."+b),d=e.children("."+x);e.children(".layui-tree-btnGroup").on("click",".layui-icon",function(e){layui.stope(e);var t,n,i,o=p(this).data("type"),a=l.children("."+k),s={data:r,type:o,elem:l};"add"==o?(a[0]||(u.showLine?(d.find("."+g).addClass("layui-tree-icon"),d.find("."+g).children(".layui-icon").addClass(v).removeClass("layui-icon-file")):d.find(".layui-tree-iconArrow").removeClass(f),l.append('<div class="layui-tree-pack"></div>')),t=u.operate&&u.operate(s),(e={}).title=u.text.defaultNodeName,e.id=t,c.tree(l.children("."+k),[e]),u.showLine&&(a[0]?(a.hasClass(T)||a.addClass(T),l.find("."+k).each(function(){p(this).children("."+m).last().addClass(C)}),(a.children("."+m).last().prev().hasClass(C)?a.children("."+m).last().prev():a.children("."+m).last()).removeClass(C),!l.parent("."+k)[0]&&l.next()[0]&&a.children("."+m).last().removeClass(C)):(t=l.siblings("."+m),n=1,e=l.parent("."+k),layui.each(t,function(e,t){p(t).children("."+k)[0]||(n=0)}),1==n?(t.children("."+k).addClass(S),t.children("."+k).children("."+m).removeClass(C),l.children("."+k).addClass(S),e.removeClass(T),e.children("."+m).last().children("."+k).children("."+m).last().addClass(C)):l.children("."+k).children("."+m).addClass(C))),u.showCheckbox&&(d.find('input[same="layuiTreeCheck"]')[0].checked&&(l.children("."+k).children("."+m).last().find('input[same="layuiTreeCheck"]')[0].checked=!0),c.renderForm("checkbox"))):"update"==o?(o=d.children("."+w).html(),d.children("."+w).html(""),d.append('<input type="text" class="layui-tree-editInput">'),d.children(".layui-tree-editInput").val(o).focus(),i=function(e){var t=(t=e.val().trim())||u.text.defaultNodeName;e.remove(),d.children("."+w).html(t),s.data.title=t,u.operate&&u.operate(s)},d.children(".layui-tree-editInput").blur(function(){i(p(this))}),d.children(".layui-tree-editInput").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),i(p(this)))})):h.confirm('确认删除该节点 "<span style="color: #999;">'+(r.title||"")+'</span>" 吗？',function(e){return u.operate&&u.operate(s),s.status="remove",h.close(e),l.prev("."+m)[0]||l.next("."+m)[0]||l.parent("."+k)[0]?(l.siblings("."+m).children("."+b)[0]?(u.showCheckbox&&(r=function(e){var t,n,i,o;e.parents("."+m)[0]&&(t=e.siblings("."+m).children("."+b),e=(n=e.parent("."+k).prev()).find('input[same="layuiTreeCheck"]')[0],i=1,(o=0)==e.checked&&(t.each(function(e,t){t=p(t).find('input[same="layuiTreeCheck"]')[0];0!=t.checked||t.disabled||(i=0),t.disabled||(o=1)}),1==i&&1==o&&(e.checked=!0,c.renderForm("checkbox"),r(n.parent("."+m)))))})(l),u.showLine&&(t=l.siblings("."+m),n=1,i=l.parent("."+k),layui.each(t,function(e,t){p(t).children("."+k)[0]||(n=0)}),1==n?(a[0]||(i.removeClass(T),t.children("."+k).addClass(S),t.children("."+k).children("."+m).removeClass(C)),(l.next()[0]?i.children("."+m).last():l.prev()).children("."+k).children("."+m).last().addClass(C),l.next()[0]||l.parents("."+m)[1]||l.parents("."+m).eq(0).next()[0]||l.prev("."+m).addClass(C)):!l.next()[0]&&l.hasClass(C)&&l.prev().addClass(C))):(t=l.parent("."+k).prev(),u.showLine?(t.find("."+g).removeClass("layui-tree-icon"),t.find("."+g).children(".layui-icon").removeClass(y).addClass("layui-icon-file"),(i=t.parents("."+k).eq(0)).addClass(T),i.children("."+m).each(function(){p(this).children("."+k).children("."+m).last().addClass(C)})):t.find(".layui-tree-iconArrow").addClass(f),l.parents("."+m).eq(0).removeClass(E),l.parent("."+k).remove()),void l.remove()):(l.remove(),void c.elem.append(c.elemNone));var r,n,t,i})})},t.prototype.events=function(){var t=this,o=t.config;t.elem.find(".layui-tree-checkedFirst"),t.setChecked(t.checkids),t.elem.find(".layui-tree-search").on("keyup",function(){var e=p(this),n=e.val(),e=e.nextAll(),i=[];e.find("."+w).each(function(){var t,e=p(this).parents("."+b);-1!=p(this).html().indexOf(n)&&(i.push(p(this).parent()),(t=function(e){e.addClass("layui-tree-searchShow"),e.parent("."+k)[0]&&t(e.parent("."+k).parent("."+m))})(e.parent("."+m)))}),e.find("."+b).each(function(){var e=p(this).parent("."+m);e.hasClass("layui-tree-searchShow")||e.addClass(f)}),0==e.find(".layui-tree-searchShow").length&&t.elem.append(t.elemNone),o.onsearch&&o.onsearch({elem:i})}),t.elem.find(".layui-tree-search").on("keydown",function(){p(this).nextAll().find("."+b).each(function(){p(this).parent("."+m).removeClass("layui-tree-searchShow "+f)}),p(".layui-tree-emptyText")[0]&&p(".layui-tree-emptyText").remove()})},t.prototype.getChecked=function(){var e=this.config,t=[],n=[];this.elem.find(".layui-form-checked").each(function(){t.push(p(this).prev()[0].value)});var o=function(e,i){layui.each(e,function(e,n){layui.each(t,function(e,t){if(n.id==t){t=p.extend({},n);return delete t.children,i.push(t),n.children&&(t.children=[],o(n.children,t.children)),!0}})})};return o(p.extend({},e.data),n),n},t.prototype.setChecked=function(r){this.config,this.elem.find("."+m).each(function(e,t){var n=p(this).data("id"),i=p(t).children("."+b).find('input[same="layuiTreeCheck"]'),o=i.next();if("number"==typeof r){if(n==r)return i[0].checked||o.click(),!1}else"object"==typeof r&&layui.each(r,function(e,t){if(t==n&&!i[0].checked)return o.click(),!0})})},i.that={},i.config={},r.reload=function(e,t){e=i.that[e];return e.reload(t),i.call(e)},r.getChecked=function(e){return i.that[e].getChecked()},r.setChecked=function(e,t){return i.that[e].setChecked(t)},r.render=function(e){e=new t(e);return i.call(e)},e(o,r)}),layui.define(["laytpl","form"],function(e){function i(){var t=this,e=t.config,n=e.id||t.index;return i.that[n]=t,{config:i.config[n]=e,reload:function(e){t.reload.call(t,e)},getData:function(){return t.getData.call(t)}}}function t(e){return['<div class="layui-transfer-box" data-index="'+(e=e||{}).index+'">','<div class="layui-transfer-header">','<input type="checkbox" name="'+e.checkAllName+'" lay-filter="layTransferCheckbox" lay-type="all" lay-skin="primary" title="{{ d.data.title['+e.index+"] || 'list"+(e.index+1)+"' }}\">","</div>","{{# if(d.data.showSearch){ }}",'<div class="layui-transfer-search">','<i class="layui-icon layui-icon-search"></i>','<input type="input" class="layui-input" placeholder="关键词搜索">',"</div>","{{# } }}",'<ul class="layui-transfer-data"></ul>',"</div>"].join("")}function n(e){this.index=++s.index,this.config=c.extend({},this.config,s.config,e),this.render()}var c=layui.$,o=layui.laytpl,r=layui.form,a="transfer",s={config:{},index:layui[a]?layui[a].index+1e4:0,set:function(e){return this.config=c.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,a,e,t)}},u="layui-hide",d="layui-btn-disabled",l="layui-none",p="layui-transfer-box",h="layui-transfer-header",f="layui-transfer-search",m="layui-transfer-data",g=['<div class="layui-transfer layui-form layui-border-box" lay-filter="LAY-transfer-{{ d.index }}">',t({index:0,checkAllName:"layTransferLeftCheckAll"}),'<div class="layui-transfer-active">','<button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="0">','<i class="layui-icon layui-icon-next"></i>',"</button>",'<button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="1">','<i class="layui-icon layui-icon-prev"></i>',"</button>","</div>",t({index:1,checkAllName:"layTransferRightCheckAll"}),"</div>"].join("");n.prototype.config={title:["列表一","列表二"],width:200,height:360,data:[],value:[],showSearch:!1,id:"",text:{none:"无数据",searchNone:"无匹配数据"}},n.prototype.reload=function(e){this.config=c.extend({},this.config,e),this.render()},n.prototype.render=function(){var e=this,t=e.config,n=e.elem=c(o(g).render({data:t,index:e.index})),i=t.elem=c(t.elem);i[0]&&(t.data=t.data||[],t.value=t.value||[],e.key=t.id||e.index,i.html(e.elem),e.layBox=e.elem.find("."+p),e.layHeader=e.elem.find("."+h),e.laySearch=e.elem.find("."+f),e.layData=n.find("."+m),e.layBtn=n.find(".layui-transfer-active .layui-btn"),e.layBox.css({width:t.width,height:t.height}),e.layData.css({height:t.height-e.layHeader.outerHeight()-e.laySearch.outerHeight()-2}),e.renderData(),e.events())},n.prototype.renderData=function(){var i=(this.config,[{checkName:"layTransferLeftCheck",views:[]},{checkName:"layTransferRightCheck",views:[]}]);this.parseData(function(e){var t=e.selected?1:0,n=["<li>",'<input type="checkbox" name="'+i[t].checkName+'" lay-skin="primary" lay-filter="layTransferCheckbox" title="'+e.title+'"'+(e.disabled?" disabled":"")+(e.checked?" checked":"")+' value="'+e.value+'">',"</li>"].join("");i[t].views.push(n),delete e.selected}),this.layData.eq(0).html(i[0].views.join("")),this.layData.eq(1).html(i[1].views.join("")),this.renderCheckBtn()},n.prototype.renderForm=function(e){r.render(e,"LAY-transfer-"+this.index)},n.prototype.renderCheckBtn=function(a){var s=this,l=s.config;a=a||{},s.layBox.each(function(e){var t=c(this),n=t.find("."+m),i=t.find("."+h).find('input[type="checkbox"]'),t=n.find('input[type="checkbox"]'),o=0,r=!1;t.each(function(){var e=c(this).data("hide");(this.checked||this.disabled||e)&&o++,this.checked&&!e&&(r=!0)}),i.prop("checked",r&&o===t.length),s.layBtn.eq(e)[r?"removeClass":"addClass"](d),a.stopNone||(e=n.children("li:not(."+u+")").length,s.noneView(n,e?"":l.text.none))}),s.renderForm("checkbox")},n.prototype.noneView=function(e,t){var n=c('<p class="layui-none">'+(t||"")+"</p>");e.find("."+l)[0]&&e.find("."+l).remove(),t.replace(/\s/g,"")&&e.append(n)},n.prototype.setValue=function(){var e=this.config,t=[];return this.layBox.eq(1).find("."+m+' input[type="checkbox"]').each(function(){c(this).data("hide")||t.push(this.value)}),e.value=t,this},n.prototype.parseData=function(t){var i=this.config,o=[];return layui.each(i.data,function(e,n){n=("function"==typeof i.parseData?i.parseData(n):n)||n,o.push(n=c.extend({},n)),layui.each(i.value,function(e,t){t==n.value&&(n.selected=!0)}),t&&t(n)}),i.data=o,this},n.prototype.getData=function(e){var t=this.config,i=[];return this.setValue(),layui.each(e||t.value,function(e,n){layui.each(t.data,function(e,t){delete t.selected,n==t.value&&i.push(t)})}),i},n.prototype.events=function(){var r=this,n=r.config;r.elem.on("click",'input[lay-filter="layTransferCheckbox"]+',function(){var e=c(this).prev(),t=e[0].checked,n=e.parents("."+p).eq(0).find("."+m);e[0].disabled||("all"===e.attr("lay-type")&&n.find('input[type="checkbox"]').each(function(){this.disabled||(this.checked=t)}),r.renderCheckBtn({stopNone:!0}))}),r.layBtn.on("click",function(){var e=c(this),t=e.data("index"),i=r.layBox.eq(t),o=[];e.hasClass(d)||(r.layBox.eq(t).each(function(e){c(this).find("."+m).children("li").each(function(){var e=c(this),t=e.find('input[type="checkbox"]'),n=t.data("hide");t[0].checked&&!n&&(t[0].checked=!1,i.siblings("."+p).find("."+m).append(e.clone()),e.remove(),o.push(t[0].value)),r.setValue()})}),r.renderCheckBtn(),""===(e=i.siblings("."+p).find("."+f+" input")).val()||e.trigger("keyup"),n.onchange&&n.onchange(r.getData(o),t))}),r.laySearch.find("input").on("keyup",function(){var i=this.value,e=c(this).parents("."+f).eq(0).siblings("."+m),t=e.children("li");t.each(function(){var e=c(this),t=e.find('input[type="checkbox"]'),n=-1!==t[0].title.indexOf(i);e[n?"removeClass":"addClass"](u),t.data("hide",!n)}),r.renderCheckBtn();t=t.length===e.children("li."+u).length;r.noneView(e,t?n.text.searchNone:"")})},i.that={},i.config={},s.reload=function(e,t){e=i.that[e];return e.reload(t),i.call(e)},s.getData=function(e){return i.that[e].getData()},s.render=function(e){e=new n(e);return i.call(e)},e(a,s)}),layui.define(["laytpl","laypage","layer","form","util"],function(e){function d(){var n=this,e=n.config,t=e.id||e.index;return t&&(d.that[t]=n,d.config[t]=e),{config:e,reload:function(e,t){n.reload.call(n,e,t)},setColsWidth:function(){n.setColsWidth.call(n)},resize:function(){n.resize.call(n)}}}function i(e){var t=d.config[e];return t||h.error(e?"The table instance with ID '"+e+"' not found":"ID argument required"),t||null}function g(e,t,n,i){return(this.config||{}).escape&&(t=o.escape(t)),t=e.templet?"function"==typeof e.templet?e.templet(n):y(v(e.templet).html()||String(t)).render(n):t,i?v("<div>"+t+"</div>").text():t}function t(e){return['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<thead>","{{# layui.each(d.data.cols, function(i1, item1){ }}","<tr>","{{# layui.each(item1, function(i2, item2){ }}",'{{# if(item2.fixed && item2.fixed !== "right"){ left = true; } }}','{{# if(item2.fixed === "right"){ right = true; } }}',(e=e||{}).fixed&&"right"!==e.fixed?'{{# if(item2.fixed && item2.fixed !== "right"){ }}':"right"===e.fixed?'{{# if(item2.fixed === "right"){ }}':"","{{# var isSort = !(item2.colGroup) && item2.sort; }}",'<th data-field="{{ item2.field||i2 }}" data-key="{{d.index}}-{{i1}}-{{i2}}" {{# if( item2.parentKey){ }}data-parentkey="{{ item2.parentKey }}"{{# } }} {{# if(item2.minWidth){ }}data-minwidth="{{item2.minWidth}}"{{# } }} {{#if(item2.colspan){}} colspan="{{item2.colspan}}"{{#} if(item2.rowspan){}} rowspan="{{item2.rowspan}}"{{#}}} {{# if(item2.unresize || item2.colGroup){ }}data-unresize="true"{{# } }} class="{{# if(item2.hide){ }}layui-hide{{# } }}{{# if(isSort){ }} layui-unselect{{# } }}{{# if(!item2.field){ }} layui-table-col-special{{# } }}">','<div class="layui-table-cell laytable-cell-',"{{# if(item2.colGroup){ }}","group","{{# } else { }}","{{d.index}}-{{i1}}-{{i2}}",'{{# if(item2.type !== "normal"){ }}'," laytable-cell-{{ item2.type }}","{{# } }}","{{# } }}",'" {{#if(item2.align){}}align="{{item2.align}}"{{#}}}>','{{# if(item2.type === "checkbox"){ }}','<input type="checkbox" name="layTableCheckbox" lay-skin="primary" lay-filter="layTableAllChoose" {{# if(item2[d.data.checkName]){ }}checked{{# }; }}>',"{{# } else { }}",'<span>{{item2.title||""}}</span>',"{{# if(isSort){ }}",'<span class="layui-table-sort layui-inline"><i class="layui-edge layui-table-sort-asc" title="升序"></i><i class="layui-edge layui-table-sort-desc" title="降序"></i></span>',"{{# } }}","{{# } }}","</div>","</th>",e.fixed?"{{# }; }}":"","{{# }); }}","</tr>","{{# }); }}","</thead>","</table>"].join("")}function n(e){this.index=++x.index,this.config=v.extend({},this.config,x.config,e),this.render()}var v=layui.$,y=layui.laytpl,a=layui.laypage,b=layui.layer,p=layui.form,o=layui.util,h=layui.hint(),f=layui.device(),x={config:{checkName:"LAY_CHECKED",indexName:"LAY_TABLE_INDEX"},cache:{},index:layui.table?layui.table.index+1e4:0,set:function(e){return this.config=v.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,m,e,t)}},m="table",w="layui-hide",s="layui-none",r="layui-table-view",l=".layui-table-header",k=".layui-table-body",E=".layui-table-sort",C="layui-table-edit",S="layui-table-hover",c=['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<tbody></tbody>","</table>"].join(""),u=['<div class="layui-form layui-border-box {{d.VIEW_CLASS}}{{# if(d.data.className){ }} {{ d.data.className }}{{# } }}" lay-filter="LAY-table-{{d.index}}" lay-id="{{ d.data.id }}" style="{{# if(d.data.width){ }}width:{{d.data.width}}px;{{# } }} {{# if(d.data.height){ }}height:{{d.data.height}}px;{{# } }}">',"{{# if(d.data.toolbar){ }}",'<div class="layui-table-tool">','<div class="layui-table-tool-temp"></div>','<div class="layui-table-tool-self"></div>',"</div>","{{# } }}",'<div class="layui-table-box">',"{{# if(d.data.loading){ }}",'<div class="layui-table-init" style="background-color: #fff;">','<i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>',"</div>","{{# } }}","{{# var left, right; }}",'<div class="layui-table-header">',t(),"</div>",'<div class="layui-table-body layui-table-main">',c,"</div>","{{# if(left){ }}",'<div class="layui-table-fixed layui-table-fixed-l">','<div class="layui-table-header">',t({fixed:!0}),"</div>",'<div class="layui-table-body">',c,"</div>","</div>","{{# }; }}","{{# if(right){ }}",'<div class="layui-table-fixed layui-table-fixed-r">','<div class="layui-table-header">',t({fixed:"right"}),'<div class="layui-table-mend"></div>',"</div>",'<div class="layui-table-body">',c,"</div>","</div>","{{# }; }}","</div>","{{# if(d.data.totalRow){ }}",'<div class="layui-table-total">','<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>','<tbody><tr><td><div class="layui-table-cell" style="visibility: hidden;">Total</div></td></tr></tbody>',"</table>","</div>","{{# } }}","{{# if(d.data.page){ }}",'<div class="layui-table-page">','<div id="layui-table-page{{d.index}}"></div>',"</div>","{{# } }}","<style>","{{# layui.each(d.data.cols, function(i1, item1){","layui.each(item1, function(i2, item2){ }}",".laytable-cell-{{d.index}}-{{i1}}-{{i2}}{ ","{{# if(item2.width){ }}","width: {{item2.width}}px;","{{# } }}"," }","{{# });","}); }}","</style>","</div>"].join(""),T=v(window),_=v(document);n.prototype.config={limit:10,loading:!0,cellMinWidth:60,defaultToolbar:["filter","exports","print"],autoSort:!0,text:{none:"无数据"}},n.prototype.render=function(){var e=this,t=e.config;if(t.elem=v(t.elem),t.where=t.where||{},t.id=t.id||t.elem.attr("id")||e.index,t.request=v.extend({pageName:"page",limitName:"limit"},t.request),t.response=v.extend({statusName:"code",statusCode:0,msgName:"msg",dataName:"data",totalRowName:"totalRow",countName:"count"},t.response),"object"==typeof t.page&&(t.limit=t.page.limit||t.limit,t.limits=t.page.limits||t.limits,e.page=t.page.curr=t.page.curr||1,delete t.page.elem,delete t.page.jump),!t.elem[0])return e;t.height&&/^full-\d+$/.test(t.height)&&(e.fullHeightGap=t.height.split("-")[1],t.height=T.height()-e.fullHeightGap),e.setInit();var n=t.elem,i=n.next("."+r),o=e.elem=v(y(u).render({VIEW_CLASS:r,data:t,index:e.index}));t.index=e.index,e.key=t.id||t.index,i[0]&&i.remove(),n.after(o),e.layTool=o.find(".layui-table-tool"),e.layBox=o.find(".layui-table-box"),e.layHeader=o.find(l),e.layMain=o.find(".layui-table-main"),e.layBody=o.find(k),e.layFixed=o.find(".layui-table-fixed"),e.layFixLeft=o.find(".layui-table-fixed-l"),e.layFixRight=o.find(".layui-table-fixed-r"),e.layTotal=o.find(".layui-table-total"),e.layPage=o.find(".layui-table-page"),e.renderToolbar(),e.fullSize(),1<t.cols.length&&(t=e.layFixed.find(l).find("th")).height(e.layHeader.height()-1-parseFloat(t.css("padding-top"))-parseFloat(t.css("padding-bottom"))),e.pullData(e.page),e.events()},n.prototype.initOpts=function(e){var t=(this.config,{checkbox:48,radio:48,space:15,numbers:40});e.checkbox&&(e.type="checkbox"),e.space&&(e.type="space"),e.type||(e.type="normal"),"normal"!==e.type&&(e.unresize=!0,e.width=e.width||t[e.type])},n.prototype.setInit=function(e){var t=this,a=t.config;return a.clientWidth=a.width||i(),"width"===e?a.clientWidth:void layui.each(a.cols,function(r,e){layui.each(e,function(n,i){var o;i?(i.key=r+"-"+n,i.hide=i.hide||!1,(i.colGroup||1<i.colspan)&&(o=0,layui.each(a.cols[r+1],function(e,t){t.HAS_PARENT||1<o&&o==i.colspan||(t.HAS_PARENT=!0,t.parentKey=r+"-"+n,o+=parseInt(1<t.colspan?t.colspan:1))}),i.colGroup=!0),t.initOpts(i)):e.splice(n,1)})});function i(e){var t,n=(e=e||a.elem.parent()).width();try{t="none"===e.css("display")}catch(e){}return!e[0]||n&&!t?n:i(e.parent())}},n.prototype.renderToolbar=function(){var e=this.config,t=['<div class="layui-inline" lay-event="add"><i class="layui-icon layui-icon-add-1"></i></div>','<div class="layui-inline" lay-event="update"><i class="layui-icon layui-icon-edit"></i></div>','<div class="layui-inline" lay-event="delete"><i class="layui-icon layui-icon-delete"></i></div>'].join(""),n=this.layTool.find(".layui-table-tool-temp");"default"===e.toolbar?n.html(t):"string"!=typeof e.toolbar||(t=v(e.toolbar).html()||"")&&n.html(y(t).render(e));var i={filter:{title:"筛选列",layEvent:"LAYTABLE_COLS",icon:"layui-icon-cols"},exports:{title:"导出",layEvent:"LAYTABLE_EXPORT",icon:"layui-icon-export"},print:{title:"打印",layEvent:"LAYTABLE_PRINT",icon:"layui-icon-print"}},o=[];"object"==typeof e.defaultToolbar&&layui.each(e.defaultToolbar,function(e,t){t="string"==typeof t?i[t]:t;t&&o.push('<div class="layui-inline" title="'+t.title+'" lay-event="'+t.layEvent+'"><i class="layui-icon '+t.icon+'"></i></div>')}),this.layTool.find(".layui-table-tool-self").html(o.join(""))},n.prototype.setParentCol=function(e,t){var n=this.config,i=this.layHeader.find('th[data-key="'+n.index+"-"+t+'"]'),o=parseInt(i.attr("colspan"))||0;i[0]&&(t=t.split("-"),t=n.cols[t[0]][t[1]],e?o--:o++,i.attr("colspan",o),i[o<1?"addClass":"removeClass"](w),t.colspan=o,t.hide=o<1,(i=i.data("parentkey"))&&this.setParentCol(e,i))},n.prototype.setColsPatch=function(){var n=this,e=n.config;layui.each(e.cols,function(e,t){layui.each(t,function(e,t){t.hide&&n.setParentCol(t.hide,t.parentKey)})})},n.prototype.setColsWidth=function(){var i=this,a=i.config,n=0,s=0,l=0,c=0,u=i.setInit("width");i.eachCols(function(e,t){t.hide||n++});var u=u-("line"===a.skin||"nob"===a.skin?2:n+1)-i.getScrollWidth(i.layMain[0])-1,e=function(r){layui.each(a.cols,function(e,o){layui.each(o,function(e,t){var n=0,i=t.minWidth||a.cellMinWidth;return t?void(t.colGroup||t.hide||(r?l&&l<i&&(s--,n=i):(n=t.width||0,/\d+%$/.test(n)?(n=Math.floor(parseFloat(n)/100*u))<i&&(n=i):n||(t.width=n=0,s++)),t.hide&&(n=0),c+=n)):void o.splice(e,1)})}),c<u&&s&&(l=(u-c)/s)};e(),e(!0),i.autoColNums=s,i.eachCols(function(e,t){var n=t.minWidth||a.cellMinWidth;t.colGroup||t.hide||(0===t.width?i.getCssRule(a.index+"-"+t.key,function(e){e.style.width=Math.floor(n<=l?l:n)+"px"}):/\d+%$/.test(t.width)&&i.getCssRule(a.index+"-"+t.key,function(e){e.style.width=Math.floor(parseFloat(t.width)/100*u)+"px"}))});var t,o,r=i.layMain.width()-i.getScrollWidth(i.layMain[0])-i.layMain.children("table").outerWidth();i.autoColNums&&-n<=r&&r<=n&&(e=(o=(t=function(e){return!(e=e||i.layHeader.eq(0).find("thead th:last-child")).data("field")&&e.prev()[0]?t(e.prev()):e})()).data("key"),i.getCssRule(e,function(e){var t=e.style.width||o.outerWidth();e.style.width=parseFloat(t)+r+"px",0<i.layMain.height()-i.layMain.prop("clientHeight")&&(e.style.width=parseFloat(e.style.width)-1+"px")})),i.loading(!0)},n.prototype.resize=function(){this.fullSize(),this.setColsWidth(),this.scrollPatch()},n.prototype.reload=function(e,t){var n=this;e=e||{},delete n.haveInit,layui.each(e,function(e,t){"array"===layui._typeof(t)&&delete n.config[e]}),n.config=v.extend(t,{},n.config,e),n.render()},n.prototype.errorView=function(e){var t=this.layMain.find("."+s),e=v('<div class="'+s+'">'+(e||"Error")+"</div>");t[0]&&(this.layNone.remove(),t.remove()),this.layFixed.addClass(w),this.layMain.find("tbody").html(""),this.layMain.append(this.layNone=e),x.cache[this.key]=[]},n.prototype.page=1,n.prototype.pullData=function(t){function n(){"object"==typeof r.initSort&&o.sort(r.initSort.field,r.initSort.type)}var e,i,o=this,r=o.config,a=r.request,s=r.response;o.startTime=(new Date).getTime(),r.url?((i={})[a.pageName]=t,i[a.limitName]=r.limit,e=v.extend(i,r.where),r.contentType&&0==r.contentType.indexOf("application/json")&&(e=JSON.stringify(e)),o.loading(),v.ajax({type:r.method||"get",url:r.url,contentType:r.contentType,data:e,dataType:"json",headers:r.headers||{},success:function(e){(e="function"==typeof r.parseData?r.parseData(e)||e:e)[s.statusName]!=s.statusCode?(o.renderForm(),o.errorView(e[s.msgName]||'返回的数据不符合规范，正确的成功状态码应为："'+s.statusName+'": '+s.statusCode)):(o.renderData(e,t,e[s.countName]),n(),r.time=(new Date).getTime()-o.startTime+" ms"),o.setColsWidth(),"function"==typeof r.done&&r.done(e,t,e[s.countName])},error:function(e,t){o.errorView("请求异常，错误提示："+t),o.renderForm(),o.setColsWidth(),"function"==typeof r.error&&r.error(e,t)}})):"array"===layui._typeof(r.data)&&(i=t*r.limit-r.limit,(e={})[s.dataName]=r.data.concat().splice(i,r.limit),e[s.countName]=r.data.length,"object"==typeof r.totalRow&&(e[s.totalRowName]=v.extend({},r.totalRow)),o.renderData(e,t,e[s.countName]),n(),o.setColsWidth(),"function"==typeof r.done&&r.done(e,t,e[s.countName]))},n.prototype.eachCols=function(e){return x.eachCols(null,e,this.config.cols),this},n.prototype.renderData=function(e,t,n,i){var d=this,p=d.config,o=e[p.response.dataName]||[],r=e[p.response.totalRowName],h=[],f=[],m=[],e=function(){var u;return!i&&d.sortKey?d.sort(d.sortKey.field,d.sortKey.sort,!0):(layui.each(o,function(o,r){var a=[],s=[],l=[],c=o+p.limit*(t-1)+1;"array"===layui._typeof(r)&&0===r.length||(i||(r[x.config.indexName]=o),d.eachCols(function(e,n){var t=n.field||e,e=p.index+"-"+n.key,i=r[t];null!=i||(i=""),n.colGroup||(e=['<td data-field="'+t+'" data-key="'+e+'" '+(t=[],n.edit&&t.push('data-edit="'+n.edit+'"'),n.align&&t.push('align="'+n.align+'"'),n.templet&&t.push('data-content="'+i+'"'),n.toolbar&&t.push('data-off="true"'),n.event&&t.push('lay-event="'+n.event+'"'),n.style&&t.push('style="'+n.style+'"'),n.minWidth&&t.push('data-minwidth="'+n.minWidth+'"'),t.join(" "))+' class="'+(t=[],n.hide&&t.push(w),n.field||t.push("layui-table-col-special"),t.join(" "))+'">','<div class="layui-table-cell laytable-cell-'+("normal"===n.type?e:e+" laytable-cell-"+n.type)+'">'+function(){var e=v.extend(!0,{LAY_INDEX:c,LAY_COL:n},r),t=x.config.checkName;switch(n.type){case"checkbox":return'<input type="checkbox" name="layTableCheckbox" lay-skin="primary" '+(n[t]?(r[t]=n[t],n[t]?"checked":""):e[t]?"checked":"")+">";case"radio":return e[t]&&(u=o),'<input type="radio" name="layTableRadio_'+p.index+'" '+(e[t]?"checked":"")+' lay-type="layTableRadio">';case"numbers":return c}return n.toolbar?y(v(n.toolbar).html()||"").render(e):g.call(d,n,i,e)}(),"</div></td>"].join(""),a.push(e),n.fixed&&"right"!==n.fixed&&s.push(e),"right"===n.fixed&&l.push(e))}),h.push('<tr data-index="'+o+'">'+a.join("")+"</tr>"),f.push('<tr data-index="'+o+'">'+s.join("")+"</tr>"),m.push('<tr data-index="'+o+'">'+l.join("")+"</tr>"))}),d.layBody.scrollTop(0),d.layMain.find("."+s).remove(),d.layMain.find("tbody").html(h.join("")),d.layFixLeft.find("tbody").html(f.join("")),d.layFixRight.find("tbody").html(m.join("")),d.renderForm(),"number"==typeof u&&d.setThisRowChecked(u),d.syncCheckAll(),d.haveInit?d.scrollPatch():setTimeout(function(){d.scrollPatch()},50),d.haveInit=!0,b.close(d.tipsIndex),p.HAS_SET_COLS_PATCH||d.setColsPatch(),void(p.HAS_SET_COLS_PATCH=!0))};return x.cache[d.key]=o,d.layPage[0==n||0===o.length&&1==t?"addClass":"removeClass"](w),0===o.length?(d.renderForm(),d.errorView(p.text.none)):(d.layFixed.removeClass(w),i?e():(e(),d.renderTotal(o,r),void(p.page&&(p.page=v.extend({elem:"layui-table-page"+p.index,count:n,limit:p.limit,limits:p.limits||[10,20,30,40,50,60,70,80,90],groups:3,layout:["prev","page","next","skip","count","limit"],prev:'<i class="layui-icon">&#xe603;</i>',next:'<i class="layui-icon">&#xe602;</i>',jump:function(e,t){t||(d.page=e.curr,p.limit=e.limit,d.pullData(e.curr))}},p.page),p.page.count=n,a.render(p.page)))))},n.prototype.renderTotal=function(e,r){var a,s=this,l=s.config,c={};l.totalRow&&(layui.each(e,function(e,i){"array"===layui._typeof(i)&&0===i.length||s.eachCols(function(e,t){var n=t.field||e,e=i[n];t.totalRow&&(c[n]=(c[n]||0)+(parseFloat(e)||0))})}),s.dataTotal={},a=[],s.eachCols(function(e,t){var n,i,o=t.field||e,e=(n=t.totalRowText||"",i=parseFloat(c[o]).toFixed(2),(e={})[o]=i,n=t.totalRow&&g.call(s,t,i,e)||n,r&&r[t.field]||n),n=['<td data-field="'+o+'" data-key="'+l.index+"-"+t.key+'" '+(n=[],t.align&&n.push('align="'+t.align+'"'),t.style&&n.push('style="'+t.style+'"'),t.minWidth&&n.push('data-minwidth="'+t.minWidth+'"'),n.join(" "))+' class="'+(n=[],t.hide&&n.push(w),t.field||n.push("layui-table-col-special"),n.join(" "))+'">','<div class="layui-table-cell laytable-cell-'+(n=l.index+"-"+t.key,"normal"===t.type?n:n+" laytable-cell-"+t.type)+'">'+("string"==typeof(n=t.totalRow||l.totalRow)?y(n).render(v.extend({TOTAL_NUMS:e},t)):e),"</div></td>"].join("");t.field&&(s.dataTotal[o]=e),a.push(n)}),s.layTotal.find("tbody").html("<tr>"+a.join("")+"</tr>"))},n.prototype.getColElem=function(e,t){var n=this.config;return e.eq(0).find(".laytable-cell-"+n.index+"-"+t+":eq(0)")},n.prototype.renderForm=function(e){p.render(e,"LAY-table-"+this.index)},n.prototype.setThisRowChecked=function(e){var t=(this.config,"layui-table-click");this.layBody.find('tr[data-index="'+e+'"]').addClass(t).siblings("tr").removeClass(t)},n.prototype.sort=function(o,e,t,n){var i,r=this,a={},s=r.config,l=s.elem.attr("lay-filter"),c=x.cache[r.key];"string"==typeof o&&(u=o,r.layHeader.find("th").each(function(e,t){var n=v(this),i=n.data("field");if(i===o)return o=n,u=i,!1}));try{var u=u||o.data("field"),d=o.data("key");if(r.sortKey&&!t&&u===r.sortKey.field&&e===r.sortKey.sort)return;var p=r.layHeader.find("th .laytable-cell-"+d).find(E);r.layHeader.find("th").find(E).removeAttr("lay-sort"),p.attr("lay-sort",e||null),r.layFixed.find("th")}catch(e){h.error("Table modules: sort field '"+u+"' not matched")}r.sortKey={field:u,sort:e},s.autoSort&&("asc"===e?i=layui.sort(c,u):"desc"===e?i=layui.sort(c,u,!0):(i=layui.sort(c,x.config.indexName),delete r.sortKey)),a[s.response.dataName]=i||c,r.renderData(a,r.page,r.count,!0),n&&layui.event.call(o,m,"sort("+l+")",{field:u,type:e})},n.prototype.loading=function(e){this.config.loading&&(e?(this.layInit&&this.layInit.remove(),delete this.layInit,this.layBox.find(".layui-table-init").remove()):(this.layInit=v(['<div class="layui-table-init">','<i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>',"</div>"].join("")),this.layBox.append(this.layInit)))},n.prototype.setCheckData=function(e,t){var n=this.config,i=x.cache[this.key];i[e]&&"array"!==layui._typeof(i[e])&&(i[e][n.checkName]=t)},n.prototype.syncCheckAll=function(){function e(n){return t.eachCols(function(e,t){"checkbox"===t.type&&(t[i.checkName]=n)}),n}var t=this,i=t.config,n=t.layHeader.find('input[name="layTableCheckbox"]');n[0]&&(x.checkStatus(t.key).isAll?(n[0].checked||(n.prop("checked",!0),t.renderForm("checkbox")),e(!0)):(n[0].checked&&(n.prop("checked",!1),t.renderForm("checkbox")),e(!1)))},n.prototype.getCssRule=function(n,i){var e=this.elem.find("style")[0],e=e.sheet||e.styleSheet||{},e=e.cssRules||e.rules;layui.each(e,function(e,t){if(t.selectorText===".laytable-cell-"+n)return i(t),!0})},n.prototype.fullSize=function(){var e=this.config,t=e.height;this.fullHeightGap&&(t=T.height()-this.fullHeightGap,this.elem.css("height",t=t<135?135:t)),t&&(t=parseFloat(t)-(this.layHeader.outerHeight()||38),e.toolbar&&(t-=this.layTool.outerHeight()||50),e.totalRow&&(t-=this.layTotal.outerHeight()||40),e.page&&(t-=this.layPage.outerHeight()||41),this.layMain.css("height",t-2))},n.prototype.getScrollWidth=function(e){var t=0;return e?t=e.offsetWidth-e.clientWidth:((e=document.createElement("div")).style.width="100px",e.style.height="100px",e.style.overflowY="scroll",document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),t},n.prototype.scrollPatch=function(){var e=this,t=e.layMain.children("table"),n=e.layMain.width()-e.layMain.prop("clientWidth"),i=e.layMain.height()-e.layMain.prop("clientHeight"),o=(e.getScrollWidth(e.layMain[0]),t.outerWidth()-e.layMain.width()),r=function(e){var t;n&&i?(e=e.eq(0)).find(".layui-table-patch")[0]||((t=v('<th class="layui-table-patch"><div class="layui-table-cell"></div></th>')).find("div").css({width:n}),e.find("tr").append(t)):e.find(".layui-table-patch").remove()};r(e.layHeader),r(e.layTotal);r=e.layMain.height()-i;e.layFixed.find(k).css("height",t.height()>=r?r:"auto"),e.layFixRight[0<o?"removeClass":"addClass"](w),e.layFixRight.css("right",n-1)},n.prototype.events=function(){var o,l=this,c=l.config,i=v("body"),r={},e=l.layHeader.find("th"),a=".layui-table-cell",u=c.elem.attr("lay-filter");l.layTool.on("click","*[lay-event]",function(e){function t(e){var t=v(e.list),n=v('<ul class="layui-table-tool-panel"></ul>');n.html(t),c.height&&n.css("max-height",c.height-(l.layTool.outerHeight()||50)),i.find(".layui-table-tool-panel")[0]||i.append(n),l.renderForm(),n.on("click",function(e){layui.stope(e)}),e.done&&e.done(n,t)}var n,i=v(this),o=i.attr("lay-event");switch(layui.stope(e),_.trigger("table.tool.panel.remove"),b.close(l.tipsIndex),o){case"LAYTABLE_COLS":t({list:(n=[],l.eachCols(function(e,t){t.field&&"normal"==t.type&&n.push('<li><input type="checkbox" name="'+t.field+'" data-key="'+t.key+'" data-parentkey="'+(t.parentKey||"")+'" lay-skin="primary" '+(t.hide?"":"checked")+' title="'+(t.title||t.field)+'" lay-filter="LAY_TABLE_TOOL_COLS"></li>')}),n.join("")),done:function(){p.on("checkbox(LAY_TABLE_TOOL_COLS)",function(e){var e=v(e.elem),i=this.checked,o=e.data("key"),r=e.data("parentkey");layui.each(c.cols,function(n,e){layui.each(e,function(e,t){n+"-"+e===o&&(e=t.hide,t.hide=!i,l.elem.find('*[data-key="'+c.index+"-"+o+'"]')[i?"removeClass":"addClass"](w),e!=t.hide&&l.setParentCol(!i,r),l.resize())})})})}});break;case"LAYTABLE_EXPORT":f.ie?b.tips("导出功能不支持 IE，请用 Chrome 等高级浏览器导出",this,{tips:3}):t({list:['<li data-type="csv">导出到 Csv 文件</li>','<li data-type="xls">导出到 Excel 文件</li>'].join(""),done:function(e,t){t.on("click",function(){var e=v(this).data("type");x.exportFile.call(l,c.id,null,e)})}});break;case"LAYTABLE_PRINT":var r=window.open("打印窗口","_blank"),a=["<style>","body{font-size: 12px; color: #666;}","table{width: 100%; border-collapse: collapse; border-spacing: 0;}","th,td{line-height: 20px; padding: 9px 15px; border: 1px solid #ccc; text-align: left; font-size: 12px; color: #666;}","a{color: #666; text-decoration:none;}","*.layui-hide{display: none}","</style>"].join(""),s=v(l.layHeader.html());s.append(l.layMain.find("table").html()),s.append(l.layTotal.find("table").html()),s.find("th.layui-table-patch").remove(),s.find(".layui-table-col-special").remove(),r.document.write(a+s.prop("outerHTML")),r.document.close(),r.print(),r.close()}layui.event.call(this,m,"toolbar("+u+")",v.extend({event:o,config:c},{}))}),e.on("mousemove",function(e){var t=v(this),n=t.offset().left,n=e.clientX-n;t.data("unresize")||r.resizeStart||(r.allowResize=t.width()-n<=10,i.css("cursor",r.allowResize?"col-resize":""))}).on("mouseleave",function(){v(this),r.resizeStart||i.css("cursor","")}).on("mousedown",function(e){var t,n=v(this);r.allowResize&&(t=n.data("key"),e.preventDefault(),r.resizeStart=!0,r.offset=[e.clientX,e.clientY],l.getCssRule(t,function(e){var t=e.style.width||n.outerWidth();r.rule=e,r.ruleWidth=parseFloat(t),r.minWidth=n.data("minwidth")||c.cellMinWidth}))}),_.on("mousemove",function(e){r.resizeStart&&(e.preventDefault(),r.rule&&((e=r.ruleWidth+e.clientX-r.offset[0])<r.minWidth&&(e=r.minWidth),r.rule.style.width=e+"px",b.close(l.tipsIndex)),o=1)}).on("mouseup",function(e){r.resizeStart&&(r={},i.css("cursor",""),l.scrollPatch()),2===o&&(o=null)}),e.on("click",function(e){var t=v(this),n=t.find(E),i=n.attr("lay-sort");return n[0]&&1!==o?void l.sort(t,"asc"===i?"desc":"desc"===i?null:"asc",null,!0):o=2}).find(E+" .layui-edge ").on("click",function(e){var t=v(this),n=t.index(),t=t.parents("th").eq(0).data("field");layui.stope(e),0===n?l.sort(t,"asc",null,!0):l.sort(t,"desc",null,!0)});var s=function(e){var t=v(this).parents("tr").eq(0).data("index"),o=l.layBody.find('tr[data-index="'+t+'"]'),r=(r=x.cache[l.key]||[])[t]||{};return v.extend({tr:o,data:x.clearCacheKey(r),del:function(){x.cache[l.key][t]=[],o.remove(),l.scrollPatch()},update:function(e){e=e||{},layui.each(e,function(n,e){var i,t;n in r&&(t=o.children('td[data-field="'+n+'"]'),r[n]=e,l.eachCols(function(e,t){t.field==n&&t.templet&&(i=t.templet)}),t.children(a).html(g.call(l,{templet:i},e,r)),t.data("content",e))})}},e)};l.elem.on("click",'input[name="layTableCheckbox"]+',function(){var e=v(this).prev(),t=l.layBody.find('input[name="layTableCheckbox"]'),n=e.parents("tr").eq(0).data("index"),i=e[0].checked,o="layTableAllChoose"===e.attr("lay-filter");o?(t.each(function(e,t){t.checked=i,l.setCheckData(e,i)}),l.syncCheckAll(),l.renderForm("checkbox")):(l.setCheckData(n,i),l.syncCheckAll()),layui.event.call(e[0],m,"checkbox("+u+")",s.call(e[0],{checked:i,type:o?"all":"one"}))}),l.elem.on("click",'input[lay-type="layTableRadio"]+',function(){var e=v(this).prev(),t=e[0].checked,n=x.cache[l.key],i=e.parents("tr").eq(0).data("index");layui.each(n,function(e,t){i===e?t[c.checkName]=!0:delete t[c.checkName]}),l.setThisRowChecked(i),layui.event.call(this,m,"radio("+u+")",s.call(this,{checked:t}))}),l.layBody.on("mouseenter","tr",function(){var e=v(this),t=e.index();e.data("off")||l.layBody.find("tr:eq("+t+")").addClass(S)}).on("mouseleave","tr",function(){var e=v(this),t=e.index();e.data("off")||l.layBody.find("tr:eq("+t+")").removeClass(S)}).on("click","tr",function(){t.call(this,"row")}).on("dblclick","tr",function(){t.call(this,"rowDouble")});var t=function(e){var t=v(this);t.data("off")||layui.event.call(this,m,e+"("+u+")",s.call(t.children("td")[0]))};l.layBody.on("change","."+C,function(){var e=v(this),t=this.value,n=e.parent().data("field"),e=e.parents("tr").eq(0).data("index");x.cache[l.key][e][n]=t,layui.event.call(this,m,"edit("+u+")",s.call(this,{value:t,field:n}))}).on("blur","."+C,function(){var n,e=v(this),i=e.parent().data("field"),t=e.parents("tr").eq(0).data("index"),o=x.cache[l.key][t];l.eachCols(function(e,t){t.field==i&&t.templet&&(n=t.templet)}),e.siblings(a).html((t=this.value,g.call(l,{templet:n},t,o))),e.parent().data("content",this.value),e.remove()}),l.layBody.on("click","td",function(e){var t=v(this),n=(t.data("field"),t.data("edit")),i=t.children(a);!t.data("off")&&n&&((n=v('<input class="layui-input '+C+'">'))[0].value=t.data("content")||i.text(),t.find("."+C)[0]||t.append(n),n.focus(),layui.stope(e))}).on("mouseenter","td",function(){n.call(this)}).on("mouseleave","td",function(){n.call(this,"hide")});var d="layui-table-grid-down",n=function(e){var t=v(this),n=t.children(a);t.data("off")||(e?t.find(".layui-table-grid-down").remove():n.prop("scrollWidth")>n.outerWidth()&&(n.find("."+d)[0]||t.append('<div class="'+d+'"><i class="layui-icon layui-icon-down"></i></div>')))};l.layBody.on("click","."+d,function(e){var t=v(this).parent().children(a);l.tipsIndex=b.tips(['<div class="layui-table-tips-main" style="margin-top: -'+(t.height()+16)+"px;"+("sm"===c.size?"padding: 4px 15px; font-size: 12px;":"lg"===c.size?"padding: 14px 15px;":"")+'">',t.html(),"</div>",'<i class="layui-icon layui-table-tips-c layui-icon-close"></i>'].join(""),t[0],{tips:[3,""],time:-1,anim:-1,maxWidth:f.ios||f.android?300:l.elem.width()/2,isOutAnim:!1,skin:"layui-table-tips",success:function(e,t){e.find(".layui-table-tips-c").on("click",function(){b.close(t)})}}),layui.stope(e)}),l.layBody.on("click","*[lay-event]",function(){var e=v(this),t=e.parents("tr").eq(0).data("index");layui.event.call(this,m,"tool("+u+")",s.call(this,{event:e.attr("lay-event")})),l.setThisRowChecked(t)}),l.layMain.on("scroll",function(){var e=v(this),t=e.scrollLeft(),e=e.scrollTop();l.layHeader.scrollLeft(t),l.layTotal.scrollLeft(t),l.layFixed.find(k).scrollTop(e),b.close(l.tipsIndex)}),T.on("resize",function(){l.resize()})},_.on("click",function(){_.trigger("table.remove.tool.panel")}),_.on("table.remove.tool.panel",function(){v(".layui-table-tool-panel").remove()}),x.init=function(n,i){i=i||{};var e=v(n?'table[lay-filter="'+n+'"]':".layui-table[lay-data]"),o="Table element property lay-data configuration item has a syntax error: ";return e.each(function(){var e=v(this),t=e.attr("lay-data");try{t=new Function("return "+t)()}catch(e){h.error(o+t,"error")}var r=[],a=v.extend({elem:this,cols:[],data:[],skin:e.attr("lay-skin"),size:e.attr("lay-size"),even:"string"==typeof e.attr("lay-even")},x.config,i,t);n&&e.hide(),e.find("thead>tr").each(function(i){a.cols[i]=[],v(this).children().each(function(e){var t=v(this),n=t.attr("lay-data");try{n=new Function("return "+n)()}catch(e){return h.error(o+n)}n=v.extend({title:t.text(),colspan:t.attr("colspan")||0,rowspan:t.attr("rowspan")||0},n);n.colspan<2&&r.push(n),a.cols[i].push(n)})}),e.find("tbody>tr").each(function(e){var n=v(this),o={};n.children("td").each(function(e,t){var n=v(this),i=n.data("field");if(i)return o[i]=n.html()}),layui.each(r,function(e,t){e=n.children("td").eq(e);o[t.field]=e.html()}),a.data[e]=o}),x.render(a)}),this},d.that={},d.config={},x.eachCols=function(e,n,o){var e=d.config[e]||{},r=[],a=0;o=v.extend(!0,[],o||e.cols),layui.each(o,function(t,e){layui.each(e,function(e,n){var i;n.colGroup&&(i=0,a++,n.CHILD_COLS=[],layui.each(o[t+1],function(e,t){t.PARENT_COL_INDEX||1<i&&i==n.colspan||(t.PARENT_COL_INDEX=a,n.CHILD_COLS.push(t),i+=parseInt(1<t.colspan?t.colspan:1))})),n.PARENT_COL_INDEX||r.push(n)})});function i(e){layui.each(e||r,function(e,t){return t.CHILD_COLS?i(t.CHILD_COLS):void("function"==typeof n&&n(e,t))})}i()},x.checkStatus=function(e){var n=0,i=0,o=[],e=x.cache[e]||[];return layui.each(e,function(e,t){return"array"===layui._typeof(t)?void i++:void(t[x.config.checkName]&&(n++,o.push(x.clearCacheKey(t))))}),{data:o,isAll:!!e.length&&n===e.length-i}},x.getData=function(e){var n=[],e=x.cache[e]||[];return layui.each(e,function(e,t){"array"!==layui._typeof(t)&&n.push(x.clearCacheKey(t))}),n},x.exportFile=function(e,t,n){var i=this;t=t||x.clearCacheKey(x.cache[e]);var a,s,o,l=d.that[e],r=d.config[e]||{},c={csv:"text/csv",xls:"application/vnd.ms-excel"}[n=n||"csv"],u=document.createElement("a");return f.ie?h.error("IE_NOT_SUPPORT_EXPORTS"):(u.href="data:"+c+";charset=utf-8,\ufeff"+encodeURIComponent((a=[],s=[],o=[],layui.each(t,function(i,o){var r=[];"object"==typeof e?(layui.each(e,function(e,t){0==i&&a.push(t||"")}),layui.each(x.clearCacheKey(o),function(e,t){r.push('"'+(t||"")+'"')})):x.eachCols(e,function(e,t){var n;t.field&&"normal"==t.type&&!t.hide&&(null!=(n=o[t.field])||(n=""),0==i&&a.push(t.title||""),r.push('"'+g.call(l,t,n,o,"text")+'"'))}),s.push(r.join(","))}),layui.each(i.dataTotal,function(e,t){o.push(t)}),a.join(",")+"\r\n"+s.join("\r\n")+"\r\n"+o.join(","))),u.download=(r.title||"table_"+(r.index||""))+"."+n,document.body.appendChild(u),u.click(),void document.body.removeChild(u))},x.resize=function(e){e?i(e)&&d.that[e].resize():layui.each(d.that,function(){this.resize()})},x.reload=function(e,t,n){if(i(e)){e=d.that[e];return e.reload(t,n),d.call(e)}},x.render=function(e){e=new n(e);return d.call(e)},x.clearCacheKey=function(e){return delete(e=v.extend({},e))[x.config.checkName],delete e[x.config.indexName],e},v(function(){x.init()}),e(m,x)}),layui.define("jquery",function(e){function t(e){this.config=o.extend({},this.config,n.config,e),this.render()}var o=layui.$,n=(layui.hint(),layui.device(),{config:{},set:function(e){return this.config=o.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,s,e,t)}}),s="carousel",l="layui-this",c="layui-carousel-left",u="layui-carousel-right",d="layui-carousel-prev",p="layui-carousel-next",i="layui-carousel-arrow",r="layui-carousel-ind";t.prototype.config={width:"600px",height:"280px",full:!1,arrow:"hover",indicator:"inside",autoplay:!0,interval:3e3,anim:"",trigger:"click",index:0},t.prototype.render=function(){var e=this,t=e.config;t.elem=o(t.elem),t.elem[0]&&(e.elemItem=t.elem.find(">*[carousel-item]>*"),t.index<0&&(t.index=0),t.index>=e.elemItem.length&&(t.index=e.elemItem.length-1),t.interval<800&&(t.interval=800),t.full?t.elem.css({position:"fixed",width:"100%",height:"100%",zIndex:9999}):t.elem.css({width:t.width,height:t.height}),t.elem.attr("lay-anim",t.anim),e.elemItem.eq(t.index).addClass(l),e.elemItem.length<=1||(e.indicator(),e.arrow(),e.autoplay(),e.events()))},t.prototype.reload=function(e){clearInterval(this.timer),this.config=o.extend({},this.config,e),this.render()},t.prototype.prevIndex=function(){var e=this.config.index-1;return e=e<0?this.elemItem.length-1:e},t.prototype.nextIndex=function(){var e=this.config.index+1;return e=e>=this.elemItem.length?0:e},t.prototype.addIndex=function(e){var t=this.config;t.index=t.index+(e=e||1),t.index>=this.elemItem.length&&(t.index=0)},t.prototype.subIndex=function(e){var t=this.config;t.index=t.index-(e=e||1),t.index<0&&(t.index=this.elemItem.length-1)},t.prototype.autoplay=function(){var e=this,t=e.config;t.autoplay&&(clearInterval(e.timer),e.timer=setInterval(function(){e.slide()},t.interval))},t.prototype.arrow=function(){var t=this,e=t.config,n=o(['<button class="layui-icon '+i+'" lay-type="sub">'+("updown"===e.anim?"&#xe619;":"&#xe603;")+"</button>",'<button class="layui-icon '+i+'" lay-type="add">'+("updown"===e.anim?"&#xe61a;":"&#xe602;")+"</button>"].join(""));e.elem.attr("lay-arrow",e.arrow),e.elem.find("."+i)[0]&&e.elem.find("."+i).remove(),e.elem.append(n),n.on("click",function(){var e=o(this).attr("lay-type");t.slide(e)})},t.prototype.indicator=function(){var t,n=this,i=n.config,e=n.elemInd=o(['<div class="'+r+'"><ul>',(t=[],layui.each(n.elemItem,function(e){t.push("<li"+(i.index===e?' class="layui-this"':"")+"></li>")}),t.join("")),"</ul></div>"].join(""));i.elem.attr("lay-indicator",i.indicator),i.elem.find("."+r)[0]&&i.elem.find("."+r).remove(),i.elem.append(e),"updown"===i.anim&&e.css("margin-top",-e.height()/2),e.find("li").on("hover"===i.trigger?"mouseover":i.trigger,function(){var e=o(this).index();e>i.index?n.slide("add",e-i.index):e<i.index&&n.slide("sub",i.index-e)})},t.prototype.slide=function(e,t){var n=this,i=n.elemItem,o=n.config,r=o.index,a=o.elem.attr("lay-filter");n.haveSlide||("sub"===e?(n.subIndex(t),i.eq(o.index).addClass(d),setTimeout(function(){i.eq(r).addClass(u),i.eq(o.index).addClass(u)},50)):(n.addIndex(t),i.eq(o.index).addClass(p),setTimeout(function(){i.eq(r).addClass(c),i.eq(o.index).addClass(c)},50)),setTimeout(function(){i.removeClass(l+" "+d+" "+p+" "+c+" "+u),i.eq(o.index).addClass(l),n.haveSlide=!1},300),n.elemInd.find("li").eq(o.index).addClass(l).siblings().removeClass(l),n.haveSlide=!0,layui.event.call(this,s,"change("+a+")",{index:o.index,prevIndex:r,item:i.eq(o.index)}))},t.prototype.events=function(){var e=this,t=e.config;t.elem.data("haveEvents")||(t.elem.on("mouseenter",function(){clearInterval(e.timer)}).on("mouseleave",function(){e.autoplay()}),t.elem.data("haveEvents",!0))},n.render=function(e){return new t(e)},e(s,n)}),layui.define("jquery",function(e){function t(e){this.index=++n.index,this.config=s.extend({},this.config,n.config,e),this.render()}var s=layui.jquery,n={config:{},index:layui.rate?layui.rate.index+1e4:0,set:function(e){return this.config=s.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,i,e,t)}},i="rate",l="layui-icon-rate",c="layui-icon-rate-solid",a="layui-icon-rate-half",u="layui-icon-rate-solid layui-icon-rate-half",d="layui-icon-rate layui-icon-rate-half";t.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},t.prototype.render=function(){var e=this.config,t=e.theme?'style="color: '+e.theme+';"':"";e.elem=s(e.elem),e.value>e.length&&(e.value=e.length),parseInt(e.value)!==e.value&&(e.half||(e.value=Math.ceil(e.value)-e.value<.5?Math.ceil(e.value):Math.floor(e.value)));for(var n='<ul class="layui-rate" '+(e.readonly?"readonly":"")+">",i=1;i<=e.length;i++){var o='<li class="layui-inline"><i class="layui-icon '+(i>Math.floor(e.value)?l:c)+'" '+t+"></i></li>";e.half&&parseInt(e.value)!==e.value&&i==Math.ceil(e.value)?n=n+'<li><i class="layui-icon layui-icon-rate-half" '+t+"></i></li>":n+=o}n+="</ul>"+(e.text?'<span class="layui-inline">'+e.value+"星":"")+"</span>";var r=e.elem,a=r.next(".layui-rate");a[0]&&a.remove(),this.elemTemp=s(n),e.span=this.elemTemp.next("span"),e.setText&&e.setText(e.value),r.html(this.elemTemp),r.addClass("layui-inline"),e.readonly||this.action()},t.prototype.setvalue=function(e){this.config.value=e,this.render()},t.prototype.action=function(){var i=this.config,o=this.elemTemp,r=o.find("i").width();o.children("li").each(function(e){var t=e+1,n=s(this);n.on("click",function(e){i.value=t,!i.half||e.pageX-s(this).offset().left<=r/2&&(i.value=i.value-.5),i.text&&o.next("span").text(i.value+"星"),i.choose&&i.choose(i.value),i.setText&&i.setText(i.value)}),n.on("mousemove",function(e){o.find("i").each(function(){s(this).addClass(l).removeClass(u)}),o.find("i:lt("+t+")").each(function(){s(this).addClass(c).removeClass(d)}),!i.half||e.pageX-s(this).offset().left<=r/2&&n.children("i").addClass(a).removeClass(c)}),n.on("mouseleave",function(){o.find("i").each(function(){s(this).addClass(l).removeClass(u)}),o.find("i:lt("+Math.floor(i.value)+")").each(function(){s(this).addClass(c).removeClass(d)}),i.half&&parseInt(i.value)!==i.value&&o.children("li:eq("+Math.floor(i.value)+")").children("i").addClass(a).removeClass("layui-icon-rate-solid layui-icon-rate")})})},t.prototype.events=function(){this.config},n.render=function(e){e=new t(e);return function(){var t=this;return{setvalue:function(e){t.setvalue.call(t,e)},config:t.config}}.call(e)},e(i,n)}),layui.define("jquery",function(e){function t(e){}var g=layui.$;t.prototype.load=function(e){var i,o,r,t=0,a=g((e=e||{}).elem);if(a[0]){var n=g(e.scrollElem||document),s=e.mb||50,l=!("isAuto"in e)||e.isAuto,c=e.end||"没有更多了",u=e.scrollElem&&e.scrollElem!==document,d="<cite>加载更多</cite>",p=g('<div class="layui-flow-more"><a href="javascript:;">'+d+"</a></div>");a.find(".layui-flow-more")[0]||a.append(p);var h,f=function(e,t){e=g(e),p.before(e),(t=0==t||null)?p.html(c):p.find("a").html(d),o=t,i=null,h&&h()},m=function(){i=!0,p.find("a").html('<i class="layui-anim layui-anim-rotate layui-anim-loop layui-icon ">&#xe63e;</i>'),"function"==typeof e.done&&e.done(++t,f)};return m(),p.find("a").on("click",function(){g(this),o||i||m()}),e.isLazyimg&&(h=this.lazyimg({elem:e.elem+" img",scrollElem:e.scrollElem})),l&&n.on("scroll",function(){var t=g(this),n=t.scrollTop();r&&clearTimeout(r),!o&&a.width()&&(r=setTimeout(function(){var e=(u?t:g(window)).height();(u?t.prop("scrollHeight"):document.documentElement.scrollHeight)-n-e<=s&&(i||m())},100))}),this}},t.prototype.lazyimg=function(e){var t,n,l=this,c=0,u=g((e=e||{}).scrollElem||document),d=e.elem||"img",p=e.scrollElem&&e.scrollElem!==document,h=function(t,e){var n,i=u.scrollTop(),o=i+e,e=p?t.offset().top-u.offset().top+i:t.offset().top;i<=e&&e<=o&&t.attr("lay-src")&&(n=t.attr("lay-src"),layui.img(n,function(){var e=l.lazyimg.elem.eq(c);t.attr("src",n).removeAttr("lay-src"),e[0]&&r(e),c++},function(){l.lazyimg.elem.eq(c),t.removeAttr("lay-src")}))},r=function(e,t){var n=(p?t||u:g(window)).height(),i=u.scrollTop(),o=i+n;if(l.lazyimg.elem=g(d),e)h(e,n);else for(var r=0;r<l.lazyimg.elem.length;r++){var a=l.lazyimg.elem.eq(r),s=p?a.offset().top-u.offset().top+i:a.offset().top;if(h(a,n),c=r,o<s)break}};return r(),t||(u.on("scroll",function(){var e=g(this);n&&clearTimeout(n),n=setTimeout(function(){r(null,e)},50)}),t=!0),r},e("flow",new t)}),layui.define(["layer","form"],function(e){function t(){this.index=0,this.config={tool:["strong","italic","underline","del","|","left","center","right","|","link","unlink","face","image"],hideTool:[],height:280}}var u=layui.$,d=layui.layer,o=layui.form,c=(layui.hint(),layui.device()),p="layui-disabled";t.prototype.set=function(e){return u.extend(!0,this.config,e),this},t.prototype.on=function(e,t){return layui.onevent("layedit",e,t)},t.prototype.build=function(e,t){t=t||{};var n,i,o=this.config,r="layui-layedit",a=u("string"==typeof e?"#"+e:e),s="LAY_layedit_"+ ++this.index,l=a.next("."+r),o=u.extend({},o,t),t=(n=[],i={},layui.each(o.hideTool,function(e,t){i[t]=!0}),layui.each(o.tool,function(e,t){E[t]&&!i[t]&&n.push(E[t])}),n.join("")),e=u(['<div class="'+r+'">','<div class="layui-unselect layui-layedit-tool">'+t+"</div>",'<div class="layui-layedit-iframe">','<iframe id="'+s+'" name="'+s+'" textarea="'+e+'" frameborder="0"></iframe>',"</div>","</div>"].join(""));return c.ie&&c.ie<8?a.removeClass("layui-hide").addClass("layui-show"):(l[0]&&l.remove(),m.call(this,e,a[0],o),a.addClass("layui-hide").after(e),this.index)},t.prototype.getContent=function(e){e=r(e);if(e[0])return n(e[0].document.body.innerHTML)},t.prototype.getText=function(e){e=r(e);if(e[0])return u(e[0].document.body).text()},t.prototype.setContent=function(e,t,n){var i=r(e);i[0]&&(n?u(i[0].document.body).append(t):u(i[0].document.body).html(t),layedit.sync(e))},t.prototype.sync=function(e){e=r(e);e[0]&&u("#"+e[1].attr("textarea")).val(n(e[0].document.body.innerHTML))},t.prototype.getSelection=function(e){e=r(e);if(e[0]){e=v(e[0].document);return document.selection?e.text:e.toString()}};function h(e,t,n){var i,o,r=this.document,a=document.createElement(e);for(i in t)a.setAttribute(i,t[i]);a.removeAttribute("text"),r.selection?(o=n.text||t.text,"a"===e&&!o||(o&&(a.innerHTML=o),n.pasteHTML(u(a).prop("outerHTML")),n.select())):(o=n.toString()||t.text,"a"===e&&!o||(o&&(a.innerHTML=o),n.deleteContents(),n.insertNode(a)))}function f(t,e){function n(e){return t.find(".layedit-tool-"+e)}var i=this.document,o="layedit-tool-active",i=y(v(i));e&&e[e.hasClass(o)?"removeClass":"addClass"](o),t.find(">i").removeClass(o),n("unlink").addClass(p),u(i).parents().each(function(){var e=this.tagName.toLowerCase(),t=this.style.textAlign;"b"!==e&&"strong"!==e||n("b").addClass(o),"i"!==e&&"em"!==e||n("i").addClass(o),"u"===e&&n("u").addClass(o),"strike"===e&&n("d").addClass(o),"p"===e&&n("center"===t?"center":"right"===t?"right":"left").addClass(o),"a"===e&&(n("link").addClass(o),n("unlink").removeClass(p))})}var m=function(o,r,a){var s=this,l=o.find("iframe");l.css({height:a.height}).on("load",function(){var e=l.contents(),t=l.prop("contentWindow"),n=e.find("head"),i=u(["<style>","*{margin: 0; padding: 0;}","body{padding: 10px; line-height: 20px; overflow-x: hidden; word-wrap: break-word; font: 14px Helvetica Neue,Helvetica,PingFang SC,Microsoft YaHei,Tahoma,Arial,sans-serif; -webkit-box-sizing: border-box !important; -moz-box-sizing: border-box !important; box-sizing: border-box !important;}","a{color:#01AAED; text-decoration:none;}a:hover{color:#c00}","p{margin-bottom: 10px;}","img{display: inline-block; border: none; vertical-align: middle;}","pre{margin: 10px 0; padding: 10px; line-height: 20px; border: 1px solid #ddd; border-left-width: 6px; background-color: #F2F2F2; color: #333; font-family: Courier New; font-size: 12px;}","</style>"].join("")),e=e.find("body");n.append(i),e.attr("contenteditable","true").css({"min-height":a.height}).html(r.value||""),g.apply(s,[t,l,r,a]),b.call(s,t,o,a)})},r=function(e){e=u("#LAY_layedit_"+e);return[e.prop("contentWindow"),e]},n=function(e){return e=8==c.ie?e.replace(/<.+>/g,function(e){return e.toLowerCase()}):e},g=function(t,e,n,i){var o=t.document,r=u(o.body);r.on("keydown",function(e){if(13===e.keyCode){var t=v(o);if("pre"===y(t).parentNode.tagName.toLowerCase())return e.shiftKey?void 0:(d.msg("请暂时用shift+enter"),!1);o.execCommand("formatBlock",!1,"<p>")}}),u(n).parents("form").on("submit",function(){var e=r.html();8==c.ie&&(e=e.replace(/<.+>/g,function(e){return e.toLowerCase()})),n.value=e}),r.on("paste",function(e){o.execCommand("formatBlock",!1,"<p>"),setTimeout(function(){a.call(t,r),n.value=r.html()},100)})},a=function(e){this.document,e.find("*[style]").each(function(){var e=this.style.textAlign;this.removeAttribute("style"),u(this).css({"text-align":e||""})}),e.find("table").addClass("layui-table"),e.find("script,link").remove()},v=function(e){return e.selection?e.selection.createRange():e.getSelection().getRangeAt(0)},y=function(e){return e.endContainer||e.parentElement().childNodes[0]},b=function(o,e,r){function t(){var e,t=u(this),n=t.attr("layedit-event"),i=t.attr("lay-command");t.hasClass(p)||(s.focus(),(e=v(a)).commonAncestorContainer,i?(a.execCommand(i),/justifyLeft|justifyCenter|justifyRight/.test(i)&&a.execCommand("formatBlock",!1,"<p>"),setTimeout(function(){s.focus()},10)):l[n]&&l[n].call(this,e),f.call(o,c,t))}var a=o.document,s=u(a.body),l={link:function(n){var e=y(n),i=u(e).parent();x.call(s,{href:i.attr("href"),target:i.attr("target")},function(e){var t=i[0];"A"===t.tagName?t.href=e.url:h.call(o,"a",{target:e.target,href:e.url,text:e.url},n)})},unlink:function(e){a.execCommand("unlink")},face:function(t){w.call(this,function(e){h.call(o,"img",{src:e.src,alt:e.alt},t)})},image:function(n){var i=this;layui.use("upload",function(e){var t=r.uploadImage||{};e.render({url:t.url,method:t.type,elem:u(i).find("input")[0],done:function(e){0==e.code?(e.data=e.data||{},h.call(o,"img",{src:e.data.src,alt:e.data.title},n)):d.msg(e.msg||"上传失败")}})})},code:function(t){k.call(s,function(e){h.call(o,"pre",{text:e.code,"lay-lang":e.lang},t)})},help:function(){d.open({type:2,title:"帮助",area:["600px","380px"],shadeClose:!0,shade:.1,skin:"layui-layer-msg",content:["","no"]})}},c=e.find(".layui-layedit-tool"),n=/image/;c.find(">i").on("mousedown",function(){var e=u(this).attr("layedit-event");n.test(e)||t.call(this)}).on("click",function(){var e=u(this).attr("layedit-event");n.test(e)&&t.call(this)}),s.on("click",function(){f.call(o,c),d.close(w.index)})},x=function(e,n){var i=this,e=d.open({type:1,id:"LAY_layedit_link",area:"350px",shade:.05,shadeClose:!0,moveType:1,title:"超链接",skin:"layui-layer-msg",content:['<ul class="layui-form" style="margin: 15px;">','<li class="layui-form-item">','<label class="layui-form-label" style="width: 60px;">URL</label>','<div class="layui-input-block" style="margin-left: 90px">','<input name="url" lay-verify="url" value="'+(e.href||"")+'" autofocus="true" autocomplete="off" class="layui-input">',"</div>","</li>",'<li class="layui-form-item">','<label class="layui-form-label" style="width: 60px;">打开方式</label>','<div class="layui-input-block" style="margin-left: 90px">','<input type="radio" name="target" value="_self" class="layui-input" title="当前窗口"'+("_self"!==e.target&&e.target?"":"checked")+">",'<input type="radio" name="target" value="_blank" class="layui-input" title="新窗口" '+("_blank"===e.target?"checked":"")+">","</div>","</li>",'<li class="layui-form-item" style="text-align: center;">','<button type="button" lay-submit lay-filter="layedit-link-yes" class="layui-btn"> 确定 </button>','<button style="margin-left: 20px;" type="button" class="layui-btn layui-btn-primary"> 取消 </button>',"</li>","</ul>"].join(""),success:function(e,t){o.render("radio"),e.find(".layui-btn-primary").on("click",function(){d.close(t),i.focus()}),o.on("submit(layedit-link-yes)",function(e){d.close(x.index),n&&n(e.field)})}});x.index=e},w=function(n){var i,o,r=(i={},layui.each(["[微笑]","[嘻嘻]","[哈哈]","[可爱]","[可怜]","[挖鼻]","[吃惊]","[害羞]","[挤眼]","[闭嘴]","[鄙视]","[爱你]","[泪]","[偷笑]","[亲亲]","[生病]","[太开心]","[白眼]","[右哼哼]","[左哼哼]","[嘘]","[衰]","[委屈]","[吐]","[哈欠]","[抱抱]","[怒]","[疑问]","[馋嘴]","[拜拜]","[思考]","[汗]","[困]","[睡]","[钱]","[失望]","[酷]","[色]","[哼]","[鼓掌]","[晕]","[悲伤]","[抓狂]","[黑线]","[阴险]","[怒骂]","[互粉]","[心]","[伤心]","[猪头]","[熊猫]","[兔子]","[ok]","[耶]","[good]","[NO]","[赞]","[来]","[弱]","[草泥马]","[神马]","[囧]","[浮云]","[给力]","[围观]","[威武]","[奥特曼]","[礼物]","[钟]","[话筒]","[蜡烛]","[蛋糕]"],function(e,t){i[t]=layui.cache.dir+"images/face/"+e+".gif"}),i);return w.hide=w.hide||function(e){"face"!==u(e.target).attr("layedit-event")&&d.close(w.index)},w.index=d.tips((o=[],layui.each(r,function(e,t){o.push('<li title="'+e+'"><img src="'+t+'" alt="'+e+'"></li>')}),'<ul class="layui-clear">'+o.join("")+"</ul>"),this,{tips:1,time:0,skin:"layui-box layui-util-face",maxWidth:500,success:function(e,t){e.css({marginTop:-4,marginLeft:-10}).find(".layui-clear>li").on("click",function(){n&&n({src:r[this.title],alt:this.title}),d.close(t)}),u(document).off("click",w.hide).on("click",w.hide)}})},k=function(n){var i=this,e=d.open({type:1,id:"LAY_layedit_code",area:"550px",shade:.05,shadeClose:!0,moveType:1,title:"插入代码",skin:"layui-layer-msg",content:['<ul class="layui-form layui-form-pane" style="margin: 15px;">','<li class="layui-form-item">','<label class="layui-form-label">请选择语言</label>','<div class="layui-input-block">','<select name="lang">','<option value="JavaScript">JavaScript</option>','<option value="HTML">HTML</option>','<option value="CSS">CSS</option>','<option value="Java">Java</option>','<option value="PHP">PHP</option>','<option value="C#">C#</option>','<option value="Python">Python</option>','<option value="Ruby">Ruby</option>','<option value="Go">Go</option>',"</select>","</div>","</li>",'<li class="layui-form-item layui-form-text">','<label class="layui-form-label">代码</label>','<div class="layui-input-block">','<textarea name="code" lay-verify="required" autofocus="true" class="layui-textarea" style="height: 200px;"></textarea>',"</div>","</li>",'<li class="layui-form-item" style="text-align: center;">','<button type="button" lay-submit lay-filter="layedit-code-yes" class="layui-btn"> 确定 </button>','<button style="margin-left: 20px;" type="button" class="layui-btn layui-btn-primary"> 取消 </button>',"</li>","</ul>"].join(""),success:function(e,t){o.render("select"),e.find(".layui-btn-primary").on("click",function(){d.close(t),i.focus()}),o.on("submit(layedit-code-yes)",function(e){d.close(k.index),n&&n(e.field)})}});k.index=e},E={html:'<i class="layui-icon layedit-tool-html" title="HTML源代码" lay-command="html" layedit-event="html"">&#xe64b;</i><span class="layedit-tool-mid"></span>',strong:'<i class="layui-icon layedit-tool-b" title="加粗" lay-command="Bold" layedit-event="b"">&#xe62b;</i>',italic:'<i class="layui-icon layedit-tool-i" title="斜体" lay-command="italic" layedit-event="i"">&#xe644;</i>',underline:'<i class="layui-icon layedit-tool-u" title="下划线" lay-command="underline" layedit-event="u"">&#xe646;</i>',del:'<i class="layui-icon layedit-tool-d" title="删除线" lay-command="strikeThrough" layedit-event="d"">&#xe64f;</i>',"|":'<span class="layedit-tool-mid"></span>',left:'<i class="layui-icon layedit-tool-left" title="左对齐" lay-command="justifyLeft" layedit-event="left"">&#xe649;</i>',center:'<i class="layui-icon layedit-tool-center" title="居中对齐" lay-command="justifyCenter" layedit-event="center"">&#xe647;</i>',right:'<i class="layui-icon layedit-tool-right" title="右对齐" lay-command="justifyRight" layedit-event="right"">&#xe648;</i>',link:'<i class="layui-icon layedit-tool-link" title="插入链接" layedit-event="link"">&#xe64c;</i>',unlink:'<i class="layui-icon layedit-tool-unlink layui-disabled" title="清除链接" lay-command="unlink" layedit-event="unlink"">&#xe64d;</i>',face:'<i class="layui-icon layedit-tool-face" title="表情" layedit-event="face"">&#xe650;</i>',image:'<i class="layui-icon layedit-tool-image" title="图片" layedit-event="image">&#xe64a;<input type="file" name="file"></i>',code:'<i class="layui-icon layedit-tool-code" title="插入代码" layedit-event="code">&#xe64e;</i>',help:'<i class="layui-icon layedit-tool-help" title="帮助" layedit-event="help">&#xe607;</i>'};e("layedit",new t)}),layui.define("jquery",function(e){var o=layui.$;e("code",function(i){var e=[];(i=i||{}).elem=o(i.elem||".layui-code"),i.lang="lang"in i?i.lang:"code",i.elem.each(function(){e.push(this)}),layui.each(e.reverse(),function(e,t){var n=o(t),t=n.html();(n.attr("lay-encode")||i.encode)&&(t=t.replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")),n.html('<ol class="layui-code-ol"><li>'+t.replace(/[\r\t\n]+/g,"</li><li>")+"</li></ol>"),n.find(">.layui-code-h3")[0]||n.prepend('<h3 class="layui-code-h3">'+(n.attr("lay-title")||i.title||"&lt;/&gt;")+'<a href="javascript:;">'+(n.attr("lay-lang")||i.lang||"")+"</a></h3>");t=n.find(">.layui-code-ol");n.addClass("layui-box layui-code-view"),(n.attr("lay-skin")||i.skin)&&n.addClass("layui-code-"+(n.attr("lay-skin")||i.skin)),0<(t.find("li").length/100|0)&&t.css("margin-left",(t.find("li").length/100|0)+"px"),(n.attr("lay-height")||i.height)&&t.css("max-height",n.attr("lay-height")||i.height)})})}).addcss("modules/code.css?v=2","skincodecss")},{}],626:[function(e,t,n){e=e("./_getNative")(e("./_root"),"DataView");t.exports=e},{"./_getNative":725,"./_root":772}],627:[function(e,t,n){var i=e("./_hashClear"),o=e("./_hashDelete"),r=e("./_hashGet"),a=e("./_hashHas"),e=e("./_hashSet");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=o,s.prototype.get=r,s.prototype.has=a,s.prototype.set=e,t.exports=s},{"./_hashClear":733,"./_hashDelete":734,"./_hashGet":735,"./_hashHas":736,"./_hashSet":737}],628:[function(e,t,n){var i=e("./_baseCreate"),e=e("./_baseLodash");function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=i(e.prototype),t.exports=o.prototype.constructor=o},{"./_baseCreate":654,"./_baseLodash":676}],629:[function(e,t,n){var i=e("./_listCacheClear"),o=e("./_listCacheDelete"),r=e("./_listCacheGet"),a=e("./_listCacheHas"),e=e("./_listCacheSet");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=o,s.prototype.get=r,s.prototype.has=a,s.prototype.set=e,t.exports=s},{"./_listCacheClear":748,"./_listCacheDelete":749,"./_listCacheGet":750,"./_listCacheHas":751,"./_listCacheSet":752}],630:[function(e,t,n){var i=e("./_baseCreate"),e=e("./_baseLodash");function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=i(e.prototype),t.exports=o.prototype.constructor=o},{"./_baseCreate":654,"./_baseLodash":676}],631:[function(e,t,n){e=e("./_getNative")(e("./_root"),"Map");t.exports=e},{"./_getNative":725,"./_root":772}],632:[function(e,t,n){var i=e("./_mapCacheClear"),o=e("./_mapCacheDelete"),r=e("./_mapCacheGet"),a=e("./_mapCacheHas"),e=e("./_mapCacheSet");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=o,s.prototype.get=r,s.prototype.has=a,s.prototype.set=e,t.exports=s},{"./_mapCacheClear":753,"./_mapCacheDelete":754,"./_mapCacheGet":755,"./_mapCacheHas":756,"./_mapCacheSet":757}],633:[function(e,t,n){e=e("./_getNative")(e("./_root"),"Promise");t.exports=e},{"./_getNative":725,"./_root":772}],634:[function(e,t,n){e=e("./_getNative")(e("./_root"),"Set");t.exports=e},{"./_getNative":725,"./_root":772}],635:[function(e,t,n){var i=e("./_MapCache"),o=e("./_setCacheAdd"),e=e("./_setCacheHas");function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}r.prototype.add=r.prototype.push=o,r.prototype.has=e,t.exports=r},{"./_MapCache":632,"./_setCacheAdd":773,"./_setCacheHas":774}],636:[function(e,t,n){var i=e("./_ListCache"),o=e("./_stackClear"),r=e("./_stackDelete"),a=e("./_stackGet"),s=e("./_stackHas"),e=e("./_stackSet");function l(e){e=this.__data__=new i(e);this.size=e.size}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=e,t.exports=l},{"./_ListCache":629,"./_stackClear":780,"./_stackDelete":781,"./_stackGet":782,"./_stackHas":783,"./_stackSet":784}],637:[function(e,t,n){e=e("./_root").Symbol;t.exports=e},{"./_root":772}],638:[function(e,t,n){e=e("./_root").Uint8Array;t.exports=e},{"./_root":772}],639:[function(e,t,n){e=e("./_getNative")(e("./_root"),"WeakMap");t.exports=e},{"./_getNative":725,"./_root":772}],640:[function(e,t,n){t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},{}],641:[function(e,t,n){t.exports=function(e,t,n,i){for(var o=-1,r=null==e?0:e.length;++o<r;){var a=e[o];t(i,a,n(a),e)}return i}},{}],642:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},{}],643:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[o++]=a)}return r}},{}],644:[function(e,t,n){var i=e("./_baseIndexOf");t.exports=function(e,t){return!!(null==e?0:e.length)&&-1<i(e,t,0)}},{"./_baseIndexOf":666}],645:[function(e,t,n){t.exports=function(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}},{}],646:[function(e,t,n){var u=e("./_baseTimes"),d=e("./isArguments"),p=e("./isArray"),h=e("./isBuffer"),f=e("./_isIndex"),m=e("./isTypedArray"),g=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n,i=p(e),o=!i&&d(e),r=!i&&!o&&h(e),a=!i&&!o&&!r&&m(e),s=i||o||r||a,l=s?u(e.length,String):[],c=l.length;for(n in e)!t&&!g.call(e,n)||s&&("length"==n||r&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||f(n,c))||l.push(n);return l}},{"./_baseTimes":685,"./_isIndex":740,"./isArguments":805,"./isArray":806,"./isBuffer":809,"./isTypedArray":816}],647:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},{}],648:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}},{}],649:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},{}],650:[function(e,t,n){var o=e("./_baseAssignValue"),r=e("./eq"),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var i=e[t];a.call(e,t)&&r(i,n)&&(void 0!==n||t in e)||o(e,t,n)}},{"./_baseAssignValue":653,"./eq":796}],651:[function(e,t,n){var i=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},{"./eq":796}],652:[function(e,t,n){var a=e("./_baseEach");t.exports=function(e,i,o,r){return a(e,function(e,t,n){i(r,e,o(e),n)}),r}},{"./_baseEach":656}],653:[function(e,t,n){var i=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":714}],654:[function(e,t,n){var i=e("./isObject"),o=Object.create;function r(){}t.exports=function(e){if(!i(e))return{};if(o)return o(e);r.prototype=e;e=new r;return r.prototype=void 0,e}},{"./isObject":813}],655:[function(e,t,n){var h=e("./_SetCache"),f=e("./_arrayIncludes"),m=e("./_arrayIncludesWith"),g=e("./_arrayMap"),v=e("./_baseUnary"),y=e("./_cacheHas");t.exports=function(e,t,n,i){var o=-1,r=f,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=g(t,v(n))),i?(r=m,a=!1):200<=t.length&&(r=y,a=!1,t=new h(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u),u=i||0!==u?u:0;if(a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else r(t,d,i)||l.push(u)}return l}},{"./_SetCache":635,"./_arrayIncludes":644,"./_arrayIncludesWith":645,"./_arrayMap":647,"./_baseUnary":688,"./_cacheHas":692}],656:[function(e,t,n){var i=e("./_baseForOwn"),i=e("./_createBaseEach")(i);t.exports=i},{"./_baseForOwn":661,"./_createBaseEach":703}],657:[function(e,t,n){var r=e("./_baseEach");t.exports=function(e,i){var o=[];return r(e,function(e,t,n){i(e,t,n)&&o.push(e)}),o}},{"./_baseEach":656}],658:[function(e,t,n){t.exports=function(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}},{}],659:[function(e,t,n){var c=e("./_arrayPush"),u=e("./_isFlattenable");t.exports=function e(t,n,i,o,r){var a=-1,s=t.length;for(i=i||u,r=r||[];++a<s;){var l=t[a];0<n&&i(l)?1<n?e(l,n-1,i,o,r):c(r,l):o||(r[r.length]=l)}return r}},{"./_arrayPush":648,"./_isFlattenable":739}],660:[function(e,t,n){e=e("./_createBaseFor")();t.exports=e},{"./_createBaseFor":704}],661:[function(e,t,n){var i=e("./_baseFor"),o=e("./keys");t.exports=function(e,t){return e&&i(e,t,o)}},{"./_baseFor":660,"./keys":818}],662:[function(e,t,n){var o=e("./_castPath"),r=e("./_toKey");t.exports=function(e,t){for(var n=0,i=(t=o(t,e)).length;null!=e&&n<i;)e=e[r(t[n++])];return n&&n==i?e:void 0}},{"./_castPath":694,"./_toKey":787}],663:[function(e,t,n){var i=e("./_arrayPush"),o=e("./isArray");t.exports=function(e,t,n){return t=t(e),o(e)?t:i(t,n(e))}},{"./_arrayPush":648,"./isArray":806}],664:[function(e,t,n){var i=e("./_Symbol"),o=e("./_getRawTag"),r=e("./_objectToString"),a=i?i.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(a&&a in Object(e)?o:r)(e)}},{"./_Symbol":637,"./_getRawTag":727,"./_objectToString":766}],665:[function(e,t,n){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],666:[function(e,t,n){var i=e("./_baseFindIndex"),o=e("./_baseIsNaN"),r=e("./_strictIndexOf");t.exports=function(e,t,n){return t==t?r(e,t,n):i(e,o,n)}},{"./_baseFindIndex":658,"./_baseIsNaN":671,"./_strictIndexOf":785}],667:[function(e,t,n){var i=e("./_baseGetTag"),o=e("./isObjectLike");t.exports=function(e){return o(e)&&"[object Arguments]"==i(e)}},{"./_baseGetTag":664,"./isObjectLike":814}],668:[function(e,t,n){var a=e("./_baseIsEqualDeep"),s=e("./isObjectLike");t.exports=function e(t,n,i,o,r){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:a(t,n,i,o,e,r))}},{"./_baseIsEqualDeep":669,"./isObjectLike":814}],669:[function(e,t,n){var d=e("./_Stack"),p=e("./_equalArrays"),h=e("./_equalByTag"),f=e("./_equalObjects"),m=e("./_getTag"),g=e("./isArray"),v=e("./isBuffer"),y=e("./isTypedArray"),b="[object Arguments]",x="[object Array]",w="[object Object]",k=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,i,o,r){var a=g(e),s=g(t),l=a?x:m(e),c=s?x:m(t),u=(l=l==b?w:l)==w,s=(c=c==b?w:c)==w;if((c=l==c)&&v(e)){if(!v(t))return!1;u=!(a=!0)}if(c&&!u)return r=r||new d,a||y(e)?p(e,t,n,i,o,r):h(e,t,l,n,i,o,r);if(!(1&n)){u=u&&k.call(e,"__wrapped__"),s=s&&k.call(t,"__wrapped__");if(u||s)return o(u?e.value():e,s?t.value():t,n,i,r=r||new d)}return!!c&&(r=r||new d,f(e,t,n,i,o,r))}},{"./_Stack":636,"./_equalArrays":715,"./_equalByTag":716,"./_equalObjects":717,"./_getTag":729,"./isArray":806,"./isBuffer":809,"./isTypedArray":816}],670:[function(e,t,n){var h=e("./_Stack"),f=e("./_baseIsEqual");t.exports=function(e,t,n,i){var o=n.length,r=o,a=!i;if(null==e)return!r;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<r;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d,p=new h;if(!(void 0===(d=i?i(c,u,l,e,t,p):d)?f(u,c,3,i,p):d))return!1}}return!0}},{"./_Stack":636,"./_baseIsEqual":668}],671:[function(e,t,n){t.exports=function(e){return e!=e}},{}],672:[function(e,t,n){var i=e("./isFunction"),o=e("./_isMasked"),r=e("./isObject"),a=e("./_toSource"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,e=Object.prototype,l=l.toString,e=e.hasOwnProperty,c=RegExp("^"+l.call(e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!r(e)||o(e))&&(i(e)?c:s).test(a(e))}},{"./_isMasked":745,"./_toSource":788,"./isFunction":811,"./isObject":813}],673:[function(e,t,n){var i=e("./_baseGetTag"),o=e("./isLength"),r=e("./isObjectLike"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(e){return r(e)&&o(e.length)&&!!a[i(e)]}},{"./_baseGetTag":664,"./isLength":812,"./isObjectLike":814}],674:[function(e,t,n){var i=e("./_baseMatches"),o=e("./_baseMatchesProperty"),r=e("./identity"),a=e("./isArray"),s=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?a(e)?o(e[0],e[1]):i(e):s(e)}},{"./_baseMatches":678,"./_baseMatchesProperty":679,"./identity":804,"./isArray":806,"./property":823}],675:[function(e,t,n){var i=e("./_isPrototype"),o=e("./_nativeKeys"),r=Object.prototype.hasOwnProperty;t.exports=function(e){if(!i(e))return o(e);var t,n=[];for(t in Object(e))r.call(e,t)&&"constructor"!=t&&n.push(t);return n}},{"./_isPrototype":746,"./_nativeKeys":764}],676:[function(e,t,n){t.exports=function(){}},{}],677:[function(e,t,n){var a=e("./_baseEach"),s=e("./isArrayLike");t.exports=function(e,i){var o=-1,r=s(e)?Array(e.length):[];return a(e,function(e,t,n){r[++o]=i(e,t,n)}),r}},{"./_baseEach":656,"./isArrayLike":807}],678:[function(e,t,n){var i=e("./_baseIsMatch"),o=e("./_getMatchData"),r=e("./_matchesStrictComparable");t.exports=function(t){var n=o(t);return 1==n.length&&n[0][2]?r(n[0][0],n[0][1]):function(e){return e===t||i(e,t,n)}}},{"./_baseIsMatch":670,"./_getMatchData":724,"./_matchesStrictComparable":759}],679:[function(e,t,n){var o=e("./_baseIsEqual"),r=e("./get"),a=e("./hasIn"),s=e("./_isKey"),l=e("./_isStrictComparable"),c=e("./_matchesStrictComparable"),u=e("./_toKey");t.exports=function(n,i){return s(n)&&l(i)?c(u(n),i):function(e){var t=r(e,n);return void 0===t&&t===i?a(e,n):o(i,t,3)}}},{"./_baseIsEqual":668,"./_isKey":742,"./_isStrictComparable":747,"./_matchesStrictComparable":759,"./_toKey":787,"./get":802,"./hasIn":803}],680:[function(e,t,n){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],681:[function(e,t,n){var i=e("./_baseGet");t.exports=function(t){return function(e){return i(e,t)}}},{"./_baseGet":662}],682:[function(e,t,n){var i=e("./identity"),o=e("./_overRest"),r=e("./_setToString");t.exports=function(e,t){return r(o(e,t,i),e+"")}},{"./_overRest":768,"./_setToString":777,"./identity":804}],683:[function(e,t,n){var i=e("./identity"),o=e("./_metaMap");t.exports=o?function(e,t){return o.set(e,t),e}:i},{"./_metaMap":762,"./identity":804}],684:[function(e,t,n){var i=e("./constant"),o=e("./_defineProperty"),e=e("./identity");t.exports=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:e},{"./_defineProperty":714,"./constant":794,"./identity":804}],685:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},{}],686:[function(e,t,n){var i=e("./_Symbol"),o=e("./_arrayMap"),r=e("./isArray"),a=e("./isSymbol"),i=i?i.prototype:void 0,s=i?i.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},{"./_Symbol":637,"./_arrayMap":647,"./isArray":806,"./isSymbol":815}],687:[function(e,t,n){var i=e("./_trimmedEndIndex"),o=/^\s+/;t.exports=function(e){return e&&e.slice(0,i(e)+1).replace(o,"")}},{"./_trimmedEndIndex":789}],688:[function(e,t,n){t.exports=function(t){return function(e){return t(e)}}},{}],689:[function(e,t,n){var h=e("./_SetCache"),f=e("./_arrayIncludes"),m=e("./_arrayIncludesWith"),g=e("./_cacheHas"),v=e("./_createSet"),y=e("./_setToArray");t.exports=function(e,t,n){var i=-1,o=f,r=e.length,a=!0,s=[],l=s;if(n)a=!1,o=m;else if(200<=r){var c=t?null:v(e);if(c)return y(c);a=!1,o=g,l=new h}else l=t?[]:s;e:for(;++i<r;){var u=e[i],d=t?t(u):u,u=n||0!==u?u:0;if(a&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else o(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}},{"./_SetCache":635,"./_arrayIncludes":644,"./_arrayIncludesWith":645,"./_cacheHas":692,"./_createSet":712,"./_setToArray":776}],690:[function(e,t,n){var i=e("./_arrayMap");t.exports=function(t,e){return i(e,function(e){return t[e]})}},{"./_arrayMap":647}],691:[function(e,t,n){var l=e("./_baseDifference"),c=e("./_baseFlatten"),u=e("./_baseUniq");t.exports=function(e,t,n){var i=e.length;if(i<2)return i?u(e[0]):[];for(var o=-1,r=Array(i);++o<i;)for(var a=e[o],s=-1;++s<i;)s!=o&&(r[o]=l(r[o]||a,e[s],t,n));return u(c(r,1),t,n)}},{"./_baseDifference":655,"./_baseFlatten":659,"./_baseUniq":689}],692:[function(e,t,n){t.exports=function(e,t){return e.has(t)}},{}],693:[function(e,t,n){var i=e("./identity");t.exports=function(e){return"function"==typeof e?e:i}},{"./identity":804}],694:[function(e,t,n){var i=e("./isArray"),o=e("./_isKey"),r=e("./_stringToPath"),a=e("./toString");t.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(a(e))}},{"./_isKey":742,"./_stringToPath":786,"./isArray":806,"./toString":829}],695:[function(e,t,n){var p=Math.max;t.exports=function(e,t,n,i){for(var o=-1,r=e.length,a=n.length,s=-1,l=t.length,c=p(r-a,0),u=Array(l+c),d=!i;++s<l;)u[s]=t[s];for(;++o<a;)(d||o<r)&&(u[n[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u}},{}],696:[function(e,t,n){var f=Math.max;t.exports=function(e,t,n,i){for(var o=-1,r=e.length,a=-1,s=n.length,l=-1,c=t.length,u=f(r-s,0),d=Array(u+c),p=!i;++o<u;)d[o]=e[o];for(var h=o;++l<c;)d[h+l]=t[l];for(;++a<s;)(p||o<r)&&(d[h+n[a]]=e[o++]);return d}},{}],697:[function(e,t,n){t.exports=function(e,t){var n=-1,i=e.length;for(t=t||Array(i);++n<i;)t[n]=e[n];return t}},{}],698:[function(e,t,n){var c=e("./_assignValue"),u=e("./_baseAssignValue");t.exports=function(e,t,n,i){var o=!n;n=n||{};for(var r=-1,a=t.length;++r<a;){var s=t[r],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),(o?u:c)(n,s,l)}return n}},{"./_assignValue":650,"./_baseAssignValue":653}],699:[function(e,t,n){e=e("./_root")["__core-js_shared__"];t.exports=e},{"./_root":772}],700:[function(e,t,n){t.exports=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}},{}],701:[function(e,t,n){var a=e("./_arrayAggregator"),s=e("./_baseAggregator"),l=e("./_baseIteratee"),c=e("./isArray");t.exports=function(o,r){return function(e,t){var n=c(e)?a:s,i=r?r():{};return n(e,o,l(t,2),i)}}},{"./_arrayAggregator":641,"./_baseAggregator":652,"./_baseIteratee":674,"./isArray":806}],702:[function(e,t,n){var i=e("./_baseRest"),l=e("./_isIterateeCall");t.exports=function(s){return i(function(e,t){var n=-1,i=t.length,o=1<i?t[i-1]:void 0,r=2<i?t[2]:void 0,o=3<s.length&&"function"==typeof o?(i--,o):void 0;for(r&&l(t[0],t[1],r)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=t[n];a&&s(e,a,n,o)}return e})}},{"./_baseRest":682,"./_isIterateeCall":741}],703:[function(e,t,n){var s=e("./isArrayLike");t.exports=function(r,a){return function(e,t){if(null==e)return e;if(!s(e))return r(e,t);for(var n=e.length,i=a?n:-1,o=Object(e);(a?i--:++i<n)&&!1!==t(o[i],i,o););return e}}},{"./isArrayLike":807}],704:[function(e,t,n){t.exports=function(l){return function(e,t,n){for(var i=-1,o=Object(e),r=n(e),a=r.length;a--;){var s=r[l?a:++i];if(!1===t(o[s],s,o))break}return e}}},{}],705:[function(e,t,n){var r=e("./_createCtor"),a=e("./_root");t.exports=function(t,e,n){var i=1&e,o=r(t);return function e(){return(this&&this!==a&&this instanceof e?o:t).apply(i?n:this,arguments)}}},{"./_createCtor":706,"./_root":772}],706:[function(e,t,n){var o=e("./_baseCreate"),r=e("./isObject");t.exports=function(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=o(i.prototype),n=i.apply(t,e);return r(n)?n:t}}},{"./_baseCreate":654,"./isObject":813}],707:[function(e,t,n){var c=e("./_apply"),i=e("./_createCtor"),u=e("./_createHybrid"),d=e("./_createRecurry"),p=e("./_getHolder"),h=e("./_replaceHolders"),f=e("./_root");t.exports=function(r,a,s){var l=i(r);return function e(){for(var t=arguments.length,n=Array(t),i=t,o=p(e);i--;)n[i]=arguments[i];o=t<3&&n[0]!==o&&n[t-1]!==o?[]:h(n,o);return(t-=o.length)<s?d(r,a,u,e.placeholder,void 0,n,o,void 0,void 0,s-t):c(this&&this!==f&&this instanceof e?l:r,this,n)}}},{"./_apply":640,"./_createCtor":706,"./_createHybrid":709,"./_createRecurry":711,"./_getHolder":722,"./_replaceHolders":771,"./_root":772}],708:[function(e,t,n){var a=e("./_baseIteratee"),s=e("./isArrayLike"),l=e("./keys");t.exports=function(r){return function(e,t,n){var i,o=Object(e);s(e)||(i=a(t,3),e=l(e),t=function(e){return i(o[e],e,o)});n=r(e,t,n);return-1<n?o[i?e[n]:n]:void 0}}},{"./_baseIteratee":674,"./isArrayLike":807,"./keys":818}],709:[function(e,t,n){var E=e("./_composeArgs"),C=e("./_composeArgsRight"),S=e("./_countHolders"),T=e("./_createCtor"),_=e("./_createRecurry"),N=e("./_getHolder"),A=e("./_reorder"),P=e("./_replaceHolders"),I=e("./_root");function R(s,l,c,u,d,p,h,f,m,g){var v=128&l,y=1&l,b=2&l,x=24&l,w=512&l,k=b?void 0:T(s);return function e(){for(var t,n=arguments.length,i=Array(n),o=n;o--;)i[o]=arguments[o];if(x&&(a=N(e),t=S(i,a)),u&&(i=E(i,u,d,x)),p&&(i=C(i,p,h,x)),n-=t,x&&n<g){var r=P(i,a);return _(s,l,R,e.placeholder,c,i,r,f,m,g-n)}var a=y?c:this,r=b?a[s]:s,n=i.length;return f?i=A(i,f):w&&1<n&&i.reverse(),v&&m<n&&(i.length=m),(r=this&&this!==I&&this instanceof e?k||T(r):r).apply(a,i)}}t.exports=R},{"./_composeArgs":695,"./_composeArgsRight":696,"./_countHolders":700,"./_createCtor":706,"./_createRecurry":711,"./_getHolder":722,"./_reorder":770,"./_replaceHolders":771,"./_root":772}],710:[function(e,t,n){var p=e("./_apply"),i=e("./_createCtor"),h=e("./_root");t.exports=function(s,e,l,c){var u=1&e,d=i(s);return function e(){for(var t=-1,n=arguments.length,i=-1,o=c.length,r=Array(o+n),a=this&&this!==h&&this instanceof e?d:s;++i<o;)r[i]=c[i];for(;n--;)r[i++]=arguments[++t];return p(a,u?l:this,r)}}},{"./_apply":640,"./_createCtor":706,"./_root":772}],711:[function(e,t,n){var d=e("./_isLaziable"),p=e("./_setData"),h=e("./_setWrapToString");t.exports=function(e,t,n,i,o,r,a,s,l,c){var u=8&t;return t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4),c=[e,t,o,u?r:void 0,u?a:void 0,u?void 0:r,u?void 0:a,s,l,c],n=n.apply(void 0,c),d(e)&&p(n,c),n.placeholder=i,h(n,e,t)}},{"./_isLaziable":744,"./_setData":775,"./_setWrapToString":778}],712:[function(e,t,n){var i=e("./_Set"),o=e("./noop"),e=e("./_setToArray"),o=i&&1/e(new i([,-0]))[1]==1/0?function(e){return new i(e)}:o;t.exports=o},{"./_Set":634,"./_setToArray":776,"./noop":821}],713:[function(e,t,n){var h=e("./_baseSetData"),f=e("./_createBind"),m=e("./_createCurry"),g=e("./_createHybrid"),v=e("./_createPartial"),y=e("./_getData"),b=e("./_mergeData"),x=e("./_setData"),w=e("./_setWrapToString"),k=e("./toInteger"),E=Math.max;t.exports=function(e,t,n,i,o,r,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var c,u,d=i?i.length:0;d||(t&=-97,i=o=void 0),a=void 0===a?a:E(k(a),0),s=void 0===s?s:k(s),d-=o?o.length:0,64&t&&(c=i,u=o,i=o=void 0);var p=l?void 0:y(e),a=[e,t,n,i,o,c,u,r,a,s];return p&&b(a,p),e=a[0],t=a[1],n=a[2],i=a[3],o=a[4],!(s=a[9]=void 0===a[9]?l?0:e.length:E(a[9]-d,0))&&24&t&&(t&=-25),n=t&&1!=t?8==t||16==t?m(e,t,s):32!=t&&33!=t||o.length?g.apply(void 0,a):v(e,t,n,i):f(e,t,n),w((p?h:x)(n,a),e,t)}},{"./_baseSetData":683,"./_createBind":705,"./_createCurry":707,"./_createHybrid":709,"./_createPartial":710,"./_getData":720,"./_mergeData":761,"./_setData":775,"./_setWrapToString":778,"./toInteger":827}],714:[function(e,t,n){var i=e("./_getNative"),e=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=e},{"./_getNative":725}],715:[function(e,t,n){var g=e("./_SetCache"),v=e("./_arraySome"),y=e("./_cacheHas");t.exports=function(e,t,n,i,o,r){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var c=r.get(e),l=r.get(t);if(c&&l)return c==t&&l==e;var u=-1,d=!0,p=2&n?new g:void 0;for(r.set(e,t),r.set(t,e);++u<s;){var h,f=e[u],m=t[u];if(void 0!==(h=i?a?i(m,f,u,t,e,r):i(f,m,u,e,t,r):h)){if(h)continue;d=!1;break}if(p){if(!v(t,function(e,t){if(!y(p,t)&&(f===e||o(f,e,n,i,r)))return p.push(t)})){d=!1;break}}else if(f!==m&&!o(f,m,n,i,r)){d=!1;break}}return r.delete(e),r.delete(t),d}},{"./_SetCache":635,"./_arraySome":649,"./_cacheHas":692}],716:[function(e,t,n){var i=e("./_Symbol"),c=e("./_Uint8Array"),u=e("./eq"),d=e("./_equalArrays"),p=e("./_mapToArray"),h=e("./_setToArray"),i=i?i.prototype:void 0,f=i?i.valueOf:void 0;t.exports=function(e,t,n,i,o,r,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return e.byteLength==t.byteLength&&r(new c(e),new c(t))?!0:!1;case"[object Boolean]":case"[object Date]":case"[object Number]":return u(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=p;case"[object Set]":s=s||h;if(e.size!=t.size&&!(1&i))return!1;var l=a.get(e);if(l)return l==t;i|=2,a.set(e,t);s=d(s(e),s(t),i,o,r,a);return a.delete(e),s;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}},{"./_Symbol":637,"./_Uint8Array":638,"./_equalArrays":715,"./_mapToArray":758,"./_setToArray":776,"./eq":796}],717:[function(e,t,n){var y=e("./_getAllKeys"),b=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,i,o,r){var a=1&n,s=y(e),l=s.length;if(l!=y(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:b.call(t,u)))return!1}var d=r.get(e),p=r.get(t);if(d&&p)return d==t&&p==e;var h=!0;r.set(e,t),r.set(t,e);for(var f=a;++c<l;){var m,g=e[u=s[c]],v=t[u];if(!(void 0===(m=i?a?i(v,g,u,t,e,r):i(g,v,u,e,t,r):m)?g===v||o(g,v,n,i,r):m)){h=!1;break}f=f||"constructor"==u}return!h||f||(d=e.constructor)!=(p=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof p&&p instanceof p)&&(h=!1),r.delete(e),r.delete(t),h}},{"./_getAllKeys":719}],718:[function(e,n,t){!function(t){!function(){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],719:[function(e,t,n){var i=e("./_baseGetAllKeys"),o=e("./_getSymbols"),r=e("./keys");t.exports=function(e){return i(e,r,o)}},{"./_baseGetAllKeys":663,"./_getSymbols":728,"./keys":818}],720:[function(e,t,n){var i=e("./_metaMap"),e=e("./noop");t.exports=i?function(e){return i.get(e)}:e},{"./_metaMap":762,"./noop":821}],721:[function(e,t,n){var a=e("./_realNames"),s=Object.prototype.hasOwnProperty;t.exports=function(e){for(var t=e.name+"",n=a[t],i=s.call(a,t)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==e)return o.name}return t}},{"./_realNames":769}],722:[function(e,t,n){t.exports=function(e){return e.placeholder}},{}],723:[function(e,t,n){var i=e("./_isKeyable");t.exports=function(e,t){return e=e.__data__,i(t)?e["string"==typeof t?"string":"hash"]:e.map}},{"./_isKeyable":743}],724:[function(e,t,n){var r=e("./_isStrictComparable"),a=e("./keys");t.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},{"./_isStrictComparable":747,"./keys":818}],725:[function(e,t,n){var i=e("./_baseIsNative"),o=e("./_getValue");t.exports=function(e,t){return t=o(e,t),i(t)?t:void 0}},{"./_baseIsNative":672,"./_getValue":730}],726:[function(e,t,n){e=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=e},{"./_overArg":767}],727:[function(e,t,n){var i=e("./_Symbol"),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,s=i?i.toStringTag:void 0;t.exports=function(e){var t=r.call(e,s),n=e[s];try{var i=!(e[s]=void 0)}catch(e){}var o=a.call(e);return i&&(t?e[s]=n:delete e[s]),o}},{"./_Symbol":637}],728:[function(e,t,n){var i=e("./_arrayFilter"),e=e("./stubArray"),o=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,e=r?function(t){return null==t?[]:(t=Object(t),i(r(t),function(e){return o.call(t,e)}))}:e;t.exports=e},{"./_arrayFilter":643,"./stubArray":824}],729:[function(e,t,n){var i=e("./_DataView"),o=e("./_Map"),r=e("./_Promise"),a=e("./_Set"),s=e("./_WeakMap"),l=e("./_baseGetTag"),c=e("./_toSource"),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(i),g=c(o),v=c(r),y=c(a),b=c(s),e=l;(i&&e(new i(new ArrayBuffer(1)))!=f||o&&e(new o)!=u||r&&e(r.resolve())!=d||a&&e(new a)!=p||s&&e(new s)!=h)&&(e=function(e){var t=l(e),e="[object Object]"==t?e.constructor:void 0,e=e?c(e):"";if(e)switch(e){case m:return f;case g:return u;case v:return d;case y:return p;case b:return h}return t}),t.exports=e},{"./_DataView":626,"./_Map":631,"./_Promise":633,"./_Set":634,"./_WeakMap":639,"./_baseGetTag":664,"./_toSource":788}],730:[function(e,t,n){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],731:[function(e,t,n){var i=/\{\n\/\* \[wrapped with (.+)\] \*/,o=/,? & /;t.exports=function(e){return(e=e.match(i))?e[1].split(o):[]}},{}],732:[function(e,t,n){var s=e("./_castPath"),l=e("./isArguments"),c=e("./isArray"),u=e("./_isIndex"),d=e("./isLength"),p=e("./_toKey");t.exports=function(e,t,n){for(var i=-1,o=(t=s(t,e)).length,r=!1;++i<o;){var a=p(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++i!=o?r:!!(o=null==e?0:e.length)&&d(o)&&u(a,o)&&(c(e)||l(e))}},{"./_castPath":694,"./_isIndex":740,"./_toKey":787,"./isArguments":805,"./isArray":806,"./isLength":812}],733:[function(e,t,n){var i=e("./_nativeCreate");t.exports=function(){this.__data__=i?i(null):{},this.size=0}},{"./_nativeCreate":763}],734:[function(e,t,n){t.exports=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e}},{}],735:[function(e,t,n){var i=e("./_nativeCreate"),o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},{"./_nativeCreate":763}],736:[function(e,t,n){var i=e("./_nativeCreate"),o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:o.call(t,e)}},{"./_nativeCreate":763}],737:[function(e,t,n){var i=e("./_nativeCreate");t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":763}],738:[function(e,t,n){var o=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(1<n?"& ":"")+t[i],t=t.join(2<n?", ":" "),e.replace(o,"{\n/* [wrapped with "+t+"] */\n")}},{}],739:[function(e,t,n){var i=e("./_Symbol"),o=e("./isArguments"),r=e("./isArray"),a=i?i.isConcatSpreadable:void 0;t.exports=function(e){return r(e)||o(e)||!!(a&&e&&e[a])}},{"./_Symbol":637,"./isArguments":805,"./isArray":806}],740:[function(e,t,n){var i=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&-1<e&&e%1==0&&e<t}},{}],741:[function(e,t,n){var o=e("./eq"),r=e("./isArrayLike"),a=e("./_isIndex"),s=e("./isObject");t.exports=function(e,t,n){if(!s(n))return!1;var i=typeof t;return!!("number"==i?r(n)&&a(t,n.length):"string"==i&&t in n)&&o(n[t],e)}},{"./_isIndex":740,"./eq":796,"./isArrayLike":807,"./isObject":813}],742:[function(e,t,n){var i=e("./isArray"),o=e("./isSymbol"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!r.test(e)||null!=t&&e in Object(t))}},{"./isArray":806,"./isSymbol":815}],743:[function(e,t,n){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],744:[function(e,t,n){var i=e("./_LazyWrapper"),o=e("./_getData"),r=e("./_getFuncName"),a=e("./wrapperLodash");t.exports=function(e){var t=r(e),n=a[t];return"function"==typeof n&&t in i.prototype&&(e===n||!!(n=o(n))&&e===n[0])}},{"./_LazyWrapper":628,"./_getData":720,"./_getFuncName":721,"./wrapperLodash":832}],745:[function(e,t,n){var e=e("./_coreJsData"),i=(e=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";t.exports=function(e){return!!i&&i in e}},{"./_coreJsData":699}],746:[function(e,t,n){var i=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},{}],747:[function(e,t,n){var i=e("./isObject");t.exports=function(e){return e==e&&!i(e)}},{"./isObject":813}],748:[function(e,t,n){t.exports=function(){this.__data__=[],this.size=0}},{}],749:[function(e,t,n){var i=e("./_assocIndexOf"),o=Array.prototype.splice;t.exports=function(e){var t=this.__data__;return!((e=i(t,e))<0)&&(e==t.length-1?t.pop():o.call(t,e,1),--this.size,!0)}},{"./_assocIndexOf":651}],750:[function(e,t,n){var i=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__;return(e=i(t,e))<0?void 0:t[e][1]}},{"./_assocIndexOf":651}],751:[function(e,t,n){var i=e("./_assocIndexOf");t.exports=function(e){return-1<i(this.__data__,e)}},{"./_assocIndexOf":651}],752:[function(e,t,n){var o=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},{"./_assocIndexOf":651}],753:[function(e,t,n){var i=e("./_Hash"),o=e("./_ListCache"),r=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||o),string:new i}}},{"./_Hash":627,"./_ListCache":629,"./_Map":631}],754:[function(e,t,n){var i=e("./_getMapData");t.exports=function(e){return e=i(this,e).delete(e),this.size-=e?1:0,e}},{"./_getMapData":723}],755:[function(e,t,n){var i=e("./_getMapData");t.exports=function(e){return i(this,e).get(e)}},{"./_getMapData":723}],756:[function(e,t,n){var i=e("./_getMapData");t.exports=function(e){return i(this,e).has(e)}},{"./_getMapData":723}],757:[function(e,t,n){var o=e("./_getMapData");t.exports=function(e,t){var n=o(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},{"./_getMapData":723}],758:[function(e,t,n){t.exports=function(e){var n=-1,i=Array(e.size);return e.forEach(function(e,t){i[++n]=[t,e]}),i}},{}],759:[function(e,t,n){t.exports=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}}},{}],760:[function(e,t,n){var i=e("./memoize");t.exports=function(e){var t=(e=i(e,function(e){return 500===t.size&&t.clear(),e})).cache;return e}},{"./memoize":820}],761:[function(e,t,n){var s=e("./_composeArgs"),l=e("./_composeArgsRight"),c=e("./_replaceHolders"),u="__lodash_placeholder__",d=Math.min;t.exports=function(e,t){var n,i=e[1],o=t[1],r=i|o,a=128==o&&8==i||128==o&&256==i&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==i;return(r<131||a)&&(1&o&&(e[2]=t[2],r|=1&i?0:4),(i=t[3])&&(n=e[3],e[3]=n?s(n,i,t[4]):i,e[4]=n?c(e[3],u):t[4]),(i=t[5])&&(n=e[5],e[5]=n?l(n,i,t[6]):i,e[6]=n?c(e[5],u):t[6]),(i=t[7])&&(e[7]=i),128&o&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r),e}},{"./_composeArgs":695,"./_composeArgsRight":696,"./_replaceHolders":771}],762:[function(e,t,n){e=e("./_WeakMap"),e=e&&new e;t.exports=e},{"./_WeakMap":639}],763:[function(e,t,n){e=e("./_getNative")(Object,"create");t.exports=e},{"./_getNative":725}],764:[function(e,t,n){e=e("./_overArg")(Object.keys,Object);t.exports=e},{"./_overArg":767}],765:[function(e,t,n){var e=e("./_freeGlobal"),n="object"==typeof n&&n&&!n.nodeType&&n,i=n&&"object"==typeof t&&t&&!t.nodeType&&t,o=i&&i.exports===n&&e.process,e=function(){try{var e=i&&i.require&&i.require("util").types;return e?e:o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=e},{"./_freeGlobal":718}],766:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){return i.call(e)}},{}],767:[function(e,t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},{}],768:[function(e,t,n){var l=e("./_apply"),c=Math.max;t.exports=function(r,a,s){return a=c(void 0===a?r.length-1:a,0),function(){for(var e=arguments,t=-1,n=c(e.length-a,0),i=Array(n);++t<n;)i[t]=e[a+t];for(var t=-1,o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=s(i),l(r,this,o)}}},{"./_apply":640}],769:[function(e,t,n){t.exports={}},{}],770:[function(e,t,n){var a=e("./_copyArray"),s=e("./_isIndex"),l=Math.min;t.exports=function(e,t){for(var n=e.length,i=l(t.length,n),o=a(e);i--;){var r=t[i];e[i]=s(r,n)?o[r]:void 0}return e}},{"./_copyArray":697,"./_isIndex":740}],771:[function(e,t,n){var s="__lodash_placeholder__";t.exports=function(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var a=e[n];a!==t&&a!==s||(e[n]=s,r[o++]=n)}return r}},{}],772:[function(e,t,n){var i=e("./_freeGlobal"),e="object"==typeof self&&self&&self.Object===Object&&self,e=i||e||Function("return this")();t.exports=e},{"./_freeGlobal":718}],773:[function(e,t,n){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},{}],774:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],775:[function(e,t,n){var i=e("./_baseSetData"),i=e("./_shortOut")(i);t.exports=i},{"./_baseSetData":683,"./_shortOut":779}],776:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},{}],777:[function(e,t,n){var i=e("./_baseSetToString"),i=e("./_shortOut")(i);t.exports=i},{"./_baseSetToString":684,"./_shortOut":779}],778:[function(e,t,n){var i=e("./_getWrapDetails"),o=e("./_insertWrapDetails"),r=e("./_setToString"),a=e("./_updateWrapDetails");t.exports=function(e,t,n){return r(e,o(t+="",a(i(t),n)))}},{"./_getWrapDetails":731,"./_insertWrapDetails":738,"./_setToString":777,"./_updateWrapDetails":790}],779:[function(e,t,n){var r=Date.now;t.exports=function(n){var i=0,o=0;return function(){var e=r(),t=16-(e-o);if(o=e,0<t){if(800<=++i)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}},{}],780:[function(e,t,n){var i=e("./_ListCache");t.exports=function(){this.__data__=new i,this.size=0}},{"./_ListCache":629}],781:[function(e,t,n){t.exports=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e}},{}],782:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],783:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],784:[function(e,t,n){var o=e("./_ListCache"),r=e("./_Map"),a=e("./_MapCache");t.exports=function(e,t){var n=this.__data__;if(n instanceof o){var i=n.__data__;if(!r||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":629,"./_Map":631,"./_MapCache":632}],785:[function(e,t,n){t.exports=function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}},{}],786:[function(e,t,n){var e=e("./_memoizeCapped"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,e=e(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(i,function(e,t,n,i){o.push(n?i.replace(r,"$1"):t||e)}),o});t.exports=e},{"./_memoizeCapped":760}],787:[function(e,t,n){var i=e("./isSymbol");t.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},{"./isSymbol":815}],788:[function(e,t,n){var i=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],789:[function(e,t,n){var i=/\s/;t.exports=function(e){for(var t=e.length;t--&&i.test(e.charAt(t)););return t}},{}],790:[function(e,t,n){var o=e("./_arrayEach"),r=e("./_arrayIncludes"),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(n,i){return o(a,function(e){var t="_."+e[0];i&e[1]&&!r(n,t)&&n.push(t)}),n.sort()}},{"./_arrayEach":642,"./_arrayIncludes":644}],791:[function(e,t,n){var i=e("./_LazyWrapper"),o=e("./_LodashWrapper"),r=e("./_copyArray");t.exports=function(e){if(e instanceof i)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=r(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},{"./_LazyWrapper":628,"./_LodashWrapper":630,"./_copyArray":697}],792:[function(e,t,n){var i=e("./_assignValue"),o=e("./_copyObject"),r=e("./_createAssigner"),a=e("./isArrayLike"),s=e("./_isPrototype"),l=e("./keys"),c=Object.prototype.hasOwnProperty,r=r(function(e,t){if(s(t)||a(t))o(t,l(t),e);else for(var n in t)c.call(t,n)&&i(e,n,t[n])});t.exports=r},{"./_assignValue":650,"./_copyObject":698,"./_createAssigner":702,"./_isPrototype":746,"./isArrayLike":807,"./keys":818}],793:[function(e,t,n){var i=e("./_baseRest"),r=e("./_createWrap"),a=e("./_getHolder"),s=e("./_replaceHolders"),l=i(function(e,t,n){var i,o=1;return n.length&&(i=s(n,a(l)),o|=32),r(e,o,t,n,i)});l.placeholder={},t.exports=l},{"./_baseRest":682,"./_createWrap":713,"./_getHolder":722,"./_replaceHolders":771}],794:[function(e,t,n){t.exports=function(e){return function(){return e}}},{}],795:[function(e,t,n){var y=e("./isObject"),b=e("./now"),x=e("./toNumber"),w=Math.max,k=Math.min;t.exports=function(i,n,e){var o,r,a,s,l,c,u=0,d=!1,p=!1,t=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function h(e){var t=o,n=r;return o=r=void 0,u=e,s=i.apply(n,t)}function f(e){var t=e-c;return void 0===c||n<=t||t<0||p&&a<=e-u}function m(){var e,t=b();if(f(t))return g(t);l=setTimeout(m,(t=n-((e=t)-c),p?k(t,a-(e-u)):t))}function g(e){return l=void 0,t&&o?h(e):(o=r=void 0,s)}function v(){var e=b(),t=f(e);if(o=arguments,r=this,c=e,t){if(void 0===l)return u=t=c,l=setTimeout(m,n),d?h(t):s;if(p)return clearTimeout(l),l=setTimeout(m,n),h(c)}return void 0===l&&(l=setTimeout(m,n)),s}return n=x(n)||0,y(e)&&(d=!!e.leading,p="maxWait"in e,a=p?w(x(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){void 0!==l&&clearTimeout(l),o=c=r=l=void(u=0)},v.flush=function(){return void 0===l?s:g(b())},v}},{"./isObject":813,"./now":822,"./toNumber":828}],796:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],797:[function(e,t,n){var i=e("./_arrayFilter"),o=e("./_baseFilter"),r=e("./_baseIteratee"),a=e("./isArray");t.exports=function(e,t){return(a(e)?i:o)(e,r(t,3))}},{"./_arrayFilter":643,"./_baseFilter":657,"./_baseIteratee":674,"./isArray":806}],798:[function(e,t,n){e=e("./_createFind")(e("./findIndex"));t.exports=e},{"./_createFind":708,"./findIndex":799}],799:[function(e,t,n){var o=e("./_baseFindIndex"),r=e("./_baseIteratee"),a=e("./toInteger"),s=Math.max;t.exports=function(e,t,n){var i=null==e?0:e.length;return i?((n=null==n?0:a(n))<0&&(n=s(i+n,0)),o(e,r(t,3),n)):-1}},{"./_baseFindIndex":658,"./_baseIteratee":674,"./toInteger":827}],800:[function(e,t,n){var i=e("./_baseFlatten");t.exports=function(e){return(null==e?0:e.length)?i(e,1/0):[]}},{"./_baseFlatten":659}],801:[function(e,t,n){var i=e("./_arrayEach"),o=e("./_baseEach"),r=e("./_castFunction"),a=e("./isArray");t.exports=function(e,t){return(a(e)?i:o)(e,r(t))}},{"./_arrayEach":642,"./_baseEach":656,"./_castFunction":693,"./isArray":806}],802:[function(e,t,n){var i=e("./_baseGet");t.exports=function(e,t,n){return void 0===(t=null==e?void 0:i(e,t))?n:t}},{"./_baseGet":662}],803:[function(e,t,n){var i=e("./_baseHasIn"),o=e("./_hasPath");t.exports=function(e,t){return null!=e&&o(e,t,i)}},{"./_baseHasIn":665,"./_hasPath":732}],804:[function(e,t,n){t.exports=function(e){return e}},{}],805:[function(e,t,n){var i=e("./_baseIsArguments"),o=e("./isObjectLike"),e=Object.prototype,r=e.hasOwnProperty,a=e.propertyIsEnumerable,i=i(function(){return arguments}())?i:function(e){return o(e)&&r.call(e,"callee")&&!a.call(e,"callee")};t.exports=i},{"./_baseIsArguments":667,"./isObjectLike":814}],806:[function(e,t,n){var i=Array.isArray;t.exports=i},{}],807:[function(e,t,n){var i=e("./isFunction"),o=e("./isLength");t.exports=function(e){return null!=e&&o(e.length)&&!i(e)}},{"./isFunction":811,"./isLength":812}],808:[function(e,t,n){var i=e("./isArrayLike"),o=e("./isObjectLike");t.exports=function(e){return o(e)&&i(e)}},{"./isArrayLike":807,"./isObjectLike":814}],809:[function(e,t,n){var i=e("./_root"),o=e("./stubFalse"),e="object"==typeof n&&n&&!n.nodeType&&n,n=e&&"object"==typeof t&&t&&!t.nodeType&&t,i=n&&n.exports===e?i.Buffer:void 0,i=i?i.isBuffer:void 0;t.exports=i||o},{"./_root":772,"./stubFalse":825}],810:[function(e,t,n){var i=e("./_baseKeys"),o=e("./_getTag"),r=e("./isArguments"),a=e("./isArray"),s=e("./isArrayLike"),l=e("./isBuffer"),c=e("./_isPrototype"),u=e("./isTypedArray"),d=Object.prototype.hasOwnProperty;t.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||r(e)))return!e.length;var t,n=o(e);if("[object Map]"==n||"[object Set]"==n)return!e.size;if(c(e))return!i(e).length;for(t in e)if(d.call(e,t))return!1;return!0}},{"./_baseKeys":675,"./_getTag":729,"./_isPrototype":746,"./isArguments":805,"./isArray":806,"./isArrayLike":807,"./isBuffer":809,"./isTypedArray":816}],811:[function(e,t,n){var i=e("./_baseGetTag"),o=e("./isObject");t.exports=function(e){return!!o(e)&&("[object Function]"==(e=i(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}},{"./_baseGetTag":664,"./isObject":813}],812:[function(e,t,n){t.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},{}],813:[function(e,t,n){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],814:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],815:[function(e,t,n){var i=e("./_baseGetTag"),o=e("./isObjectLike");t.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},{"./_baseGetTag":664,"./isObjectLike":814}],816:[function(e,t,n){var i=e("./_baseIsTypedArray"),o=e("./_baseUnary"),e=e("./_nodeUtil"),e=e&&e.isTypedArray,i=e?o(e):i;t.exports=i},{"./_baseIsTypedArray":673,"./_baseUnary":688,"./_nodeUtil":765}],817:[function(e,t,n){var i=e("./_baseAssignValue"),e=e("./_createAggregator")(function(e,t,n){i(e,n,t)});t.exports=e},{"./_baseAssignValue":653,"./_createAggregator":701}],818:[function(e,t,n){var i=e("./_arrayLikeKeys"),o=e("./_baseKeys"),r=e("./isArrayLike");t.exports=function(e){return(r(e)?i:o)(e)}},{"./_arrayLikeKeys":646,"./_baseKeys":675,"./isArrayLike":807}],819:[function(e,t,n){var i=e("./_arrayMap"),o=e("./_baseIteratee"),r=e("./_baseMap"),a=e("./isArray");t.exports=function(e,t){return(a(e)?i:r)(e,o(t,3))}},{"./_arrayMap":647,"./_baseIteratee":674,"./_baseMap":677,"./isArray":806}],820:[function(e,t,n){var a=e("./_MapCache");function s(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function r(){var e=arguments,t=o?o.apply(this,e):e[0],n=r.cache;return n.has(t)?n.get(t):(e=i.apply(this,e),r.cache=n.set(t,e)||n,e)}return r.cache=new(s.Cache||a),r}s.Cache=a,t.exports=s},{"./_MapCache":632}],821:[function(e,t,n){t.exports=function(){}},{}],822:[function(e,t,n){var i=e("./_root");t.exports=function(){return i.Date.now()}},{"./_root":772}],823:[function(e,t,n){var i=e("./_baseProperty"),o=e("./_basePropertyDeep"),r=e("./_isKey"),a=e("./_toKey");t.exports=function(e){return r(e)?i(a(e)):o(e)}},{"./_baseProperty":680,"./_basePropertyDeep":681,"./_isKey":742,"./_toKey":787}],824:[function(e,t,n){t.exports=function(){return[]}},{}],825:[function(e,t,n){t.exports=function(){return!1}},{}],826:[function(e,t,n){var i=e("./toNumber");t.exports=function(e){return e?(e=i(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},{"./toNumber":828}],827:[function(e,t,n){var i=e("./toFinite");t.exports=function(e){var t=i(e),e=t%1;return t==t?e?t-e:t:0}},{"./toFinite":826}],828:[function(e,t,n){var i=e("./_baseTrim"),o=e("./isObject"),r=e("./isSymbol"),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=o(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=i(e);var t=s.test(e);return t||l.test(e)?c(e.slice(2),t?2:8):a.test(e)?NaN:+e}},{"./_baseTrim":687,"./isObject":813,"./isSymbol":815}],829:[function(e,t,n){var i=e("./_baseToString");t.exports=function(e){return null==e?"":i(e)}},{"./_baseToString":686}],830:[function(e,t,n){var a=e("./_arrayEach"),s=e("./_baseCreate"),l=e("./_baseForOwn"),c=e("./_baseIteratee"),u=e("./_getPrototype"),d=e("./isArray"),p=e("./isBuffer"),h=e("./isFunction"),f=e("./isObject"),m=e("./isTypedArray");t.exports=function(e,i,o){var t,n=d(e),r=n||p(e)||m(e);return i=c(i,4),null==o&&(t=e&&e.constructor,o=r?n?new t:[]:f(e)&&h(t)?s(u(e)):{}),(r?a:l)(e,function(e,t,n){return i(o,e,t,n)}),o}},{"./_arrayEach":642,"./_baseCreate":654,"./_baseForOwn":661,"./_baseIteratee":674,"./_getPrototype":726,"./isArray":806,"./isBuffer":809,"./isFunction":811,"./isObject":813,"./isTypedArray":816}],831:[function(e,t,n){var i=e("./_baseValues"),o=e("./keys");t.exports=function(e){return null==e?[]:i(e,o(e))}},{"./_baseValues":690,"./keys":818}],832:[function(e,t,n){var i=e("./_LazyWrapper"),o=e("./_LodashWrapper"),r=e("./_baseLodash"),a=e("./isArray"),s=e("./isObjectLike"),l=e("./_wrapperClone"),c=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!a(e)&&!(e instanceof i)){if(e instanceof o)return e;if(c.call(e,"__wrapped__"))return l(e)}return new o(e)}u.prototype=r.prototype,t.exports=u.prototype.constructor=u},{"./_LazyWrapper":628,"./_LodashWrapper":630,"./_baseLodash":676,"./_wrapperClone":791,"./isArray":806,"./isObjectLike":814}],833:[function(e,t,n){var i=e("./_arrayFilter"),o=e("./_baseRest"),r=e("./_baseXor"),a=e("./isArrayLikeObject"),o=o(function(e){return r(i(e,a))});t.exports=o},{"./_arrayFilter":643,"./_baseRest":682,"./_baseXor":691,"./isArrayLikeObject":808}],834:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assign=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return S.apply(void 0,[e].concat(n))},n.bind=function(e,t){return e.bind(t)},n.debounce=function(t,i){var o,r,a,s;function n(){var e=Date.now(),e=s+i-e;if(0<e)return l(e);t.apply(a,r),o=s=r=a=void 0}function l(e){o=setTimeout(n,e)}return function(){s=Date.now();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r=t,a=this,o||l(i)}},n.ensureArray=d,n.every=g,n.filter=function(e,n){var i=[];return f(e,function(e,t){n(e,t)&&i.push(e)}),i},n.find=h,n.findIndex=function(e,n){n=k(n);var i=r(e)?-1:void 0;return f(e,function(e,t){if(n(e,t))return i=t,!1}),i},n.flatten=function(e){return Array.prototype.concat.apply([],e)},n.forEach=f,n.get=function(e,t,n){var i=e;return f(t,function(e){return l(i)?(i=void 0,!1):void(i=i[e])}),a(i)?n:i},n.groupBy=b,n.has=p,n.isArray=r,n.isDefined=s,n.isFunction=u,n.isNil=l,n.isNumber=function(e){return"[object Number]"===i.call(e)},n.isObject=c,n.isString=function(e){return"[object String]"===i.call(e)},n.isUndefined=a,n.keys=y,n.map=v,n.matchPattern=function(e){return function(n){return g(e,function(e,t){return n[t]===e})}},n.merge=function i(o){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];if(!t.length)return o;f(t,function(e){e&&c(e)&&f(e,function(e,t){var n;"__proto__"!==t&&(n=o[t],c(e)?(c(n)||(n={}),o[t]=i(n,e)):o[t]=e)})});return o},n.omit=function(e,n){var i={};return f(Object(e),function(e,t){-1===n.indexOf(t)&&(i[t]=e)}),i},n.pick=function(t,e){var n={},i=Object(t);return f(e,function(e){e in i&&(n[e]=t[e])}),n},n.reduce=m,n.set=function(e,i,o){var r=e;return f(i,function(e,t){if("__proto__"===e)throw new Error("illegal key: __proto__");var n=i[t+1],t=r[e];s(n)&&l(t)&&(t=r[e]=isNaN(+n)?{}:[]),a(n)?a(o)?delete r[e]:r[e]=o:r=t}),e},n.size=function(e){return y(e).length},n.some=function(e,t){return!!h(e,t)},n.sortBy=function(e,r){r=w(r);var a=[];return f(e,function(e,t){for(var n=r(e,t),i={d:n,v:e},o=0;o<a.length;o++)if(n<a[o].d)return void a.splice(o,0,i);a.push(i)}),v(a,function(e){return e.v})},n.throttle=function(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout(function(){n=!1},t))}},n.uniqueBy=x,n.values=function(e){return v(e,function(e){return e})},n.without=function(e,n){if(a(e))return[];return d(e),n=k(n),e.filter(function(e,t){return!n(e,t)})},n.unionBy=void 0;var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function a(e){return void 0===e}function s(e){return void 0!==e}function l(e){return null==e}function r(e){return"[object Array]"===i.call(e)}function c(e){return"[object Object]"===i.call(e)}function u(e){e=i.call(e);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e||"[object Proxy]"===e}function d(e){if(!r(e))throw new Error("must supply array")}function p(e,t){return o.call(e,t)}function h(e,n){var i;return n=k(n),f(e,function(e,t){if(n(e,t))return i=e,!1}),i}function f(e,t){var n;if(!a(e)){var i,o=r(e)?C:E;for(i in e)if(p(e,i)&&!1===t(n=e[i],o(i)))return n}}function m(e,n,i){return f(e,function(e,t){i=n(i,e,t)}),i}function g(e,i){return!!m(e,function(e,t,n){return e&&i(t,n)},!0)}function v(e,n){var i=[];return f(e,function(e,t){i.push(n(e,t))}),i}function y(e){return e&&Object.keys(e)||[]}function b(e,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return n=w(n),f(e,function(e){var t=n(e)||"_";(i[t]||(i[t]=[])).push(e)}),i}function x(t){t=w(t);for(var n={},e=arguments.length,i=new Array(1<e?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return f(i,function(e){return b(e,t,n)}),v(n,function(e,t){return e[0]})}function w(t){return u(t)?t:function(e){return e[t]}}function k(t){return u(t)?t:function(e){return e===t}}function E(e){return e}function C(e){return Number(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}n.unionBy=x},{}],835:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.attr=function(e,t,n){return 2!=arguments.length?null!==n?(e.setAttribute(t,n),e):e.removeAttribute(t):e.getAttribute(t)},n.classes=function(e){return new s(e)},n.clear=function(e){var t;for(;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e},n.closest=d,n.query=function(e,t){return(t=t||document).querySelector(e)},n.queryAll=function(e,t){return(t=t||document).querySelectorAll(e)},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},n.matches=n.event=n.domify=n.delegate=void 0;function i(e,t){if(o)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var o=[].indexOf,r=/\s+/,a=Object.prototype.toString;function s(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}s.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~i(t,e)||t.push(e),this.el.className=t.join(" "),this},s.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),e=i(t,e);return~e&&t.splice(e,1),this.el.className=t.join(" "),this},s.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},s.prototype.toggle=function(e,t){return this.list?void 0!==t&&t===this.list.toggle(e,t)||this.list.toggle(e):void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this},s.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(r);return""===e[0]&&e.shift(),e},s.prototype.has=s.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)};var l="undefined"!=typeof Element?Element.prototype:{},c=l.matches||l.matchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,u=function(e,t){if(!e||1!==e.nodeType)return!1;if(c)return c.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1};function d(e,t,n){for(var i=n?e:e.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(u(i,t))return i;i=i.parentNode}return u(i,t)?i:null}n.matches=u;var p=window.addEventListener?"addEventListener":"attachEvent",h=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!=p?"on":"",m={bind:function(e,t,n,i){return e[p](f+t,n,i||!1),n},unbind:function(e,t,n,i){return e[h](f+t,n,i||!1),n}};n.event=m;var g=["focus","blur"];l={bind:function(n,i,e,o,t){return-1!==g.indexOf(e)&&(t=!0),m.bind(n,e,function(e){var t=e.target||e.srcElement;e.delegateTarget=d(t,i,!0),e.delegateTarget&&o.call(n,e)},t)},unbind:function(e,t,n,i){return-1!==g.indexOf(t)&&(i=!0),m.unbind(e,t,n,i)}};n.delegate=l;l=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t=t||document;var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i)return(o=t.createElement("html")).innerHTML=e,o.removeChild(o.lastChild);var o,n=v[i]||v._default,r=n[0],i=n[1],n=n[2];(o=t.createElement("div")).innerHTML=i+e+n;for(;r--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);var a=t.createDocumentFragment();for(;o.firstChild;)a.appendChild(o.removeChild(o.firstChild));return a};n.domify=l;n=!1;"undefined"!=typeof document&&((l=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',n=!l.getElementsByTagName("link").length,l=void 0);var v={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:n?[1,"X<div>","</div>"]:[0,"",""]};v.td=v.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],v.option=v.optgroup=[1,'<select multiple="multiple">',"</select>"],v.thead=v.tbody=v.colgroup=v.caption=v.tfoot=[1,"<table>","</table>"],v.polyline=v.ellipse=v.polygon=v.circle=v.text=v.line=v.path=v.rect=v.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],836:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function i(i){return i=i||Object.create(null),{on:function(e,t){(i[e]||(i[e]=[])).push(t)},off:function(e,t){i[e]&&i[e].splice(i[e].indexOf(t)>>>0,1)},emit:function(t,n){(i[t]||[]).slice().map(function(e){e(n)}),(i["*"]||[]).slice().map(function(e){e(t,n)})}}}n.default=i},{}],837:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Reader=C,n.Writer=function(o){return o=(0,m.assign)({format:!1,preamble:!0},o||{}),{toXML:function(e,t){var n=t||new H,i=new $(n,o.format);if(o.preamble&&i.append(S),(new O).build(e).serializeTo(i),!t)return n.value}}};var m=e("min-dash"),g=e("saxen"),u=e("moddle");function i(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var s={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},d="xsi:type";function l(e){return e.xml&&e.xml.serialize}function p(e){return l(e)===d}function h(e,t){return i(t)?e.prefix+":"+((t=e.localName).charAt(0).toUpperCase()+t.slice(1)):e.name}function v(e){return new Error(e)}function y(e){return e.$descriptor}function b(e){(0,m.assign)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw v("expected element");var t,n=this.elementsById,i=y(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw v("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function o(){}function x(){}function r(){}function a(e,t){this.property=e,this.context=t}function c(e,t){this.element=t,this.propertyDesc=e}function f(){}function w(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function k(e,t,n){w.call(this,e,t,n)}function E(e,t,n){this.model=e,this.context=n}function C(e){e instanceof u.Moddle&&(e={model:e}),(0,m.assign)(this,{lax:!1},e)}o.prototype.handleEnd=function(){},o.prototype.handleText=function(){},o.prototype.handleNode=function(){},(x.prototype=Object.create(o.prototype)).handleNode=function(){return this},(r.prototype=Object.create(o.prototype)).handleText=function(e){this.body=(this.body||"")+e},(a.prototype=Object.create(r.prototype)).handleNode=function(e){if(this.element)throw v("expected no sub nodes");return this.element=this.createReference(e),this},a.prototype.handleEnd=function(){this.element.id=this.body},a.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},(c.prototype=Object.create(r.prototype)).handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc,e=(0,u.coerceType)(n.type,e);n.isMany?t.get(n.name).push(e):t.set(n.name,e)},(f.prototype=Object.create(r.prototype)).handleNode=function(e){var t,n=this;return(t=this.element)?n=this.handleChild(e):(t=this.element=this.createElement(e),this.context.addElement(t)),n},(w.prototype=Object.create(f.prototype)).addReference=function(e){this.context.addReference(e)},w.prototype.handleText=function(e){if(!y(this.element).bodyProperty)throw v("unexpected body text <"+e+">");r.prototype.handleText.call(this,e)},w.prototype.handleEnd=function(){var e=this.body,t=this.element,n=y(t).bodyProperty;n&&void 0!==e&&(e=(0,u.coerceType)(n.type,e),t.set(n.name,e))},w.prototype.createElement=function(e){var o,t=e.attributes,e=this.type,r=y(e),a=this.context,s=new e({}),l=this.model;return(0,m.forEach)(t,function(e,t){var n,i=r.propertiesByName[t];i&&i.isReference?i.isMany?(n=e.split(" "),(0,m.forEach)(n,function(e){a.addReference({element:s,property:i.ns.name,id:e})})):a.addReference({element:s,property:i.ns.name,id:e}):(i?e=(0,u.coerceType)(i.type,e):"xmlns"!==t&&(o=(0,u.parseNameNS)(t,r.ns.prefix),l.getPackage(o.prefix)&&a.addWarning({message:"unknown attribute <"+t+">",element:s,property:t,value:e})),s.set(t,e))}),s},w.prototype.getPropertyForNode=function(e){var t,n,i=e.name,o=(0,u.parseNameNS)(i),r=this.type,a=this.model,s=y(r),l=o.name,i=s.propertiesByName[l];if(i&&!i.isAttr)return p(i)&&(t=e.attributes[d])?(r=t,l=a,e=(0,u.parseNameNS)(r),c=l.getPackage(e.prefix),r=c,c=(l=e).name,e=l.localName,t=(r=r.xml&&r.xml.typePrefix)&&0===e.indexOf(r)?l.prefix+":"+e.slice(r.length):c,n=a.getType(t),(0,m.assign)({},i,{effectiveType:y(n).name})):i;var c=a.getPackage(o.prefix);if(c){if(t=h(o,c),n=a.getType(t),i=(0,m.find)(s.properties,function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)}))return(0,m.assign)({},i,{effectiveType:y(n).name})}else if(i=(0,m.find)(s.properties,function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type}))return i;throw v("unrecognized element <"+o.name+">")},w.prototype.toString=function(){return"ElementDescriptor["+y(this.type).name+"]"},w.prototype.valueHandler=function(e,t){return new c(e,t)},w.prototype.referenceHandler=function(e){return new a(e,this.context)},w.prototype.handler=function(e){return new("Element"===e?E:w)(this.model,e,this.context)},w.prototype.handleChild=function(e){var t=this.getPropertyForNode(e),n=this.element,i=t.effectiveType||t.type;if((0,u.isSimpleType)(i))return this.valueHandler(t,n);e=(i=(t.isReference?this.referenceHandler(t):this.handler(i)).handleNode(e)).element;return void 0!==e&&(t.isMany?n.get(t.name).push(e):n.set(t.name,e),t.isReference?((0,m.assign)(e,{element:n}),this.context.addReference(e)):e.$parent=n),i},(k.prototype=Object.create(w.prototype)).createElement=function(e){var t=e.name,n=(0,u.parseNameNS)(t),i=this.model,o=this.type,i=i.getPackage(n.prefix),t=i&&h(n,i)||t;if(!o.hasType(t))throw v("unexpected element <"+e.originalName+">");return w.prototype.createElement.call(this,e)},(E.prototype=Object.create(f.prototype)).createElement=function(e){var t=e.name,n=(0,u.parseNameNS)(t).prefix,n=e.ns[n+"$uri"],e=e.attributes;return this.model.createAny(t,n,e)},E.prototype.handleChild=function(e){var t=new E(this.model,0,this.context).handleNode(e),n=this.element,e=t.element;return void 0!==e&&((n.$children=n.$children||[]).push(e),e.$parent=n),t},E.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},C.prototype.fromXML=function(s,e,t){var l=e.rootHandler;e instanceof w?(l=e,e={}):"string"==typeof e?(l=this.handler(e),e={}):"string"==typeof l&&(l=this.handler(l));var n=this.model,a=this.lax,c=new b((0,m.assign)({},e,{rootHandler:l})),u=new g.Parser({proxy:!0}),d=(e=[],Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e);function p(e,t,n){var i=t(),o=i.line,t=i.column,i=i.data,t="unparsable content "+((i="<"===i.charAt(0)&&-1!==i.indexOf(" ")?i.slice(0,i.indexOf(" "))+">":i)?i+" ":"")+"detected\n\tline: "+o+"\n\tcolumn: "+t+"\n\tnested error: "+e.message;if(n)return c.addWarning({message:t,error:e}),!0;throw v(t)}function i(e,t){return p(e,t,!0)}l.context=c,d.push(l);var o=/^<\?xml /i,r=/ encoding="([^"]+)"/i,h=/^utf-8$/i;function f(e,t){try{d.peek().handleText(e)}catch(e){i(e,t)}}n=n.getPackages().reduce(function(e,t){return e[t.uri]=t.prefix,e},{"http://www.w3.org/XML/1998/namespace":"xml"});return u.ns(n).on("openTag",function(e,i,t,n){var o=e.attrs||{},r=Object.keys(o).reduce(function(e,t){var n=i(o[t]);return e[t]=n,e},{});!function(e,t){var n=d.peek();try{d.push(n.handleNode(e))}catch(e){p(e,t,a)&&d.push(new x)}}({name:e.name,originalName:e.originalName,attributes:r,ns:e.ns},n)}).on("question",function(e){!o.test(e)||(e=(e=r.exec(e))&&e[1])&&!h.test(e)&&c.addWarning({message:"unsupported document encoding <"+e+">, falling back to UTF-8"})}).on("closeTag",function(){d.pop().handleEnd()}).on("cdata",f).on("text",function(e,t,n){e=t(e),n=n,e.trim()&&f(e,n)}).on("error",p).on("warn",i),new Promise(function(e,t){var n;try{u.parse(s),function(){for(var e=c.elementsById,t=c.references,n=0;o=t[n];n++){var i,o,r=o.element,a=e[o.id],s=y(r).propertiesByName[o.property];a||c.addWarning({message:"unresolved reference <"+o.id+">",element:o.element,property:o.property,value:o.id}),s.isMany?(-1===(o=(i=r.get(s.name)).indexOf(o))&&(o=i.length),a?i[o]=a:i.splice(o,1)):r.set(s.name,a)}}()}catch(e){n=e}var i=l.element;n||i||(n=v("failed to parse document as <"+l.type.$descriptor.name+">"));var o=c.warnings,r=c.references,a=c.elementsById;return n?(n.warnings=o,t(n)):e({rootElement:i,elementsById:a,references:r,warnings:o})})},C.prototype.handler=function(e){return new k(this.model,e)};var S='<?xml version="1.0" encoding="UTF-8"?>\n',T=/<|>|'|"|&|\n\r|\n/g,_=/<|>|&/g;function N(i){var n={},o={},r={},a=[],s=[];this.byUri=function(e){return o[e]||i&&i.byUri(e)},this.add=function(e,t){o[e.uri]=e,(t?a:s).push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return n[e||"xmlns"]},this.mapPrefix=function(e,t){n[e||"xmlns"]=t},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(e){var t=e.uri,n=this.getNSKey(e);r[n]=this.byUri(t),i&&i.logUsed(e)},this.getUsed=function(e){var t=this;return[].concat(a,s).filter(function(e){return e=t.getNSKey(e),r[e]})}}function A(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function P(e){return(0,m.isString)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function I(e,t){return t.isGeneric?(0,m.assign)({localName:t.ns.localName},e):(0,m.assign)({localName:(n=t.ns.localName,i(t=t.$pkg)?(t=n).charAt(0).toLowerCase()+t.slice(1):n)},e);var n}var R={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},M={"<":"lt",">":"gt","&":"amp"};function L(e,t,n){return(e=(0,m.isString)(e)?e:""+e).replace(t,function(e){return"&"+n[e]+";"})}function D(e){this.tagName=e}function j(){}function F(e){this.tagName=e}function O(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function B(e,t){O.call(this,e,t)}function H(){this.value="",this.write=function(e){this.value+=e}}function $(t,e){var n=[""];this.append=function(e){return t.write(e),this},this.appendNewLine=function(){return e&&t.write("\n"),this},this.appendIndent=function(){return e&&t.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}D.prototype.build=function(e){return this.element=e,this},D.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},j.prototype.serializeValue=j.prototype.serializeTo=function(e){e.append(this.escape?L(this.value,_,M):this.value)},j.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(_)&&(this.escape=!0),this},A(F,j),F.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},O.prototype.build=function(e){var n,t=(this.element=e).$descriptor,i=this.propertyDescriptor,o=t.isGeneric,r=o?this.parseGeneric(e):this.parseNsAttributes(e);return this.ns=i?this.nsPropertyTagName(i):this.nsTagName(t),this.tagName=this.addTagName(this.ns),o||(o=(n=e).$descriptor,o=(0,m.filter)(o.properties,function(e){var t=e.name;if(e.isVirtual)return!1;if(!(0,m.has)(n,t))return!1;t=n[t];return t!==e.default&&(null!==t&&(!e.isMany||t.length))}),this.parseAttributes((0,m.filter)(o,function(e){return e.isAttr})),this.parseContainments((0,m.filter)(o,function(e){return!e.isAttr}))),this.parseGenericAttributes(e,r),this},O.prototype.nsTagName=function(e){return I(this.logNamespaceUsed(e.ns),e)},O.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return(0,m.assign)({localName:e.ns.localName},t)},O.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},O.prototype.nsAttributeName=function(e){var t=(0,m.isString)(e)?(0,u.parseNameNS)(e):e.ns;if(e.inherited)return{localName:t.localName};e=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(e),this.isLocalNs(e)?{localName:t.localName}:(0,m.assign)({localName:t.localName},e)},O.prototype.parseGeneric=function(n){var i=this,o=this.body,r=[];return(0,m.forEach)(n,function(e,t){"$body"===t?o.push((new j).build({type:"String"},e)):"$children"===t?(0,m.forEach)(e,function(e){o.push(new O(i).build(e))}):0!==t.indexOf("$")&&i.parseNsAttribute(n,t,e)&&r.push({name:t,value:e})}),r},O.prototype.parseNsAttribute=function(e,t,n){var i,o=e.$model,e=(0,u.parseNameNS)(t);if("xmlns"===e.prefix&&(i={prefix:e.localName,uri:n}),!(i=!e.prefix&&"xmlns"===e.localName?{uri:n}:i))return{name:t,value:n};o&&o.getPackage(n)?this.logNamespace(i,!0,!0):(i=this.logNamespaceUsed(i,!0),this.getNamespaces().logUsed(i))},O.prototype.parseNsAttributes=function(n,e){var i=this,t=n.$attrs,o=[];return(0,m.forEach)(t,function(e,t){e=i.parseNsAttribute(n,t,e);e&&o.push(e)}),o},O.prototype.parseGenericAttributes=function(n,e){var i=this;(0,m.forEach)(e,function(t){if(t.name!==d)try{i.addAttribute(i.nsAttributeName(t.name),t.value)}catch(e){console.warn("missing namespace information for ",t.name,"=",t.value,"on",n,e)}})},O.prototype.parseContainments=function(e){var r=this,a=this.body,s=this.element;(0,m.forEach)(e,function(n){var i,o,e=s.get(n.name),t=n.isReference;n.isMany||(e=[e]),n.isBody?a.push((new j).build(n,e[0])):(0,u.isSimpleType)(n.type)?(0,m.forEach)(e,function(e){a.push(new F(r.addTagName(r.nsPropertyTagName(n))).build(n,e))}):t?(0,m.forEach)(e,function(e){a.push(new D(r.addTagName(r.nsPropertyTagName(n))).build(e))}):(i=p(n),o="property"===l(n),(0,m.forEach)(e,function(e){var t=i?new B(r,n):o?new O(r,n):new O(r);a.push(t.build(e))}))})},O.prototype.getNamespaces=function(e){var t=this.namespaces,n=this.parent;return t||(n=n&&n.getNamespaces(),e||!n?this.namespaces=t=new N(n):t=n),t},O.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),o=e.uri,r=e.prefix;return i.byUri(o)&&!n||i.add(e,t),i.mapPrefix(r,o),e},O.prototype.logNamespaceUsed=function(e,t){var n,i,o=this.element.$model,r=this.getNamespaces(t),a=e.prefix,t=e.uri;if(!a&&!t)return{localName:e.localName};if(o=s[a]||o&&(o.getPackage(a)||{}).uri,!(t=t||o||r.uriByPrefix(a)))throw new Error("no namespace uri given for prefix <"+a+">");if(!(e=r.byUri(t))){for(n=a,i=1;r.uriByPrefix(n);)n=a+"_"+i++;e=this.logNamespace({prefix:n,uri:t},o===t)}return a&&r.mapPrefix(a,t),e},O.prototype.parseAttributes=function(e){var i=this,o=this.element;(0,m.forEach)(e,function(e){var t,n=o.get(e.name);e.isReference&&(n=e.isMany?(t=[],(0,m.forEach)(n,function(e){t.push(e.id)}),t.join(" ")):n.id),i.addAttribute(i.nsAttributeName(e),n)})},O.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),P(e)},O.prototype.addAttribute=function(e,t){var n=this.attrs;(0,m.isString)(t)&&(t=L(t,T,R)),n.push({name:e,value:t})},O.prototype.serializeAttributes=function(t){var e=this.attrs,n=this.namespaces;n&&(e=n.getUsed().filter(function(e){return"xml"!==e.prefix}).map(function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}).concat(e)),(0,m.forEach)(e,function(e){t.append(" ").append(P(e.name)).append('="').append(e.value).append('"')})},O.prototype.serializeTo=function(t){var e=this.body[0],n=e&&e.constructor!==j;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(e?">":" />"),e&&(n&&t.appendNewLine().indent(),(0,m.forEach)(this.body,function(e){e.serializeTo(t)}),n&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},A(B,O),B.prototype.parseNsAttributes=function(e){var t=O.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);e=e.$model.getPackage(i.uri),e=e.xml&&e.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(d),(i.prefix?i.prefix+":":"")+e+n.ns.localName),t},B.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri}},{"min-dash":834,moddle:838,saxen:845}],838:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Moddle=m,n.coerceType=function(e,t){e=r[e];return e?e(t):t},n.isBuiltInType=l,n.isSimpleType=function(e){return!!r[e]},n.parseNameNS=c;var s=e("min-dash");function a(){}function i(e,t){this.model=e,this.properties=t}a.prototype.get=function(e){return this.$model.properties.get(this,e)},a.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},i.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(a.prototype);(0,s.forEach)(e.properties,function(e){e.isMany||void 0===e.default||(i[e.name]=e.default)}),n.defineModel(i,t),n.defineDescriptor(i,e);var o=e.ns.name;function r(e){n.define(this,"$type",{value:o,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),(0,s.forEach)(e,(0,s.bind)(function(e,t){this.set(t,e)},this))}return r.prototype=i,r.hasType=i.$instanceOf=this.model.hasType,n.defineModel(r,t),n.defineDescriptor(r,e),r};var o={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},r={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function l(e){return!!o[e]}function c(e,t){var n,i,o=e.split(/:/);if(1===o.length)n=e,i=t;else{if(2!==o.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=o[1],i=o[0]}return{name:e=(i?i+":":"")+n,prefix:i,localName:n}}function u(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function d(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,(0,s.forEach)(e,(0,s.bind)(this.registerPackage,this))}function p(e,t,n){t=t[n];if(t in e)throw new Error("package with "+n+" <"+t+"> already defined")}function h(e){this.model=e}function f(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function m(e){this.properties=new h(this),this.factory=new i(this,this.properties),this.registry=new d(e,this.properties),this.typeCache={}}u.prototype.build=function(){return(0,s.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},u.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);n=this.properties;void 0!==t?n.splice(t,0,e):n.push(e)},u.prototype.replaceProperty=function(e,t,n){var i=e.ns,o=this.properties,r=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}e=o.indexOf(e);if(-1===e)throw new Error("property <"+i.name+"> not found in property list");o.splice(e,1),this.addProperty(t,n?void 0:e,a),r[i.name]=r[i.localName]=t},u.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,t=t.split("#"),i=c(t[0],i),t=c(t[1],i.prefix).name,i=this.propertiesByName[t];if(!i)throw new Error("refined property <"+t+"> not found");this.replaceProperty(i,e,n),delete e.redefines},u.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},u.prototype.removeNamedProperty=function(e){var t=e.ns,e=this.propertiesByName;delete e[t.name],delete e[t.localName]},u.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},u.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},u.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},u.prototype.hasProperty=function(e){return this.propertiesByName[e]},u.prototype.addTrait=function(i,o){var e=this.allTypesByName,t=this.allTypes,n=i.name;n in e||((0,s.forEach)(i.properties,(0,s.bind)(function(e){e=(0,s.assign)({},e,{name:e.ns.localName,inherited:o}),Object.defineProperty(e,"definedBy",{value:i});var t=e.replaces,n=e.redefines;t||n?this.redefineProperty(e,t||n,t):(e.isBody&&this.setBodyProperty(e),e.isId&&this.setIdProperty(e),this.addProperty(e))},this)),t.push(i),e[n]=i)},d.prototype.getPackage=function(e){return this.packageMap[e]},d.prototype.getPackages=function(){return this.packages},d.prototype.registerPackage=function(t){t=(0,s.assign)({},t);var e=this.packageMap;p(e,t,"prefix"),p(e,t,"uri"),(0,s.forEach)(t.types,(0,s.bind)(function(e){this.registerType(e,t)},this)),e[t.uri]=e[t.prefix]=t,this.packages.push(t)},d.prototype.registerType=function(e,t){var i=c((e=(0,s.assign)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:(0,s.assign)(e.meta||{})})).name,t.prefix),n=i.name,o={};(0,s.forEach)(e.properties,(0,s.bind)(function(e){var t=c(e.name,i.prefix),n=t.name;l(e.type)||(e.type=c(e.type,t.prefix).name),(0,s.assign)(e,{ns:t,name:n}),o[n]=e},this)),(0,s.assign)(e,{ns:i,name:n,propertiesByName:o}),(0,s.forEach)(e.extends,(0,s.bind)(function(e){e=this.typeMap[e];e.traits=e.traits||[],e.traits.push(n)},this)),this.definePackage(e,t),this.typeMap[n]=e},d.prototype.mapTypes=function(n,i,e){var t=l(n.name)?{name:n.name}:this.typeMap[n.name],o=this;function r(e){return a(e,!0)}function a(e,t){e=c(e,l(e)?"":n.prefix);o.mapTypes(e,i,t)}if(!t)throw new Error("unknown type <"+n.name+">");(0,s.forEach)(t.superClass,e?r:a),i(t,!e),(0,s.forEach)(t.traits,r)},d.prototype.getEffectiveDescriptor=function(e){var e=c(e),n=new u(e);this.mapTypes(e,function(e,t){n.addTrait(e,t)});e=n.build();return this.definePackage(e,e.allTypes[e.allTypes.length-1].$pkg),e},d.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},h.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),o=i&&i.name;void 0===n?i?delete e[o]:delete e.$attrs[t]:i?o in e?e[o]=n:f(e,i,n):e.$attrs[t]=n},h.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];t=n.name;return!e[t]&&n.isMany&&f(e,n,[]),e[t]},h.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},h.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},h.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},m.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},m.prototype.getType=function(e){var t=this.typeCache,n=(0,s.isString)(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},m.prototype.createAny=function(e,t,n){var i=c(e),o={$type:e,$instanceOf:function(e){return e===this.$type}},t={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(o,t),this.properties.defineModel(o,this),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),(0,s.forEach)(n,function(e,t){(0,s.isObject)(e)&&void 0!==e.value?o[e.name]=e.value:o[t]=e}),o},m.prototype.getPackage=function(e){return this.registry.getPackage(e)},m.prototype.getPackages=function(){return this.registry.getPackages()},m.prototype.getElementDescriptor=function(e){return e.$descriptor},m.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},m.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},m.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]}},{"min-dash":834}],839:[function(e,t,n){t.exports=e("./lib/refs"),t.exports.Collection=e("./lib/collection")},{"./lib/collection":840,"./lib/refs":841}],840:[function(e,t,n){"use strict";t.exports.extend=function(e,i,t,o){var r=t.inverse;return Object.defineProperty(e,"remove",{value:function(e){var t=this.indexOf(e);return-1!==t&&(this.splice(t,1),i.unset(e,r,o)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,t){var n=this.indexOf(e);if(void 0===t){if(-1!==n)return;t=this.length}-1!==n&&this.splice(n,1),this.splice(t,0,e),-1===n&&i.set(e,r,o)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},t.exports.isExtended=function(e){return!0===e.__refs_collection}},{}],841:[function(e,t,n){"use strict";var o=e("./collection");function a(t,n,i){var e=o.extend(i[n.name]||[],t,n,i);Object.defineProperty(i,n.name,{enumerable:n.enumerable,value:e}),e.length&&e.forEach(function(e){t.set(e,n.inverse,i)})}function i(e,t){if(!(this instanceof i))return new i(e,t);(e.inverse=t).inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}i.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}var n,i,o,r;t.collection?a(this,t,e):(n=this,i=e,o=(t=t).inverse,r=i[t.name],Object.defineProperty(i,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(e){var t;e!==r&&(t=r,r=null,t&&n.unset(t,o,i),r=e,n.set(r,o,i))}}))},i.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return o.isExtended(n)||a(this,t,e),n},i.prototype.ensureBound=function(e,t){var n;n=t,Object.prototype.hasOwnProperty.call(e,n.name||n)||this.bind(e,t)},i.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},i.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},t.exports=i},{"./collection":840}],842:[function(e,t,n){"use strict";var i=/,?([a-z]),?/gi,d=parseFloat,S=Math,T=S.PI,k=S.min,E=S.max,h=S.pow,_=S.abs,v=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,y=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,b=Array.isArray||function(e){return e instanceof Array};function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e){if("function"==typeof e||Object(e)!==e)return e;var t,n=new e.constructor;for(t in e)a(e,t)&&(n[t]=x(e[t]));return n}function N(o){function r(){var e=Array.prototype.slice.call(arguments,0),t=e.join("␀"),n=r.cache=r.cache||{},i=r.count=r.count||[];return a(n,t)?function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}(i,t):(1e3<=i.length&&delete n[i.shift()],i.push(t),n[t]=o.apply(0,e)),n[t]}return r}function w(t){var n=w.ps=w.ps||{};return n[t]?n[t].sleep=100:n[t]={sleep:100},setTimeout(function(){for(var e in n)a(n,e)&&e!=t&&(n[e].sleep--,n[e].sleep||delete n[e])}),n[t]}function C(e,t,n,i){return 1===arguments.length&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,height:i,x2:e+n,y2:t+i}}function A(){return this.join(",").replace(i,"$1")}function P(e){e=x(e);return e.toString=A,e}function I(e,t,n,i,o,r,a,s,l){var c=1-l,u=h(c,3),d=h(c,2),p=l*l*l,s=u*t+3*d*l*i+3*c*l*l*r+p*s;return{x:D(u*e+3*d*l*n+3*c*l*l*o+p*a),y:D(s)}}function R(e){e=function(e,t,n,i,o,r,a,s){for(var l,c,u,d,p,h=[],f=[[],[]],m=0;m<2;++m)p=0==m?(c=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*a,3*n-3*e):(c=6*t-12*i+6*r,l=-3*t+9*i-9*r+3*s,3*i-3*t),_(l)<1e-12?_(c)<1e-12||0<(u=-p/c)&&u<1&&h.push(u):(d=c*c-4*p*l,p=S.sqrt(d),d<0||(0<(d=(-c+p)/(2*l))&&d<1&&h.push(d),0<(p=(-c-p)/(2*l))&&p<1&&h.push(p)));var g,v=h.length,y=v;for(;v--;)u=h[v],g=1-u,f[0][v]=g*g*g*e+3*g*g*u*n+3*g*u*u*o+u*u*u*a,f[1][v]=g*g*g*t+3*g*g*u*i+3*g*u*u*r+u*u*u*s;return f[0][y]=e,f[1][y]=t,f[0][y+1]=a,f[1][y+1]=s,f[0].length=f[1].length=y+2,{x0:k.apply(0,f[0]),y0:k.apply(0,f[1]),x1:E.apply(0,f[0]),y1:E.apply(0,f[1])}}.apply(null,e);return C(e.x0,e.y0,e.x1-e.x0,e.y1-e.y0)}function M(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function g(e,t,n,i,o){return e*(e*(-3*t+9*n-9*i+3*o)+6*t-12*n+6*i)-3*t+3*n}function L(e,t,n,i,o,r,a,s,l){for(var c=(l=1<(l=null==l?1:l)?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,h=0;h<12;h++){var f=c*u[h]+c,m=g(f,e,n,o,a),f=g(f,t,i,r,s);p+=d[h]*S.sqrt(m*m+f*f)}return c*p}function D(e){return Math.round(1e11*e)/1e11}function j(e,t,n){var i=R(e),o=R(t);if(o=o,i=C(i=i),!(M(o=C(o),i.x,i.y)||M(o,i.x2,i.y)||M(o,i.x,i.y2)||M(o,i.x2,i.y2)||M(i,o.x,o.y)||M(i,o.x2,o.y)||M(i,o.x,o.y2)||M(i,o.x2,o.y2)||(i.x<o.x2&&i.x>o.x||o.x<i.x2&&o.x>i.x)&&(i.y<o.y2&&i.y>o.y||o.y<i.y2&&o.y>i.y)))return n?0:[];for(var o=L.apply(0,e),i=L.apply(0,t),r=!F(e)&&~~(o/5)||1,a=!F(t)&&~~(i/5)||1,s=[],l=[],c={},u=n?0:[],d=0;d<r+1;d++){var p=I.apply(0,e.concat(d/r));s.push({x:p.x,y:p.y,t:d/r})}for(d=0;d<a+1;d++)p=I.apply(0,t.concat(d/a)),l.push({x:p.x,y:p.y,t:d/a});for(d=0;d<r;d++)for(var h=0;h<a;h++){var f,m=s[d],g=s[d+1],v=l[h],y=l[h+1],b=_(g.x-m.x)<.01?"y":"x",x=_(y.x-v.x)<.01?"y":"x",w=function(e,t,n,i,o,r,a,s){if(!(E(e,n)<k(o,a)||k(e,n)>E(o,a)||E(t,i)<k(r,s)||k(t,i)>E(r,s))){var l=(e*i-t*n)*(o-a)-(e-n)*(o*s-r*a),c=(e*i-t*n)*(r-s)-(t-i)*(o*s-r*a),u=(e-n)*(r-s)-(t-i)*(o-a);if(u){var d=D(l/u),l=D(c/u),c=+d.toFixed(2),u=+l.toFixed(2);if(!(c<+k(e,n).toFixed(2)||c>+E(e,n).toFixed(2)||c<+k(o,a).toFixed(2)||c>+E(o,a).toFixed(2)||u<+k(t,i).toFixed(2)||u>+E(t,i).toFixed(2)||u<+k(r,s).toFixed(2)||u>+E(r,s).toFixed(2)))return{x:d,y:l}}}}(m.x,m.y,g.x,g.y,v.x,v.y,y.x,y.y);w&&(c[f=w.x.toFixed(9)+"#"+w.y.toFixed(9)]||(c[f]=!0,m=m.t+_((w[b]-m[b])/(g[b]-m[b]))*(g.t-m.t),v=v.t+_((w[x]-v[x])/(y[x]-v[x]))*(y.t-v.t),0<=m&&m<=1&&0<=v&&v<=1&&(n?u++:u.push({x:w.x,y:w.y,t1:m,t2:v}))))}return u}function p(e){var t=w(e);if(t.abs)return P(t.abs);if(!(e=!b(e)||!b(e&&e[0])?function(e){if(!e)return null;var t=w(e);if(t.arr)return x(t.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[];return(a=b(e)&&b(e[0])?x(e):a).length||String(e).replace(v,function(e,t,n){var i=[],o=t.toLowerCase();for(n.replace(y,function(e,t){t&&i.push(+t)}),"m"==o&&2<i.length&&(a.push([t].concat(i.splice(0,2))),o="l",t="m"==t?"l":"L");i.length>=r[o]&&(a.push([t].concat(i.splice(0,r[o]))),r[o]););}),a.toString=w.toString,t.arr=x(a),a}(e):e)||!e.length)return[["M",0,0]];var n,i=[],o=0,r=0,a=0,s=0,l=0;"M"==e[0][0]&&(a=o=+e[0][1],s=r=+e[0][2],l++,i[0]=["M",o,r]);for(var c,u,d=l,p=e.length;d<p;d++){if(i.push(c=[]),(n=(u=e[d])[0])!=n.toUpperCase())switch(c[0]=n.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+o,c[7]=+u[7]+r;break;case"V":c[1]=+u[1]+r;break;case"H":c[1]=+u[1]+o;break;case"M":a=+u[1]+o,s=+u[2]+r;default:for(var h=1,f=u.length;h<f;h++)c[h]=+u[h]+(h%2?o:r)}else for(var m=0,g=u.length;m<g;m++)c[m]=u[m];switch(n=n.toUpperCase(),c[0]){case"Z":o=+a,r=+s;break;case"H":o=c[1];break;case"V":r=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];default:o=c[c.length-2],r=c[c.length-1]}}return i.toString=A,t.abs=P(i),i}function F(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function f(e,t,n,i){return[e,t,n,i,n,i]}function m(e,t,n,i,o,r){return[1/3*e+2/3*n,1/3*t+2/3*i,1/3*o+2/3*n,1/3*r+2/3*i,o,r]}function O(e,t,n,i,o,r,a,s,l,c){var u,d,p,h=120*T/180,f=T/180*(+o||0),m=[],g=N(function(e,t,n){return{x:e*S.cos(n)-t*S.sin(n),y:e*S.sin(n)+t*S.cos(n)}});c?(x=c[0],w=c[1],y=c[2],b=c[3]):(e=(d=g(e,t,-f)).x,t=d.y,1<(v=(p=(e-(s=(d=g(s,l,-f)).x))/2)*p/(n*n)+(u=(t-(l=d.y))/2)*u/(i*i))&&(n*=v=S.sqrt(v),i*=v),y=(d=(r==a?-1:1)*S.sqrt(_(((d=n*n)*(v=i*i)-d*u*u-v*p*p)/(d*u*u+v*p*p))))*n*u/i+(e+s)/2,x=S.asin(((t-(b=d*-i*p/n+(t+l)/2))/i).toFixed(9)),w=S.asin(((l-b)/i).toFixed(9)),(x=e<y?T-x:x)<0&&(x=2*T+x),(w=s<y?T-w:w)<0&&(w=2*T+w),a&&w<x&&(x-=2*T),!a&&x<w&&(w-=2*T)),_(v=w-x)>h&&(u=w,d=s,p=l,m=O(s=y+n*S.cos(w=x+h*(a&&x<w?1:-1)),l=b+i*S.sin(w),n,i,o,0,a,d,p,[w,u,y,b]));var v=w-x,y=S.cos(x),b=S.sin(x),x=S.cos(w),w=S.sin(w),v=S.tan(v/4),n=4/3*n*v,i=4/3*i*v,v=[e,t],y=[e+n*b,t-i*y],x=[s+n*w,l-i*x],l=[s,l];if(y[0]=2*v[0]-y[0],y[1]=2*v[1]-y[1],c)return[y,x,l].concat(m);for(var k=[],E=0,C=(m=[y,x,l].concat(m).join().split(",")).length;E<C;E++)k[E]=E%2?g(m[E-1],m[E],f).y:g(m[E],m[E+1],f).x;return k}function B(e){var t=w(e);if(t.curve)return P(t.curve);for(var i=p(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],r="",a="",s=0,l=i.length;s<l;s++){"C"!=(r=i[s]?i[s][0]:r)&&(o[s]=r,s&&(a=o[s-1])),i[s]=function(e,t,n){var i,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(O.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":o="C"==n||"S"==n?(i=2*t.x-t.bx,2*t.y-t.by):(i=t.x,t.y),e=["C",i,o].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(m(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(m(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(f(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(f(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(f(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(f(t.x,t.y,t.X,t.Y))}return e}(i[s],n,a),"A"!=o[s]&&"C"==r&&(o[s]="C"),function(e,t){if(7<e[t].length){e[t].shift();for(var n=e[t];n.length;)o[t]="A",e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),l=i.length}}(i,s);var c=i[s],u=c.length;n.x=c[u-2],n.y=c[u-1],n.bx=d(c[u-4])||n.x,n.by=d(c[u-3])||n.y}return t.curve=P(i),i}t.exports=function(e,t,n){e=B(e),t=B(t);for(var i,o,r,a,s,l,c,u,d=n?0:[],p=0,h=e.length;p<h;p++){var f=e[p];if("M"==f[0])i=r=f[1],m=a=f[2];else for(var m="C"==f[0]?(i=(c=[i,m].concat(f.slice(1)))[6],c[7]):(c=[i,m,i,m,r,a,r,a],i=r,a),g=0,v=t.length;g<v;g++){var y=t[g];if("M"==y[0])o=s=y[1],b=l=y[2];else{var b="C"==y[0]?(o=(u=[o,b].concat(y.slice(1)))[6],u[7]):(u=[o,b,o,b,s,l,s,l],o=s,l),x=j(c,u,n);if(n)d+=x;else{for(var w=0,k=x.length;w<k;w++)x[w].segment1=p,x[w].segment2=g,x[w].bez1=c,x[w].bez2=u;d=d.concat(x)}}}}return d}},{}],843:[function(e,t,J){!function(Z){!function(){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function r(e){return e&&"[object Function]"==={}.toString.call(e)}function d(e,t){if(1!==e.nodeType)return[];e=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?e[t]:e}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=d(e),n=t.overflow,i=t.overflowX,t=t.overflowY;return/(auto|scroll|overlay)/.test(n+t+i)?e:u(c(e))}function p(e){return e&&e.referenceNode?e.referenceNode:e}var t=n&&!(!window.MSInputMethodContext||!document.documentMode),a=n&&/MSIE 10/.test(navigator.userAgent);function h(e){return 11===e?t:10!==e&&t||a}function g(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===d(n,"position")?g(n):n:(e?e.ownerDocument:document).documentElement}function s(e){return null!==e.parentNode?s(e.parentNode):e}function f(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,n=document.createRange();n.setStart(i,0),n.setEnd(o,0);n=n.commonAncestorContainer;if(e!==n&&t!==n||i.contains(o))return"BODY"===(o=(i=n).nodeName)||"HTML"!==o&&g(i.firstElementChild)!==i?g(n):n;n=s(e);return n.host?f(n.host,t):f(e,s(t).host)}function m(e,t){var n="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",t=e.nodeName;if("BODY"!==t&&"HTML"!==t)return e[n];t=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||t)[n]}function l(e,t){var n="x"===t?"Left":"Top",t="Left"==n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+t+"Width"])}function v(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],h(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function y(e){var t=e.body,n=e.documentElement,e=h(10)&&getComputedStyle(n);return{height:v("Height",t,n,e),width:v("Width",t,n,e)}}var e=function(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e};function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function k(e){return w({},e,{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{h(10)?(t=e.getBoundingClientRect(),n=m(e,"top"),i=m(e,"left"),t.top+=n,t.left+=i,t.bottom+=n,t.right+=i):t=e.getBoundingClientRect()}catch(e){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?y(e.ownerDocument):{},t=i.width||e.clientWidth||n.width,i=i.height||e.clientHeight||n.height,t=e.offsetWidth-t,i=e.offsetHeight-i;return(t||i)&&(t-=l(e=d(e),"x"),i-=l(e,"y"),n.width-=t,n.height-=i),k(n)}function C(e,t,n){var i=2<arguments.length&&void 0!==n&&n,o=h(10),r="HTML"===t.nodeName,a=E(e),s=E(t),l=u(e),c=d(t),n=parseFloat(c.borderTopWidth),e=parseFloat(c.borderLeftWidth);i&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));a=k({top:a.top-s.top-n,left:a.left-s.left-e,width:a.width,height:a.height});return a.marginTop=0,a.marginLeft=0,!o&&r&&(r=parseFloat(c.marginTop),c=parseFloat(c.marginLeft),a.top-=n-r,a.bottom-=n-r,a.left-=e-c,a.right-=e-c,a.marginTop=r,a.marginLeft=c),a=(o&&!i?t.contains(l):t===l&&"BODY"!==l.nodeName)?function(e,t,n){var i=2<arguments.length&&void 0!==n&&n,n=m(t,"top"),t=m(t,"left"),i=i?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=t*i,e.right+=t*i,e}(a,t):a}function S(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===d(t,"transform");)t=t.parentElement;return t||document.documentElement}function T(e,t,n,i,o){var r=4<arguments.length&&void 0!==o&&o,a={top:0,left:0},s=r?S(e):f(e,p(t));"viewport"===i?a=function(e,t){var n=1<arguments.length&&void 0!==t&&t,i=e.ownerDocument.documentElement,o=C(e,i),r=Math.max(i.clientWidth,window.innerWidth||0),t=Math.max(i.clientHeight,window.innerHeight||0),e=n?0:m(i),i=n?0:m(i,"left");return k({top:e-o.top+o.marginTop,left:i-o.left+o.marginLeft,width:r,height:t})}(s,r):(o=void 0,"scrollParent"===i?"BODY"===(o=u(c(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===i?e.ownerDocument.documentElement:i,l=C(o,s,r),"HTML"!==o.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===d(t,"position"))return!0;t=c(t);return!!t&&e(t)}(s)?a=l:(e=(s=y(e.ownerDocument)).height,s=s.width,a.top+=l.top-l.marginTop,a.bottom=e+l.top,a.left+=l.left-l.marginLeft,a.right=s+l.left));var l="number"==typeof(n=n||0);return a.left+=l?n:n.left||0,a.top+=l?n:n.top||0,a.right-=l?n:n.right||0,a.bottom-=l?n:n.bottom||0,a}function _(e,t,n,i,o,r){r=5<arguments.length&&void 0!==r?r:0;if(-1===e.indexOf("auto"))return e;var o=T(n,i,r,o),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},t=Object.keys(a).map(function(e){return w({key:e},a[e],{area:(e=a[e]).width*e.height})}).sort(function(e,t){return t.area-e.area}),o=t.filter(function(e){var t=e.width,e=e.height;return t>=n.clientWidth&&e>=n.clientHeight}),t=(0<o.length?o:t)[0].key,e=e.split("-")[1];return t+(e?"-"+e:"")}function N(e,t,n,i){i=3<arguments.length&&void 0!==i?i:null;return C(n,i?S(t):f(t,p(n)),i)}function A(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),t=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+t,height:e.offsetHeight+n}}function P(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function I(e,t,n){n=n.split("-")[0];var i=A(e),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",e=r?"height":"width",r=r?"width":"height";return o[a]=t[a]+t[e]/2-i[e]/2,o[s]=n===s?t[s]-i[r]:t[P(s)],o}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function M(e,n,t){return(void 0===t?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=R(e,function(e){return e[t]===n});return e.indexOf(i)}(e,"name",t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&r(t)&&(n.offsets.popper=k(n.offsets.popper),n.offsets.reference=k(n.offsets.reference),n=t(n,e))}),n}function L(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function D(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var o=t[i],o=o?""+o+n:e;if(void 0!==document.body.style[o])return o}return null}function j(e){e=e.ownerDocument;return e?e.defaultView:window}function F(e,t,n,i){n.updateBound=i,j(e).addEventListener("resize",n.updateBound,{passive:!0});e=u(e);return function e(t,n,i,o){var r="BODY"===t.nodeName,t=r?t.ownerDocument.defaultView:t;t.addEventListener(n,i,{passive:!0}),r||e(u(t.parentNode),n,i,o),o.push(t)}(e,"scroll",n.updateBound,n.scrollParents),n.scrollElement=e,n.eventsEnabled=!0,n}function O(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,j(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function B(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(n,i){Object.keys(i).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&B(i[e])&&(t="px"),n.style[e]=i[e]+t})}var $=n&&/Firefox/i.test(navigator.userAgent);function z(e,t,n){var i=R(e,function(e){return e.name===t}),o=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});return o||(e="`"+t+"`",console.warn("`"+n+"`"+" modifier is required by "+e+" modifier in order to work, be sure to include it before "+e+"!")),o}var U=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=U.slice(3);function q(e,t){t=1<arguments.length&&void 0!==t&&t,e=V.indexOf(e),e=V.slice(e+1).concat(V.slice(0,e));return t?e.reverse():e}var W="flip",K="clockwise",G="counterclockwise";function Y(e,s,l,t){var o=[0,0],i=-1!==["right","left"].indexOf(t),n=e.split(/(\+|\-)/).map(function(e){return e.trim()}),t=n.indexOf(R(n,function(e){return-1!==e.search(/,|\s/)}));n[t]&&-1===n[t].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");e=/\s*,\s*|\s+/;return(-1!==t?[n.slice(0,t).concat([n[t].split(e)[0]]),[n[t].split(e)[1]].concat(n.slice(t+1))]:[n]).map(function(e,t){var a=(1===t?!i:i)?"height":"width",n=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,n=!0,e):n?(e[e.length-1]+=t,n=!1,e):e.concat(t)},[]).map(function(e){return n=a,i=s,o=l,e=+(r=(t=e).match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1],r=r[2],e?0===r.indexOf("%")?k("%p"===r?i:o)[n]/100*e:"vh"!==r&&"vw"!==r?e:("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*e:t;var t,n,i,o,r})}).forEach(function(n,i){n.forEach(function(e,t){B(e)&&(o[i]+=e*("-"===n[t-1]?-1:1))})}),o}var X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,n,i=e.placement,o=i.split("-")[0],r=i.split("-")[1];return r&&(t=(n=e.offsets).reference,i=n.popper,o=(n=-1!==["bottom","top"].indexOf(o))?"width":"height",o={start:x({},n=n?"left":"top",t[n]),end:x({},n,t[n]+t[o]-i[o])},e.offsets.popper=w({},i,o[r])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,o=(r=e.offsets).popper,t=r.reference,r=i.split("-")[0],i=void 0,i=B(+n)?[+n,0]:Y(n,o,t,r);return"left"===r?(o.top+=i[0],o.left-=i[1]):"right"===r?(o.top+=i[0],o.left+=i[1]):"top"===r?(o.left+=i[0],o.top-=i[1]):"bottom"===r&&(o.left+=i[0],o.top+=i[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,i){var t=i.boundariesElement||g(e.instance.popper);e.instance.reference===t&&(t=g(t));var n=D("transform"),o=e.instance.popper.style,r=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var l=T(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed);o.top=r,o.left=a,o[n]=s,i.boundaries=l;var s=i.priority,c=e.offsets.popper,u={primary:function(e){var t=c[e];return c[e]<l[e]&&!i.escapeWithReference&&(t=Math.max(c[e],l[e])),x({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=c[t];return c[e]>l[e]&&!i.escapeWithReference&&(n=Math.min(c[t],l[e]-("right"===e?c.width:c.height))),x({},t,n)}};return s.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=w({},c,u[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=(r=e.offsets).popper,n=r.reference,i=e.placement.split("-")[0],o=Math.floor,r=(a=-1!==["top","bottom"].indexOf(i))?"right":"bottom",i=a?"left":"top",a=a?"width":"height";return t[r]<o(n[i])&&(e.offsets.popper[i]=o(n[i])-t[a]),t[i]>o(n[r])&&(e.offsets.popper[i]=o(n[r])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!z(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=(u=e.offsets).popper,r=u.reference,a=-1!==["left","right"].indexOf(i),s=a?"height":"width",l=a?"Top":"Left",c=l.toLowerCase(),t=a?"left":"top",u=a?"bottom":"right",i=A(n)[s];return r[u]-i<o[c]&&(e.offsets.popper[c]-=o[c]-(r[u]-i)),r[c]+i>o[u]&&(e.offsets.popper[c]+=r[c]+i-o[u]),e.offsets.popper=k(e.offsets.popper),a=r[c]+r[s]/2-i/2,u=d(e.instance.popper),r=parseFloat(u["margin"+l]),l=parseFloat(u["border"+l+"Width"]),l=a-e.offsets.popper[c]-r-l,l=Math.max(Math.min(o[s]-i,l),0),e.arrowElement=n,e.offsets.arrow=(x(n={},c,Math.round(l)),x(n,t,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(c,u){if(L(c.instance.modifiers,"inner"))return c;if(c.flipped&&c.placement===c.originalPlacement)return c;var d=T(c.instance.popper,c.instance.reference,u.padding,u.boundariesElement,c.positionFixed),p=c.placement.split("-")[0],h=P(p),f=c.placement.split("-")[1]||"",m=[];switch(u.behavior){case W:m=[p,h];break;case K:m=q(p);break;case G:m=q(p,!0);break;default:m=u.behavior}return m.forEach(function(e,t){if(p!==e||m.length===t+1)return c;p=c.placement.split("-")[0],h=P(p);var n=c.offsets.popper,i=c.offsets.reference,o=Math.floor,r="left"===p&&o(n.right)>o(i.left)||"right"===p&&o(n.left)<o(i.right)||"top"===p&&o(n.bottom)>o(i.top)||"bottom"===p&&o(n.top)<o(i.bottom),a=o(n.left)<o(d.left),s=o(n.right)>o(d.right),l=o(n.top)<o(d.top),e=o(n.bottom)>o(d.bottom),i="left"===p&&a||"right"===p&&s||"top"===p&&l||"bottom"===p&&e,n=-1!==["top","bottom"].indexOf(p),o=!!u.flipVariations&&(n&&"start"===f&&a||n&&"end"===f&&s||!n&&"start"===f&&l||!n&&"end"===f&&e),l=!!u.flipVariationsByContent&&(n&&"start"===f&&s||n&&"end"===f&&a||!n&&"start"===f&&e||!n&&"end"===f&&l),l=o||l;(r||i||l)&&(c.flipped=!0,(r||i)&&(p=m[t+1]),l&&(f="end"===(l=f)?"start":"start"===l?"end":l),c.placement=p+(f?"-"+f:""),c.offsets.popper=w({},c.offsets.popper,I(c.instance.popper,c.offsets.reference,c.placement)),c=M(c.instance.modifiers,c,"flip"))}),c},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=(a=e.offsets).popper,o=a.reference,r=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[r?"left":"top"]=o[n]-(a?i[r?"width":"height"]:0),e.placement=P(t),e.offsets.popper=k(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!z(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,o=e.offsets.popper;void 0!==(f=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration)&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r,a,s,l,c=void 0!==f?f:t.gpuAcceleration,u=g(e.instance.popper),d=E(u),p={position:o.position},h=(r=e,h=window.devicePixelRatio<2||!$,m=(l=r.offsets).popper,a=l.reference,s=Math.round,f=Math.floor,t=function(e){return e},o=s(a.width),l=s(m.width),a=-1!==["left","right"].indexOf(r.placement),r=-1!==r.placement.indexOf("-"),f=h?a||r||o%2==l%2?s:f:t,t=h?s:t,{left:f(o%2==1&&l%2==1&&!r&&h?m.left-1:m.left),top:t(m.top),bottom:t(m.bottom),right:f(m.right)}),t="bottom"===n?"top":"bottom",f="right"===i?"left":"right",m=D("transform"),n=void 0,i=void 0,i="bottom"==t?"HTML"===u.nodeName?-u.clientHeight+h.bottom:-d.height+h.bottom:h.top,n="right"==f?"HTML"===u.nodeName?-u.clientWidth+h.right:-d.width+h.right:h.left;return c&&m?(p[m]="translate3d("+n+"px, "+i+"px, 0)",p[t]=0,p[f]=0,p.willChange="transform"):(m="right"==f?-1:1,p[t]=i*("bottom"==t?-1:1),p[f]=n*m,p.willChange=t+", "+f),f={"x-placement":e.placement},e.attributes=w({},f,e.attributes),e.styles=w({},p,e.styles),e.arrowStyles=w({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return H(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,o){return o=N(o,t,e,n.positionFixed),e=_(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding),t.setAttribute("x-placement",e),H(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},e=(e(Q,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=_(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=M(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[D("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return O.call(this)}}]),Q);function Q(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Q),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=o(this.update.bind(this)),this.options=w({},Q.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(w({},Q.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=w({},Q.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return w({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&r(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();t=this.options.eventsEnabled;t&&this.enableEventListeners(),this.state.eventsEnabled=t}e.Utils=("undefined"!=typeof window?window:Z).PopperUtils,e.placements=U,e.Defaults=X,J.default=e}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],844:[function(e,t,n){t.exports=function(e){this.ok=!1,this.alpha=1,e=(e=(e="#"==e.charAt(0)?e.substr(1,6):e).replace(/ /g,"")).toLowerCase();var u={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=u[e]||e;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],t=0;t<d.length;t++){var n=d[t].re,i=d[t].process,n=n.exec(e);n&&(n=i(n),this.r=n[0],this.g=n[1],this.b=n[2],3<n.length&&(this.alpha=n[3]),this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.alpha=this.alpha<0?0:1<this.alpha||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return"#"+(e=1==e.length?"0"+e:e)+(t=1==t.length?"0"+t:t)+(n=1==n.length?"0"+n:n)},this.getHelpXML=function(){for(var e,t=new Array,n=0;n<d.length;n++)for(var i=d[n].example,o=0;o<i.length;o++)t[t.length]=i[o];for(e in u)t[t.length]=e;var r=document.createElement("ul");r.setAttribute("id","rgbcolor-examples");for(n=0;n<t.length;n++)try{var a=document.createElement("li"),s=new RGBColor(t[n]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+s.toHex()+"; color:"+s.toHex(),l.appendChild(document.createTextNode("test"));var c=document.createTextNode(" "+t[n]+" -> "+s.toRGB()+" -> "+s.toHex());a.appendChild(l),a.appendChild(c),r.appendChild(a)}catch(e){}return r}}},{}],845:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=function e(t){if(!this)return new e(t);var C=t&&t.proxy;var S,T,_,N,n,A,P,I,i=p;var R=d;var M=!1;var L=!1;var o=null;var D=!1;var j;function F(e){e instanceof Error||(e=u(e)),i(o=e,R)}function O(e){n&&(e instanceof Error||(e=u(e)),n(e,R))}this.on=function(e,t){if("function"!=typeof t)throw u("required args <name, cb>");switch(e){case"openTag":T=t;break;case"text":S=t;break;case"closeTag":_=t;break;case"error":i=t;break;case"warn":n=t;break;case"cdata":N=t;break;case"attention":I=t;break;case"question":P=t;break;case"comment":A=t;break;default:throw u("unsupported event: "+e)}return this};this.ns=function(e){if("object"!=typeof(e=void 0===e?{}:e))throw u("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n[l]=c,L=!0,j=n,this};this.parse=function(e){if("string"!=typeof e)throw u("required args <xml=string>");return o=null,r(e),R=d,D=!1,o};this.stop=function(){D=!0};function r(a){var e,t,n,i,o,r,s,l,c,u,y,d=L?[]:null,b=L?W(j):null,p=[],x=0,h=!1,f=!1,m=0,g=0,w="",k=0;function v(){if(null!==y)return y;var e,t,n,i,o,r,a,s,l,c,u,d=L&&b.xmlns,p=L&&M?[]:null,h=k,f=w,m=f.length,g={},v={};e:for(;h<m;h++)if(l=!1,!(32===(c=f.charCodeAt(h))||c<14&&8<c)){for((c<65||122<c||90<c&&c<97)&&95!==c&&58!==c&&(O("illegal first char attribute name"),l=!0),u=h+1;u<m;u++)if(!(96<(c=f.charCodeAt(u))&&c<123||64<c&&c<91||47<c&&c<59||46===c||45===c||95===c)){if(32===c||c<14&&8<c){O("missing attribute value"),h=u;continue e}if(61===c)break;O("illegal attribute name char"),l=!0}if("xmlns:xmlns"===(s=f.substring(h,u))&&(O("illegal declaration of xmlns"),l=!0),34===(c=f.charCodeAt(u+1)))-1===(u=f.indexOf('"',h=u+2))&&-1!==(u=f.indexOf("'",h))&&(O("attribute value quote missmatch"),l=!0);else if(39===c)-1===(u=f.indexOf("'",h=u+2))&&-1!==(u=f.indexOf('"',h))&&(O("attribute value quote missmatch"),l=!0);else for(O("missing attribute value quotes"),l=!0,u+=1;u<m&&!(32===(c=f.charCodeAt(u+1))||c<14&&8<c);u++);for(-1===u&&(O("missing closing quotes"),u=m,l=!0),l||(r=f.substring(h,u)),h=u;u+1<m&&!(32===(c=f.charCodeAt(u+1))||c<14&&8<c);u++)h===u&&(O("illegal character after attribute end"),l=!0);if(h=u+1,!l)if(s in v)O("attribute <"+s+"> already defined");else if(v[s]=!0,L)if(M)if(null===(o="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null))p.push(s,r);else{if(e=B(r),t=q(o),!(a=j[e])){if("xmlns"===o||t in b&&b[t]!==e)for(;a="ns"+x++,void 0!==b[a];);else a=o;j[e]=a}b[o]!==a&&(i||(b=V(b),i=!0),b[o]=a,"xmlns"===o&&(b[q(a)]=e,d=a),b[t]=e),g[s]=r}else-1!==(c=s.indexOf(":"))?(n=b[s.substring(0,c)])?((s=d===n?s.substr(c+1):n+s.substr(c))===H&&(r=-1!==(c=r.indexOf(":"))?(n=r.substring(0,c),(n=b[n]||n)+r.substring(c)):d+":"+r),g[s]=r):O(z(s.substring(0,c))):g[s]=r;else g[s]=r}if(M)for(h=0,m=p.length;h<m;h++){if(s=p[h++],r=p[h],-1!==(c=s.indexOf(":"))){if(!(n=b[s.substring(0,c)])){O(z(s.substring(0,c)));continue}(s=d===n?s.substr(c+1):n+s.substr(c))===H&&(r=-1!==(c=r.indexOf(":"))?(n=r.substring(0,c),(n=b[n]||n)+r.substring(c)):d+":"+r)}g[s]=r}return y=g}function E(){for(var e,t=/(\r\n|\r|\n)/g,n=0,i=0,o=0,r=g;o<=m&&(e=t.exec(a))&&(r=e[0].length+e.index,!(m<r));)n+=1,o=r;return{data:-1==m?(i=r,a.substring(g)):0===g?a.substring(g,m):(i=m-o,-1==g?a.substring(m):a.substring(m,g+1)),line:n,column:i}}for(R=E,C&&(u=Object.create({},{name:U(function(){return l}),originalName:U(function(){return c}),attrs:U(v),ns:U(function(){return b})}));-1!==g;){if(-1===(m=60===a.charCodeAt(g)?g:a.indexOf("<",g)))return p.length?F("unexpected end of file"):0===g?F("missing start tag"):void(g<a.length&&a.substring(g).trim()&&O($));if(g!==m)if(p.length){if(S&&(S(a.substring(g,m),B,R),D))return}else if(a.substring(g,m).trim()&&(O($),D))return;if(33===(o=a.charCodeAt(m+1))){if(91===(i=a.charCodeAt(m+2))&&"CDATA["===a.substr(m+3,6)){if(-1===(g=a.indexOf("]]>",m)))return F("unclosed cdata");if(N&&(N(a.substring(m+9,g),R),D))return;g+=3;continue}if(45===i&&45===a.charCodeAt(m+3)){if(-1===(g=a.indexOf("--\x3e",m)))return F("unclosed comment");if(A&&(A(a.substring(m+4,g),B,R),D))return;g+=3;continue}}if(63!==o){for(t=m+1;;t++){if(r=a.charCodeAt(t),isNaN(r))return g=-1,F("unclosed tag");if(34===r)i=a.indexOf('"',t+1),t=-1!==i?i:t;else if(39===r)i=a.indexOf("'",t+1),t=-1!==i?i:t;else if(62===r){g=t;break}}if(33!==o){if(y={},47===o){if(f=!(h=!1),!p.length)return F("missing open tag");if(t=l=p.pop(),i=m+2+t.length,a.substring(m+2,i)!==t)return F("closing tag mismatch");for(;i<g;i++)if(!(32===(o=a.charCodeAt(i))||8<o&&o<14))return F("close tag")}else{if(f=47===a.charCodeAt(g-1)?(t=l=a.substring(m+1,g-1),h=!0):(t=l=a.substring(m+1,g),!(h=!0)),!(96<o&&o<123||64<o&&o<91||95===o||58===o))return F("illegal first char nodeName");for(i=1,n=t.length;i<n;i++)if(!(96<(o=t.charCodeAt(i))&&o<123||64<o&&o<91||47<o&&o<59||45===o||95===o||46==o)){if(32===o||o<14&&8<o){l=t.substring(0,i),y=null;break}return F("invalid nodeName")}f||p.push(l)}if(L){if(e=b,h&&(f||d.push(e),null===y&&(M=-1!==t.indexOf("xmlns",i))&&(k=i,w=t,v(),M=!1)),-1!==(o=(c=l).indexOf(":"))){if(!(s=b[l.substring(0,o)]))return F("missing namespace on <"+c+">");l=l.substr(o+1)}else s=b.xmlns;s&&(l=s+":"+l)}if(h&&(k=i,w=t,T&&(C?T(u,B,f,R):T(l,v,B,f,R),D)))return;if(f){if(_&&(_(C?u:l,B,h,R),D))return;L&&(b=h?e:d.pop())}g+=1}else{if(I&&(I(a.substring(m,g+1),B,R),D))return;g+=1}}else{if(-1===(g=a.indexOf("?>",m)))return F("unclosed question");if(P&&(P(a.substring(m,g+2),R),D))return;g+=2}}}},n.decode=B;var o=String.fromCharCode,r=Object.prototype.hasOwnProperty,i=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,a={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function s(e,t,n,i){return i?r.call(a,i)?a[i]:"&"+i+";":o(t||parseInt(n,16))}function B(e){return 3<e.length&&-1!==e.indexOf("&")?e.replace(i,s):e}Object.keys(a).forEach(function(e){a[e.toUpperCase()]=a[e]});var l="http://www.w3.org/2001/XMLSchema-instance",c="xsi",H="xsi:type",$="non-whitespace outside of root node";function u(e){return new Error(e)}function z(e){return"missing namespace for prefix <"+e+">"}function U(e){return{get:e,enumerable:!0}}function V(e){var t,n={};for(t in e)n[t]=e[t];return n}function q(e){return e+"$uri"}function W(e){var t,n,i={};for(t in e)i[n=e[t]]=n,i[q(n)]=t;return i}function d(){return{line:0,column:0}}function p(e){throw e}},{}],846:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i,r=e("min-dom"),o=e("min-dash"),a=(i=e("mitt"))&&i.__esModule?i:{default:i};var s={scrollSymbolLeft:"‹",scrollSymbolRight:"›"};function l(e,t){(0,o.assign)(this,(0,a.default)()),this.options=t=(0,o.assign)({},s,t),this.container=e,this._createScrollButtons(e,t),this._bindEvents(e)}function c(e,t){var n=u(e);return n||(n=new l(e,t),e.__scrollTabs=n),n}function u(e){return e.__scrollTabs}l.prototype._createButton=function(e,t){var n=t.className,i=t.direction,o=(0,r.query)("."+n,e);return o||(o=(0,r.domify)('<span class="scroll-tabs-button '+n+'">'+t.label+"</span>"),e.insertBefore(o,e.childNodes[0])),(0,r.attr)(o,"data-direction",i),o},l.prototype._createScrollButtons=function(e,t){this._createButton(e,{className:"scroll-tabs-left",label:t.scrollSymbolLeft,direction:-1}),this._createButton(e,{className:"scroll-tabs-right",label:t.scrollSymbolRight,direction:1})},l.prototype.getActiveTabNode=function(){return(0,r.query)(this.options.selectors.active,this.container)},l.prototype.getTabsContainerNode=function(){return(0,r.query)(this.options.selectors.tabsContainer,this.container)},l.prototype.getAllTabNodes=function(){return(0,r.queryAll)(this.options.selectors.tab,this.container)},l.prototype.getVisibleTabs=function(){var e=this.getAllTabNodes(),t=this.options.selectors.ignore;return(0,o.filter)(e,function(e){return!(0,r.matches)(e,t)})},l.prototype.getAdjacentTab=function(e,t){var n=this.getVisibleTabs(),e=n.indexOf(e);return n[e+t]},l.prototype._bindEvents=function(e){this._bindWheelEvent(e),this._bindTabClickEvents(e),this._bindScrollButtonEvents(e)},l.prototype._bindTabClickEvents=function(e){var t=this.options.selectors.tab,n=this;r.delegate.bind(e,t,"click",function(e){n.scrollToTabNode(e.delegateTarget)})},l.prototype._bindWheelEvent=function(e){var o=this;r.event.bind(e,"wheel",function(e){var t=Math.sign(e.deltaY),n=o.getActiveTabNode(),i=o.getAdjacentTab(n,t);i&&(o.scrollToTabNode(i),o.emit("scroll",i,n,t)),e.preventDefault()})},l.prototype._bindScrollButtonEvents=function(e){var o=this;r.delegate.bind(e,".scroll-tabs-button","click",function(e){var t=e.delegateTarget,n=parseInt((0,r.attr)(t,"data-direction"),10),i=o.getActiveTabNode(),t=o.getAdjacentTab(i,n);t&&(o.scrollToTabNode(t),o.emit("scroll",t,i,n)),e.preventDefault()})},l.prototype.scrollToTabNode=function(e){var t,n,i;e&&(t=e.parentNode,i=e.offsetWidth,e=(n=e.offsetLeft)+i,i=t.offsetWidth,n<t.scrollLeft?t.scrollLeft=0:i<e&&(t.scrollLeft=e-i))},l.prototype.update=function(){var e=this.getTabsContainerNode(),e=e.scrollWidth>e.offsetWidth;(0,r.classes)(this.container).toggle("scroll-tabs-overflow",e),e&&this.scrollToTabNode(this.getActiveTabNode())},c.get=u},{"min-dash":834,"min-dom":835,mitt:836}],847:[function(e,t,n){"use strict";function r(e,t){return{start:e,end:void 0===t?e:t}}t.exports=function(e,t,n){var i=o=e.start,e=n.length-t.length,o=(n.length,t.length,t.substring(o));return n.lastIndexOf(o)===n.length-o.length&&(t=t.substring(0,t.length-o.length),n=n.substring(0,n.length-o.length)),r(i=(e=function(e,t){var n,i,o,r,a,s=0,l=0;r=t.length>e.length?(i=t,e):(i=e,t);for(;s<i.length;)o=i.charAt(s),a=r.charAt(l),o!==a?n=n||{l_start:s,s_start:l}:(n&&!n.complete&&(n.l_end=s,n.s_end=l,n.complete=!0),l++),s++;n&&!n.complete&&(n.complete=!0,n.s_end=r.length,n.l_end=i.length);if(n)return t.length>e.length?{newStart:n.l_start,newEnd:n.l_end,type:"add"}:{newStart:n.s_start,newEnd:n.s_end,type:t.length<e.length?"remove":"replace"}}(t,n))?"remove"===e.type?e.newStart:e.newEnd:i)},t.exports.range=r},{}],848:[function(e,t,n){var H=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],$=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function z(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.exports=function(e,t,n,i){if(!(isNaN(i)||i<1)){for(var o,r,a,s,l,c,u,d,p,h,f,m,g,v,y,b,x,w,k,E,C,S=(i|=0)+i+1,T=t-1,_=n-1,N=i+1,A=N*(N+1)/2,P=new z,I=P,R=1;R<S;R++){var M,I=I.next=new z;R==N&&(M=I)}I.next=P;for(var L=null,D=null,j=s=0,F=H[i],O=$[i],B=0;B<n;B++){for(g=v=y=b=l=c=u=d=0,p=N*(x=e[s]),h=N*(w=e[s+1]),f=N*(k=e[s+2]),m=N*(E=e[s+3]),l+=A*x,c+=A*w,u+=A*k,d+=A*E,I=P,R=0;R<N;R++)I.r=x,I.g=w,I.b=k,I.a=E,I=I.next;for(R=1;R<N;R++)l+=(I.r=x=e[r=s+((T<R?T:R)<<2)])*(C=N-R),c+=(I.g=w=e[r+1])*C,u+=(I.b=k=e[r+2])*C,d+=(I.a=E=e[r+3])*C,g+=x,v+=w,y+=k,b+=E,I=I.next;for(L=P,D=M,o=0;o<t;o++)e[s+3]=E=d*F>>O,0!=E?(e[s]=(l*F>>O)*(E=255/E),e[s+1]=(c*F>>O)*E,e[s+2]=(u*F>>O)*E):e[s]=e[s+1]=e[s+2]=0,l-=p,c-=h,u-=f,d-=m,p-=L.r,h-=L.g,f-=L.b,m-=L.a,r=j+((r=o+i+1)<T?r:T)<<2,l+=g+=L.r=e[r],c+=v+=L.g=e[r+1],u+=y+=L.b=e[r+2],d+=b+=L.a=e[r+3],L=L.next,p+=x=D.r,h+=w=D.g,f+=k=D.b,m+=E=D.a,g-=x,v-=w,y-=k,b-=E,D=D.next,s+=4;j+=t}for(o=0;o<t;o++){for(v=y=b=g=c=u=d=l=0,p=N*(x=e[s=o<<2]),h=N*(w=e[s+1]),f=N*(k=e[s+2]),m=N*(E=e[s+3]),l+=A*x,c+=A*w,u+=A*k,d+=A*E,I=P,R=0;R<N;R++)I.r=x,I.g=w,I.b=k,I.a=E,I=I.next;for(a=t,R=1;R<=i;R++)l+=(I.r=x=e[s=a+o<<2])*(C=N-R),c+=(I.g=w=e[s+1])*C,u+=(I.b=k=e[s+2])*C,d+=(I.a=E=e[s+3])*C,g+=x,v+=w,y+=k,b+=E,I=I.next,R<_&&(a+=t);for(s=o,L=P,D=M,B=0;B<n;B++)e[(r=s<<2)+3]=E=d*F>>O,0<E?(e[r]=(l*F>>O)*(E=255/E),e[r+1]=(c*F>>O)*E,e[r+2]=(u*F>>O)*E):e[r]=e[r+1]=e[r+2]=0,l-=p,c-=h,u-=f,d-=m,p-=L.r,h-=L.g,f-=L.b,m-=L.a,r=o+((r=B+N)<_?r:_)*t<<2,l+=g+=L.r=e[r],c+=v+=L.g=e[r+1],u+=y+=L.b=e[r+2],d+=b+=L.a=e[r+3],L=L.next,p+=x=D.r,h+=w=D.g,f+=k=D.b,m+=E=D.a,g-=x,v-=w,y-=k,b-=E,D=D.next,s+=t}}}},{}],849:[function(o,r,a){"use strict";!function(e,t){if("object"==typeof a&&"object"==typeof r)r.exports=t(o("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],t);else{var n,i=t("object"==typeof a?o("jquery"):e.jQuery);for(n in i)("object"==typeof a?a:e)[n]=i[n]}}(window,function(n){return i={0:function(e,t){e.exports=n},1:function(e,t,n){var i=n(0),r=n.n(i);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function o(e,t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.markup=e,this.children=t,this.options=n,this.callback=i}var e,t,n;return e=o,(t=[{key:"render",value:function(e){var t,n=r()(this.markup);return this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&r.a.each(this.options.data,function(e,t){n.attr("data-"+e,t)}),this.options&&this.options.click&&n.on("click",this.options.click),this.children&&(t=n.find(".note-children-container"),this.children.forEach(function(e){e.render(t.length?t:n)})),this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),e&&e.append(n),n}}])&&a(e.prototype,t),n&&a(e,n),o}();t.a={create:function(n,i){return function(){var e="object"===o(arguments[1])?arguments[1]:arguments[0],t=Array.isArray(arguments[0])?arguments[0]:[];return e&&e.children&&(t=e.children),new s(n,t,e,i)}}}},2:function(t,e){!function(e){t.exports=e}.call(this,{})},3:function(e,t,n){var i=n(0),b=n.n(i);b.a.summernote=b.a.summernote||{lang:{}},b.a.extend(b.a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window",useProtocol:"Use default protocol"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}});var o="function"==typeof define&&n(2),r=["sans-serif","serif","monospace","cursive","fantasy"];function a(e){return-1===b.a.inArray(e.toLowerCase(),r)?"'".concat(e,"'"):e}var s=navigator.userAgent,l=/MSIE|Trident/i.test(s);l&&((it=/MSIE (\d+[.]\d+)/.exec(s))&&(lt=parseFloat(it[1])),(it=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(s))&&(lt=parseFloat(it[1])));var c=/Edge\/\d+/.test(s),u="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,d=l?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",p={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:l,isEdge:c,isFF:!c&&/firefox/i.test(s),isPhantom:/PhantomJS/i.test(s),isWebkit:!c&&/webkit/i.test(s),isChrome:!c&&/chrome/i.test(s),isSafari:!c&&/safari/i.test(s)&&!/chrome/i.test(s),browserVersion:lt,jqueryVersion:parseFloat(b.a.fn.jquery),isSupportAmd:o,isSupportTouch:u,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",i=document.createElement("canvas").getContext("2d");i.font="200px '"+t+"'";var o=i.measureText(n).width;return i.font="200px "+a(e)+', "'+t+'"',o!==i.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:d,genericFontFamilies:r,validFontName:a};var h=0;var f={eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},resetUniqueId:function(){h=0},uniqueId:function(e){var t=++h+"";return e?e+t:t},rect2bnd:function(e){var t=b()(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[e[t]]=t);return n},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function m(e){return e[0]}function g(e){return e[e.length-1]}function v(e){return e.slice(1)}function y(e,t){if(e&&e.length&&t){if(e.indexOf)return-1!==e.indexOf(t);if(e.contains)return e.contains(t)}return!1}var x={head:m,last:g,initial:function(e){return e.slice(0,e.length-1)},tail:v,prev:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t-1]}return null},next:function(e,t){if(e&&e.length&&t){t=e.indexOf(t);return-1===t?null:e[t+1]}return null},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:y,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||f.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,i){return e.length?v(e).reduce(function(e,t){var n=g(e);return i(g(n),t)?n[n.length]=t:e[e.length]=[t],e},[[e[0]]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)y(t,e[n])||t.push(e[n]);return t}},w=String.fromCharCode(160);function k(e){return e&&b()(e).hasClass("note-editable")}function E(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function C(e){return e&&3===e.nodeType}function S(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function T(e){return!k(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))}var _=E("PRE"),N=E("LI");var A=E("TABLE"),P=E("DATA");function I(e){return!(j(e)||R(e)||M(e)||T(e)||A(e)||D(e)||P(e))}function R(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var M=E("HR");function L(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var D=E("BLOCKQUOTE");function j(e){return L(e)||D(e)||k(e)}var F=E("A");var O=E("BODY");var B=p.isMSIE&&p.browserVersion<11?"&nbsp;":"<br>";function H(e){return C(e)?e.nodeValue.length:e?e.childNodes.length:0}function $(e){var t=H(e);return 0===t||(!C(e)&&1===t&&e.innerHTML===B||!(!x.all(e.childNodes,C)||""!==e.innerHTML))}function z(e){S(e)||H(e)||(e.innerHTML=B)}function U(e,t){for(;e;){if(t(e))return e;if(k(e))break;e=e.parentNode}return null}function V(e,t){t=t||f.fail;var n=[];return U(e,function(e){return k(e)||n.push(e),t(e)}),n}function q(e,t){t=t||f.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function W(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function K(n,e){return b.a.each(e,function(e,t){n.appendChild(t)}),n}function G(e){return 0===e.offset}function Y(e){return e.offset===H(e.node)}function X(e){return G(e)||Y(e)}function Q(e,t){for(;e&&e!==t;){if(0!==J(e))return!1;e=e.parentNode}return!0}function Z(e,t){if(!t)return!1;for(;e&&e!==t;){if(J(e)!==H(e.parentNode)-1)return!1;e=e.parentNode}return!0}function J(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ee(e){return!!(e&&e.childNodes&&e.childNodes.length)}function te(e,t){var n,i;if(0===e.offset){if(k(e.node))return null;n=e.node.parentNode,i=J(e.node)}else i=ee(e.node)?H(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:i}}function ne(e,t){var n;if(H(e.node)===e.offset){if(k(e.node))return null;var i=oe(e.node),i=i?(n=i,0):(n=e.node.parentNode,J(e.node)+1)}else i=ee(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?H(e.node):e.offset+1);return{node:n,offset:i}}function ie(e,t){var n;if($(e.node))return{node:n=e.node.nextSibling,offset:o=0};if(H(e.node)===e.offset){if(k(e.node))return null;var i=oe(e.node),o=i?(n=i,0):(n=e.node.parentNode,J(e.node)+1);k(n)&&(n=e.node.nextSibling,o=0)}else if(ee(e.node)){if(o=0,$(n=e.node.childNodes[e.offset]))return null}else if(n=e.node,o=t?H(e.node):e.offset+1,$(n))return null;return{node:n,offset:o}}function oe(e){if(e.nextSibling&&e.parent===e.nextSibling.parent)return C(e.nextSibling)?e.nextSibling:oe(e.nextSibling)}function re(e,t){return e.node===t.node&&e.offset===t.offset}function ae(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),X(e)&&(C(e.node)||i)){if(G(e))return e.node;if(Y(e))return e.node.nextSibling}if(C(e.node))return e.node.splitText(e.offset);t=e.node.childNodes[e.offset],i=W(e.node.cloneNode(!1),e.node);return K(i,q(t)),n||(z(e.node),z(i)),o&&($(e.node)&&ce(e.node),$(i))?(ce(i),e.node.nextSibling):i}function se(e,n,i){e=V(n.node,f.eq(e));return e.length?1===e.length?ae(n,i):e.reduce(function(e,t){return e===n.node&&(e=ae(n,i)),ae({node:t,offset:e?J(e):H(t)},i)}):null}function le(e){return document.createElement(e)}function ce(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(var a=0,s=i.length;a<s;a++)n.insertBefore(i[a],e)}n.removeChild(e)}}var ue=E("TEXTAREA");function de(e,t){e=ue(e[0])?e.val():e.html();return t?e.replace(/[\n\r]/g,""):e}var pe={NBSP_CHAR:w,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:B,emptyPara:"<p>".concat(B,"</p>"),makePredByNodeName:E,isEditable:k,isControlSizing:function(e){return e&&b()(e).hasClass("note-control-sizing")},isText:C,isElement:function(e){return e&&1===e.nodeType},isVoid:S,isPara:T,isPurePara:function(e){return T(e)&&!N(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:I,isBlock:f.not(I),isBodyInline:function(e){return I(e)&&!U(e,T)},isBody:O,isParaInline:function(e){return I(e)&&!!U(e,T)},isPre:_,isList:R,isTable:A,isData:P,isCell:L,isBlockquote:D,isBodyContainer:j,isAnchor:F,isDiv:E("DIV"),isLi:N,isBR:E("BR"),isSpan:E("SPAN"),isB:E("B"),isU:E("U"),isS:E("S"),isI:E("I"),isImg:E("IMG"),isTextarea:ue,deepestChildIsEmpty:function(e){do{if(null===e.firstElementChild||""===e.firstElementChild.innerHTML)break}while(e=e.firstElementChild);return $(e)},isEmpty:$,isEmptyAnchor:f.and(F,$),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||f.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:H,isLeftEdgePoint:G,isRightEdgePoint:Y,isEdgePoint:X,isLeftEdgeOf:Q,isRightEdgeOf:Z,isLeftEdgePointOf:function(e,t){return G(e)&&Q(e.node,t)},isRightEdgePointOf:function(e,t){return Y(e)&&Z(e.node,t)},prevPoint:te,nextPoint:ne,nextPointWithEmptyNode:ie,isSamePoint:re,isVisiblePoint:function(e){if(C(e.node)||!ee(e.node)||$(e.node))return!0;var t=e.node.childNodes[e.offset-1],e=e.node.childNodes[e.offset];return!(t&&!S(t)||e&&!S(e))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=te(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=ne(e)}return null},isCharPoint:function(e){return!!C(e.node)&&((e=e.node.nodeValue.charAt(e.offset-1))&&" "!==e&&e!==w)},isSpacePoint:function(e){return!!C(e.node)&&(" "===(e=e.node.nodeValue.charAt(e.offset-1))||e===w)},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!re(o,t));)o=ie(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:U,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===H(e);){if(t(e))return e;if(k(e))break;e=e.parentNode}return null},listAncestor:V,lastAncestor:function(e,t){return e=V(e),x.last(e.filter(t))},listNext:q,listPrev:function(e,t){t=t||f.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,r){var a=[];return r=r||f.ok,function e(t){o!==t&&r(t)&&a.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),a},commonAncestor:function(e,t){for(var n=V(e),i=t;i;i=i.parentNode)if(-1<n.indexOf(i))return i;return null},wrap:function(e,t){var n=e.parentNode,t=b()("<"+t+">")[0];return n.insertBefore(t,e),t.appendChild(e),t},insertAfter:W,appendChildNodes:K,position:J,hasChildren:ee,makeOffsetPath:function(e,t){return V(t,f.eq(e)).map(J).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:se,splitPoint:function(e,t){var n,i=t?T:j,o=V(e.node,i),r=x.last(o)||e.node,r=i(r)?(n=o[o.length-2],r):(n=r).parentNode;return{rightNode:t=!(t=n&&se(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}))&&r===e.node?e.node.childNodes[e.offset]:t,container:r}},create:le,createText:function(e){return document.createTextNode(e)},remove:ce,removeWhile:function(e,t){for(;e&&!k(e)&&t(e);){var n=e.parentNode;ce(e),e=n}},replace:function(e,t){return e.nodeName.toUpperCase()===t.toUpperCase()?e:(t=le(t),e.style.cssText&&(t.style.cssText=e.style.cssText),K(t,x.from(e.childNodes)),W(t,e),ce(e),t)},html:function(e,t){return e=de(e),e=t?(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();t=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(t||n?"\n":"")})).trim():e},value:de,posFromPlaceholder:function(e){var e=(t=b()(e)).offset(),t=t.outerHeight(!0);return{left:e.left,top:e.top+t}},attachEvents:function(t,n){Object.keys(n).forEach(function(e){t.on(e,n[e])})},detachEvents:function(t,n){Object.keys(n).forEach(function(e){t.off(e,n[e])})},isCustomStyleTag:function(e){return e&&!C(e)&&x.contains(e.classList,"note-styletag")}};function he(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var fe=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=b.a.extend(!0,{},t),b.a.summernote.ui=b.a.summernote.ui_template(this.options),this.ui=b.a.summernote.ui,this.initialize()}var e,t,i;return e=n,(t=[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var e=this.isDisabled();this.code(pe.emptyPara),this._destroy(),this._initialize(),e&&this.disable()}},{key:"_initialize",value:function(){var t=this;this.options.id=f.uniqueId(b.a.now()),this.options.container=this.options.container||this.layoutInfo.editor;var n=b.a.extend({},this.options.buttons);Object.keys(n).forEach(function(e){t.memo("button."+e,n[e])});var i=b.a.extend({},this.options.modules,b.a.summernote.plugins||{});Object.keys(i).forEach(function(e){t.module(e,i[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})}},{key:"_destroy",value:function(){var t=this;Object.keys(this.modules).reverse().forEach(function(e){t.removeModule(e)}),Object.keys(this.memos).forEach(function(e){t.removeMemo(e)}),this.triggerEvent("destroy",this)}},{key:"code",value:function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.invoke("codeview.sync",e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var e=x.head(arguments),t=x.tail(x.from(arguments)),n=this.options.callbacks[f.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)}},{key:"initializeModule",value:function(e){e=this.modules[e];e.shouldInitialize=e.shouldInitialize||f.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&pe.attachEvents(this.$note,e.events))}},{key:"module",value:function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)}},{key:"removeModule",value:function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&pe.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]}},{key:"memo",value:function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t}},{key:"removeMemo",value:function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]}},{key:"createInvokeHandlerAndUpdateState",value:function(t,n){var i=this;return function(e){i.createInvokeHandler(t,n)(e),i.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(t,n){var i=this;return function(e){e.preventDefault();e=b()(e.target);i.invoke(t,n||e.closest("[data-value]").data("value"),e)}}},{key:"invoke",value:function(){var e=x.head(arguments),t=x.tail(x.from(arguments)),n=e.split("."),i=1<n.length,e=i&&x.head(n),i=i?x.last(n):x.head(n),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,t):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,t):void 0}}])&&he(e.prototype,t),i&&he(e,i),n}();function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ge(e,t){for(var n,i=e.parentElement(),o=document.body.createTextRange(),r=x.from(i.childNodes),a=0;a<r.length;a++)if(!pe.isText(r[a])){if(o.moveToElementText(r[a]),0<=o.compareEndPoints("StartToStart",e))break;n=r[a]}if(0!==a&&pe.isText(r[a-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n);var l=n?n.nextSibling:i.firstChild,c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&pe.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,a=u}return{cont:i,offset:a}}function ve(e){function r(e,t){if(pe.isText(e)){var n=pe.listPrev(e,f.not(pe.isText)),i=x.last(n).previousSibling,o=i||e.parentNode;t+=x.sum(x.tail(n),pe.nodeLength),i=!i}else{if(o=e.childNodes[t]||e,pe.isText(o))return r(o,0);t=0,i=!1}return{node:o,collapseToStart:i,offset:t}}var t=document.body.createTextRange(),e=r(e.node,e.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}b.a.fn.extend({summernote:function(){var e=b.a.type(x.head(arguments)),t="string"===e,i=b.a.extend({},b.a.summernote.options,"object"===e?x.head(arguments):{});i.langInfo=b.a.extend(!0,{},b.a.summernote.lang["en-US"],b.a.summernote.lang[i.lang]),i.icons=b.a.extend(!0,{},b.a.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!p.isSupportTouch:i.tooltip,this.each(function(e,t){var n=b()(t);n.data("summernote")||(t=new fe(n,i),n.data("summernote",t),n.data("summernote").triggerEvent("init",t.layoutInfo))});e=this.first();if(e.length){e=e.data("summernote");if(t)return e.invoke.apply(e,x.from(arguments));i.focus&&e.invoke("editor.focus")}return this}});var ye=function(){function r(e,t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(pe.isEditable),this.isOnList=this.makeIsOn(pe.isList),this.isOnAnchor=this.makeIsOn(pe.isAnchor),this.isOnCell=this.makeIsOn(pe.isCell),this.isOnData=this.makeIsOn(pe.isData)}var e,t,n;return e=r,(t=[{key:"nativeRange",value:function(){if(p.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}e=ve({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",ve({node:this.ec,offset:this.eo})),e}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var e,t=this.nativeRange();return p.isW3CRangeSupport?(0<(e=document.getSelection()).rangeCount&&e.removeAllRanges(),e.addRange(t)):t.select(),this}},{key:"scrollIntoView",value:function(e){var t=b()(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var e=function(e,t){if(!e)return e;if(pe.isVisiblePoint(e)&&(!pe.isEdgePoint(e)||pe.isRightEdgePoint(e)&&!t||pe.isLeftEdgePoint(e)&&t||pe.isRightEdgePoint(e)&&t&&pe.isVoid(e.node.nextSibling)||pe.isLeftEdgePoint(e)&&!t&&pe.isVoid(e.node.previousSibling)||pe.isBlock(e.node)&&pe.isEmpty(e.node)))return e;var n=pe.ancestor(e.node,pe.isBlock),i=!1;i||(o=pe.prevPoint(e)||{node:null},i=(pe.isLeftEdgePointOf(e,n)||pe.isVoid(o.node))&&!t);var o,r=!1;if(r||(o=pe.nextPoint(e)||{node:null},r=(pe.isRightEdgePointOf(e,n)||pe.isVoid(o.node))&&t),i||r){if(pe.isVisiblePoint(e))return e;t=!t}return(t?pe.nextPointUntil(pe.nextPoint(e),pe.isVisiblePoint):pe.prevPointUntil(pe.prevPoint(e),pe.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),e=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new r(e.node,e.offset,t.node,t.offset)}},{key:"nodes",value:function(n,e){n=n||f.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),e=this.getEndPoint(),r=[],a=[];return pe.walkPoint(t,e,function(e){var t;pe.isEditable(e.node)||(o?(pe.isLeftEdgePoint(e)&&a.push(e.node),pe.isRightEdgePoint(e)&&x.contains(a,e.node)&&(t=e.node)):t=i?pe.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),x.unique(r)}},{key:"commonAncestor",value:function(){return pe.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(e){var t=pe.ancestor(this.sc,e),n=pe.ancestor(this.ec,e);if(!t&&!n)return new r(this.sc,this.so,this.ec,this.eo);e=this.getPoints();return t&&(e.sc=t,e.so=0),n&&(e.ec=n,e.eo=pe.nodeLength(n)),new r(e.sc,e.so,e.ec,e.eo)}},{key:"collapse",value:function(e){return e?new r(this.sc,this.so,this.sc,this.so):new r(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var e=this.sc===this.ec,t=this.getPoints();return pe.isText(this.ec)&&!pe.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),pe.isText(this.sc)&&!pe.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,e&&(t.ec=t.sc,t.eo=this.eo-this.so)),new r(t.sc,t.so,t.ec,t.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=pe.prevPointUntil(e.getStartPoint(),function(e){return!x.contains(t,e.node)}),o=[];return b.a.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===pe.nodeLength(n)&&o.push(n),pe.remove(t,!1)}),b.a.each(o,function(e,t){pe.remove(t,!1)}),new r(i.node,i.offset,i.node,i.offset).normalize()}},{key:"makeIsOn",value:function(t){return function(){var e=pe.ancestor(this.sc,t);return!!e&&e===pe.ancestor(this.ec,t)}}},{key:"isLeftEdgeOf",value:function(e){if(!pe.isLeftEdgePoint(this.getStartPoint()))return!1;e=pe.ancestor(this.sc,e);return e&&pe.isLeftEdgeOf(this.sc,e)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(pe.isBodyContainer(this.sc)&&pe.isEmpty(this.sc))return this.sc.innerHTML=pe.emptyPara,new r(this.sc.firstChild,0,this.sc.firstChild,0);var e,t,n=this.normalize();return pe.isParaInline(this.sc)||pe.isPara(this.sc)?n:(pe.isInline(n.sc)?(e=pe.listAncestor(n.sc,f.not(pe.isInline)),t=x.last(e),pe.isInline(t)||(t=e[e.length-2]||n.sc.childNodes[n.so])):t=n.sc.childNodes[0<n.so?n.so-1:0],!t||(n=(n=pe.listPrev(t,pe.isParaInline).reverse()).concat(pe.listNext(t.nextSibling,pe.isParaInline))).length&&(t=pe.wrap(x.head(n),"p"),pe.appendChildNodes(t,x.tail(n))),this.normalize())}},{key:"insertNode",value:function(e){var t=this;(pe.isText(e)||pe.isInline(e))&&(t=this.wrapBodyInlineWithPara().deleteContents());t=pe.splitPoint(t.getStartPoint(),pe.isInline(e));return t.rightNode?(t.rightNode.parentNode.insertBefore(e,t.rightNode),pe.isEmpty(t.rightNode)&&pe.isPara(e)&&t.rightNode.parentNode.removeChild(t.rightNode)):t.container.appendChild(e),e}},{key:"pasteHTML",value:function(e){e=b.a.trim(e);var t=b()("<div></div>").html(e)[0],e=x.from(t.childNodes),n=this,t=!1;return 0<=n.so&&(e=e.reverse(),t=!0),e=e.map(function(e){return n.insertNode(e)}),e=t?e.reverse():e}},{key:"toString",value:function(){var e=this.nativeRange();return p.isW3CRangeSupport?e.toString():e.text}},{key:"getWordRange",value:function(e){var t=this.getEndPoint();if(!pe.isCharPoint(t))return this;var n=pe.prevPointUntil(t,function(e){return!pe.isCharPoint(e)});return e&&(t=pe.nextPointUntil(t,function(e){return!pe.isCharPoint(e)})),new r(n.node,n.offset,t.node,t.offset)}},{key:"getWordsRange",value:function(e){function t(e){return!pe.isCharPoint(e)&&!pe.isSpacePoint(e)}var n=this.getEndPoint();if(t(n))return this;var i=pe.prevPointUntil(n,t);return e&&(n=pe.nextPointUntil(n,t)),new r(i.node,i.offset,n.node,n.offset)}},{key:"getWordsMatchRange",value:function(t){var n=this.getEndPoint(),e=pe.prevPointUntil(n,function(e){if(!pe.isCharPoint(e)&&!pe.isSpacePoint(e))return!0;e=new r(e.node,e.offset,n.node,n.offset),e=t.exec(e.toString());return e&&0===e.index}),i=new r(e.node,e.offset,n.node,n.offset),o=i.toString(),e=t.exec(o);return e&&e[0].length===o.length?i:null}},{key:"bookmark",value:function(e){return{s:{path:pe.makeOffsetPath(e,this.sc),offset:this.so},e:{path:pe.makeOffsetPath(e,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(e){return{s:{path:x.tail(pe.makeOffsetPath(x.head(e),this.sc)),offset:this.so},e:{path:x.tail(pe.makeOffsetPath(x.last(e),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}])&&me(e.prototype,t),n&&me(e,n),r}(),be={create:function(e,t,n,i){if(4===arguments.length)return new ye(e,t,n,i);if(2===arguments.length)return new ye(n=e,i=t,n,i);i=this.createFromSelection();if(i||1!==arguments.length)return i;i=e;return pe.isEditable(i)&&(i=i.lastChild),this.createFromBodyElement(i,pe.emptyPara===e.innerHTML)},createFromBodyElement:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.createFromNode(e).collapse(t)},createFromSelection:function(){if(p.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(pe.isBody(e.anchorNode))return null;var t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset}else{e=document.selection.createRange(),t=e.duplicate();t.collapse(!1);e=e;e.collapse(!0);e=ge(e,!0),t=ge(t,!1);n=(e=pe.isText(e.node)&&pe.isLeftEdgePoint(e)&&pe.isTextNode(t.node)&&pe.isRightEdgePoint(t)&&t.node.nextSibling===e.node?t:e).cont,i=e.offset,o=t.cont,r=t.offset}return new ye(n,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,e=pe.nodeLength(i);return pe.isVoid(t)&&(n=pe.listPrev(t).length-1,t=t.parentNode),pe.isBR(i)?(e=pe.listPrev(i).length-1,i=i.parentNode):pe.isVoid(i)&&(e=pe.listPrev(i).length,i=i.parentNode),this.create(t,n,i,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=pe.fromOffsetPath(e,t.s.path),i=t.s.offset,e=pe.fromOffsetPath(e,t.e.path),t=t.e.offset;return new ye(n,i,e,t)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=pe.fromOffsetPath(x.head(t),e.s.path),e=pe.fromOffsetPath(x.last(t),e.e.path);return new ye(o,n,e,i)}},xe={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34},we={isEdit:function(e){return x.contains([xe.BACKSPACE,xe.TAB,xe.ENTER,xe.SPACE,xe.DELETE],e)},isMove:function(e){return x.contains([xe.LEFT,xe.UP,xe.RIGHT,xe.DOWN],e)},isNavigation:function(e){return x.contains([xe.HOME,xe.END,xe.PAGEUP,xe.PAGEDOWN],e)},nameFromCode:f.invertObject(xe),code:xe};function ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ee=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.stack=[],this.stackOffset=-1,this.context=e,this.$editable=e.layoutInfo.editable,this.editable=this.$editable[0]}var e,n,i;return e=t,(n=[{key:"makeSnapshot",value:function(){var e=be.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}}},{key:"applySnapshot",value:function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&be.createFromBookmark(this.editable,e.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[],this.stackOffset=-1,this.recordUndo()}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot()),this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),--this.stackOffset)}}])&&ke(e.prototype,n),i&&ke(e,i),t}();function Ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"jQueryCSS",value:function(n,e){if(p.jqueryVersion<1.9){var i={};return b.a.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css(e)}},{key:"fromNode",value:function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{},e=e[0].style.fontSize||t["font-size"];return t["font-size"]=parseInt(e,10),t["font-size-unit"]=e.match(/[a-z%]+$/),t}},{key:"stylePara",value:function(e,n){b.a.each(e.nodes(pe.isPara,{includeAncestor:!0}),function(e,t){b()(t).css(n)})}},{key:"styleNodes",value:function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(pe.create(n))];var r,a=pe.makePredByNodeName(n),t=e.nodes(pe.isText,{fullyContains:!0}).map(function(e){return pe.singleChildAncestor(e,a)||pe.wrap(e,n)});return i?(o&&(r=e.nodes(),a=f.and(a,function(e){return x.contains(r,e)})),t.map(function(e){var t=pe.withClosestSiblings(e,a),n=x.head(t),e=x.tail(t);return b.a.each(e,function(e,t){pe.appendChildNodes(n,t.childNodes),pe.remove(t)}),x.head(t)})):t}},{key:"current",value:function(e){var t=b()(pe.isElement(e.sc)?e.sc:e.sc.parentNode),t=this.fromNode(t);try{t=b.a.extend(t,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||t["font-family"]})}catch(e){}e.isOnList()?(n=-1<["circle","disc","disc-leading-zero","square"].indexOf(t["list-style-type"]),t["list-style"]=n?"unordered":"ordered"):t["list-style"]="none";var n=pe.ancestor(e.sc,pe.isPara);return n&&n.style["line-height"]?t["line-height"]=n.style.lineHeight:(n=parseInt(t["line-height"],10)/parseInt(t["font-size"],10),t["line-height"]=n.toFixed(1)),t.anchor=e.isOnAnchor()&&pe.ancestor(e.sc,pe.isAnchor),t.ancestors=pe.listAncestor(e.sc,pe.isEditable),t.range=e,t}}])&&Ce(t.prototype,n),i&&Ce(t,i),e}();function Te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"insertOrderedList",value:function(e){this.toggleList("OL",e)}},{key:"insertUnorderedList",value:function(e){this.toggleList("UL",e)}},{key:"indent",value:function(e){var o=this,t=be.create(e).wrapBodyInlineWithPara(),e=t.nodes(pe.isPara,{includeAncestor:!0}),e=x.clusterBy(e,f.peq2("parentNode"));b.a.each(e,function(e,t){var n,i=x.head(t);pe.isLi(i)?(n=o.findList(i.previousSibling))?t.map(function(e){return n.appendChild(e)}):(o.wrapList(t,i.parentNode.nodeName),t.map(function(e){return e.parentNode}).map(function(e){return o.appendToPrevious(e)})):b.a.each(t,function(e,t){b()(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),t.select()}},{key:"outdent",value:function(e){var i=this,t=be.create(e).wrapBodyInlineWithPara(),e=t.nodes(pe.isPara,{includeAncestor:!0}),e=x.clusterBy(e,f.peq2("parentNode"));b.a.each(e,function(e,t){var n=x.head(t);pe.isLi(n)?i.releaseList([t]):b.a.each(t,function(e,t){b()(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),t.select()}},{key:"toggleList",value:function(n,e){var i,o=this,t=be.create(e).wrapBodyInlineWithPara(),r=t.nodes(pe.isPara,{includeAncestor:!0}),a=t.paraBookmark(r),e=x.clusterBy(r,f.peq2("parentNode"));x.find(r,pe.isPurePara)?(i=[],b.a.each(e,function(e,t){i=i.concat(o.wrapList(t,n))}),r=i):(t=t.nodes(pe.isList,{includeAncestor:!0}).filter(function(e){return!b.a.nodeName(e,n)})).length?b.a.each(t,function(e,t){pe.replace(t,n)}):r=this.releaseList(e,!0),be.createFromParaBookmark(a,r).select()}},{key:"wrapList",value:function(e,t){var n=x.head(e),i=x.last(e),o=pe.isList(n.previousSibling)&&n.previousSibling,n=pe.isList(i.nextSibling)&&i.nextSibling,i=o||pe.insertAfter(pe.create(t||"UL"),i);return e=e.map(function(e){return pe.isPurePara(e)?pe.replace(e,"LI"):e}),pe.appendChildNodes(i,e),n&&(pe.appendChildNodes(i,x.from(n.childNodes)),pe.remove(n)),e}},{key:"releaseList",value:function(e,a){var s=this,l=[];return b.a.each(e,function(e,t){var n=x.head(t),i=x.last(t),o=a?pe.lastAncestor(n,pe.isList):n.parentNode,r=o.parentNode;"LI"===o.parentNode.nodeName?(t.map(function(e){var t=s.findNextSiblings(e);r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),t.length&&(s.wrapList(t,o.nodeName),e.appendChild(t[0].parentNode))}),0===o.children.length&&r.removeChild(o),0===r.childNodes.length&&r.parentNode.removeChild(r)):(i=1<o.childNodes.length?pe.splitTree(o,{node:i.parentNode,offset:pe.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,n=pe.splitTree(o,{node:n.parentNode,offset:pe.position(n)},{isSkipPaddingBlankHTML:!0}),t=a?pe.listDescendant(n,pe.isLi):x.from(n.childNodes).filter(pe.isLi),!a&&pe.isList(o.parentNode)||(t=t.map(function(e){return pe.replace(e,"P")})),b.a.each(x.from(t).reverse(),function(e,t){pe.insertAfter(t,o)}),i=x.compact([o,n,i]),b.a.each(i,function(e,t){t=[t].concat(pe.listDescendant(t,pe.isList));b.a.each(t.reverse(),function(e,t){pe.nodeLength(t)||pe.remove(t,!0)})})),l=l.concat(t)}),l}},{key:"appendToPrevious",value:function(e){return e.previousSibling?pe.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")}},{key:"findList",value:function(e){return e?x.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null}},{key:"findNextSiblings",value:function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t}}])&&Te(t.prototype,n),i&&Te(t,i),e}();function Ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ae=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.bullet=new _e,this.options=e.options}var e,n,i;return e=t,(n=[{key:"insertTab",value:function(e,t){var n=pe.createText(new Array(t+1).join(pe.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=be.create(n,t)).select()}},{key:"insertParagraph",value:function(e,t){t=(t=(t=t||be.create(e)).deleteContents()).wrapBodyInlineWithPara();var n=pe.ancestor(t.sc,pe.isPara);if(n){if(pe.isLi(n)&&(pe.isEmpty(n)||pe.deepestChildIsEmpty(n)))return void this.bullet.toggleList(n.parentNode.nodeName);var i,o,r=null;1===this.options.blockquoteBreakingLevel?r=pe.ancestor(n,pe.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=pe.lastAncestor(n,pe.isBlockquote)),r?(o=b()(pe.emptyPara)[0],pe.isRightEdgePoint(t.getStartPoint())&&pe.isBR(t.sc.nextSibling)&&b()(t.sc.nextSibling).remove(),(i=pe.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0}))?i.parentNode.insertBefore(o,i):pe.insertAfter(o,r)):(o=pe.splitTree(n,t.getStartPoint()),a=(a=pe.listDescendant(n,pe.isEmptyAnchor)).concat(pe.listDescendant(o,pe.isEmptyAnchor)),b.a.each(a,function(e,t){pe.remove(t)}),(pe.isHeading(o)||pe.isPre(o)||pe.isCustomStyleTag(o))&&pe.isEmpty(o)&&(o=pe.replace(o,"p")))}else{var a=t.sc.childNodes[t.so];o=b()(pe.emptyPara)[0],a?t.sc.insertBefore(o,a):t.sc.appendChild(o)}be.create(o,0).normalize().select().scrollIntoView(e)}}])&&Ne(e.prototype,n),i&&Ne(e,i),t}();function Pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ie(e,c,u,o){var p={colPos:0,rowPos:0},d=[],h=[];function f(e,t,n,i,o,r,a){a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=a}function m(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(!d[e][++n])return n}function g(e,t,n,i){e===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&p.colPos++}function t(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)!function(e,t){var n=m(e.rowIndex,t.cellIndex),i=1<t.colSpan,o=1<t.rowSpan,r=e.rowIndex===p.rowPos&&t.cellIndex===p.colPos;f(e.rowIndex,n,e,t,o,i,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=e.rowIndex+s;g(l,n,t,r),f(l,n,e,t,!0,i,!0)}var c=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<c)for(var u=1;u<c;u++){var d=m(e.rowIndex,n+u);g(e.rowIndex,d,t,r),f(e.rowIndex,d,e,t,o,!0,!0)}}(e[t],n[i])}this.getActionList=function(){for(var e=c===Ie.where.Row?p.rowPos:-1,t=c===Ie.where.Column?p.colPos:-1,n=0,i=!0;i;){var o=0<=e?e:n,r=0<=t?t:n,a=d[o];if(!a)return i=!1,h;var s=a[r];if(!s)return i=!1,h;var l=Ie.resultAction.Ignore;switch(u){case Ie.requestAction.Add:l=function(e){switch(c){case Ie.where.Column:if(e.isColSpan)return Ie.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Ie.resultAction.Ignore;break;case Ie.where.Row:if(e.isRowSpan)return Ie.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Ie.resultAction.Ignore}return Ie.resultAction.AddCell}(s);break;case Ie.requestAction.Delete:l=function(e){switch(c){case Ie.where.Column:if(e.isColSpan)return Ie.resultAction.SubtractSpanCount;break;case Ie.where.Row:if(!e.isVirtual&&e.isRowSpan)return Ie.resultAction.AddCell;if(e.isRowSpan)return Ie.resultAction.SubtractSpanCount}return Ie.resultAction.RemoveCell}(s)}h.push((a=l,{baseCell:s.baseCell,action:a,virtualTable:{rowIndex:o,cellIndex:r}})),n++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())&&(p.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()&&(p.rowPos=e.parentElement.rowIndex)),t()}Ie.where={Row:0,Column:1},Ie.requestAction={Add:0,Delete:1},Ie.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Re=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"tab",value:function(e,t){var n=pe.ancestor(e.commonAncestor(),pe.isCell),e=pe.ancestor(n,pe.isTable),e=pe.listDescendant(e,pe.isCell),n=x[t?"prev":"next"](e,n);n&&be.create(n,0).select()}},{key:"addRow",value:function(e,t){for(var n=pe.ancestor(e.commonAncestor(),pe.isCell),i=b()(n).closest("tr"),e=this.recoverAttributes(i),o=b()("<tr"+e+"></tr>"),r=new Ie(n,Ie.where.Row,Ie.requestAction.Add,b()(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Ie.resultAction.AddCell:o.append("<td"+l+">"+pe.blank+"</td>");break;case Ie.resultAction.SumSpanCount:if("top"===t)if((s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var c=b()("<div></div>").append(b()("<td"+l+">"+pe.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}c=parseInt(s.baseCell.rowSpan,10);c++,s.baseCell.setAttribute("rowSpan",c)}}"top"===t?i.before(o):1<n.rowSpan?(n=i[0].rowIndex+(n.rowSpan-2),b()(b()(i).parent().find("tr")[n]).after(b()(o))):i.after(o)}},{key:"addCol",value:function(e,t){var n=pe.ancestor(e.commonAncestor(),pe.isCell),e=b()(n).closest("tr");b()(e).siblings().push(e);for(var i=new Ie(n,Ie.where.Column,Ie.requestAction.Add,b()(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++){var r,a=i[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case Ie.resultAction.AddCell:"right"===t?b()(a.baseCell).after("<td"+s+">"+pe.blank+"</td>"):b()(a.baseCell).before("<td"+s+">"+pe.blank+"</td>");break;case Ie.resultAction.SumSpanCount:"right"===t?(r=parseInt(a.baseCell.colSpan,10),r++,a.baseCell.setAttribute("colSpan",r)):b()(a.baseCell).before("<td"+s+">"+pe.blank+"</td>")}}}},{key:"recoverAttributes",value:function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t}},{key:"deleteRow",value:function(e){for(var e=pe.ancestor(e.commonAncestor(),pe.isCell),t=b()(e).closest("tr"),n=t.children("td, th").index(b()(e)),i=t[0].rowIndex,o=new Ie(e,Ie.where.Row,Ie.requestAction.Delete,b()(t).closest("table")[0]).getActionList(),r=0;r<o.length;r++)if(o[r]){var a=o[r].baseCell,s=o[r].virtualTable,l=a.rowSpan&&1<a.rowSpan,c=l?parseInt(a.rowSpan,10):0;switch(o[r].action){case Ie.resultAction.Ignore:continue;case Ie.resultAction.AddCell:var u=t.next("tr")[0];if(!u)continue;var d=t[0].cells[n];l&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Ie.resultAction.SubtractSpanCount:l&&(2<c?(c--,a.setAttribute("rowSpan",c),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")):2===c&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===n&&(a.innerHTML="")));continue;case Ie.resultAction.RemoveCell:continue}}t.remove()}},{key:"deleteCol",value:function(e){for(var t=pe.ancestor(e.commonAncestor(),pe.isCell),e=b()(t).closest("tr"),n=e.children("td, th").index(b()(t)),i=new Ie(t,Ie.where.Column,Ie.requestAction.Delete,b()(e).closest("table")[0]).getActionList(),o=0;o<i.length;o++)if(i[o])switch(i[o].action){case Ie.resultAction.Ignore:continue;case Ie.resultAction.SubtractSpanCount:var r,a=i[o].baseCell;a.colSpan&&1<a.colSpan&&(2<(r=a.colSpan?parseInt(a.colSpan,10):0)?(r--,a.setAttribute("colSpan",r),a.cellIndex===n&&(a.innerHTML="")):2===r&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML="")));continue;case Ie.resultAction.RemoveCell:pe.remove(i[o].baseCell,!0);continue}}},{key:"createTable",value:function(e,t,n){for(var i=[],o=0;o<e;o++)i.push("<td>"+pe.blank+"</td>");for(var r=i.join(""),a=[],s=0;s<t;s++)a.push("<tr>"+r+"</tr>");var l=a.join(""),l=b()("<table>"+l+"</table>");return n&&n.tableClassName&&l.addClass(n.tableClassName),l[0]}},{key:"deleteTable",value:function(e){e=pe.ancestor(e.commonAncestor(),pe.isCell);b()(e).closest("table").remove()}}])&&Pe(t.prototype,n),i&&Pe(t,i),e}();function Me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Le=function(){function r(e){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new Se,this.table=new Re,this.typing=new Ae(e),this.bullet=new _e,this.history=new Ee(e),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,i=t.length;n<i;n++)this[t[n]]=function(t){return function(e){a.beforeCommand(),document.execCommand(t,!1,e),a.afterCommand(!0)}}(t[n]),this.context.memo("help."+t[n],this.lang.help[t[n]]);this.fontName=this.wrapCommand(function(e){return a.fontStyling("font-family",p.validFontName(e))}),this.fontSize=this.wrapCommand(function(e){var t=a.currentStyle()["font-size-unit"];return a.fontStyling("font-size",e+t)}),this.fontSizeUnit=this.wrapCommand(function(e){var t=a.currentStyle()["font-size"];return a.fontStyling("font-size",t+e)});for(var o=1;o<=6;o++)this["formatH"+o]=function(e){return function(){a.formatBlock("H"+e)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand(function(){a.typing.insertParagraph(a.editable)}),this.insertOrderedList=this.wrapCommand(function(){a.bullet.insertOrderedList(a.editable)}),this.insertUnorderedList=this.wrapCommand(function(){a.bullet.insertUnorderedList(a.editable)}),this.indent=this.wrapCommand(function(){a.bullet.indent(a.editable)}),this.outdent=this.wrapCommand(function(){a.bullet.outdent(a.editable)}),this.insertNode=this.wrapCommand(function(e){a.isLimited(b()(e).text().length)||(a.getLastRange().insertNode(e),a.setLastRange(be.createFromNodeAfter(e).select()))}),this.insertText=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.getLastRange().insertNode(pe.createText(e)),a.setLastRange(be.create(e,pe.nodeLength(e)).select()))}),this.pasteHTML=this.wrapCommand(function(e){a.isLimited(e.length)||(e=a.context.invoke("codeview.purify",e),e=a.getLastRange().pasteHTML(e),a.setLastRange(be.createFromNodeAfter(x.last(e)).select()))}),this.formatBlock=this.wrapCommand(function(e,t){var n=a.options.callbacks.onApplyCustomStyle;n?n.call(a,t,a.context,a.onFormatBlock):a.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=a.getLastRange().insertNode(pe.create("HR"));e.nextSibling&&a.setLastRange(be.create(e.nextSibling,0).normalize().select())}),this.lineHeight=this.wrapCommand(function(e){a.style.stylePara(a.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,t=e.text,i=e.isNewWindow,o=e.checkProtocol,r=e.range||a.getLastRange(),e=t.length-r.toString().length;0<e&&a.isLimited(e)||(e=r.toString()!==t,"string"==typeof n&&(n=n.trim()),a.options.onCreateLink?n=a.options.onCreateLink(n):o&&(n=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:a.options.defaultProtocol+n),o=[],e?(t=(r=r.deleteContents()).insertNode(b()("<A>"+t+"</A>")[0]),o.push(t)):o=a.style.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),b.a.each(o,function(e,t){b()(t).attr("href",n),i?b()(t).attr("target","_blank"):b()(t).removeAttr("target")}),a.setLastRange(a.createRangeFromList(o).select()))}),this.color=this.wrapCommand(function(e){var t=e.foreColor,e=e.backColor;t&&document.execCommand("foreColor",!1,t),e&&document.execCommand("backColor",!1,e)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){e=e.split("x");a.getLastRange().deleteContents().insertNode(a.table.createTable(e[0],e[1],a.options))}),this.removeMedia=this.wrapCommand(function(){var e=b()(a.restoreTarget()).parent();e.closest("figure").length?e.closest("figure").remove():e=b()(a.restoreTarget()).detach(),a.context.triggerEvent("media.delete",e,a.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=b()(a.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=b()(a.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}var e,t,n;return e=r,(t=[{key:"initialize",value:function(){var t=this;this.$editable.on("keydown",function(e){if(e.keyCode===we.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),t.snapshot=t.history.makeSnapshot(),t.hasKeyShortCut=!1,e.isDefaultPrevented()||(t.options.shortcuts?t.hasKeyShortCut=t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e)){e=t.getLastRange();if(e.eo-e.so==0)return!1}t.setLastRange(),t.options.recordEveryKeystroke&&!1===t.hasKeyShortCut&&t.history.recordUndo()}).on("keyup",function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)}).on("focus",function(e){t.setLastRange(),t.context.triggerEvent("focus",e)}).on("blur",function(e){t.context.triggerEvent("blur",e)}).on("mousedown",function(e){t.context.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.setLastRange(),t.history.recordUndo(),t.context.triggerEvent("mouseup",e)}).on("scroll",function(e){t.context.triggerEvent("scroll",e)}).on("paste",function(e){t.setLastRange(),t.context.triggerEvent("paste",e)}).on("input",function(){t.isLimited(0)&&t.snapshot&&t.history.applySnapshot(t.snapshot)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),this.$editable.html(pe.html(this.$note)||pe.emptyPara),this.$editable.on(p.inputEventName,f.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10)),this.$editable.on("focusin",function(e){t.context.triggerEvent("focusin",e)}).on("focusout",function(e){t.context.triggerEvent("focusout",e)}),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",function(e){return t.context.triggerEvent("contextmenu",e),!1}):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(e){var t=this.options.keyMap[p.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=we.nameFromCode[e.keyCode];i&&n.push(i);n=t[n.join("+")];if("TAB"!==i||this.options.tabDisable)if(n){if(!1!==this.context.invoke(n))return e.preventDefault(),!0}else we.isEdit(e.keyCode)&&this.afterCommand();else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(e){(e.ctrlKey||e.metaKey)&&x.contains([66,73,85],e.keyCode)&&e.preventDefault()}},{key:"isLimited",value:function(e,t){return e=e||0,(void 0===t||!(we.isMove(t.keyCode)||we.isNavigation(t.keyCode)||t.ctrlKey||t.metaKey||x.contains([we.code.BACKSPACE,we.code.DELETE],t.keyCode)))&&(0<this.options.maxTextLength&&this.$editable.text().length+e>this.options.maxTextLength)}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(e){var t=be.createFromNodeBefore(x.head(e)).getStartPoint(),e=be.createFromNodeAfter(x.last(e)).getEndPoint();return be.create(t.node,t.offset,e.node,e.offset)}},{key:"setLastRange",value:function(e){e?this.lastRange=e:(this.lastRange=be.create(this.editable),0===b()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=be.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(e){e&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(e){this.$editable.data("target",e)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var e=be.create();return(e=e&&e.normalize())?this.style.current(e):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(e){return this.style.fromNode(e)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),this.focus()}},{key:"afterCommand",value:function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}}},{key:"insertImage",value:function(e,t){var n,i=this;return n=e,b.a.Deferred(function(e){var t=b()("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise().then(function(e){i.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(i.$editable.width(),e.width()))),e.show(),i.getLastRange().insertNode(e[0]),i.setLastRange(be.createFromNodeAfter(e[0]).select()),i.afterCommand()}).fail(function(e){i.context.triggerEvent("image.upload.error",e)})}},{key:"insertImagesAsDataURL",value:function(e){var o=this;b.a.each(e,function(e,t){var n,i=t.name;o.options.maximumImageFileSize&&o.options.maximumImageFileSize<t.size?o.context.triggerEvent("image.upload.error",o.lang.image.maximumFileSizeError):(n=t,b.a.Deferred(function(t){b.a.extend(new FileReader,{onload:function(e){e=e.target.result;t.resolve(e)},onerror:function(e){t.reject(e)}}).readAsDataURL(n)}).promise().then(function(e){return o.insertImage(e,i)}).fail(function(){o.context.triggerEvent("image.upload.error")}))})}},{key:"insertImagesOrCallback",value:function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)}},{key:"getSelectedText",value:function(){var e=this.getLastRange();return(e=e.isOnAnchor()?be.createFromNode(pe.ancestor(e.sc,pe.isAnchor)):e).toString()}},{key:"onFormatBlock",value:function(e,t){var n;document.execCommand("FormatBlock",!1,p.isMSIE?"<"+e+">":e),t&&t.length&&(t=t[0].tagName.toUpperCase()!==e.toUpperCase()?t.find(e):t)&&t.length&&((n=t[0].className||"")&&(t=this.createRange(),b()([t.sc,t.ec]).closest(e).addClass(n)))}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(e,t){var n,i,o=this.getLastRange();""!==o?(n=this.style.styleNodes(o),this.$editor.find(".note-status-output").html(""),b()(n).css(e,t),o.isCollapsed()?(o=x.head(n))&&!pe.nodeLength(o)&&(o.innerHTML=pe.ZERO_WIDTH_NBSP_CHAR,be.createFromNode(o.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",o)):this.setLastRange(this.createRangeFromList(n).select())):(i=b.a.now(),this.$editor.find(".note-status-output").html('<div id="note-status-output-'+i+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout(function(){b()("#note-status-output-"+i).remove()},5e3))}},{key:"unlink",value:function(){var e,t=this.getLastRange();t.isOnAnchor()&&(e=pe.ancestor(t.sc,pe.isAnchor),(t=be.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())}},{key:"getLinkInfo",value:function(){var e=this.getLastRange().expand(pe.isAnchor),t=b()(x.head(e.nodes(pe.isAnchor))),e={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e}},{key:"addRow",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())}},{key:"addCol",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())}},{key:"deleteRow",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())}},{key:"deleteCol",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())}},{key:"deleteTable",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())}},{key:"resizeTo",value:function(e,t,n){var i;e=n?{width:(i=e.y/e.x)<(n=t.data("ratio"))?e.x:e.y/n,height:i<n?e.x*n:e.y}:{width:e.x,height:e.y},t.css(e)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return pe.isEmpty(this.$editable[0])||pe.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",pe.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}])&&Me(e.prototype,t),n&&Me(e,n),r}();function De(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var je=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editable=e.layoutInfo.editable}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(e){var t,n=this,i=e.originalEvent.clipboardData;i&&i.items&&i.items.length?"file"===(t=1<i.items.length?i.items[1]:x.head(i.items)).kind&&-1!==t.type.indexOf("image/")?(this.context.invoke("editor.insertImagesOrCallback",[t.getAsFile()]),e.preventDefault()):"string"===t.kind&&this.context.invoke("editor.isLimited",i.getData("Text").length)&&e.preventDefault():window.clipboardData&&(i=window.clipboardData.getData("text"),this.context.invoke("editor.isLimited",i.length)&&e.preventDefault()),setTimeout(function(){n.context.invoke("editor.afterCommand")},10)}}])&&De(e.prototype,n),i&&De(e,i),t}();function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Oe=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$eventListener=b()(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=b()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var o=this,i=b()(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var t=o.context.invoke("codeview.isActivated"),n=0<o.$editor.width()&&0<o.$editor.height();t||i.length||!n||(o.$editor.addClass("dragover"),o.$dropzone.width(o.$editor.width()),o.$dropzone.height(o.$editor.height()),r.text(o.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length&&"BODY"!==e.target.nodeName||(i=b()(),o.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){i=b()(),o.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){o.$dropzone.addClass("hover"),r.text(o.lang.image.dropImage)}).on("dragleave",function(){o.$dropzone.removeClass("hover"),r.text(o.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(e){var i=e.originalEvent.dataTransfer;e.preventDefault(),i&&i.files&&i.files.length?(o.$editable.focus(),o.context.invoke("editor.insertImagesOrCallback",i.files)):b.a.each(i.types,function(e,t){var n;-1<t.toLowerCase().indexOf("_moz_")||(n=i.getData(t),-1<t.toLowerCase().indexOf("text")?o.context.invoke("editor.pasteHTML",n):b()(n).each(function(e,t){o.context.invoke("editor.insertNode",t)}))})}).on("dragover",!1)}},{key:"destroy",value:function(){var t=this;Object.keys(this.documentEventHandlers).forEach(function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])}),this.documentEventHandlers={}}}])&&Fe(e.prototype,n),i&&Fe(e,i),t}();function Be(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ze=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}var e,n,i;return e=t,(n=[{key:"sync",value:function(e){var t=this.isActivated(),n=this.CodeMirrorConstructor;t&&(e?n?this.$codable.data("cmEditor").getDoc().setValue(e):this.$codable.val(e):n&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var t=this;this.$codable.on("keyup",function(e){e.keyCode===we.code.ESCAPE&&t.deactivate()})}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(e){var o;return this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter&&(o=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase),e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";var t,n=Be(o);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}}catch(e){n.e(e)}finally{n.f()}return""}))),e}},{key:"activate",value:function(){var t,n,i=this,e=this.CodeMirrorConstructor;this.$codable.val(pe.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),e?(t=e.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(n=new e.TernServer(this.options.codemirror.tern),t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})),t.on("blur",function(e){i.context.triggerEvent("blur.codeview",t.getValue(),e)}),t.on("change",function(){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(e){i.context.triggerEvent("blur.codeview",i.$codable.val(),e)}),this.$codable.on("input",function(){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))}},{key:"deactivate",value:function(){this.CodeMirrorConstructor&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());var e=this.purify(pe.value(this.$codable,this.options.prettifyHtml)||pe.emptyPara),t=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}])&&$e(e.prototype,n),i&&$e(e,i),t}();function Ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ve=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.$document=b()(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){var i=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();function t(e){e=e.clientY-(24+n),e=0<i.options.minheight?Math.max(e,i.options.minheight):e,e=0<i.options.maxHeight?Math.min(e,i.options.maxHeight):e,i.$editable.height(e)}var n=i.$editable.offset().top-i.$document.scrollTop();i.$document.on("mousemove",t).one("mouseup",function(){i.$document.off("mousemove",t)})})}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}])&&Ue(e.prototype,n),i&&Ue(e,i),t}();function qe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var We=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=b()(window),this.$scrollbar=b()("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}var e,t,i;return e=n,(t=[{key:"resizeTo",value:function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}}])&&qe(e.prototype,t),i&&qe(e,i),n}();function Ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ge=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$document=b()(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){var r=this;this.$handle=b()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){var t,n,i,o;pe.isControlSizing(e.target)&&(e.preventDefault(),e.stopPropagation(),t=r.$handle.find(".note-control-selection").data("target"),n=t.offset(),i=r.$document.scrollTop(),o=function(e){r.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-i)},t,!e.shiftKey),r.update(t[0],e)},r.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),r.$document.off("mousemove",o),r.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width()))}),this.$handle.on("wheel",function(e){e.preventDefault(),r.update()})}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(e,t){if(this.context.isDisabled())return!1;var n,i,o=pe.isImg(e),r=this.$handle.find(".note-control-selection");return this.context.invoke("imagePopover.update",e,t),o?(t={left:(i=(n=b()(e)).position()).left+parseInt(n.css("marginLeft"),10),top:i.top+parseInt(n.css("marginTop"),10)},i={w:n.outerWidth(!1),h:n.outerHeight(!1)},r.css({display:"block",left:t.left,top:t.top,width:i.w,height:i.h}).data("target",n),(t=new Image).src=n.attr("src"),t=i.w+"x"+i.h+" ("+this.lang.image.original+": "+t.width+"x"+t.height+")",r.find(".note-control-selection-info").text(t),this.context.invoke("editor.saveTarget",e)):this.hide(),o}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}])&&Ke(e.prototype,n),i&&Ke(e,i),t}();function Ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Xe=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Qe=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.options=e.options,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){var e,t;!this.lastWordRange||(t=(e=this.lastWordRange.toString()).match(Xe))&&(t[1]||t[2])&&(t=t[1]?e:"http://"+e,e=this.options.showDomainOnlyForAutolink?e.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\.)?/i,"").split("/")[0]:e,t=b()("<a />").html(e).attr("href",t)[0],this.context.options.linkTargetBlank&&b()(t).attr("target","_blank"),this.lastWordRange.insertNode(t),this.lastWordRange=null,this.context.invoke("editor.focus"))}},{key:"handleKeydown",value:function(e){x.contains([we.code.ENTER,we.code.SPACE],e.keyCode)&&(e=this.context.invoke("editor.createRange").getWordRange(),this.lastWordRange=e)}},{key:"handleKeyup",value:function(e){x.contains([we.code.ENTER,we.code.SPACE],e.keyCode)&&this.replace()}}])&&Ye(e.prototype,n),i&&Ye(e,i),t}();function Ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Je=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}var e,t,i;return e=n,(t=[{key:"shouldInitialize",value:function(){return pe.isTextarea(this.$note[0])}}])&&Ze(e.prototype,t),i&&Ze(e,i),n}();function et(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}i=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.options=e.options.replace||{},this.keys=[we.code.ENTER,we.code.SPACE,we.code.PERIOD,we.code.COMMA,we.code.SEMICOLON,we.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var e,n,i;return e=t,(n=[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){var n,e;this.lastWord&&(e=(n=this).lastWord.toString(),this.options.match(e,function(e){var t;e&&(t="","string"==typeof e?t=pe.createText(e):e instanceof jQuery?t=e[0]:e instanceof Node&&(t=e),t&&(n.lastWord.insertNode(t),n.lastWord=null,n.context.invoke("editor.focus")))}))}},{key:"handleKeydown",value:function(e){var t;this.previousKeydownCode&&x.contains(this.keys,this.previousKeydownCode)||x.contains(this.keys,e.keyCode)&&(t=this.context.invoke("editor.createRange").getWordRange(),this.lastWord=t),this.previousKeydownCode=e.keyCode}},{key:"handleKeyup",value:function(e){x.contains(this.keys,e.keyCode)&&this.replace()}}])&&et(e.prototype,n),i&&et(e,i),t}();function tt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,!0===this.options.inheritPlaceholder&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}var e,t,i;return e=n,(t=[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var e=this;this.$placeholder=b()('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)}}])&&tt(e.prototype,t),i&&tt(e,i),n}();function nt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var it=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.ui=b.a.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=f.invertObject(this.options.keyMap[p.isMac?"mac":"pc"])}var e,n,i;return e=t,(n=[{key:"representShortcut",value:function(e){e=this.invertedKeyMap[e];return this.options.shortcuts&&e?" ("+(e=(e=p.isMac?e.replace("CMD","⌘").replace("SHIFT","⇧"):e).replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")":""}},{key:"button",value:function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(e){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,e)||(this.fontInstalledMap[e]=p.isFontInstalled(e)||x.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]}},{key:"isFontDeservedToAdd",value:function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===p.genericFontFamilies.indexOf(e)}},{key:"colorPalette",value:function(s,e,n,i){var l=this;return this.ui.buttonGroup({className:"note-color "+s,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(e){e=b()(e.currentTarget);n&&i?l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?l.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):i&&l.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",l.options.colorButton.backColor),e.attr("data-backColor",l.options.colorButton.backColor)),i?(t.css("color",l.options.colorButton.foreColor),e.attr("data-foreColor",l.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor">\x3c!-- back colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"</div>",'<div class="note-holder-custom" id="backColorPalette" data-event="backColor"></div>',"</div>"].join(""):"")+(i?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor">\x3c!-- fore colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">',"</div>",'<div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(e,t){t=b()(t);t.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(e,t){t=b()(t);t.append(l.ui.palette({colors:i,colorsName:i,eventName:t.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())}),n.find("input[type=color]").each(function(e,t){b()(t).change(function(){var e=n.find("#"+b()(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();e.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t),e.click()})})},click:function(e){e.stopPropagation();var t,n,i=b()("."+s).find(".note-dropdown-menu"),o=b()(e.target),r=o.data("event"),a=o.attr("data-value");"openPalette"===r?(n=i.find("#"+a),t=(e=b()(i.find("#"+n.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(),i=n.val(),t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),e.prepend(t),n.click()):(x.contains(["backColor","foreColor"],r)&&(t="backColor"===r?"background-color":"color",n=o.closest(".note-color").find(".note-recent-color"),o=o.closest(".note-color").find(".note-current-color-button"),n.css(t,a),o.attr("data-"+r,a)),l.context.invoke("editor."+r,a))}})]}).render()}},{key:"addToolbarButtons",value:function(){var i=this;this.context.memo("button.style",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic),i.options),tooltip:i.lang.style.style,data:{toggle:"dropdown"}}),i.ui.dropdown({className:"dropdown-style",items:i.options.styleTags,title:i.lang.style.style,template:function(e){var t=(e="string"==typeof e?{tag:e,title:Object.prototype.hasOwnProperty.call(i.lang.style,e)?i.lang.style[e]:e}:e).tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:i.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var e=0,t=this.options.styleTags.length;e<t;e++)!function(e){var t=i.options.styleTags[e];i.context.memo("button.style."+t,function(){return i.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:i.lang.style[t],click:i.context.createInvokeHandler("editor.formatBlock")}).render()})}(e);this.context.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.ui.icon(i.options.icons.bold),tooltip:i.lang.font.bold+i.representShortcut("bold"),click:i.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.ui.icon(i.options.icons.italic),tooltip:i.lang.font.italic+i.representShortcut("italic"),click:i.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.ui.icon(i.options.icons.underline),tooltip:i.lang.font.underline+i.representShortcut("underline"),click:i.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return i.button({contents:i.ui.icon(i.options.icons.eraser),tooltip:i.lang.font.clear+i.representShortcut("removeFormat"),click:i.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.ui.icon(i.options.icons.strikethrough),tooltip:i.lang.font.strikethrough+i.representShortcut("strikethrough"),click:i.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.ui.icon(i.options.icons.superscript),tooltip:i.lang.font.superscript,click:i.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.ui.icon(i.options.icons.subscript),tooltip:i.lang.font.subscript,click:i.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var e=i.context.invoke("editor.currentStyle");return i.options.addDefaultFonts&&b.a.each(e["font-family"].split(","),function(e,t){t=t.trim().replace(/['"]+/g,""),i.isFontDeservedToAdd(t)&&-1===i.options.fontNames.indexOf(t)&&i.options.fontNames.push(t)}),i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',i.options),tooltip:i.lang.font.name,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:i.options.icons.menuCheck,items:i.options.fontNames.filter(i.isFontInstalled.bind(i)),title:i.lang.font.name,template:function(e){return'<span style="font-family: '+p.validFontName(e)+'">'+e+"</span>"},click:i.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',i.options),tooltip:i.lang.font.size,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizes,title:i.lang.font.size,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.fontsizeunit",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',i.options),tooltip:i.lang.font.sizeunit,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:i.options.icons.menuCheck,items:i.options.fontSizeUnits,title:i.lang.font.sizeunit,click:i.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()}),this.context.memo("button.color",function(){return i.colorPalette("note-color-all",i.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return i.colorPalette("note-color-fore",i.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return i.colorPalette("note-color-back",i.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return i.button({contents:i.ui.icon(i.options.icons.unorderedlist),tooltip:i.lang.lists.unordered+i.representShortcut("insertUnorderedList"),click:i.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return i.button({contents:i.ui.icon(i.options.icons.orderedlist),tooltip:i.lang.lists.ordered+i.representShortcut("insertOrderedList"),click:i.context.createInvokeHandler("editor.insertOrderedList")}).render()});var n=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),o=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),r=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),a=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),s=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",f.invoke(n,"render")),this.context.memo("button.justifyCenter",f.invoke(o,"render")),this.context.memo("button.justifyRight",f.invoke(r,"render")),this.context.memo("button.justifyFull",f.invoke(a,"render")),this.context.memo("button.outdent",f.invoke(s,"render")),this.context.memo("button.indent",f.invoke(l,"render")),this.context.memo("button.paragraph",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft),i.options),tooltip:i.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),i.ui.dropdown([i.ui.buttonGroup({className:"note-align",children:[n,o,r,a]}),i.ui.buttonGroup({className:"note-list",children:[s,l]})])]).render()}),this.context.memo("button.height",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight),i.options),tooltip:i.lang.font.height,data:{toggle:"dropdown"}}),i.ui.dropdownCheck({items:i.options.lineHeights,checkClassName:i.options.icons.menuCheck,className:"dropdown-line-height",title:i.lang.font.height,click:i.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return i.ui.buttonGroup([i.button({className:"dropdown-toggle",contents:i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table),i.options),tooltip:i.lang.table.table,data:{toggle:"dropdown"}}),i.ui.dropdown({title:i.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:i.options.insertTableMaxSize.col+"em",height:i.options.insertTableMaxSize.row+"em"}).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler.bind(i))}}).render()}),this.context.memo("button.link",function(){return i.button({contents:i.ui.icon(i.options.icons.link),tooltip:i.lang.link.link+i.representShortcut("linkDialog.show"),click:i.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return i.button({contents:i.ui.icon(i.options.icons.picture),tooltip:i.lang.image.image,click:i.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return i.button({contents:i.ui.icon(i.options.icons.video),tooltip:i.lang.video.video,click:i.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return i.button({contents:i.ui.icon(i.options.icons.minus),tooltip:i.lang.hr.insert+i.representShortcut("insertHorizontalRule"),click:i.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen note-codeview-keep",contents:i.ui.icon(i.options.icons.arrowsAlt),tooltip:i.lang.options.fullscreen,click:i.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return i.button({className:"btn-codeview note-codeview-keep",contents:i.ui.icon(i.options.icons.code),tooltip:i.lang.options.codeview,click:i.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return i.button({contents:i.ui.icon(i.options.icons.redo),tooltip:i.lang.history.redo+i.representShortcut("redo"),click:i.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return i.button({contents:i.ui.icon(i.options.icons.undo),tooltip:i.lang.history.undo+i.representShortcut("undo"),click:i.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return i.button({contents:i.ui.icon(i.options.icons.question),tooltip:i.lang.options.help,click:i.context.createInvokeHandler("helpDialog.show")}).render()})}},{key:"addImagePopoverButtons",value:function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})}},{key:"addLinkPopoverButtons",value:function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})}},{key:"addTablePopoverButtons",value:function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})}},{key:"build",value:function(e,t){for(var n=0,i=t.length;n<i;n++){for(var o=t[n],r=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u(this.context):u)}s.appendTo(e)}}},{key:"updateCurrentStyle",value:function(e){var i,o,r,n,a=this,t=e||this.$toolbar,s=this.context.invoke("editor.currentStyle");this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===s["font-bold"]},".note-btn-italic":function(){return"italic"===s["font-italic"]},".note-btn-underline":function(){return"underline"===s["font-underline"]},".note-btn-subscript":function(){return"subscript"===s["font-subscript"]},".note-btn-superscript":function(){return"superscript"===s["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===s["font-strikethrough"]}}),s["font-family"]&&(e=s["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=x.find(e,this.isFontInstalled.bind(this)),t.find(".dropdown-fontname a").each(function(e,t){var n=b()(t),t=n.data("value")+""==i+"";n.toggleClass("checked",t)}),t.find(".note-current-fontname").text(i).css("font-family",i)),s["font-size"]&&(o=s["font-size"],t.find(".dropdown-fontsize a").each(function(e,t){var n=b()(t),t=n.data("value")+""==o+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsize").text(o),r=s["font-size-unit"],t.find(".dropdown-fontsizeunit a").each(function(e,t){var n=b()(t),t=n.data("value")+""==r+"";n.toggleClass("checked",t)}),t.find(".note-current-fontsizeunit").text(r)),s["line-height"]&&(n=s["line-height"],t.find(".dropdown-line-height li a").each(function(e,t){t=b()(t).data("value")+""==n+"";a.className=t?"checked":""}))}},{key:"updateBtnStates",value:function(n,e){var i=this;b.a.each(e,function(e,t){i.ui.toggleBtnActive(n.find(e),t())})}},{key:"tableMoveHandler",value:function(e){var t=b()(e.target.parentNode),n=t.next(),i=t.find(".note-dimension-picker-mousecatcher"),o=t.find(".note-dimension-picker-highlighted"),t=t.find(".note-dimension-picker-unhighlighted");r=void 0===e.offsetX?(r=b()(e.target).offset(),{x:e.pageX-r.left,y:e.pageY-r.top}):{x:e.offsetX,y:e.offsetY};var e=Math.ceil(r.x/18)||1,r=Math.ceil(r.y/18)||1;o.css({width:e+"em",height:r+"em"}),i.data("value",e+"x"+r),3<e&&e<this.options.insertTableMaxSize.col&&t.css({width:e+1+"em"}),3<r&&r<this.options.insertTableMaxSize.row&&t.css({height:r+1+"em"}),n.html(e+" x "+r)}}])&&nt(e.prototype,n),i&&nt(e,i),t}();function ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$window=b()(window),this.$document=b()(document),this.ui=b.a.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var e,n,i;return e=t,(n=[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=b()(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-o,i=a+e-o-n-i;!this.isFollowing&&s<r&&r<i-n?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:o,width:t,zIndex:1e3})):this.isFollowing&&(r<s||i<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()}},{key:"activate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!0)}},{key:"deactivate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!1)}}])&&ot(e.prototype,n),i&&ot(e,i),t}();function rt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}c=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=b.a.summernote.ui,this.$body=b()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":b()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html(),b()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-use-protocol",text:this.lang.link.useProtocol,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-link-btn",'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",function(e){e.keyCode===we.code.ENTER&&(e.preventDefault(),t.trigger("click"))})}},{key:"toggleLinkBtn",value:function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())}},{key:"showLinkDialog",value:function(s){var l=this;return b.a.Deferred(function(t){var n=l.$dialog.find(".note-link-text"),i=l.$dialog.find(".note-link-url"),o=l.$dialog.find(".note-link-btn"),r=l.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"),a=l.$dialog.find(".sn-checkbox-use-protocol input[type=checkbox]");l.ui.onDialogShown(l.$dialog,function(){l.context.triggerEvent("dialog.shown"),!s.url&&f.isValidUrl(s.text)&&(s.url=s.text),n.on("input paste propertychange",function(){s.text=n.val(),l.toggleLinkBtn(o,n,i)}).val(s.text),i.on("input paste propertychange",function(){s.text||n.val(i.val()),l.toggleLinkBtn(o,n,i)}).val(s.url),p.isSupportTouch||i.trigger("focus"),l.toggleLinkBtn(o,n,i),l.bindEnterKey(i,o),l.bindEnterKey(n,o);var e=void 0!==s.isNewWindow?s.isNewWindow:l.context.options.linkTargetBlank;r.prop("checked",e);e=!s.url&&l.context.options.useProtocol;a.prop("checked",e),o.one("click",function(e){e.preventDefault(),t.resolve({range:s.range,url:i.val(),text:n.val(),isNewWindow:r.is(":checked"),checkProtocol:a.is(":checked")}),l.ui.hideDialog(l.$dialog)})}),l.ui.onDialogHidden(l.$dialog,function(){n.off(),i.off(),o.off(),"pending"===t.state()&&t.reject()}),l.ui.showDialog(l.$dialog)}).promise()}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)}).fail(function(){t.context.invoke("editor.restoreRange")})}}])&&rt(e.prototype,n),i&&rt(e,i),t}();function at(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}s=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.context=e,this.ui=b.a.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown summernote.blur":function(){t.hide()}}}var e,t,i;return e=n,(t=[{key:"shouldInitialize",value:function(){return!x.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){var e,t;this.context.invoke("editor.hasFocus")&&(e=this.context.invoke("editor.getLastRange")).isCollapsed()&&e.isOnAnchor()?(t=pe.ancestor(e.sc,pe.isAnchor),e=b()(t).attr("href"),this.$popover.find("a").attr("href",e).text(e),e=pe.posFromPlaceholder(t),t=b()(this.options.container).offset(),e.top-=t.top,e.left-=t.left,this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&at(e.prototype,t),i&&at(e,i),n}();function st(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var lt=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=b.a.summernote.ui,this.$body=b()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){var e="";this.options.maximumImageFileSize&&(t=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=+(this.options.maximumImageFileSize/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP"[t]+"B",e="<small>".concat(this.lang.image.maximumFileSize+" : "+n,"</small>"));var t=this.options.dialogsInBody?this.$body:this.options.container,n=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple"/>',e,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),e='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-image-btn",'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:e}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",function(e){e.keyCode===we.code.ENTER&&(e.preventDefault(),t.trigger("click"))})}},{key:"show",value:function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.context.invoke("editor.restoreRange")})}},{key:"showImageDialog",value:function(){var o=this;return b.a.Deferred(function(t){var e=o.$dialog.find(".note-image-input"),n=o.$dialog.find(".note-image-url"),i=o.$dialog.find(".note-image-btn");o.ui.onDialogShown(o.$dialog,function(){o.context.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.on("input paste propertychange",function(){o.ui.toggleBtn(i,n.val())}).val(""),p.isSupportTouch||n.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(n.val())}),o.bindEnterKey(n,i)}),o.ui.onDialogHidden(o.$dialog,function(){e.off(),n.off(),i.off(),"pending"===t.state()&&t.reject()}),o.ui.showDialog(o.$dialog)})}}])&&st(e.prototype,n),i&&st(e,i),t}();function ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}o=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.context=e,this.ui=b.a.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable summernote.blur":function(){t.hide()}}}var e,t,i;return e=n,(t=[{key:"shouldInitialize",value:function(){return!x.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e,t){var n,i;pe.isImg(e)?(n=b()(e).offset(),i=b()(this.options.container).offset(),e={},this.options.popatmouse?(e.left=t.pageX-20,e.top=t.pageY):e=n,e.top-=i.top,e.left-=i.left,this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&ct(e.prototype,t),i&&ct(e,i),n}();function ut(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}u=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=b.a.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()}}}var e,n,i;return e=t,(n=[{key:"shouldInitialize",value:function(){return!x.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),p.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){if(this.context.isDisabled())return!1;var t,n=pe.isCell(e);return n?(t=pe.posFromPlaceholder(e),e=b()(this.options.container).offset(),t.top-=e.top,t.left-=e.left,this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide(),n}},{key:"hide",value:function(){this.$popover.hide()}}])&&ut(e.prototype,n),i&&ut(e,i),t}();function dt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}d=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=b.a.summernote.ui,this.$body=b()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-video-btn",'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",function(e){e.keyCode===we.code.ENTER&&(e.preventDefault(),t.trigger("click"))})}},{key:"createVideoNode",value:function(e){var t=e.match(/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),r=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),l=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),d=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(t&&11===t[1].length){var h=t[1],f=0;if(void 0!==t[2]){var m=t[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var g=[3600,60,1],v=0,y=g.length;v<y;v++)f+=void 0!==m[v+1]?g[v]*parseInt(m[v+1],10):0}h=b()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h+(0<f?"?start="+f:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)h=b()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)h=b()("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)h=b()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(r&&r[2].length)h=b()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+r[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)h=b()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||l&&l[2].length)l=s&&s[1].length?s[1]:l[2],h=b()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+l+"&amp;auto=0");else if(c||u||d)h=b()("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;h=b()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return h.addClass("note-video-clip"),h[0]}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");e=t.createVideoNode(e);e&&t.context.invoke("editor.insertNode",e)}).fail(function(){t.context.invoke("editor.restoreRange")})}},{key:"showVideoDialog",value:function(){var i=this;return b.a.Deferred(function(t){var n=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){i.ui.toggleBtn(e,n.val())}),p.isSupportTouch||n.trigger("focus"),e.click(function(e){e.preventDefault(),t.resolve(n.val())}),i.bindEnterKey(n,e)}),i.ui.onDialogHidden(i.$dialog,function(){n.off(),e.off(),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})}}])&&dt(e.prototype,n),i&&dt(e,i),t}();function pt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}O=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=b.a.summernote.ui,this.$body=b()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,i;return e=t,(n=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.18</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var i=this,o=this.options.keyMap[p.isMac?"mac":"pc"];return Object.keys(o).map(function(e){var t=o[e],n=b()('<div><div class="help-list-item"></div></div>');return n.append(b()("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(b()("<span/>").html(i.context.memo("help."+t)||t)),n.html()}).join("")}},{key:"showHelpDialog",value:function(){var t=this;return b.a.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})}}])&&pt(e.prototype,n),i&&pt(e,i),t}();function ht(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}_=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=b.a.summernote.ui,this.options=e.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(e){n.options.editing&&(e.preventDefault(),e.stopPropagation(),n.onContextmenu=!0,n.update(!0))},"summernote.mousedown":function(e,t){n.pageX=t.pageX,n.pageY=t.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(e,t){n.options.editing&&!n.onContextmenu&&(n.pageX=t.pageX,n.pageY=t.pageY,n.update()),n.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){n.hide()},"summernote.focusout":function(){n.$popover.is(":active,:focus")||n.hide()}}}var e,n,i;return e=t,(n=[{key:"shouldInitialize",value:function(){return this.options.airMode&&!x.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var e=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air),this.$popover.on("mousedown",function(){e.hidable=!1}),this.$popover.on("mouseup",function(){e.hidable=!0})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){var t=this.context.invoke("editor.currentStyle");!t.range||t.range.isCollapsed()&&!e?this.hide():(t={left:this.pageX,top:this.pageY},e=b()(this.options.container).offset(),t.top-=e.top,t.left-=e.left,this.$popover.css({display:"block",left:Math.max(t.left,0)+-5,top:t.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover))}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),e),e&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])&&ht(e.prototype,n),i&&ht(e,i),t}();function ft(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}F=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=b.a.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var e,n,i;return e=t,(n=[{key:"shouldInitialize",value:function(){return 0<this.hints.length}},{key:"initialize",value:function(){var t=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(e){t.$content.find(".active").removeClass("active"),b()(e.currentTarget).addClass("active"),t.replace()}),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();t.length?this.selectItem(t):((e=e.parent().next()).length||(e=this.$content.find(".note-hint-group").first()),this.selectItem(e.find(".note-hint-item").first()))}},{key:"moveUp",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();t.length?this.selectItem(t):((e=e.parent().prev()).length||(e=this.$content.find(".note-hint-group").last()),this.selectItem(e.find(".note-hint-item").last()))}},{key:"replace",value:function(){var e,t=this.$content.find(".note-hint-item.active");t.length&&(t=this.nodeFromItem(t),null!==this.matchingWord&&0===this.matchingWord.length?this.lastWordRange.so=this.lastWordRange.eo:null!==this.matchingWord&&0<this.matchingWord.length&&!this.lastWordRange.isCollapsed()&&(0<(e=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length)&&(this.lastWordRange.so+=e)),this.lastWordRange.insertNode(t),"next"===this.options.hintSelect?(e=document.createTextNode(""),b()(t).after(e),be.createFromNodeBefore(e).select()):be.createFromNodeAfter(t).select(),this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus"))}},{key:"nodeFromItem",value:function(e){var t=this.hints[e.data("index")],e=e.data("item"),e=t.content?t.content(e):e;return e="string"==typeof e?pe.createText(e):e}},{key:"createItemTemplates",value:function(n,e){var i=this.hints[n];return e.map(function(e){var t=b()('<div class="note-hint-item"/>');return t.append(i.template?i.template(e):e+""),t.data({index:n,item:e}),t})}},{key:"handleKeydown",value:function(e){this.$popover.is(":visible")&&(e.keyCode===we.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===we.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===we.code.DOWN&&(e.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(e,t,n){e=this.hints[e];e&&e.match.test(t)&&e.search?(t=e.match.exec(t),this.matchingWord=t[0],e.search(t[1],n)):n()}},{key:"createGroup",value:function(t,e){var n=this,i=b()('<div class="note-hint-group note-hint-group-'+t+'"></div>');return this.searchKeyword(t,e,function(e){(e=e||[]).length&&(i.html(n.createItemTemplates(t,e)),n.show())}),i}},{key:"handleKeyup",value:function(e){var n=this;if(!x.contains([we.code.ENTER,we.code.UP,we.code.DOWN],e.keyCode)){var t,i,o,r=this.context.invoke("editor.getLastRange");if("words"===this.options.hintMode){if(t=r.getWordsRange(r),i=t.toString(),this.hints.forEach(function(e){if(e.match.test(i))return t=r.getWordsMatchRange(e.match),!1}),!t)return void this.hide();i=t.toString()}else t=r.getWordRange(),i=t.toString();this.hints.length&&i?(this.$content.empty(),o=f.rect2bnd(x.last(t.getClientRects())),e=b()(this.options.container).offset(),o&&(o.top-=e.top,o.left-=e.left,this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(e,t){e.match.test(i)&&n.createGroup(t,i).appendTo(n.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:o.left,top:o.top-this.$popover.outerHeight()-5}):this.$popover.css({left:o.left,top:o.top+o.height+5}))):this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}])&&ft(e.prototype,n),i&&ft(e,i),t}();b.a.summernote=b.a.extend(b.a.summernote,{version:"0.8.18",plugins:{},dom:pe,range:be,lists:x,options:{langInfo:b.a.summernote.lang["en-US"],editing:!0,modules:{editor:Le,clipboard:je,dropzone:Oe,codeview:ze,statusbar:Ve,fullscreen:We,handle:Ge,hintPopover:F,autoLink:Qe,autoSync:Je,autoReplace:i,placeholder:n,buttons:it,toolbar:l,linkDialog:c,linkPopover:s,imageDialog:lt,imagePopover:o,tablePopover:u,videoDialog:d,helpDialog:O,airPopover:_},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:"http://",focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})},4:function(e,t,n){},52:function(e,t,n){n.r(t);var t=n(0),i=n.n(t),o=n(1);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return e+" "+k(t.icons.caret,"span")}var s=o.a.create('<div class="note-editor note-frame panel panel-default"/>'),l=o.a.create('<div class="panel-heading note-toolbar" role="toolbar"/>'),c=o.a.create('<div class="note-editing-area"/>'),u=o.a.create('<textarea class="note-codable" aria-multiline="true"/>'),d=o.a.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),p=o.a.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="Resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),f=o.a.create('<div class="note-editor note-airframe"/>'),m=o.a.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),g=o.a.create('<div class="note-btn-group btn-group">'),v=o.a.create('<ul class="note-dropdown-menu dropdown-menu">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e,e="object"===r(e)?e.option:void 0;return'<li aria-label="'+t+'"><a href="#" '+('data-value="'+t+'"')+(void 0!==e?' data-option="'+e+'"':"")+">"+n+"</a></li>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title}),i&&i.codeviewKeepButton&&e.addClass("note-codeview-keep")}),y=o.a.create('<ul class="note-dropdown-menu dropdown-menu note-check">',function(e,i){var t=Array.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e;return'<li aria-label="'+e+'"><a href="#" data-value="'+t+'">'+k(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;e.html(t).attr({"aria-label":i.title}),i&&i.codeviewKeepButton&&e.addClass("note-codeview-keep")}),b=o.a.create('<div class="modal note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','<div class="modal-content">',t.title?'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button><h4 class="modal-title">'+t.title+"</h4></div>":"",'<div class="modal-body">'+t.body+"</div>",t.footer?'<div class="modal-footer">'+t.footer+"</div>":"","</div>","</div>"].join(""))}),x=o.a.create(['<div class="note-popover popover in">','<div class="arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),w=o.a.create('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="note-'+t.id+'"':"")+">",'<input type="checkbox"'+(t.id?' id="note-'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text||"","</label>"].join(""))}),k=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"></'+t+">"},t=function(h){return{editor:s,toolbar:l,editingArea:c,codable:u,editable:d,statusbar:p,airEditor:f,airEditable:m,buttonGroup:g,dropdown:v,dropdownButtonContents:a,dropdownCheck:y,dialog:b,popover:x,checkbox:w,icon:k,options:h,palette:function(e,t){return o.a.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container||h.container,trigger:"hover",placement:"bottom"})})(e,t)},button:function(e,t){return o.a.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:t.container||h.container,trigger:"hover",placement:"bottom"}).on("click",function(e){i()(e.currentTarget).tooltip("hide")}),t&&t.codeviewButton&&e.addClass("note-codeview-keep")})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e){var t=(h.airMode?f([c([u(),m()])]):"bottom"===h.toolbarPosition?s([c([u(),d()]),l(),p()]):s([l(),c([u(),d()]),p()])).render();return t.insertAfter(e),{note:e,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}}};n(3),n(4);i.a.summernote=i.a.extend(i.a.summernote,{ui_template:t,interface:"bs3"})}},r={},o.m=i,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=52);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var i,r})},{jquery:624}],850:[function(e,t,n){var i,o;i="undefined"!=typeof window?window:this,o=function(a,o){var d=(void 0!==this?this:a).SVG=function(e){if(d.supported)return e=new d.Doc(e),d.parser.draw||d.prepare(),e};if(d.ns="http://www.w3.org/2000/svg",d.xmlns="http://www.w3.org/2000/xmlns/",d.xlink="http://www.w3.org/1999/xlink",d.svgjs="http://svgjs.com/svgjs",d.supported=!!o.createElementNS&&!!o.createElementNS(d.ns,"svg").createSVGRect,!d.supported)return!1;d.did=1e3,d.eid=function(e){return"Svgjs"+s(e)+d.did++},d.create=function(e){var t=o.createElementNS(this.ns,e);return t.setAttribute("id",this.eid(e)),t},d.extend=function(){for(var e,t=[].slice.call(arguments),n=t.pop(),i=t.length-1;0<=i;i--)if(t[i])for(e in n)t[i].prototype[e]=n[e];d.Set&&d.Set.inherit&&d.Set.inherit()},d.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,d.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&d.extend(t,e.extend),e.construct&&d.extend(e.parent||d.Container,e.construct),t},d.adopt=function(e){if(!e)return null;if(e.instance)return e.instance;var t="svg"==e.nodeName?new(e.parentNode instanceof a.SVGElement?d.Nested:d.Doc):"linearGradient"==e.nodeName?new d.Gradient("linear"):"radialGradient"==e.nodeName?new d.Gradient("radial"):d[s(e.nodeName)]?new d[s(e.nodeName)]:new d.Element(e);return t.type=e.nodeName,((t.node=e).instance=t)instanceof d.Doc&&t.namespace().defs(),t.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),t},d.prepare=function(){var e=o.getElementsByTagName("body")[0],t=(e?new d.Doc(e):d.adopt(o.documentElement).nested()).size(2,0);d.parser={body:e||o.documentElement,draw:t.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:t.polyline().node,path:t.path().node,native:d.create("svg")}},d.parser={native:d.create("svg")},o.addEventListener("DOMContentLoaded",function(){d.parser.draw||d.prepare()},!1),d.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},d.utils={map:function(e,t){for(var n=e.length,i=[],o=0;o<n;o++)i.push(t(e[o]));return i},filter:function(e,t){for(var n=e.length,i=[],o=0;o<n;o++)t(e[o])&&i.push(e[o]);return i},radians:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},filterSVGElements:function(e){return this.filter(e,function(e){return e instanceof a.SVGElement})}},d.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},d.Color=function(e){var t,n;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?d.regex.isRgb.test(e)?(t=d.regex.rgb.exec(e.replace(d.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):d.regex.isHex.test(e)&&(t=d.regex.hex.exec(4==(n=e).length?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"==typeof e&&(this.r=e.r,this.g=e.g,this.b=e.b))},d.extend(d.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new d.Color(e),this},at:function(e){return this.destination?new d.Color({r:~~(this.r+(this.destination.r-this.r)*(e=e<0?0:1<e?1:e)),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)}):this}}),d.Color.test=function(e){return d.regex.isHex.test(e+="")||d.regex.isRgb.test(e)},d.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},d.Color.isColor=function(e){return d.Color.isRgb(e)||d.Color.test(e)},d.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},d.extend(d.Array,{morph:function(e){if(this.destination=this.parse(e),this.value.length!=this.destination.length){for(var t=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(t)}return this},settle:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)-1==n.indexOf(this.value[e])&&n.push(this.value[e]);return this.value=n},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,i=[];t<n;t++)i.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new d.Array(i)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.trim().split(d.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var e=new this.constructor;return e.value=function e(t){var n=t.slice(0);for(var i=n.length;i--;)Array.isArray(n[i])&&(n[i]=e(n[i]));return n}(this.value),e}}),d.PointArray=function(e,t){d.Array.call(this,e,t||[[0,0]])},d.PointArray.prototype=new d.Array,d.PointArray.prototype.constructor=d.PointArray,d.extend(d.PointArray,{toString:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.push(this.value[e].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,i=[];t<n;t++)i.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new d.PointArray(i)},parse:function(e){var t=[];if(e=e.valueOf(),Array.isArray(e)){if(Array.isArray(e[0]))return e.map(function(e){return e.slice()});if(null!=e[0].x)return e.map(function(e){return[e.x,e.y]})}else e=e.trim().split(d.regex.delimiter).map(parseFloat);e.length%2!=0&&e.pop();for(var n=0,i=e.length;n<i;n+=2)t.push([e[n],e[n+1]]);return t},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var i=this.value.length-1;0<=i;i--)this.value[i]=[this.value[i][0]+e,this.value[i][1]+t];return this},size:function(e,t){for(var n=this.bbox(),i=this.value.length-1;0<=i;i--)n.width&&(this.value[i][0]=(this.value[i][0]-n.x)*e/n.width+n.x),n.height&&(this.value[i][1]=(this.value[i][1]-n.y)*t/n.height+n.y);return this},bbox:function(){return d.parser.poly.setAttribute("points",this.toString()),d.parser.poly.getBBox()}});for(var l={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},e="mlhvqtcsaz".split(""),t=0,n=e.length;t<n;++t)l[e[t]]=function(r){return function(e,t,n){if("H"==r)e[0]=e[0]+t.x;else if("V"==r)e[0]=e[0]+t.y;else if("A"==r)e[5]=e[5]+t.x,e[6]=e[6]+t.y;else for(var i=0,o=e.length;i<o;++i)e[i]=e[i]+(i%2?t.y:t.x);return l[r](e,t,n)}}(e[t].toUpperCase());d.PathArray=function(e,t){d.Array.call(this,e,t||[["M",0,0]])},d.PathArray.prototype=new d.Array,d.PathArray.prototype.constructor=d.PathArray,d.extend(d.PathArray,{toString:function(){return function(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t][0],null!=e[t][1]&&(i+=e[t][1],null!=e[t][2]&&(i+=" ",i+=e[t][2],null!=e[t][3]&&(i+=" ",i+=e[t][3],i+=" ",i+=e[t][4],null!=e[t][5]&&(i+=" ",i+=e[t][5],i+=" ",i+=e[t][6],null!=e[t][7]&&(i+=" ",i+=e[t][7])))));return i+" "}(this.value)},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var i,o=this.value.length-1;0<=o;o--)"M"==(i=this.value[o][0])||"L"==i||"T"==i?(this.value[o][1]+=e,this.value[o][2]+=t):"H"==i?this.value[o][1]+=e:"V"==i?this.value[o][1]+=t:"C"==i||"S"==i||"Q"==i?(this.value[o][1]+=e,this.value[o][2]+=t,this.value[o][3]+=e,this.value[o][4]+=t,"C"==i&&(this.value[o][5]+=e,this.value[o][6]+=t)):"A"==i&&(this.value[o][6]+=e,this.value[o][7]+=t);return this},size:function(e,t){for(var n,i=this.bbox(),o=this.value.length-1;0<=o;o--)"M"==(n=this.value[o][0])||"L"==n||"T"==n?(this.value[o][1]=(this.value[o][1]-i.x)*e/i.width+i.x,this.value[o][2]=(this.value[o][2]-i.y)*t/i.height+i.y):"H"==n?this.value[o][1]=(this.value[o][1]-i.x)*e/i.width+i.x:"V"==n?this.value[o][1]=(this.value[o][1]-i.y)*t/i.height+i.y:"C"==n||"S"==n||"Q"==n?(this.value[o][1]=(this.value[o][1]-i.x)*e/i.width+i.x,this.value[o][2]=(this.value[o][2]-i.y)*t/i.height+i.y,this.value[o][3]=(this.value[o][3]-i.x)*e/i.width+i.x,this.value[o][4]=(this.value[o][4]-i.y)*t/i.height+i.y,"C"==n&&(this.value[o][5]=(this.value[o][5]-i.x)*e/i.width+i.x,this.value[o][6]=(this.value[o][6]-i.y)*t/i.height+i.y)):"A"==n&&(this.value[o][1]=this.value[o][1]*e/i.width,this.value[o][2]=this.value[o][2]*t/i.height,this.value[o][6]=(this.value[o][6]-i.x)*e/i.width+i.x,this.value[o][7]=(this.value[o][7]-i.y)*t/i.height+i.y);return this},equalCommands:function(e){var t,n,i;for(e=new d.PathArray(e),i=this.value.length===e.value.length,t=0,n=this.value.length;i&&t<n;t++)i=this.value[t][0]===e.value[t][0];return i},morph:function(e){return e=new d.PathArray(e),this.equalCommands(e)?this.destination=e:this.destination=null,this},at:function(e){if(!this.destination)return this;for(var t,n,i=this.value,o=this.destination.value,r=[],a=new d.PathArray,s=0,l=i.length;s<l;s++){for(r[s]=[i[s][0]],t=1,n=i[s].length;t<n;t++)r[s][t]=i[s][t]+(o[s][t]-i[s][t])*e;"A"===r[s][0]&&(r[s][4]=+(0!=r[s][4]),r[s][5]=+(0!=r[s][5]))}return a.value=r,a},parse:function(e){if(e instanceof d.PathArray)return e.valueOf();var t,n={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(d.regex.numbersWithDots,c).replace(d.regex.pathLetters," $& ").replace(d.regex.hyphen,"$1 -").trim().split(d.regex.delimiter):e.reduce(function(e,t){return[].concat.call(e,t)},[]);for(var i=[],o=new d.Point,r=new d.Point,a=0,s=e.length;d.regex.isPathLetter.test(e[a])?(t=e[a],++a):"M"==t?t="L":"m"==t&&(t="l"),i.push(l[t].call(null,e.slice(a,a+=n[t.toUpperCase()]).map(parseFloat),o,r)),a<s;);return i},bbox:function(){return d.parser.path.setAttribute("d",this.toString()),d.parser.path.getBBox()}}),d.Number=d.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(d.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof d.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new d.Number(e),new d.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new d.Number(e),new d.Number(this-e,this.unit||e.unit)},times:function(e){return e=new d.Number(e),new d.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new d.Number(e),new d.Number(this/e,this.unit||e.unit)},to:function(e){var t=new d.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new d.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new d.Number(this.destination).minus(this).times(e).plus(this):this}}}),d.Element=d.invent({create:function(e){this._stroke=d.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=e)&&(this.type=e.nodeName,(this.node.instance=this)._events=e._events||{},this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){t=p(this,e,t);return this.width(new d.Number(t.width)).height(new d.Number(t.height))},clone:function(e){this.writeDataToDom();var t=g(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},inside:function(e,t){var n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(d.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){var t;return this.hasClass(e)||((t=this.classes()).push(e),this.attr("class",t.join(" "))),this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return d.get(this.attr(e))},parent:function(e){var t=this;if(!t.node.parentNode)return null;if(t=d.adopt(t.node.parentNode),!e)return t;for(;t&&t.node instanceof a.SVGElement;){if("string"==typeof e?t.matches(e):t instanceof e)return t;if(!t.node.parentNode||"#document"==t.node.parentNode.nodeName||"#document-fragment"==t.node.parentNode.nodeName)return null;t=d.adopt(t.node.parentNode)}},doc:function(){return this instanceof d.Doc?this:this.parent(d.Doc)},parents:function(e){for(var t=[],n=this;(n=n.parent(e))&&n.node&&(t.push(n),n.parent););return t},matches:function(e){return((t=this.node).matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e);var t},native:function(){return this.node},svg:function(e){var t=o.createElement("svg");if(!(e&&this instanceof d.Parent))return t.appendChild(e=o.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),t.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");t.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var n=0,i=t.firstChild.childNodes.length;n<i;n++)this.node.appendChild(t.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return this instanceof e}}}),d.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},d.morph=function(n){return function(e,t){return new d.MorphObj(e,t).at(n)}},d.Situation=d.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new d.Number(e.duration).valueOf(),this.delay=new d.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),d.FX=d.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,n){"object"==typeof e&&(t=e.ease,n=e.delay,e=e.duration);t=new d.Situation({duration:e||1e3,delay:n||0,ease:d.easing[t||"-"]||t});return this.queue(t),this},delay:function(e){e=new d.Situation({duration:e,delay:0,ease:d.easing["-"]});return this.queue(e)},target:function(e){return e&&e instanceof d.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=a.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){a.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof d.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof d.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t,n,i=this.situation;if(i.init)return this;for(e in i.animations)for(n=this.target()[e](),Array.isArray(n)||(n=[n]),Array.isArray(i.animations[e])||(i.animations[e]=[i.animations[e]]),t=n.length;t--;)i.animations[e][t]instanceof d.Number&&(n[t]=new d.Number(n[t])),i.animations[e][t]=n[t].morph(i.animations[e][t]);for(e in i.attrs)i.attrs[e]=new d.MorphObj(this.target().attr(e),i.attrs[e]);for(e in i.styles)i.styles[e]=new d.MorphObj(this.target().style(e),i.styles[e]);return i.initialTransformation=this.target().matrixify(),i.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(n||this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){var e;return this.situation&&(e=this.situation,this.stop(),this.situation=e,this.atStart()),this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(e,t){var n=this.situation.duration/this._speed;return this.absPos=e,t||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(e){return 0===e?this.pause():e?(this._speed=e,this.at(this.absPos,!0)):this._speed},loop:function(e,t){var n=this.last();return n.loops=null==e||e,n.loop=0,t&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(e){var t=this.last();return t.reversed=void 0===e?!t.reversed:e,this},progress:function(e){return e?this.situation.ease(this.pos):this.pos},after:function(t){function n(e){e.detail.situation==i&&(t.call(this,i),this.off("finished.fx",n))}var i=this.last();return this.target().on("finished.fx",n),this._callStart()},during:function(t){function e(e){e.detail.situation==n&&t.call(this,e.detail.pos,d.morph(e.detail.pos),e.detail.eased,n)}var n=this.last();return this.target().off("during.fx",e).on("during.fx",e),this.after(function(){this.off("during.fx",e)}),this._callStart()},afterAll:function(t){function n(e){t.call(this),this.off("allfinished.fx",n)}return this.target().off("allfinished.fx",n).on("allfinished.fx",n),this._callStart()},duringAll:function(t){function e(e){t.call(this,e.detail.pos,d.morph(e.detail.pos),e.detail.eased,e.detail.situation)}return this.target().off("during.fx",e).on("during.fx",e),this.afterAll(function(){this.off("during.fx",e)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){var t,n;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(n=Math.max(this.absPos,0),e=Math.floor(n),!0===this.situation.loops||e<this.situation.loops?(this.pos=n-e,t=this.situation.loop,this.situation.loop=e):(this.absPos=this.situation.loops,this.pos=1,t=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-t)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var i,o=this.situation.ease(this.pos);for(i in this.situation.once)i>this.lastPos&&i<=o&&(this.situation.once[i].call(this.target(),this.pos,o),delete this.situation.once[i]);return this.active&&this.target().fire("during",{pos:this.pos,eased:o,fx:this,situation:this.situation}),this.situation&&(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=o),this},eachAt:function(){var e,t,n,i=this,o=this.target(),r=this.situation;for(e in r.animations)n=[].concat(r.animations[e]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(i.pos),i.pos):e}),o[e].apply(o,n);for(e in r.attrs)n=[e].concat(r.attrs[e]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(i.pos),i.pos):e}),o.attr.apply(o,n);for(e in r.styles)n=[e].concat(r.styles[e]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(i.pos),i.pos):e}),o.style.apply(o,n);if(r.transforms.length){for(n=r.initialTransformation,e=0,t=r.transforms.length;e<t;e++){var a=r.transforms[e];a instanceof d.Matrix?n=a.relative?n.multiply((new d.Matrix).morph(a).at(r.ease(this.pos))):n.morph(a).at(r.ease(this.pos)):(a.relative||a.undo(n.extract()),n=n.multiply(a.at(r.ease(this.pos))))}o.matrix(n)}return this},once:function(e,t,n){var i=this.last();return n||(e=i.ease(e)),i.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:d.Element,construct:{animate:function(e,t,n){return(this.fx||(this.fx=new d.FX(this))).animate(e,t,n)},delay:function(e){return(this.fx||(this.fx=new d.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(e){if(this.fx){if(null==e)return this.fx.speed();this.fx.speed(e)}return this}}}),d.MorphObj=d.invent({create:function(e,t){return d.Color.isColor(t)?new d.Color(e).morph(t):d.regex.delimiter.test(e)?new(d.regex.pathLetters.test(e)?d.PathArray:d.Array)(e).morph(t):d.regex.numberAndUnit.test(t)?new d.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),d.extend(d.FX,{attr:function(e,t,n){if("object"==typeof e)for(var i in e)this.attr(i,e[i]);else this.add(e,t,"attrs");return this},style:function(e,t){if("object"==typeof e)for(var n in e)this.style(n,e[n]);else this.add(e,t,"styles");return this},x:function(e,t){if(this.target()instanceof d.G)return this.transform({x:e},t),this;e=new d.Number(e);return e.relative=t,this.add("x",e)},y:function(e,t){if(this.target()instanceof d.G)return this.transform({y:e},t),this;e=new d.Number(e);return e.relative=t,this.add("y",e)},cx:function(e){return this.add("cx",new d.Number(e))},cy:function(e){return this.add("cy",new d.Number(e))},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){var n;return this.target()instanceof d.Text?this.attr("font-size",e):(e&&t||(n=this.target().bbox()),e=e||n.width/n.height*t,t=t||n.height/n.width*e,this.add("width",new d.Number(e)).add("height",new d.Number(t))),this},width:function(e){return this.add("width",new d.Number(e))},height:function(e){return this.add("height",new d.Number(e))},plot:function(e,t,n,i){return 4==arguments.length?this.plot([e,t,n,i]):this.add("plot",new(this.target().morphArray)(e))},leading:function(e){return this.target().leading?this.add("leading",new d.Number(e)):this},viewbox:function(e,t,n,i){return this.target()instanceof d.Container&&this.add("viewbox",new d.ViewBox(e,t,n,i)),this},update:function(e){if(this.target()instanceof d.Stop){if("number"==typeof e||e instanceof d.Number)return this.update({offset:e,color:arguments[1],opacity:arguments[2]});null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset)}return this}}),d.Box=d.invent({create:function(e,t,n,i){if(!("object"!=typeof e||e instanceof d.Element))return d.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=n,this.height=i),v(this)},extend:{merge:function(e){var t=new this.constructor;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,v(t)},transform:function(t){var e,n=1/0,i=-1/0,o=1/0,r=-1/0;return[new d.Point(this.x,this.y),new d.Point(this.x2,this.y),new d.Point(this.x,this.y2),new d.Point(this.x2,this.y2)].forEach(function(e){e=e.transform(t),n=Math.min(n,e.x),i=Math.max(i,e.x),o=Math.min(o,e.y),r=Math.max(r,e.y)}),(e=new this.constructor).x=n,e.width=i-n,e.y=o,e.height=r-o,v(e),e}}}),d.BBox=d.invent({create:function(t){if(d.Box.apply(this,[].slice.call(arguments)),t instanceof d.Element){var n,i;try{if(o.documentElement.contains){if(!o.documentElement.contains(t.node))throw new Exception("Element not in the dom")}else{for(var e=t.node;e.parentNode;)e=e.parentNode;if(e!=o)throw new Exception("Element not in the dom")}i=t.node.getBBox()}catch(e){t instanceof d.Shape?(i=(n=t.clone(d.parser.draw.instance).show()).node.getBBox(),n.remove()):i={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}d.Box.call(this,i)}},inherit:d.Box,parent:d.Element,construct:{bbox:function(){return new d.BBox(this)}}}),d.BBox.prototype.constructor=d.BBox,d.extend(d.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),d.RBox=d.invent({create:function(e){d.Box.apply(this,[].slice.call(arguments)),e instanceof d.Element&&d.Box.call(this,e.node.getBoundingClientRect())},inherit:d.Box,parent:d.Element,extend:{addOffset:function(){return this.x+=a.pageXOffset,this.y+=a.pageYOffset,this}},construct:{rbox:function(e){return e?new d.RBox(this).transform(e.screenCTM().inverse()):new d.RBox(this).addOffset()}}}),d.RBox.prototype.constructor=d.RBox,d.Matrix=d.invent({create:function(e){var t,n=f([1,0,0,1,0,0]);for(e=e instanceof d.Element?e.matrixify():"string"==typeof e?f(e.split(d.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(e)?f(e):"object"==typeof e?e:n,t=x.length-1;0<=t;--t)this[x[t]]=(null!=e[x[t]]?e:n)[x[t]]},extend:{extract:function(){var e=h(this,0,1),t=h(this,1,0),e=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-e,skewY:180/Math.PI*Math.atan2(t.y,t.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new d.Matrix(this)}},clone:function(){return new d.Matrix(this)},morph:function(e){return this.destination=new d.Matrix(e),this},at:function(e){return this.destination?new d.Matrix({a:this.a+(this.destination.a-this.a)*e,b:this.b+(this.destination.b-this.b)*e,c:this.c+(this.destination.c-this.c)*e,d:this.d+(this.destination.d-this.d)*e,e:this.e+(this.destination.e-this.e)*e,f:this.f+(this.destination.f-this.f)*e}):this},multiply:function(e){return new d.Matrix(this.native().multiply(function(e){e instanceof d.Matrix||(e=new d.Matrix(e));return e}(e).native()))},inverse:function(){return new d.Matrix(this.native().inverse())},translate:function(e,t){return new d.Matrix(this.native().translate(e||0,t||0))},scale:function(e,t,n,i){return 1==arguments.length?t=e:3==arguments.length&&(i=n,n=t,t=e),this.around(n,i,new d.Matrix(e,0,0,t,0,0))},rotate:function(e,t,n){return e=d.utils.radians(e),this.around(t,n,new d.Matrix(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0))},flip:function(e,t){return"x"==e?this.scale(-1,1,t,0):"y"==e?this.scale(1,-1,0,t):this.scale(-1,-1,e,null!=t?t:e)},skew:function(e,t,n,i){return 1==arguments.length?t=e:3==arguments.length&&(i=n,n=t,t=e),e=d.utils.radians(e),t=d.utils.radians(t),this.around(n,i,new d.Matrix(1,Math.tan(t),Math.tan(e),1,0,0))},skewX:function(e,t,n){return this.skew(e,0,t,n)},skewY:function(e,t,n){return this.skew(0,e,t,n)},around:function(e,t,n){return this.multiply(new d.Matrix(1,0,0,1,e||0,t||0)).multiply(n).multiply(new d.Matrix(1,0,0,1,-e||0,-t||0))},native:function(){for(var e=d.parser.native.createSVGMatrix(),t=x.length-1;0<=t;t--)e[x[t]]=this[x[t]];return e},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:d.Element,construct:{ctm:function(){return new d.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof d.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new d.Matrix(t)}return new d.Matrix(this.node.getScreenCTM())}}}),d.Point=d.invent({create:function(e,t){e=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0};this.x=e.x,this.y=e.y},extend:{clone:function(){return new d.Point(this)},morph:function(e,t){return this.destination=new d.Point(e,t),this},at:function(e){return this.destination?new d.Point({x:this.x+(this.destination.x-this.x)*e,y:this.y+(this.destination.y-this.y)*e}):this},native:function(){var e=d.parser.native.createSVGPoint();return e.x=this.x,e.y=this.y,e},transform:function(e){return new d.Point(this.native().matrixTransform(e.native()))}}}),d.extend(d.Element,{point:function(e,t){return new d.Point(e,t).transform(this.screenCTM().inverse())}}),d.extend(d.Element,{attr:function(e,t,n){if(null==e){for(e={},n=(t=this.node.attributes).length-1;0<=n;n--)e[t[n].nodeName]=d.regex.isNumber.test(t[n].nodeValue)?parseFloat(t[n].nodeValue):t[n].nodeValue;return e}if("object"==typeof e)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?d.defaults.attrs[e]:d.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",0<parseFloat(t)?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(t=d.regex.isImage.test(t)?this.doc().defs().image(t,0,0):t)instanceof d.Image&&(t=this.doc().defs().pattern(0,0,function(){this.add(t)})),"number"==typeof t?t=new d.Number(t):d.Color.isColor(t)?t=new d.Color(t):Array.isArray(t)&&(t=new d.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),d.extend(d.Element,{transform:function(e,t){var n,i;return"object"!=typeof e?(i=new d.Matrix(this).extract(),"string"==typeof e?i[e]:i):(i=new d.Matrix(this),t=!!t||!!e.relative,null!=e.a?i=t?i.multiply(new d.Matrix(e)):new d.Matrix(e):null!=e.rotation?(m(e,this),i=t?i.rotate(e.rotation,e.cx,e.cy):i.rotate(e.rotation-i.extract().rotation,e.cx,e.cy)):null!=e.scale||null!=e.scaleX||null!=e.scaleY?(m(e,this),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,t||(n=i.extract(),e.scaleX=+e.scaleX/n.scaleX,e.scaleY=+e.scaleY/n.scaleY),i=i.scale(e.scaleX,e.scaleY,e.cx,e.cy)):null!=e.skew||null!=e.skewX||null!=e.skewY?(m(e,this),e.skewX=null!=e.skew?e.skew:null!=e.skewX?e.skewX:0,e.skewY=null!=e.skew?e.skew:null!=e.skewY?e.skewY:0,t||(n=i.extract(),i=i.multiply((new d.Matrix).skew(n.skewX,n.skewY,e.cx,e.cy).inverse())),i=i.skew(e.skewX,e.skewY,e.cx,e.cy)):e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?this.bbox()["c"+e.flip]:e.offset:null==e.offset?(n=this.bbox(),e.flip=n.cx,e.offset=n.cy):e.flip=e.offset,i=(new d.Matrix).flip(e.flip,e.offset)):null==e.x&&null==e.y||(t?i=i.translate(e.x,e.y):(null!=e.x&&(i.e=e.x),null!=e.y&&(i.f=e.y))),this.attr("transform",i))}}),d.extend(d.FX,{transform:function(e,t){var n,i=this.target();return"object"!=typeof e?(n=new d.Matrix(i).extract(),"string"==typeof e?n[e]:n):(t=!!t||!!e.relative,null!=e.a?n=new d.Matrix(e):null!=e.rotation?(m(e,i),n=new d.Rotate(e.rotation,e.cx,e.cy)):null!=e.scale||null!=e.scaleX||null!=e.scaleY?(m(e,i),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,n=new d.Scale(e.scaleX,e.scaleY,e.cx,e.cy)):null!=e.skewX||null!=e.skewY?(m(e,i),e.skewX=null!=e.skewX?e.skewX:0,e.skewY=null!=e.skewY?e.skewY:0,n=new d.Skew(e.skewX,e.skewY,e.cx,e.cy)):e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?i.bbox()["c"+e.flip]:e.offset:null==e.offset?(i=i.bbox(),e.flip=i.cx,e.offset=i.cy):e.flip=e.offset,n=(new d.Matrix).flip(e.flip,e.offset)):null==e.x&&null==e.y||(n=new d.Translate(e.x,e.y)),n?(n.relative=t,this.last().transforms.push(n),this._callStart()):this)}}),d.extend(d.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(d.regex.transforms).slice(0,-1).map(function(e){e=e.trim().split("(");return[e[0],e[1].split(d.regex.delimiter).map(function(e){return parseFloat(e)})]}).reduce(function(e,t){return"matrix"==t[0]?e.multiply(f(t[1])):e[t[0]].apply(e,t[1])},new d.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),d.Transformation=d.invent({create:function(e,t){if(1<arguments.length&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[n];else if("object"==typeof e)for(n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[this.arguments[n]];!(this.inversed=!1)===t&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(e){for(var t=[],n=0,i=this.arguments.length;n<i;++n)t.push(this[this.arguments[n]]);var o=this._undo||new d.Matrix,o=(new d.Matrix).morph(d.Matrix.prototype[this.method].apply(o,t)).at(e);return this.inversed?o.inverse():o},undo:function(e){for(var t=0,n=this.arguments.length;t<n;++t)e[this.arguments[t]]=void 0===this[this.arguments[t]]?0:e[this.arguments[t]];return e.cx=this.cx,e.cy=this.cy,this._undo=new d[s(this.method)](e,!0).at(1),this}}}),d.Translate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),d.Rotate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(e){e=(new d.Matrix).rotate((new d.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(e),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(e){return this._undo=e,this}}}),d.Scale=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),d.Skew=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),d.extend(d.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(t in e)this.style(t,e[t]);else{if(!d.regex.isCss.test(e))return this.node.style[r(e)];for(e=e.split(/\s*;\s*/).filter(function(e){return!!e}).map(function(e){return e.split(/\s*:\s*/)});t=e.pop();)this.style(t[0],t[1])}else this.node.style[r(e)]=null===t||d.regex.isBlank.test(t)?"":t;return this}}),d.Parent=d.invent({create:function(e){this.constructor.call(this,e)},inherit:d.Element,extend:{children:function(){return d.utils.map(d.utils.filterSVGElements(this.node.childNodes),function(e){return d.adopt(e)})},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return 0<=this.index(e)},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return d.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var n=this.children(),i=0,o=n.length;i<o;i++)n[i]instanceof d.Element&&e.apply(n[i],[i,n]),t&&n[i]instanceof d.Container&&n[i].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),d.extend(d.Parent,{ungroup:function(e,t){return 0===t||this instanceof d.Defs||this.node==d.parser.draw||(e=e||(this instanceof d.Doc?this:this.parent(d.Parent)),t=t||1/0,this.each(function(){return this instanceof d.Defs?this:this instanceof d.Parent?this.ungroup(e,t-1):this.toParent(e)}),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),d.Container=d.invent({create:function(e){this.constructor.call(this,e)},inherit:d.Parent}),d.ViewBox=d.invent({create:function(e){var t,n,i,o,r,a,s,l=1,c=1,u=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(e instanceof d.Element){for(r=((s=a=e).attr("viewBox")||"").match(u),e.bbox,i=new d.Number(e.width()),o=new d.Number(e.height());"%"==i.unit;)l*=i.value,i=new d.Number(a instanceof d.Doc?a.parent().offsetWidth:a.parent().width()),a=a.parent();for(;"%"==o.unit;)c*=o.value,o=new d.Number(s instanceof d.Doc?s.parent().offsetHeight:s.parent().height()),s=s.parent();this.x=0,this.y=0,this.width=i*l,this.height=o*c,this.zoom=1,r&&(t=parseFloat(r[0]),n=parseFloat(r[1]),i=parseFloat(r[2]),o=parseFloat(r[3]),this.zoom=this.width/this.height>i/o?this.height/o:this.width/i,this.x=t,this.y=n,this.width=i,this.height=o)}else e="string"==typeof e?e.match(u).map(function(e){return parseFloat(e)}):Array.isArray(e)?e:"object"==typeof e?[e.x,e.y,e.width,e.height]:4==arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=e[0],this.y=e[1],this.width=e[2],this.height=e[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(e,t,n,i){return this.destination=new d.ViewBox(e,t,n,i),this},at:function(e){return this.destination?new d.ViewBox([this.x+(this.destination.x-this.x)*e,this.y+(this.destination.y-this.y)*e,this.width+(this.destination.width-this.width)*e,this.height+(this.destination.height-this.height)*e]):this}},parent:d.Container,construct:{viewbox:function(e,t,n,i){return 0==arguments.length?new d.ViewBox(this):this.attr("viewBox",new d.ViewBox(e,t,n,i))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){d.Element.prototype[t]=function(e){return null==e?d.off(this,t):d.on(this,t,e),this}}),d.listenerId=0,d.on=function(e,t,n,i,o){var r=n.bind(i||e),a=e instanceof d.Element?e.node:e;a.instance=a.instance||{_events:{}};var s=a.instance._events;n._svgjsListenerId||(n._svgjsListenerId=++d.listenerId),t.split(d.regex.delimiter).forEach(function(e){var t=e.split(".")[0],e=e.split(".")[1]||"*";s[t]=s[t]||{},s[t][e]=s[t][e]||{},s[t][e][n._svgjsListenerId]=r,a.addEventListener(t,r,o||!1)})},d.off=function(e,t,r,a){var s,l=e instanceof d.Element?e.node:e;l.instance&&("function"==typeof r&&!(r=r._svgjsListenerId)||(s=l.instance._events,(t||"").split(d.regex.delimiter).forEach(function(e){var t,n,i=e&&e.split(".")[0],o=e&&e.split(".")[1];if(r)s[i]&&s[i][o||"*"]&&(l.removeEventListener(i,s[i][o||"*"][r],a||!1),delete s[i][o||"*"][r]);else if(i&&o){if(s[i]&&s[i][o]){for(n in s[i][o])d.off(l,[i,o].join("."),n);delete s[i][o]}}else if(o)for(e in s)for(t in s[e])o===t&&d.off(l,[e,o].join("."));else if(i){if(s[i]){for(t in s[i])d.off(l,[i,t].join("."));delete s[i]}}else{for(e in s)d.off(l,e);l.instance._events={}}})))},d.extend(d.Element,{on:function(e,t,n,i){return d.on(this,e,t,n,i),this},off:function(e,t){return d.off(this.node,e,t),this},fire:function(e,t){return e instanceof a.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new d.CustomEvent(e,{detail:t,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),d.Defs=d.invent({create:"defs",inherit:d.Container}),d.G=d.invent({create:"g",inherit:d.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)},y:function(e){return null==e?this.transform("y"):this.transform({y:e-this.y()},!0)},cx:function(e){return null==e?this.gbox().cx:this.x(e-this.gbox().width/2)},cy:function(e){return null==e?this.gbox().cy:this.y(e-this.gbox().height/2)},gbox:function(){var e=this.bbox(),t=this.transform();return e.x+=t.x,e.x2+=t.x,e.cx+=t.x,e.y+=t.y,e.y2+=t.y,e.cy+=t.y,e}},construct:{group:function(){return this.put(new d.G)}}}),d.Doc=d.invent({create:function(e){e&&("svg"==(e="string"==typeof e?o.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,d.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:d.Container,extend:{namespace:function(){return this.attr({xmlns:d.ns,version:"1.1"}).attr("xmlns:xlink",d.xlink,d.xmlns).attr("xmlns:svgjs",d.svgjs,d.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=d.adopt(e):this._defs=new d.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName&&"#document-fragment"!=this.node.parentNode.nodeName?this.node.parentNode:null},spof:function(){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,d.parser.draw.parentNode||this.node.appendChild(d.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,n=g(t.cloneNode(!0));return e?(e.node||e).appendChild(n.node):t.parentNode.insertBefore(n.node,t.nextSibling),n}}}),d.extend(d.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position()+1,t=this.parent();return t.removeElement(this).add(this,e),t instanceof d.Doc&&t.node.appendChild(t.defs().node),this},backward:function(){var e=this.position();return 0<e&&this.parent().removeElement(this).add(this,e-1),this},front:function(){var e=this.parent();return e.node.appendChild(this.node),e instanceof d.Doc&&e.node.appendChild(e.defs().node),this},back:function(){return 0<this.position()&&this.parent().removeElement(this).add(this,0),this},before:function(e){e.remove();var t=this.position();return this.parent().add(e,t),this},after:function(e){e.remove();var t=this.position();return this.parent().add(e,t+1),this}}),d.Mask=d.invent({create:function(){this.constructor.call(this,d.create("mask")),this.targets=[]},inherit:d.Container,extend:{remove:function(){for(var e=this.targets.length-1;0<=e;e--)this.targets[e]&&this.targets[e].unmask();return this.targets=[],d.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new d.Mask)}}}),d.extend(d.Element,{maskWith:function(e){return this.masker=e instanceof d.Mask?e:this.parent().mask().add(e),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),d.ClipPath=d.invent({create:function(){this.constructor.call(this,d.create("clipPath")),this.targets=[]},inherit:d.Container,extend:{remove:function(){for(var e=this.targets.length-1;0<=e;e--)this.targets[e]&&this.targets[e].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new d.ClipPath)}}}),d.extend(d.Element,{clipWith:function(e){return this.clipper=e instanceof d.ClipPath?e:this.parent().clip().add(e),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),d.Gradient=d.invent({create:function(e){this.constructor.call(this,d.create(e+"Gradient")),this.type=e},inherit:d.Container,extend:{at:function(e,t,n){return this.put(new d.Stop).update(e,t,n)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,n){return d.Container.prototype.attr.call(this,e="transform"==e?"gradientTransform":e,t,n)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),d.extend(d.Gradient,d.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new d.Number(e),fy:new d.Number(t)}):this.attr({x1:new d.Number(e),y1:new d.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new d.Number(e),cy:new d.Number(t)}):this.attr({x2:new d.Number(e),y2:new d.Number(t)})}}),d.extend(d.Defs,{gradient:function(e,t){return this.put(new d.Gradient(e)).update(t)}}),d.Stop=d.invent({create:"stop",inherit:d.Element,extend:{update:function(e){return null!=(e="number"==typeof e||e instanceof d.Number?{offset:arguments[0],color:arguments[1],opacity:arguments[2]}:e).opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new d.Number(e.offset)),this}}}),d.Pattern=d.invent({create:"pattern",inherit:d.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,n){return d.Container.prototype.attr.call(this,e="transform"==e?"patternTransform":e,t,n)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),d.extend(d.Defs,{pattern:function(e,t,n){return this.put(new d.Pattern).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),d.Shape=d.invent({create:function(e){this.constructor.call(this,e)},inherit:d.Element}),d.Bare=d.invent({create:function(e,t){if(this.constructor.call(this,d.create(e)),t)for(var n in t.prototype)"function"==typeof t.prototype[n]&&(this[n]=t.prototype[n])},inherit:d.Element,extend:{words:function(e){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(o.createTextNode(e)),this}}}),d.extend(d.Parent,{element:function(e,t){return this.put(new d.Bare(e,t))}}),d.Symbol=d.invent({create:"symbol",inherit:d.Container,construct:{symbol:function(){return this.put(new d.Symbol)}}}),d.Use=d.invent({create:"use",inherit:d.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,d.xlink)}},construct:{use:function(e,t){return this.put(new d.Use).element(e,t)}}}),d.Rect=d.invent({create:"rect",inherit:d.Shape,construct:{rect:function(e,t){return this.put(new d.Rect).size(e,t)}}}),d.Circle=d.invent({create:"circle",inherit:d.Shape,construct:{circle:function(e){return this.put(new d.Circle).rx(new d.Number(e).divide(2)).move(0,0)}}}),d.extend(d.Circle,d.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),d.Ellipse=d.invent({create:"ellipse",inherit:d.Shape,construct:{ellipse:function(e,t){return this.put(new d.Ellipse).size(e,t).move(0,0)}}}),d.extend(d.Ellipse,d.Rect,d.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),d.extend(d.Circle,d.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new d.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new d.Number(e).divide(2))},size:function(e,t){t=p(this,e,t);return this.rx(new d.Number(t.width).divide(2)).ry(new d.Number(t.height).divide(2))}}),d.Line=d.invent({create:"line",inherit:d.Shape,extend:{array:function(){return new d.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,n,i){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:n,y2:i}:new d.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){t=p(this,e,t);return this.attr(this.array().size(t.width,t.height).toLine())}},construct:{line:function(e,t,n,i){return d.Line.prototype.plot.apply(this.put(new d.Line),null!=e?[e,t,n,i]:[0,0,0,0])}}}),d.Polyline=d.invent({create:"polyline",inherit:d.Shape,construct:{polyline:function(e){return this.put(new d.Polyline).plot(e||new d.PointArray)}}}),d.Polygon=d.invent({create:"polygon",inherit:d.Shape,construct:{polygon:function(e){return this.put(new d.Polygon).plot(e||new d.PointArray)}}}),d.extend(d.Polyline,d.Polygon,{array:function(){return this._array||(this._array=new d.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new d.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){t=p(this,e,t);return this.attr("points",this.array().size(t.width,t.height))}}),d.extend(d.Line,d.Polyline,d.Polygon,{morphArray:d.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),d.Path=d.invent({create:"path",inherit:d.Shape,extend:{morphArray:d.PathArray,array:function(){return this._array||(this._array=new d.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new d.PathArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("d",this.array().move(e,t))},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},size:function(e,t){t=p(this,e,t);return this.attr("d",this.array().size(t.width,t.height))},width:function(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)},height:function(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}},construct:{path:function(e){return this.put(new d.Path).plot(e||new d.PathArray)}}}),d.Image=d.invent({create:"image",inherit:d.Shape,extend:{load:function(t){if(!t)return this;var n=this,i=new a.Image;return d.on(i,"load",function(){d.off(i);var e=n.parent(d.Pattern);null!==e&&(0==n.width()&&0==n.height()&&n.size(i.width,i.height),e&&0==e.width()&&0==e.height()&&e.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:i.width,height:i.height,ratio:i.width/i.height,url:t}))}),d.on(i,"error",function(e){d.off(i),"function"==typeof n._error&&n._error.call(n,e)}),this.attr("href",i.src=this.src=t,d.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,n){return this.put(new d.Image).load(e).size(t||0,n||t||0)}}}),d.Text=d.invent({create:function(){this.constructor.call(this,d.create("text")),this.dom.leading=new d.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",d.defaults.attrs["font-family"])},inherit:d.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},y:function(e){var t=this.attr("y"),n="number"==typeof t?t-this.bbox().y:0;return null==e?"number"==typeof t?t-n:t:this.attr("y","number"==typeof e.valueOf()?e+n:e)},cx:function(e){return null==e?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return null==e?this.bbox().cy:this.y(e-this.bbox().height/2)},text:function(e){if(void 0===e){for(var e="",t=this.node.childNodes,n=0,i=t.length;n<i;++n)0!=n&&3!=t[n].nodeType&&1==d.adopt(t[n]).dom.newLined&&(e+="\n"),e+=t[n].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else for(var n=0,o=(e=e.split("\n")).length;n<o;n++)this.tspan(e[n]).newLine();return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new d.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,e=d.utils.map(d.utils.filterSVGElements(e.childNodes),function(e){return d.adopt(e)});return new d.Set(e)},rebuild:function(e){var t,n,i;return"boolean"==typeof e&&(this._rebuild=e),this._rebuild&&(n=0,i=(t=this).dom.leading*new d.Number(this.attr("font-size")),this.lines().each(function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?n+=i:(this.attr("dy",i+n),n=0))}),this.fire("rebuild")),this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new d.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new d.Text).text(e)},plain:function(e){return this.put(new d.Text).plain(e)}}}),d.Tspan=d.invent({create:"tspan",inherit:d.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(d.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),d.extend(d.Text,d.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(o.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,n=new d.Tspan;return!1===this._build&&this.clear(),t.appendChild(n.node),n.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),d.TextPath=d.invent({create:"textPath",inherit:d.Parent,parent:d.Text,construct:{morphArray:d.PathArray,path:function(e){for(var t=new d.TextPath,e=this.doc().defs().path(e);this.node.hasChildNodes();)t.node.appendChild(this.node.firstChild);return this.node.appendChild(t.node),t.attr("href","#"+e,d.xlink),this},array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return d.adopt(this.node.firstChild)}}}),d.Nested=d.invent({create:function(){this.constructor.call(this,d.create("svg")),this.style("overflow","visible")},inherit:d.Container,construct:{nested:function(){return this.put(new d.Nested)}}}),d.A=d.invent({create:"a",inherit:d.Container,extend:{to:function(e){return this.attr("href",e,d.xlink)},show:function(e){return this.attr("show",e,d.xlink)},target:function(e){return this.attr("target",e)}},construct:{link:function(e){return this.put(new d.A).to(e)}}}),d.extend(d.Element,{linkTo:function(e){var t=new d.A;return"function"==typeof e?e.call(t,t):t.to(e),this.parent().put(t).put(this)}}),d.Marker=d.invent({create:"marker",inherit:d.Container,extend:{width:function(e){return this.attr("markerWidth",e)},height:function(e){return this.attr("markerHeight",e)},ref:function(e,t){return this.attr("refX",e).attr("refY",t)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(e,t,n){return this.defs().marker(e,t,n)}}}),d.extend(d.Defs,{marker:function(e,t,n){return this.put(new d.Marker).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)}}),d.extend(d.Line,d.Polyline,d.Polygon,d.Path,{marker:function(e,t,n,i){var o=["marker"];return"all"!=e&&o.push(e),o=o.join("-"),e=t instanceof d.Marker?t:this.doc().marker(t,n,i),this.attr(o,e)}});var i={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function c(e,t,n,i){return n+i.replace(d.regex.dots," .")}function r(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e){e=e.toString(16);return 1==e.length?"0"+e:e}function p(e,t,n){return null!=t&&null!=n||(e=e.bbox(),null==t?t=e.width/e.height*n:null==n&&(n=e.height/e.width*t)),{width:t,height:n}}function h(e,t,n){return{x:t*e.a+n*e.c,y:t*e.b+n*e.d}}function f(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function m(e,t){e.cx=(null==e.cx?t.bbox():e).cx,e.cy=(null==e.cy?t.bbox():e).cy}function g(e){for(var t=e.childNodes.length-1;0<=t;t--)e.childNodes[t]instanceof a.SVGElement&&g(e.childNodes[t]);return d.adopt(e).id(d.eid(e.nodeName))}function v(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function y(e){return 1e-37<Math.abs(e)?e:0}["fill","stroke"].forEach(function(t){var n,e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||d.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(n=i[t].length-1;0<=n;n--)null!=e[i[t][n]]&&this.attr(i.prefix(t,i[t][n]),e[i[t][n]]);return this},d.extend(d.Element,d.FX,e)}),d.extend(d.Element,d.FX,{rotate:function(e,t,n){return this.transform({rotation:e,cx:t,cy:n})},skew:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({skew:e,cx:t,cy:n}):this.transform({skewX:e,skewY:t,cx:n,cy:i})},scale:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({scale:e,cx:t,cy:n}):this.transform({scaleX:e,scaleY:t,cx:n,cy:i})},translate:function(e,t){return this.transform({x:e,y:t})},flip:function(e,t){return this.transform({flip:e||"both",offset:t="number"==typeof e?e:t})},matrix:function(e){return this.attr("transform",new d.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new d.Number(e).plus(this instanceof d.FX?0:this.x()),!0)},dy:function(e){return this.y(new d.Number(e).plus(this instanceof d.FX?0:this.y()),!0)},dmove:function(e,t){return this.dx(e).dy(t)}}),d.extend(d.Rect,d.Ellipse,d.Circle,d.Gradient,d.FX,{radius:function(e,t){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new d.Number(e)):this.rx(e).ry(null==t?e:t)}}),d.extend(d.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),d.extend(d.Parent,d.Text,d.Tspan,d.FX,{font:function(e,t){if("object"==typeof e)for(t in e)this.font(t,e[t]);return"leading"==e?this.leading(t):"anchor"==e?this.attr("text-anchor",t):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t):this.attr(e,t)}}),d.Set=d.invent({create:function(e){e instanceof d.Set?this.members=e.members.slice():Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,n=e.length;t<n;t++)this.members.push(e[t]);return this},remove:function(e){e=this.index(e);return-1<e&&this.members.splice(e,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return 0<=this.index(e)},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new d.RBox;var e=this.members[0].rbox(this.members[0].doc());return this.each(function(){e=e.merge(this.rbox(this.doc()))}),e}},construct:{set:function(e){return new d.Set(e)}}}),d.FX.Set=d.invent({create:function(e){this.set=e}}),d.Set.inherit=function(){var e,t=[];for(e in d.Shape.prototype)"function"==typeof d.Shape.prototype[e]&&"function"!=typeof d.Set.prototype[e]&&t.push(e);for(e in t.forEach(function(n){d.Set.prototype[n]=function(){for(var e=0,t=this.members.length;e<t;e++)this.members[e]&&"function"==typeof this.members[e][n]&&this.members[e][n].apply(this.members[e],arguments);return"animate"==n?this.fx||(this.fx=new d.FX.Set(this)):this}}),t=[],d.FX.prototype)"function"==typeof d.FX.prototype[e]&&"function"!=typeof d.FX.Set.prototype[e]&&t.push(e);t.forEach(function(n){d.FX.Set.prototype[n]=function(){for(var e=0,t=this.set.members.length;e<t;e++)this.set.members[e].fx[n].apply(this.set.members[e].fx,arguments);return this}})},d.extend(d.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),d.extend(d.Element,{remember:function(e,t){if("object"==typeof e)for(var t in e)this.remember(t,e[t]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;0<=e;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),d.get=function(e){e=o.getElementById(function(e){e=(e||"").toString().match(d.regex.reference);if(e)return e[1]}(e)||e);return d.adopt(e)},d.select=function(e,t){return new d.Set(d.utils.map((t||o).querySelectorAll(e),function(e){return d.adopt(e)}))},d.extend(d.Parent,{select:function(e){return d.select(e,this.node)}});var b,x="abcdef".split("");return"function"!=typeof a.CustomEvent?((b=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=o.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=a.Event.prototype,d.CustomEvent=b):d.CustomEvent=a.CustomEvent,function(o){for(var r=0,e=["moz","webkit"],t=0;t<e.length&&!a.requestAnimationFrame;++t)o.requestAnimationFrame=o[e[t]+"RequestAnimationFrame"],o.cancelAnimationFrame=o[e[t]+"CancelAnimationFrame"]||o[e[t]+"CancelRequestAnimationFrame"];o.requestAnimationFrame=o.requestAnimationFrame||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),i=o.setTimeout(function(){e(t+n)},n);return r=t+n,i},o.cancelAnimationFrame=o.cancelAnimationFrame||o.clearTimeout}(a),d},"function"==typeof define&&define.amd?define(function(){return o(i,i.document)}):"object"==typeof n?t.exports=i.document?o(i,i.document):function(e){return o(e,e.document)}:i.SVG=o(i,i.document)},{}],851:[function(e,t,n){"use strict";function i(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}function r(e,t){return t.appendChild(i(e,t))}Object.defineProperty(n,"__esModule",{value:!0}),n.append=function(e,t){return r(t,e),e},n.appendTo=r,n.attr=o,n.classes=function(e){return new h(e)},n.clear=m,n.clone=function(e){return e.cloneNode(!0)},n.create=b,n.innerSVG=function(e,t){{if(void 0===t)return function(e){var t=e.firstChild,n=[];for(;t;)!function e(t,n){var i,o,r,a,s;switch(t.nodeType){case 3:n.push(S(t.textContent,k));break;case 1:if(n.push("<",t.tagName),t.hasAttributes())for(r=t.attributes,i=0,o=r.length;i<o;++i)a=r.item(i),n.push(" ",a.name,'="',S(a.value,E),'"');if(t.hasChildNodes()){for(n.push(">"),s=t.childNodes,i=0,o=s.length;i<o;++i)e(s.item(i),n);n.push("</",t.tagName,">")}else n.push("/>");break;case 8:n.push("\x3c!--",S(t.nodeValue,k),"--\x3e");break;case 4:n.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return n}(t,n),t=t.nextSibling;return n.join("")}(e);try{!function(e,t){var n=y(t);if(m(e),t)for(var i=function(e){return Array.prototype.slice.call(e)}((n="#document-fragment"!==n.nodeName?n.documentElement:n).childNodes),o=0;o<i.length;o++)r(i[o],e)}(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}},n.prepend=function(e,t){return T(t,e),e},n.prependTo=T,n.remove=f,n.replace=function(e,t){return e.parentNode.replaceChild(i(t,e),e),t},n.transform=function(e,t){e=e.transform.baseVal;t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(function(e,t){if(t instanceof SVGMatrix)return e.createSVGTransformFromMatrix(t);return t}(e,i))}(e,t));return e.consolidate()},n.on=function(e,t,n,i){e.addEventListener(t,n,i)},n.off=function(e,t,n,i){e.removeEventListener(t,n,i)},n.createPoint=function(e,t){var n=x.createSVGPoint();switch(arguments.length){case 0:return n;case 2:e={x:e,y:t}}return w(n,e)},n.createMatrix=function(e,t,n,i,o,r){var a=x.createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return w(a,e);case 6:return w(a,{a:e,b:t,c:n,d:i,e:o,f:r})}},n.createTransform=function(e){return e?x.createSVGTransformFromMatrix(e):x.createSVGTransform()},n.select=function(e,t){return e.querySelector(t)},n.selectAll=function(e,t){t=e.querySelectorAll(t);return[].map.call(t,function(e){return e})};var a=2,s={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":a,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":a,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function l(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=s[i];o?(o===a&&"number"==typeof n&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function o(e,t,n){if("string"==typeof t){if(void 0===n)return i=e,s[o=t]?i.style[o]:i.getAttributeNS(null,o);l(e,t,n)}else!function(e,t){for(var n,i=Object.keys(t),o=0;n=i[o];o++)l(e,n,t[n])}(e,t);var i,o;return e}function c(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var u=/\s+/,d=Object.prototype.toString;function p(e){return void 0!==e}function h(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function f(e){var t=e.parentNode;return t&&t.removeChild(e),e}function m(e){for(var t;t=e.firstChild;)f(t);return e}h.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~c(t,e)||t.push(e),p(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},h.prototype.remove=function(e){if("[object RegExp]"===d.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),e=c(t,e);return~e&&t.splice(e,1),this.el.className.baseVal=t.join(" "),this},h.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},h.prototype.toggle=function(e,t){return this.list?p(t)&&t===this.list.toggle(e,t)||this.list.toggle(e):p(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this},h.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(u);return""===e[0]&&e.shift(),e},h.prototype.has=h.prototype.contains=function(e){return this.list?this.list.contains(e):!!~c(this.array(),e)};var g={svg:"http://www.w3.org/2000/svg"},v='<svg xmlns="'+g.svg+'"';function y(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(g.svg)&&(e=v+e.substring(4)):(e=v+">"+e+"</svg>",t=!0);var n,n=(n=e,(e=new DOMParser).async=!1,e.parseFromString(n,"text/xml"));if(!t)return n;for(var i=document.createDocumentFragment(),o=n.firstChild;o.firstChild;)i.appendChild(o.firstChild);return i}function b(e,t){var n="<"===e.charAt(0)?(n=y(e).firstChild,document.importNode(n,!0)):document.createElementNS(g.svg,e);return t&&o(n,t),n}var x=b("svg");function w(e,t){for(var n,i=Object.keys(t),o=0;n=i[o];o++)e[n]=t[n];return e}var k=/([&<>]{1})/g,E=/([\n\r"]{1})/g,C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function S(e,t){return e.replace(t,function(e,t){return C[t]||t})}function T(e,t){return t.insertBefore(i(e,t),t.firstChild||null)}},{}],852:[function(e,t,n){function i(e){this.options=e||{locator:{}}}function c(){this.cdata=!1}function u(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function d(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function o(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function p(e,t){(e.currentElement||e.doc).appendChild(t)}i.prototype.parseFromString=function(e,t){var n=this.options,i=new h,o=n.domBuilder||new c,r=n.errorHandler,a=n.locator,s=n.xmlns||{},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return a&&o.setDocumentLocator(a),i.errorHandler=function(i,e,o){if(!i){if(e instanceof c)return e;i=e}var r={},a=i instanceof Function;function t(t){var n=i[t];!n&&a&&(n=2==i.length?function(e){i(t,e)}:i),r[t]=n?function(e){n("[xmldom "+t+"]\t"+e+d(o))}:function(){}}return o=o||{},t("warning"),t("error"),t("fatalError"),r}(r,o,a),i.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(l.nbsp=" ",l.copy="©",s[""]="http://www.w3.org/1999/xhtml"),s.xml=s.xml||"http://www.w3.org/XML/1998/namespace",e?i.parse(e,s,l):i.errorHandler.error("invalid doc source"),o.doc},c.prototype={startDocument:function(){this.doc=(new r).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var o=this.doc,r=o.createElementNS(e,n||t),a=i.length;p(this,r),this.currentElement=r,this.locator&&u(this.locator,r);for(var s=0;s<a;s++){var e=i.getURI(s),l=i.getValue(s),n=i.getQName(s),c=o.createAttributeNS(e,n);this.locator&&u(i.getLocator(s),c),c.value=c.nodeValue=l,r.setAttributeNode(c)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){t=this.doc.createProcessingInstruction(e,t);this.locator&&u(this.locator,t),p(this,t)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){var i;(e=o.apply(this,arguments))&&(i=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&u(this.locator,i))},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=o.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&u(this.locator,i),p(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;i&&i.createDocumentType&&(n=i.createDocumentType(e,t,n),this.locator&&u(this.locator,n),p(this,n))},warning:function(e){console.warn("[xmldom warning]\t"+e,d(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,d(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,d(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){c.prototype[e]=function(){return null}});var h=e("./sax").XMLReader,r=n.DOMImplementation=e("./dom").DOMImplementation;n.XMLSerializer=e("./dom").XMLSerializer,n.DOMParser=i},{"./dom":853,"./sax":854}],853:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t){var n,i=e.prototype;function o(){}Object.create&&(n=Object.create(t.prototype),i.__proto__=n),i instanceof t||(o.prototype=t.prototype,r(i,o=new o),e.prototype=i=o),i.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),i.constructor=e)}var o={},a=(o.ELEMENT_NODE=1,o.ATTRIBUTE_NODE=2,o.TEXT_NODE=3,o.CDATA_SECTION_NODE=4,o.ENTITY_REFERENCE_NODE=5,o.ENTITY_NODE=6,o.PROCESSING_INSTRUCTION_NODE=7,o.COMMENT_NODE=8,o.DOCUMENT_NODE=9,o.DOCUMENT_TYPE_NODE=10,o.DOCUMENT_FRAGMENT_NODE=11,o.NOTATION_NODE=12,{}),s={};a.INDEX_SIZE_ERR=(s[1]="Index size error",1),a.DOMSTRING_SIZE_ERR=(s[2]="DOMString size error",2),a.HIERARCHY_REQUEST_ERR=(s[3]="Hierarchy request error",3),a.WRONG_DOCUMENT_ERR=(s[4]="Wrong document",4),a.INVALID_CHARACTER_ERR=(s[5]="Invalid character",5),a.NO_DATA_ALLOWED_ERR=(s[6]="No data allowed",6),a.NO_MODIFICATION_ALLOWED_ERR=(s[7]="No modification allowed",7),a.NOT_FOUND_ERR=(s[8]="Not found",8),a.NOT_SUPPORTED_ERR=(s[9]="Not supported",9),a.INUSE_ATTRIBUTE_ERR=(s[10]="Attribute in use",10),a.INVALID_STATE_ERR=(s[11]="Invalid state",11),a.SYNTAX_ERR=(s[12]="Syntax error",12),a.INVALID_MODIFICATION_ERR=(s[13]="Invalid modification",13),a.NAMESPACE_ERR=(s[14]="Invalid namespace",14),a.INVALID_ACCESS_ERR=(s[15]="Invalid access",15);function l(e,t){var n;return t instanceof Error?n=t:(n=this,Error.call(this,s[e]),this.message=s[e],Error.captureStackTrace&&Error.captureStackTrace(this,l)),n.code=e,t&&(this.message=this.message+": "+t),n}function p(){}function c(e,t){this._node=e,this._refresh=t,u(this)}function u(e){var t,n=e._node._inc||e._node.ownerDocument._inc;e._inc!=n&&(t=e._refresh(e._node),$(e,"length",t.length),r(t,e),e._inc=n)}function h(){}function d(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function f(e,t,n,i){i?t[d(t,i)]=n:t[t.length++]=n,!e||(t=(n.ownerElement=e).ownerDocument)&&(i&&w(t,e,i),e=e,n=n,(t=t)&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value))}function m(e,t,n){var i=d(t,n);if(!(0<=i))throw l(8,new Error(e.tagName+"@"+n));for(var o,r=t.length-1;i<r;)t[i]=t[++i];t.length=r,!e||(o=e.ownerDocument)&&(w(o,e,n),n.ownerElement=null)}function g(e){if(this._features={},e)for(var t in e)this._features=e[t]}function v(){}function y(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function b(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(b(e,t))return 1}while(e=e.nextSibling)}function x(){}function w(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function k(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var o=t.firstChild,r=0;o;)o=(i[r++]=o).nextSibling;i.length=r}}}function E(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,k(e.ownerDocument,e),t}function C(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),11===t.nodeType){var o=t.firstChild;if(null==o)return t;var r=t.lastChild}else o=r=t;i=n?n.previousSibling:e.lastChild;for(o.previousSibling=i,r.nextSibling=n,i?i.nextSibling=o:e.firstChild=o,null==n?e.lastChild=r:n.previousSibling=r;o.parentNode=e,o!==r&&(o=o.nextSibling););return k(e.ownerDocument||e,e),11==t.nodeType&&(t.firstChild=t.lastChild=null),t}function S(){this._nsMap={}}function T(){}function _(){}function N(){}function A(){}function P(){}function I(){}function R(){}function M(){}function L(){}function D(){}function j(){}function F(){}function O(e,t){var n,i=[],o=9==this.nodeType?this.documentElement:this,r=o.prefix,a=o.namespaceURI;return H(this,i,e,t,n=a&&null==r&&null==(r=o.lookupPrefix(a))?[{namespace:a,prefix:null}]:n),i.join("")}function B(e,t,n){var i=e.prefix||"",o=e.namespaceURI;if((i||o)&&("xml"!==i||"http://www.w3.org/XML/1998/namespace"!==o)&&"http://www.w3.org/2000/xmlns/"!=o){for(var r=n.length;r--;){var a=n[r];if(a.prefix==i)return a.namespace!=o}return 1}}function H(e,t,n,i,o){if(i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case 1:o=o||[];var r=e.attributes,a=r.length,s=e.firstChild,l=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",l);for(var c=0;c<a;c++)"xmlns"==(u=r.item(c)).prefix?o.push({prefix:u.localName,namespace:u.value}):"xmlns"==u.nodeName&&o.push({prefix:"",namespace:u.value});for(var u,d,p,c=0;c<a;c++)B(u=r.item(c),0,o)&&(d=u.prefix||"",p=u.namespaceURI,t.push(d?" xmlns:"+d:" xmlns",'="',p,'"'),o.push({prefix:d,namespace:p})),H(u,t,n,i,o);if(B(e,0,o)&&(d=e.prefix||"",p=e.namespaceURI,t.push(d?" xmlns:"+d:" xmlns",'="',p,'"'),o.push({prefix:d,namespace:p})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;s;)s.data?t.push(s.data):H(s,t,n,i,o),s=s.nextSibling;else for(;s;)H(s,t,n,i,o),s=s.nextSibling;t.push("</",l,">")}else t.push("/>");return;case 9:case 11:for(s=e.firstChild;s;)H(s,t,n,i,o),s=s.nextSibling;return;case 2:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,y),'"');case 3:return t.push(e.data.replace(/[<&]/g,y));case 4:return t.push("<![CDATA[",e.data,"]]>");case 8:return t.push("\x3c!--",e.data,"--\x3e");case 10:var h=e.publicId,l=e.systemId;return t.push("<!DOCTYPE ",e.name),void(h?(t.push(' PUBLIC "',h),l&&"."!=l&&t.push('" "',l),t.push('">')):l&&"."!=l?t.push(' SYSTEM "',l,'">'):((l=e.internalSubset)&&t.push(" [",l,"]"),t.push(">")));case 7:return t.push("<?",e.target," ",e.data,"?>");case 5:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function $(e,t,n){e[t]=n}l.prototype=Error.prototype,r(a,l),p.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)H(this[i],n,e,t);return n.join("")}},c.prototype.item=function(e){return u(this),this[e]},i(c,p),h.prototype={length:0,item:p.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new l(10);t=this.getNamedItem(e.nodeName);return f(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new l(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),f(this._ownerElement,this,e,t),t},removeNamedItem:function(e){e=this.getNamedItem(e);return m(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){t=this.getNamedItemNS(e,t);return m(this._ownerElement,this,t),t},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},g.prototype={hasFeature:function(e,t){e=this._features[e.toLowerCase()];return!(!e||t&&!(t in e))},createDocument:function(e,t,n){var i=new x;return i.implementation=this,i.childNodes=new p,(i.doctype=n)&&i.appendChild(n),t&&(t=i.createElementNS(e,t),i.appendChild(t)),i},createDocumentType:function(e,t,n){var i=new I;return i.name=e,i.nodeName=e,i.publicId=t,i.systemId=n,i}},v.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return C(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return E(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,i){var o=new n.constructor;for(var r in n){var a=n[r];"object"!=typeof a&&a!=o[r]&&(o[r]=a)}n.childNodes&&(o.childNodes=new p);o.ownerDocument=t;switch(o.nodeType){case 1:var s=n.attributes,l=o.attributes=new h,c=s.length;l._ownerElement=o;for(var u=0;u<c;u++)o.setAttributeNode(e(t,s.item(u),!0));break;case 2:i=!0}if(i)for(var d=n.firstChild;d;)o.appendChild(e(t,d,i)),d=d.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&3==t.nodeType&&3==e.nodeType?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},r(o,v),r(o,v.prototype),x.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(11!=e.nodeType)return null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),C(this,e,t),e.ownerDocument=this,e;for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),E(this,e)},importNode:function(e,t){return function e(t,n,i){var o;switch(n.nodeType){case 1:(o=n.cloneNode(!1)).ownerDocument=t;case 11:break;case 2:i=!0}o=o||n.cloneNode(!1);o.ownerDocument=t;o.parentNode=null;if(i)for(var r=n.firstChild;r;)o.appendChild(e(t,r,i)),r=r.nextSibling;return o}(this,e,t)},getElementById:function(t){var n=null;return b(this.documentElement,function(e){if(1==e.nodeType&&e.getAttribute("id")==t)return n=e,!0}),n},createElement:function(e){var t=new S;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new p,(t.attributes=new h)._ownerElement=t},createDocumentFragment:function(){var e=new D;return e.ownerDocument=this,e.childNodes=new p,e},createTextNode:function(e){var t=new N;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new A;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new P;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new j;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new T;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new L;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new S,i=t.split(":"),o=n.attributes=new h;return n.childNodes=new p,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,o._ownerElement=n},createAttributeNS:function(e,t){var n=new T,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},i(x,v),x.prototype.getElementsByTagName=(S.prototype={nodeType:1,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){e=this.getAttributeNode(e);return e&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){e=this.ownerDocument.createAttribute(e);e.value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this.removeAttributeNode(e)},appendChild:function(e){return 11===e.nodeType?this.insertBefore(e,null):function(e,t){var n=t.parentNode;n&&(i=e.lastChild,n.removeChild(t),i=e.lastChild);var i=e.lastChild;return t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,k(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){t=this.getAttributeNodeNS(e,t);t&&this.removeAttributeNode(t)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){t=this.getAttributeNodeNS(e,t);return t&&t.value||""},setAttributeNS:function(e,t,n){t=this.ownerDocument.createAttributeNS(e,t);t.value=t.nodeValue=""+n,this.setAttributeNode(t)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(i){return new c(this,function(t){var n=[];return b(t,function(e){e===t||1!=e.nodeType||"*"!==i&&e.tagName!=i||n.push(e)}),n})},getElementsByTagNameNS:function(i,o){return new c(this,function(t){var n=[];return b(t,function(e){e===t||1!==e.nodeType||"*"!==i&&e.namespaceURI!==i||"*"!==o&&e.localName!=o||n.push(e)}),n})}}).getElementsByTagName,x.prototype.getElementsByTagNameNS=S.prototype.getElementsByTagNameNS,i(S,v),T.prototype.nodeType=2,i(T,v),_.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(s[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var i=this.data.substring(0,e),t=this.data.substring(e+t);this.nodeValue=this.data=n=i+n+t,this.length=n.length}},i(_,v),N.prototype={nodeName:"#text",nodeType:3,splitText:function(e){var t=(n=this.data).substring(e),n=n.substring(0,e);this.data=this.nodeValue=n,this.length=n.length;t=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}},i(N,_),A.prototype={nodeName:"#comment",nodeType:8},i(A,_),P.prototype={nodeName:"#cdata-section",nodeType:4},i(P,_),I.prototype.nodeType=10,i(I,v),R.prototype.nodeType=12,i(R,v),M.prototype.nodeType=6,i(M,v),L.prototype.nodeType=5,i(L,v),D.prototype.nodeName="#document-fragment",D.prototype.nodeType=11,i(D,v),j.prototype.nodeType=7,i(j,v),F.prototype.serializeToString=function(e,t,n){return O.call(e,t,n)},v.prototype.toString=O;try{Object.defineProperty&&(Object.defineProperty(c.prototype,"length",{get:function(){return u(this),this.$$length}}),Object.defineProperty(v.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case 1:case 11:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),$=function(e,t,n){e["$$"+t]=n})}catch(e){}n.DOMImplementation=g,n.XMLSerializer=F},{}],854:[function(e,t,n){var i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+i.source+o.source+"*(?::"+i.source+o.source+"*)?$"),P=0,I=1,R=2,M=3,L=4,D=5,j=6,F=7;function a(){}function O(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function B(e,t,n){for(var i=e.tagName,o=null,r=e.length;r--;){var a=e[r],s=a.qName,l=a.value,s=0<(u=s.indexOf(":"))?(c=a.prefix=s.slice(0,u),d=s.slice(u+1),"xmlns"===c&&d):(c=null,"xmlns"===(d=s)&&"");a.localName=d,!1!==s&&(null==o&&(o={},h(n,n={})),n[s]=o[s]=l,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(s,l))}for(var c,r=e.length;r--;)(c=(a=e[r]).prefix)&&("xml"===c&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(a.uri=n[c||""]));var u,d=0<(u=i.indexOf(":"))?(c=e.prefix=i.slice(0,u),e.localName=i.slice(u+1)):(c=null,e.localName=i),p=e.uri=n[c||""];if(t.startElement(p,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,1;if(t.endElement(p,d,i),o)for(c in o)t.endPrefixMapping(c)}function h(e,t){for(var n in e)t[n]=e[n]}function H(e){}function s(e,t){return e.__proto__=t,e}a.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),h(t,t={}),function(n,e,i,o,r){function a(e){var t=e.slice(1,-1);return t in i?i[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(r.error("entity not found:"+e),e)}function t(e){var t;f<e&&(t=n.substring(f,e).replace(/&#?\w+;/g,a),d&&s(f),o.characters(t,0,e-f),f=e)}function s(e,t){for(;c<=e&&(t=u.exec(n));)l=t.index,c=l+t[0].length,d.lineNumber++;d.columnNumber=e-l+1}var l=0,c=0,u=/.*(?:\r\n?|\n)|.*$/g,d=o.locator,p=[{currentNSMap:e}],h={},f=0;for(;;){try{var m,g,v=n.indexOf("<",f);if(v<0)return n.substr(f).match(/^\s*$/)||(m=o.doc,g=m.createTextNode(n.substr(f)),m.appendChild(g),o.currentElement=g);switch(f<v&&t(v),n.charAt(v+1)){case"/":var y=n.indexOf(">",v+3),b=n.substring(v+2,y),x=p.pop();y<0?(b=n.substring(v+2).replace(/[\s<].*/,""),r.error("end tag name: "+b+" is not complete:"+x.tagName),y=v+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),r.error("end tag name: "+b+" maybe not complete"),y=v+1+b.length);var w=x.localNSMap,k=x.tagName==b;if(k||x.tagName&&x.tagName.toLowerCase()==b.toLowerCase()){if(o.endElement(x.uri,x.localName,b),w)for(var E in w)o.endPrefixMapping(E);k||r.fatalError("end tag name: "+b+" is not match the current start tagName:"+x.tagName)}else p.push(x);y++;break;case"?":d&&s(v),y=function(e,t,n){var i=e.indexOf("?>",t);if(i){t=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(t){t[0].length;return n.processingInstruction(t[1],t[2]),i+2}return-1}return-1}(n,v,o);break;case"!":d&&s(v),y=function(e,t,n,i){{if("-"===e.charAt(t+2)){if("-"!==e.charAt(t+3))return-1;var o=e.indexOf("--\x3e",t+4);return t<o?(n.comment(e,t+4,o-t-4),o+3):(i.error("Unclosed comment"),-1)}if("CDATA["==e.substr(t+3,6)){o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var r=function(e,t){var n,i=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;n=o.exec(e);)if(i.push(n),n[1])return i}(e,t),i=r.length;if(1<i&&/!doctype/i.test(r[0][0])){o=r[1][0],e=3<i&&/^public$/i.test(r[2][0])&&r[3][0],t=4<i&&r[4][0],i=r[i-1];return n.startDTD(o,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),t&&t.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),i.index+i[0].length}}return-1}(n,v,o,r);break;default:d&&s(v);var C=new H,S=p[p.length-1].currentNSMap,y=function(e,t,n,i,o,r){var a,s=++t,l=P;for(;;){var c=e.charAt(s);switch(c){case"=":if(l===I)a=e.slice(t,s),l=M;else{if(l!==R)throw new Error("attribute equal must after attrName");l=M}break;case"'":case'"':if(l===M||l===I){if(l===I&&(r.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!(0<(s=e.indexOf(c,t))))throw new Error("attribute value no end '"+c+"' match");u=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,u,t-1),l=D}else{if(l!=L)throw new Error('attribute value must after "="');u=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,u,t),r.warning('attribute "'+a+'" missed start quot('+c+")!!"),t=s+1,l=D}break;case"/":switch(l){case P:n.setTagName(e.slice(t,s));case D:case j:case F:l=F,n.closed=!0;case L:case I:case R:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),l==P&&n.setTagName(e.slice(t,s)),s;case">":switch(l){case P:n.setTagName(e.slice(t,s));case D:case j:case F:break;case L:case I:"/"===(u=e.slice(t,s)).slice(-1)&&(n.closed=!0,u=u.slice(0,-1));case R:l===R&&(u=a),l==L?(r.warning('attribute "'+u+'" missed quot(")!!'),n.add(a,u.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===i[""]&&u.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),n.add(u,u,t));break;case M:throw new Error("attribute value missed!!")}return s;case"":c=" ";default:if(c<=" ")switch(l){case P:n.setTagName(e.slice(t,s)),l=j;break;case I:a=e.slice(t,s),l=R;break;case L:var u=e.slice(t,s).replace(/&#?\w+;/g,o);r.warning('attribute "'+u+'" missed quot(")!!'),n.add(a,u,t);case D:l=j}else switch(l){case R:n.tagName;"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,l=I;break;case D:r.warning('attribute space is required"'+a+'"!!');case j:l=I,t=s;break;case M:l=L,t=s;break;case F:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}(n,v,C,S,a,r),T=C.length;if(!C.closed&&function(e,t,n,i){var o=i[n];null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),i[n]=o);return o<t}(n,y,C.tagName,h)&&(C.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),d&&T){for(var _=O(d,{}),N=0;N<T;N++){var A=C[N];s(A.offset),A.locator=O(d,{})}o.locator=_,B(C,o,S)&&p.push(C),o.locator=d}else B(C,o,S)&&p.push(C);"http://www.w3.org/1999/xhtml"!==C.uri||C.closed?y++:y=function(e,t,n,i,o){if(/^(?:script|textarea)$/i.test(n)){var r=e.indexOf("</"+n+">",t),e=e.substring(t+1,r);if(/[&<]/.test(e))return/^script$/i.test(n)||(e=e.replace(/&#?\w+;/g,i)),o.characters(e,0,e.length),r}return t+1}(n,y,C.tagName,a,o)}}catch(e){r.error("element parse error: "+e),y=-1}f<y?f=y:t(Math.max(v,f)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},H.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!r.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},s({},s.prototype),n.XMLReader=a},{}],855:[function(require,module,exports){!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||data.setRoot(e,t={}),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||data.setCache(e,t={}),t.nodes=[],t.doms=[]},_bindEvent=function(a){var e=a.treeObj,t=consts.event;e.bind(t.NODECREATED,function(e,t,n){tools.apply(a.callback.onNodeCreated,[e,t,n])}),e.bind(t.CLICK,function(e,t,n,i,o){tools.apply(a.callback.onClick,[t,n,i,o])}),e.bind(t.EXPAND,function(e,t,n){tools.apply(a.callback.onExpand,[e,t,n])}),e.bind(t.COLLAPSE,function(e,t,n){tools.apply(a.callback.onCollapse,[e,t,n])}),e.bind(t.ASYNC_SUCCESS,function(e,t,n,i){tools.apply(a.callback.onAsyncSuccess,[e,t,n,i])}),e.bind(t.ASYNC_ERROR,function(e,t,n,i,o,r){tools.apply(a.callback.onAsyncError,[e,t,n,i,o,r])}),e.bind(t.REMOVE,function(e,t,n){tools.apply(a.callback.onRemove,[e,t,n])}),e.bind(t.SELECTED,function(e,t,n){tools.apply(a.callback.onSelected,[t,n])}),e.bind(t.UNSELECTED,function(e,t,n){tools.apply(a.callback.onUnSelected,[t,n])})},_unbindEvent=function(e){var t=e.treeObj,e=consts.event;t.unbind(e.NODECREATED).unbind(e.CLICK).unbind(e.EXPAND).unbind(e.COLLAPSE).unbind(e.ASYNC_SUCCESS).unbind(e.ASYNC_ERROR).unbind(e.REMOVE).unbind(e.SELECTED).unbind(e.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),i="",o=null,r="",a="",s=null,l=null,c=null;if(tools.eqs(e.type,"mousedown")?a="mousedown":tools.eqs(e.type,"mouseup")?a="mouseup":tools.eqs(e.type,"contextmenu")?a="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(i=tools.getNodeMainDom(t).id,r="switchNode"):(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(c).id,r="clickNode"):tools.eqs(e.type,"dblclick")&&(a="dblclick",(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(c).id,r="switchNode")),0<(i=0<a.length&&0==i.length&&(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))?tools.getNodeMainDom(c).id:i).length)switch(o=data.getNodeCache(n,i),r){case"switchNode":o.isParent&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,o],n.view.dblClickExpand))?s=handler.onSwitchNode:r="";break;case"clickNode":s=handler.onClickNode}switch(a){case"mousedown":l=handler.onZTreeMousedown;break;case"mouseup":l=handler.onZTreeMouseup;break;case"dblclick":l=handler.onZTreeDblclick;break;case"contextmenu":l=handler.onZTreeContextmenu}return{stop:!1,node:o,nodeEventType:r,nodeEventCallback:s,treeEventType:a,treeEventCallback:l}},_initNode=function(e,t,n,i,o,r,a){var s,l;n&&(s=data.getRoot(e),l=e.data.key.children,n.level=t,n.tId=e.treeId+"_"+ ++s.zId,n.parentTId=i?i.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open,n[l]&&0<n[l].length?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?tools.eqs(n.isParent,"true"):!!n.isParent,n.open=!(!n.isParent||e.async.enable)&&n.open,n.zAsync=!n.isParent),n.isFirstNode=o,n.isLastNode=r,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.getIndex=function(){return data.getNodeIndex(e,n)},n.getPath=function(){return data.getNodePath(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n))},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n,i){var o=e.data.key.children;t[o]?n>=t[o].length&&(n=-1):(t[o]=[],n=-1),0<t[o].length&&0===n?(t[o][0].isFirstNode=!1,view.setNodeLineIcos(e,t[o][0])):0<t[o].length&&n<0&&(t[o][t[o].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[o][t[o].length-1])),t.isParent=!0,n<0?t[o]=t[o].concat(i):(i=[n,0].concat(i),t[o].splice.apply(t[o],i))},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&data.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var i=0,o=_init.afterA.length;i<o;i++)_init.afterA[i].apply(this,arguments)},getBeforeA:function(e,t,n){for(var i=0,o=_init.beforeA.length;i<o;i++)_init.beforeA[i].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var i=0,o=_init.innerAfterA.length;i<o;i++)_init.innerAfterA[i].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var i=0,o=_init.innerBeforeA.length;i<o;i++)_init.innerBeforeA[i].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=e.data.key.children,i=t.parentTId?t.getParentNode():data.getRoot(e),o=0,r=i[n].length-1;o<=r;o++)if(i[n][o]===t)return o;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,i=t.parentTId?t.getParentNode():data.getRoot(e),o=0,r=i[n].length-1;o<=r;o++)if(i[n][o]===t)return o==r?null:i[n][o+1];return null},getNodeByParam:function(e,t,n,i){if(!t||!n)return null;for(var o=e.data.key.children,r=0,a=t.length;r<a;r++){if(t[r][n]==i)return t[r];var s=data.getNodeByParam(e,t[r][o],n,i);if(s)return s}return null},getNodeCache:function(e,t){if(!t)return null;t=caches[e.treeId].nodes[data.getNodeCacheId(t)];return t||null},getNodeName:function(e,t){return""+t[e.data.key.name]},getNodePath:function(e,t){if(!t)return null;var n=t.parentTId?t.getParentNode().getPath():[];return n&&n.push(t),n},getNodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,i){if(!t||!n)return[];for(var o=e.data.key.children,r=[],a=0,s=t.length;a<s;a++)t[a][n]==i&&r.push(t[a]),r=r.concat(data.getNodesByParam(e,t[a][o],n,i));return r},getNodesByParamFuzzy:function(e,t,n,i){if(!t||!n)return[];var o=e.data.key.children,r=[];i=i.toLowerCase();for(var a=0,s=t.length;a<s;a++)"string"==typeof t[a][n]&&-1<t[a][n].toLowerCase().indexOf(i)&&r.push(t[a]),r=r.concat(data.getNodesByParamFuzzy(e,t[a][o],n,i));return r},getNodesByFilter:function(e,t,n,i,o){if(!t)return i?null:[];for(var r=e.data.key.children,a=i?null:[],s=0,l=t.length;s<l;s++){if(tools.apply(n,[t[s],o],!1)){if(i)return t[s];a.push(t[s])}var c=data.getNodesByFilter(e,t[s][r],n,i,o);if(i&&c)return c;a=i?c:a.concat(c)}return a},getPreNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,i=t.parentTId?t.getParentNode():data.getRoot(e),o=0,r=i[n].length;o<r;o++)if(i[n][o]===t)return 0==o?null:i[n][o-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){e=this.getRoot(this.getSetting(e));return e?e.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;t<n;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,i,o,r){for(var a=0,s=_init.nodes.length;a<s;a++)_init.nodes[a].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;t<n;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),i=0,o=n.curSelectedList.length;i<o;i++)if(t===n.curSelectedList[i])return!0;return!1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n])for(var i=0,o=t[n].length;i<o;i++)data.removeNodeCache(e,t[n][i]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),i=0,o=n.curSelectedList.length;i<o;i++)t!==n.curSelectedList[i]&&data.getNodeCache(e,n.curSelectedList[i].tId)||(n.curSelectedList.splice(i,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),i--,o--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,i=_init.zTreeTools.length;n<i;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=e.data.key.children,i=[];if(tools.isArray(t))for(var o=0,r=t.length;o<r;o++)i.push(t[o]),t[o][n]&&(i=i.concat(data.transformToArrayFormat(e,t[o][n])));else i.push(t),t[n]&&(i=i.concat(data.transformToArrayFormat(e,t[n])));return i},transformTozTreeFormat:function(e,t){var n=e.data.simpleData.idKey,i=e.data.simpleData.pIdKey,o=e.data.key.children;if(!n||""==n||!t)return[];if(tools.isArray(t)){for(var r=[],a=[],s=0,l=t.length;s<l;s++)a[t[s][n]]=t[s];for(s=0,l=t.length;s<l;s++)a[t[s][i]]&&t[s][n]!=t[s][i]?(a[t[s][i]][o]||(a[t[s][i]][o]=[]),a[t[s][i]][o].push(t[s])):r.push(t[s]);return r}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;t<n;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;t<n;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,i=_init.proxys.length;n<i;n++){var o=_init.proxys[n].apply(this,arguments);if(t.push(o),o.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),i=!0,o=0,r=n.length;o<r;o++){var a=n[o];a.nodeEventCallback&&(i=a.nodeEventCallback.apply(a,[e,a.node])&&i),a.treeEventCallback&&(i=a.treeEventCallback.apply(a,[e,a.node])&&i)}return i}},handler={onSwitchNode:function(e,t){e=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(e.callback.beforeCollapse,[e.treeId,t],!0))return!0;data.getRoot(e).expandTriggerFlag=!0,view.switchNode(e,t)}else{if(0==tools.apply(e.callback.beforeExpand,[e.treeId,t],!0))return!0;data.getRoot(e).expandTriggerFlag=!0,view.switchNode(e,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),i=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,i],!0)||(0==i?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2==i),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,i])),!0},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},onSelectStart:function(e){e=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===e||"textarea"===e}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t||[]):n},canAsync:function(e,t){var n=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[n]&&0<t[n].length)},clone:function(e){if(null===e)return null;var t,n=tools.isArray(e)?[]:{};for(t in e)n[t]=e[t]instanceof Date?new Date(e[t].getTime()):"object"==typeof e[t]?tools.clone(e[t]):e[t];return n},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var i=0,o=n.length;t.tagName&&i<o;i++)if(tools.eqs(t.tagName,n[i].tagName)&&null!==t.getAttribute(n[i].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return 0<$(e).closest("#"+t).length},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,i,o){var r,a,s;e.data.keep.leaf&&t&&!t.isParent||(tools.isArray(i)||(i=[i]),e.data.simpleData.enable&&(i=data.transformTozTreeFormat(e,i)),t?(r=$$(t,consts.id.SWITCH,e),a=$$(t,consts.id.ICON,e),s=$$(t,consts.id.UL,e),t.open||(view.replaceSwitchClass(t,r,consts.folder.CLOSE),view.replaceIcoClass(t,a,consts.folder.CLOSE),t.open=!1,s.css({display:"none"})),data.addNodesData(e,t,n,i),view.createNodes(e,t.level+1,i,t,n),o||view.expandCollapseParentNode(e,t,!0)):(data.addNodesData(e,data.getRoot(e),n,i),view.createNodes(e,0,i,null,n)))},appendNodes:function(e,t,n,i,o,r,a){if(!n)return[];var s,l=[],c=e.data.key.children,u=(i||data.getRoot(e))[c];(!u||o>=u.length)&&(o=-1);for(var d=0,p=n.length;d<p;d++){var h=n[d];r&&(s=(0===o||u.length==n.length)&&0==d,f=o<0&&d==n.length-1,data.initNode(e,t,h,i,s,f,a),data.addNodeCache(e,h));var f=[];h[c]&&0<h[c].length&&(f=view.appendNodes(e,t+1,h[c],h,-1,r,a&&h.open)),a&&(view.makeDOMNodeMainBefore(l,e,h),view.makeDOMNodeLine(l,e,h),data.getBeforeA(e,h,l),view.makeDOMNodeNameBefore(l,e,h),data.getInnerBeforeA(e,h,l),view.makeDOMNodeIcon(l,e,h),data.getInnerAfterA(e,h,l),view.makeDOMNodeNameAfter(l,e,h),data.getAfterA(e,h,l),h.isParent&&h.open&&view.makeUlHtml(e,h,l,f.join("")),view.makeDOMNodeMainAfter(l,e,h),data.addCreatedNode(e,h))}return l},appendParentULDom:function(e,t){var n=[],i=$$(t,e);!i.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),i=$$(t,e));var o=$$(t,consts.id.UL,e);o.get(0)&&o.remove();o=e.data.key.children,o=view.appendNodes(e,t.level+1,t[o],t,-1,!1,!0);view.makeUlHtml(e,t,n,o.join("")),i.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l,icoObj;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;node&&(node.isAjaxing=!0,icoObj=$$(node,consts.id.ICON,setting),icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING}));for(var tmpParam={},i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;1<pKey.length&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;i<l;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){for(var i,o=data.getRoot(e).curSelectedList,r=o.length-1;0<=r;r--)if(t===(i=o[r])||!t&&(!n||n!==i)){if($$(i,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}o.splice(r,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,i])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);0<t.createdNodes.length;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,i,o){var r,a,s,l;n&&0!=n.length&&(r=data.getRoot(e),a=e.data.key.children,a=!i||i.open||!!$$(i[a][0],e).get(0),r.createdNodes=[],a=view.appendNodes(e,t,n,i,o,!0,a),i?(i=$$(i,consts.id.UL,e)).get(0)&&(s=i):s=e.treeObj,s&&(0<=o&&(l=s.children()[o]),0<=o&&l?$(l).before(a.join("")):s.append(a.join(""))),view.createNodeCallback(e))},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,i,o){var r,a,s=data.getRoot(e),l=e.data.key.children;t?(s.expandTriggerFlag&&(r=o,o=function(){r&&r(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},s.expandTriggerFlag=!1),!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[l]&&0<t[l].length&&!$$(t[l][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open!=n?(a=$$(t,consts.id.UL,e),s=$$(t,consts.id.SWITCH,e),n=$$(t,consts.id.ICON,e),t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&n.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,s,consts.folder.OPEN),view.replaceIcoClass(t,n,consts.folder.OPEN),0!=i&&""!=e.view.expandSpeed&&t[l]&&0<t[l].length?a.slideDown(e.view.expandSpeed,o):(a.show(),tools.apply(o,[]))):(view.replaceSwitchClass(t,s,consts.folder.CLOSE),view.replaceIcoClass(t,n,consts.folder.CLOSE),0!=i&&""!=e.view.expandSpeed&&t[l]&&0<t[l].length?a.slideUp(e.view.expandSpeed,o):(a.hide(),tools.apply(o,[])))):tools.apply(o,[])):tools.apply(o,[])):tools.apply(o,[])},expandCollapseParentNode:function(e,t,n,i,o){t&&(t.parentTId?(view.expandCollapseNode(e,t,n,i),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,i,o)):view.expandCollapseNode(e,t,n,i,o))},expandCollapseSonNode:function(e,t,n,i,o){var r=data.getRoot(e),a=e.data.key.children,s=(t||r)[a],l=!t&&i,a=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,s)for(var c=0,u=s.length;c<u;c++)s[c]&&view.expandCollapseSonNode(e,s[c],n,l);data.getRoot(e).expandTriggerFlag=a,view.expandCollapseNode(e,t,n,i,o)},isSelectedNode:function(e,t){if(!t)return!1;for(var n=data.getRoot(e).curSelectedList,i=n.length-1;0<=i;i--)if(t===n[i])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var i=data.getNodeName(t,n),i=t.view.nameIsHTML?i:i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",i,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var i,o=data.getNodeTitle(t,n),r=view.makeNodeUrl(t,n),a=view.makeNodeFontCss(t,n),s=[];for(i in a)s.push(i,":",a[i],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=r&&0<r.length?"href='"+r+"'":""," target='",view.makeNodeTarget(n),"' style='",s.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&o&&e.push("title='",o.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){e=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return e&&"function"!=typeof e?e:{}},makeNodeIcoClass:function(e,t){var n=["ico"];return t.isAjaxing||(n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],t.isParent?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU)),consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n,i=[];return t.isAjaxing||((n=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon])&&i.push("background:url(",n,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||i.push("width:0px;height:0px;")),i.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(consts.line.ROOT):0==t.level&&t.isFirstNode?n.push(consts.line.ROOTS):t.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),t.isParent?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){e=e.data.key.url;return t[e]||null},makeUlHtml:function(e,t,n,i){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(i),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=e.data.key.children,i=t[n];if(i){for(var o,r=0,a=i.length;r<a;r++)data.removeNodeCache(e,i[r]);data.removeSelectedNode(e),delete t[n],e.data.keep.parent?$$(t,consts.id.UL,e).empty():(t.isParent=!1,t.open=!1,o=$$(t,consts.id.SWITCH,e),n=$$(t,consts.id.ICON,e),view.replaceSwitchClass(t,o,consts.folder.DOCU),view.replaceIcoClass(t,n,consts.folder.DOCU),$$(t,consts.id.UL,e).remove())}}},scrollIntoView:function(e){if(e)if(e.scrollIntoViewIfNeeded)e.scrollIntoViewIfNeeded();else if(e.scrollIntoView)e.scrollIntoView(!1);else try{e.focus().blur()}catch(e){}},setFirstNode:function(e,t){e=e.data.key.children;0<t[e].length&&(t[e][0].isFirstNode=!0)},setLastNode:function(e,t){var n=e.data.key.children,e=t[n].length;0<e&&(t[n][e-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),i=e.data.key.children,o=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var r=0,a=o[i].length;r<a;r++)if(o[i][r].tId==t.tId){o[i].splice(r,1);break}view.setFirstNode(e,o),view.setLastNode(e,o);var s,l,c,u=o[i].length;e.data.keep.parent||0!=u?e.view.showLine&&0<u&&(u=o[i][u-1],s=$$(u,consts.id.UL,e),l=$$(u,consts.id.SWITCH,e),c=$$(u,consts.id.ICON,e),o==n?1==o[i].length?view.replaceSwitchClass(u,l,consts.line.ROOT):(n=$$(o[i][0],consts.id.SWITCH,e),view.replaceSwitchClass(o[i][0],n,consts.line.ROOTS),view.replaceSwitchClass(u,l,consts.line.BOTTOM)):view.replaceSwitchClass(u,l,consts.line.BOTTOM),s.removeClass(consts.line.LINE)):(o.isParent=!1,o.open=!1,s=$$(o,consts.id.UL,e),l=$$(o,consts.id.SWITCH,e),c=$$(o,consts.id.ICON,e),view.replaceSwitchClass(o,l,consts.folder.DOCU),view.replaceIcoClass(o,c,consts.folder.DOCU),s.css("display","none"))}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){e=t.attr("class");if(null!=e){var i=e.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:i[i.length-1]=n}t.attr("class",i.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var i=t.attr("class");if(null!=i){var o=i.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:o[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[1]=n}t.attr("class",o.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),t=view.makeNodeFontCss(e,t);t&&n.css(t)},setNodeLineIcos:function(e,t){var n,i,o,r;t&&(n=$$(t,consts.id.SWITCH,e),i=$$(t,consts.id.UL,e),o=$$(t,consts.id.ICON,e),0==(r=view.makeUlLineClass(e,t)).length?i.removeClass(consts.line.LINE):i.addClass(r),n.attr("class",view.makeNodeLineClass(e,t)),t.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",view.makeNodeIcoStyle(e,t)),o.attr("class",view.makeNodeIcoClass(e,t)))},setNodeName:function(e,t){var n=data.getNodeTitle(e,t),i=$$(t,consts.id.SPAN,e);i.empty(),e.view.nameIsHTML?i.html(data.getNodeName(e,t)):i.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)&&$$(t,consts.id.A,e).attr("title",n||"")},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),t=view.makeNodeUrl(e,t);null==t||0==t.length?n.removeAttr("href"):n.attr("href",t)},switchNode:function(e,t){t.open||!tools.canAsync(e,t)?view.expandCollapseNode(e,t,!t.open):e.async.enable?view.asyncNode(e,t)||view.expandCollapseNode(e,t,!t.open):t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){e=data.getZTreeTools(e);return e||null},destroy:function(e){if(e&&0<e.length)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var s=tools.clone(_setting);$.extend(!0,s,t),s.treeId=e.attr("id"),s.treeObj=e,s.treeObj.empty(),settings[s.treeId]=s,void 0===document.body.style.maxHeight&&(s.view.expandSpeed=""),data.initRoot(s);t=data.getRoot(s),e=s.data.key.children;n=n?tools.clone(tools.isArray(n)?n:[n]):[],s.data.simpleData.enable?t[e]=data.transformTozTreeFormat(s,n):t[e]=n,data.initCache(s),event.unbindTree(s),event.bindTree(s),event.unbindEvent(s),event.bindEvent(s);n={setting:s,addNodes:function(e,t,n,i){if((e=e||null)&&!e.isParent&&s.data.keep.leaf)return null;var o=parseInt(t,10);if(t=isNaN(o)?(i=!!n,n=t,-1):o,!n)return null;var r=tools.clone(tools.isArray(n)?n:[n]);function a(){view.addNodes(s,e,t,r,1==i)}return tools.canAsync(s,e)?view.asyncNode(s,e,i,a):a(),r},cancelSelectedNode:function(e){view.cancelPreSelectedNode(s,e)},destroy:function(){view.destroy(s)},expandAll:function(e){return view.expandCollapseSonNode(s,null,e=!!e,!0),e},expandNode:function(t,e,n,i,o){return t&&t.isParent?(!0!==e&&!1!==e&&(e=!t.open),(o=!!o)&&e&&0==tools.apply(s.callback.beforeExpand,[s.treeId,t],!0)||o&&!e&&0==tools.apply(s.callback.beforeCollapse,[s.treeId,t],!0)?null:(e&&t.parentTId&&view.expandCollapseParentNode(s,t.getParentNode(),e,!1),e!==t.open||n?(data.getRoot(s).expandTriggerFlag=o,!tools.canAsync(s,t)&&n?view.expandCollapseSonNode(s,t,e,!0,r):(t.open=!e,view.switchNode(this.setting,t),r()),e):null)):null;function r(){var e=$$(t,s).get(0);e&&!1!==i&&view.scrollIntoView(e)}},getNodes:function(){return data.getNodes(s)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(s,n?n[s.data.key.children]:data.getNodes(s),e,t):null},getNodeByTId:function(e){return data.getNodeCache(s,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(s,n?n[s.data.key.children]:data.getNodes(s),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(s,n?n[s.data.key.children]:data.getNodes(s),e,t):null},getNodesByFilter:function(e,t,n,i){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(s,n?n[s.data.key.children]:data.getNodes(s),e,t,i):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=s.data.key.children,n=e.parentTId?e.getParentNode():data.getRoot(s),i=0,o=n[t].length;i<o;i++)if(n[t][i]==e)return i;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(s).curSelectedList,n=0,i=t.length;n<i;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(s,e)},reAsyncChildNodes:function(e,t,n){if(this.setting.async.enable){var i=!e;if(i&&(e=data.getRoot(s)),"refresh"==t){for(var o=this.setting.data.key.children,r=0,a=e[o]?e[o].length:0;r<a;r++)data.removeNodeCache(s,e[o][r]);data.removeSelectedNode(s),e[o]=[],(i?this.setting.treeObj:$$(e,consts.id.UL,s)).empty()}view.asyncNode(this.setting,i?null:e,!!n)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(s),t=e[s.data.key.children];data.initRoot(s),e[s.data.key.children]=t,data.initCache(s),view.createNodes(s,0,e[s.data.key.children],null,-1)},removeChildNodes:function(e){if(!e)return null;var t=e[s.data.key.children];return view.removeChildNodes(s,e),t||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(s.callback.beforeRemove,[s.treeId,e],!0)||(view.removeNode(s,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[s.treeId,e])))},selectNode:function(t,e,n){if(t&&tools.uCanDo(s)){if(e=s.view.selectedMulti&&e,t.parentTId)view.expandCollapseParentNode(s,t.getParentNode(),!0,!1,function(){var e;n||(e=$$(t,s).get(0),view.scrollIntoView(e))});else try{$$(t,s).focus().blur()}catch(e){}view.selectNode(s,t,e)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(s,e)},transformToArray:function(e){return data.transformToArrayFormat(s,e)},updateNode:function(e,t){e&&$$(e,s).get(0)&&tools.uCanDo(s)&&(view.setNodeName(s,e),view.setNodeTarget(s,e),view.setNodeUrl(s,e),view.setNodeLineIcos(s,e),view.setNodeFontCss(s,e))}};return t.treeTools=n,data.setZTreeTools(s,n),t[e]&&0<t[e].length?view.createNodes(s,0,t[e],null,-1):s.async.enable&&s.async.url&&""!==s.async.url&&view.asyncNode(s),n}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery)},{}],856:[function(e,t,n){!function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},s=function(e,t){if(!0===t.chkDisabled)return!1;var n=h.getSetting(e.data.treeId),i=n.data.key.checked;if(0==u.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;t[i]=!t[i],p.checkNodeRelation(n,t);i=f(t,d.id.CHECK,n);return p.setChkClass(n,i,t),p.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(d.event.CHECK,[e,n.treeId,t]),!0},l=function(e,t){if(!0===t.chkDisabled)return!1;var n=h.getSetting(e.data.treeId),e=f(t,d.id.CHECK,n);return t.check_Focus=!0,p.setChkClass(n,e,t),!0},c=function(e,t){if(!0===t.chkDisabled)return!1;var n=h.getSetting(e.data.treeId),e=f(t,d.id.CHECK,n);return t.check_Focus=!1,p.setChkClass(n,e,t),!0},i={tools:{},view:{checkNodeRelation:function(e,t){var n,i=e.data.key.children,o=e.data.key.checked,r=d.radio;if(e.check.chkStyle==r.STYLE){var a=h.getRadioCheckedList(e);if(t[o])if(e.check.radioType==r.TYPE_ALL){for(l=a.length-1;0<=l;l--)(n=a[l])[o]&&n!=t&&(n[o]=!1,a.splice(l,1),p.setChkClass(e,f(n,d.id.CHECK,e),n),n.parentTId!=t.parentTId&&p.repairParentChkClassWithSelf(e,n));a.push(t)}else for(var s=t.parentTId?t.getParentNode():h.getRoot(e),l=0,c=s[i].length;l<c;l++)(n=s[i][l])[o]&&n!=t&&(n[o]=!1,p.setChkClass(e,f(n,d.id.CHECK,e),n));else if(e.check.radioType==r.TYPE_ALL)for(l=0,c=a.length;l<c;l++)if(t==a[l]){a.splice(l,1);break}}else t[o]&&(!t[i]||0==t[i].length||-1<e.check.chkboxType.Y.indexOf("s"))&&p.setSonNodeCheckBox(e,t,!0),t[o]||t[i]&&0!=t[i].length&&!(-1<e.check.chkboxType.N.indexOf("s"))||p.setSonNodeCheckBox(e,t,!1),t[o]&&-1<e.check.chkboxType.Y.indexOf("p")&&p.setParentNodeCheckBox(e,t,!0),!t[o]&&-1<e.check.chkboxType.N.indexOf("p")&&p.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,i=d.checkbox,o=d.radio,r="",r=!0===t.chkDisabled?i.DISABLED:t.halfCheck?i.PART:e.check.chkStyle!=o.STYLE&&t[n]?2===t.check_Child_State||-1===t.check_Child_State?i.FULL:i.PART:t.check_Child_State<1?i.FULL:i.PART,r=e.check.chkStyle+"_"+(t[n]?i.TRUE:i.FALSE)+"_"+r,r=t.check_Focus&&!0!==t.chkDisabled?r+"_"+i.FOCUS:r;return d.className.BUTTON+" "+i.DEFAULT+" "+r},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===d.checkbox.STYLE)for(var n=e.data.key.checked,i=e.data.key.children,o=h.getRoot(e),r=0,a=o[i].length;r<a;r++){var s=o[i][r];!0!==s.nocheck&&!0!==s.chkDisabled&&(s[n]=t),p.setSonNodeCheckBox(e,s,t)}},repairChkClass:function(e,t){var n;t&&(h.makeChkFlag(e,t),!0!==t.nocheck&&(n=f(t,d.id.CHECK,e),p.setChkClass(e,n,t)))},repairParentChkClass:function(e,t){t&&t.parentTId&&(t=t.getParentNode(),p.repairChkClass(e,t),p.repairParentChkClass(e,t))},repairParentChkClassWithSelf:function(e,t){var n;t&&(t[n=e.data.key.children]&&0<t[n].length?p.repairParentChkClass(e,t[n][0]):p.repairParentChkClass(e,t))},repairSonChkDisabled:function(e,t,n,i){if(t){var o=e.data.key.children;if(t.chkDisabled!=n&&(t.chkDisabled=n),p.repairChkClass(e,t),t[o]&&i)for(var r=0,a=t[o].length;r<a;r++){var s=t[o][r];p.repairSonChkDisabled(e,s,n,i)}}},repairParentChkDisabled:function(e,t,n,i){t&&(t.chkDisabled!=n&&i&&(t.chkDisabled=n),p.repairChkClass(e,t),p.repairParentChkDisabled(e,t.getParentNode(),n,i))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",p.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,i){var o=e.data.key.children,r=e.data.key.checked,a=f(t,d.id.CHECK,e);if(i=i||t,h.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(t[r]=n,p.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=i&&e.treeObj.trigger(d.event.CHECK,[null,e.treeId,t])),t.parentTId){var s=!0;if(!n)for(var l=t.getParentNode()[o],c=0,u=l.length;c<u;c++)if(!0!==l[c].nocheck&&!0!==l[c].chkDisabled&&l[c][r]||(!0===l[c].nocheck||!0===l[c].chkDisabled)&&0<l[c].check_Child_State){s=!1;break}s&&p.setParentNodeCheckBox(e,t.getParentNode(),n,i)}},setSonNodeCheckBox:function(e,t,n,i){if(t){var o=e.data.key.children,r=e.data.key.checked,a=f(t,d.id.CHECK,e);i=i||t;var s=!1;if(t[o])for(var l=0,c=t[o].length;l<c;l++){var u=t[o][l];p.setSonNodeCheckBox(e,u,n,i),!0===u.chkDisabled&&(s=!0)}t!=h.getRoot(e)&&!0!==t.chkDisabled&&(s&&!0!==t.nocheck&&h.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(t[r]=n,s||(t.check_Child_State=t[o]&&0<t[o].length?n?2:0:-1)):t.check_Child_State=-1,p.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=i&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(d.event.CHECK,[null,e.treeId,t]))}}},event:{},data:{getRadioCheckedList:function(e){for(var t=h.getRoot(e).radioCheckedList,n=0,i=t.length;n<i;n++)h.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,i--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=e.data.key.checked;return{checked:t[n],half:t.halfCheck||(e.check.chkStyle==d.radio.STYLE?2===t.check_Child_State:t[n]?-1<t.check_Child_State&&t.check_Child_State<2:0<t.check_Child_State)}},getTreeCheckedNodes:function(e,t,n,i){if(!t)return[];var o=e.data.key.children,r=e.data.key.checked,a=n&&e.check.chkStyle==d.radio.STYLE&&e.check.radioType==d.radio.TYPE_ALL;i=i||[];for(var s=0,l=t.length;s<l&&(!0===t[s].nocheck||!0===t[s].chkDisabled||t[s][r]!=n||(i.push(t[s]),!a))&&(h.getTreeCheckedNodes(e,t[s][o],n,i),!(a&&0<i.length));s++);return i},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];var i=e.data.key.children,o=e.data.key.checked;n=n||[];for(var r=0,a=t.length;r<a;r++)!0!==t[r].nocheck&&!0!==t[r].chkDisabled&&t[r][o]!=t[r].checkedOld&&n.push(t[r]),h.getTreeChangeCheckedNodes(e,t[r][i],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,i=e.data.key.checked,o=-1;if(t[n])for(var r=0,a=t[n].length;r<a;r++){var s=t[n][r],l=-1;if(e.check.chkStyle==d.radio.STYLE){if(2==(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck||s[i]||0<s.check_Child_State?2:0)){o=2;break}0==l&&(o=0)}else if(e.check.chkStyle==d.checkbox.STYLE){if(1===(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck?1:s[i]?-1===s.check_Child_State||2===s.check_Child_State?2:1:0<s.check_Child_State?1:0)){o=1;break}if(2===l&&-1<o&&0<r&&l!==o){o=1;break}if(2===o&&-1<l&&l<2){o=1;break}-1<l&&(o=l)}}t.check_Child_State=o}}}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,i);var e=e.fn.zTree,u=e._z.tools,d=e.consts,p=e._z.view,h=e._z.data,f=(e._z.event,u.$);h.exSetting(n),h.addInitBind(function(o){var e=o.treeObj,t=d.event;e.bind(t.CHECK,function(e,t,n,i){e.srcEvent=t,u.apply(o.callback.onCheck,[e,n,i])})}),h.addInitUnBind(function(e){var t=e.treeObj,e=d.event;t.unbind(e.CHECK)}),h.addInitCache(function(e){}),h.addInitNode(function(e,t,n,i,o,r,a){var s;n&&(s=e.data.key.checked,"string"==typeof n[s]&&(n[s]=u.eqs(n[s],"true")),n[s]=!!n[s],n.checkedOld=n[s],"string"==typeof n.nocheck&&(n.nocheck=u.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&i&&!!i.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=u.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&i&&!!i.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=u.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return h.getCheckStatus(e,n)},e.check.chkStyle==d.radio.STYLE&&e.check.radioType==d.radio.TYPE_ALL&&n[s]&&h.getRoot(e).radioCheckedList.push(n))}),h.addInitProxy(function(e){var t=e.target,n=h.getSetting(e.data.treeId),i="",o=null,r="",a=null;if(u.eqs(e.type,"mouseover")?n.check.enable&&u.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+d.id.CHECK)&&(i=u.getNodeMainDom(t).id,r="mouseoverCheck"):u.eqs(e.type,"mouseout")?n.check.enable&&u.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+d.id.CHECK)&&(i=u.getNodeMainDom(t).id,r="mouseoutCheck"):u.eqs(e.type,"click")&&n.check.enable&&u.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+d.id.CHECK)&&(i=u.getNodeMainDom(t).id,r="checkNode"),0<i.length)switch(o=h.getNodeCache(n,i),r){case"checkNode":a=s;break;case"mouseoverCheck":a=l;break;case"mouseoutCheck":a=c}return{stop:"checkNode"===r,node:o,nodeEventType:r,nodeEventCallback:a,treeEventType:"",treeEventCallback:null}},!0),h.addInitRoot(function(e){h.getRoot(e).radioCheckedList=[]}),h.addBeforeA(function(e,t,n){e.data.key.checked;e.check.enable&&(h.makeChkFlag(e,t),n.push("<span ID='",t.tId,d.id.CHECK,"' class='",p.makeChkClass(e,t),"' treeNode",d.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))}),h.addZTreeTools(function(e,i){i.checkNode=function(e,t,n,i){var o=this.setting.data.key.checked;!0!==e.chkDisabled&&(!0!==t&&!1!==t&&(t=!e[o]),i=!!i,e[o]===t&&!n||i&&0==u.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0)||u.uCanDo(this.setting)&&this.setting.check.enable&&!0!==e.nocheck&&(e[o]=t,t=f(e,d.id.CHECK,this.setting),!n&&this.setting.check.chkStyle!==d.radio.STYLE||p.checkNodeRelation(this.setting,e),p.setChkClass(this.setting,t,e),p.repairParentChkClassWithSelf(this.setting,e),i&&this.setting.treeObj.trigger(d.event.CHECK,[null,this.setting.treeId,e])))},i.checkAllNodes=function(e){p.repairAllChk(this.setting,!!e)},i.getCheckedNodes=function(e){var t=this.setting.data.key.children;return e=!1!==e,h.getTreeCheckedNodes(this.setting,h.getRoot(this.setting)[t],e)},i.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return h.getTreeChangeCheckedNodes(this.setting,h.getRoot(this.setting)[e])},i.setChkDisabled=function(e,t,n,i){n=!!n,p.repairSonChkDisabled(this.setting,e,t=!!t,i=!!i),p.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var o=i.updateNode;i.updateNode=function(e,t){var n;o&&o.apply(i,arguments),e&&this.setting.check.enable&&f(e,this.setting).get(0)&&u.uCanDo(this.setting)&&(n=f(e,d.id.CHECK,this.setting),1!=t&&this.setting.check.chkStyle!==d.radio.STYLE||p.checkNodeRelation(this.setting,e),p.setChkClass(this.setting,n,e),p.repairParentChkClassWithSelf(this.setting,e))}});var r=p.createNodes;p.createNodes=function(e,t,n,i,o){r&&r.apply(p,arguments),n&&p.repairParentChkClassWithSelf(e,i)};var o=p.removeNode;p.removeNode=function(e,t){var n=t.getParentNode();o&&o.apply(p,arguments),t&&n&&(p.repairChkClass(e,n),p.repairParentChkClass(e,n))};var m=p.appendNodes;p.appendNodes=function(e,t,n,i,o,r,a){var s="";return m&&(s=m.apply(p,arguments)),i&&h.makeChkFlag(e,i),s}}(jQuery)},{}],857:[function(e,t,n){!function(G){var Y={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},c={onHoverOverNode:function(e,t){var n=J.getSetting(e.data.treeId),i=J.getRoot(n);i.curHoverNode!=t&&c.onHoverOutNode(e),i.curHoverNode=t,Z.addHoverDom(n,t)},onHoverOutNode:function(e,t){var n=J.getSetting(e.data.treeId),e=J.getRoot(n);e.curHoverNode&&!J.isSelectedNode(n,e.curHoverNode)&&(Z.removeTreeDom(n,e.curHoverNode),e.curHoverNode=null)},onMousedownNode:function(e,t){var n,i,_=J.getSetting(e.data.treeId),N=J.getRoot(_),A=J.getRoots();if(2==e.button||!_.edit.enable||!_.edit.drag.isCopy&&!_.edit.drag.isMove)return!0;var o=e.target,r=J.getRoot(_).curSelectedList,P=[];if(J.isSelectedNode(_,t))for(n=0,i=r.length;n<i;n++){if(r[n].editNameFlag&&X.eqs(o.tagName,"input")&&null!==o.getAttribute("treeNode"+Q.id.INPUT))return!0;if(P.push(r[n]),P[0].parentTId!==r[n].parentTId){P=[t];break}}else P=[t];Z.editNodeBlur=!0,Z.cancelCurEditNode(_);var I,R,M,L,D,j=G(_.treeObj.get(0).ownerDocument),F=G(_.treeObj.get(0).ownerDocument.body),O=!1,B=_,l=_,H=null,$=null,z=null,U=Q.move.TYPE_INNER,V=e.clientX,q=e.clientY,W=(new Date).getTime();function c(e){if(0==N.dragFlag&&Math.abs(V-e.clientX)<_.edit.drag.minMoveSize&&Math.abs(q-e.clientY)<_.edit.drag.minMoveSize)return!0;var t,n,i=_.data.key.children;if(F.css("cursor","pointer"),0==N.dragFlag){if(0==X.apply(_.callback.beforeDrag,[_.treeId,P],!0))return K(e),!0;for(l=0,c=P.length;l<c;l++)0==l&&(N.dragNodeShowBefore=[]),(t=P[l]).isParent&&t.open?(Z.expandCollapseNode(_,t,!t.open),N.dragNodeShowBefore[t.tId]=!0):N.dragNodeShowBefore[t.tId]=!1;N.dragFlag=1,A.showHoverDom=!1,X.showIfameMask(_,!0);var o=!0,r=-1;if(1<P.length)for(var a=P[0].parentTId?P[0].getParentNode()[i]:J.getNodes(_),s=[],l=0,c=a.length;l<c;l++)if(void 0!==N.dragNodeShowBefore[a[l].tId]&&(o&&-1<r&&r+1!==l&&(o=!1),s.push(a[l]),r=l),P.length===s.length){P=s;break}for(o&&(L=P[0].getPreNode(),D=P[P.length-1].getNextNode()),I=ee("<ul class='zTreeDragUL'></ul>",_),l=0,c=P.length;l<c;l++)(t=P[l]).editNameFlag=!1,Z.selectNode(_,t,0<l),Z.removeTreeDom(_,t),l>_.edit.drag.maxShowNodeNum-1||((n=ee("<li id='"+t.tId+"_tmp'></li>",_)).append(ee(t,Q.id.A,_).clone()),n.css("padding","0"),n.children("#"+t.tId+Q.id.A).removeClass(Q.node.CURSELECTED),I.append(n),l==_.edit.drag.maxShowNodeNum-1&&(n=ee("<li id='"+t.tId+"_moretmp'><a>  ...  </a></li>",_),I.append(n)));I.attr("id",P[0].tId+Q.id.UL+"_tmp"),I.addClass(_.treeObj.attr("class")),I.appendTo(F),(R=ee("<span class='tmpzTreeMove_arrow'></span>",_)).attr("id","zTreeMove_arrow_tmp"),R.appendTo(F),_.treeObj.trigger(Q.event.DRAG,[e,_.treeId,P])}if(1==N.dragFlag){M&&R.attr("id")==e.target.id&&z&&e.clientX+j.scrollLeft()+2>G("#"+z+Q.id.A,M).offset().left?(k=G("#"+z+Q.id.A,M),e.target=0<k.length?k.get(0):e.target):M&&(M.removeClass(Q.node.TMPTARGET_TREE),z&&G("#"+z+Q.id.A,M).removeClass(Q.node.TMPTARGET_NODE+"_"+Q.move.TYPE_PREV).removeClass(Q.node.TMPTARGET_NODE+"_"+Y.move.TYPE_NEXT).removeClass(Q.node.TMPTARGET_NODE+"_"+Y.move.TYPE_INNER)),z=M=null,O=!1,B=_;var u,d=J.getSettings();for(u in d)d[u].treeId&&d[u].edit.enable&&d[u].treeId!=_.treeId&&(e.target.id==d[u].treeId||0<G(e.target).parents("#"+d[u].treeId).length)&&(O=!0,B=d[u]);var p=j.scrollTop(),h=j.scrollLeft(),f=B.treeObj.offset(),m=B.treeObj.get(0).scrollHeight,g=B.treeObj.get(0).scrollWidth,v=e.clientY+p-f.top,y=B.treeObj.height()+f.top-e.clientY-p,b=e.clientX+h-f.left,x=B.treeObj.width()+f.left-e.clientX-h,w=v<_.edit.drag.borderMax&&v>_.edit.drag.borderMin,i=y<_.edit.drag.borderMax&&y>_.edit.drag.borderMin,k=b<_.edit.drag.borderMax&&b>_.edit.drag.borderMin,f=x<_.edit.drag.borderMax&&x>_.edit.drag.borderMin,v=v>_.edit.drag.borderMin&&y>_.edit.drag.borderMin&&b>_.edit.drag.borderMin&&x>_.edit.drag.borderMin,y=w&&B.treeObj.scrollTop()<=0,b=i&&B.treeObj.scrollTop()+B.treeObj.height()+10>=m,x=k&&B.treeObj.scrollLeft()<=0,m=f&&B.treeObj.scrollLeft()+B.treeObj.width()+10>=g;if(e.target&&X.isChildOrSelf(e.target,B.treeId)){for(var E=e.target;E&&E.tagName&&!X.eqs(E.tagName,"li")&&E.id!=B.treeId;)E=E.parentNode;var C=!0;for(l=0,c=P.length;l<c;l++){if(t=P[l],E.id===t.tId){C=!1;break}if(0<ee(t,_).find("#"+E.id).length){C=!1;break}}C&&e.target&&X.isChildOrSelf(e.target,E.id+Q.id.A)&&(M=G(E),z=E.id)}t=P[0],v&&X.isChildOrSelf(e.target,B.treeId)&&(!M&&(e.target.id==B.treeId||y||b||x||m)&&(O||!O&&t.parentTId)&&(M=B.treeObj),w?B.treeObj.scrollTop(B.treeObj.scrollTop()-10):i&&B.treeObj.scrollTop(B.treeObj.scrollTop()+10),k?B.treeObj.scrollLeft(B.treeObj.scrollLeft()-10):f&&B.treeObj.scrollLeft(B.treeObj.scrollLeft()+10),M&&M!=B.treeObj&&M.offset().left<B.treeObj.offset().left&&B.treeObj.scrollLeft(B.treeObj.scrollLeft()+M.offset().left-B.treeObj.offset().left)),I.css({top:e.clientY+p+3+"px",left:e.clientX+h+3+"px"});var S,g=0,v=0;function T(){M=null,z="",U=Q.move.TYPE_INNER,R.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}M&&M.attr("id")!=B.treeId?(S=null==z?null:J.getNodeCache(B,z),y=(e.ctrlKey||e.metaKey)&&_.edit.drag.isMove&&_.edit.drag.isCopy||!_.edit.drag.isMove&&_.edit.drag.isCopy,b=!(!L||z!==L.tId),x=!(!D||z!==D.tId),m=t.parentTId&&t.parentTId==z,w=(y||!x)&&X.apply(B.edit.drag.prev,[B.treeId,P,S],!!B.edit.drag.prev),i=(y||!b)&&X.apply(B.edit.drag.next,[B.treeId,P,S],!!B.edit.drag.next),k=(y||!m)&&!(B.data.keep.leaf&&!S.isParent)&&X.apply(B.edit.drag.inner,[B.treeId,P,S],!!B.edit.drag.inner),w||i||k?(f=G("#"+z+Q.id.A,M),h=S.isLastNode?null:G("#"+S.getNextNode().tId+Q.id.A,M.next()),x=f.offset().top,b=f.offset().left,y=w?k?.25:i?.5:1:-1,m=i?k?.75:w?.5:0:-1,p=(e.clientY+p-x)/f.height(),(1==y||p<=y&&-.2<=p)&&w?(g=1-R.width(),v=x-R.height()/2,U=Q.move.TYPE_PREV):(0==m||m<=p&&p<=1.2)&&i?(g=1-R.width(),v=null==h||S.isParent&&S.open?x+f.height()-R.height()/2:h.offset().top-R.height()/2,U=Q.move.TYPE_NEXT):k?(g=5-R.width(),v=x,U=Q.move.TYPE_INNER):T(),M&&(R.css({display:"block",top:v+"px",left:b+g+"px"}),f.addClass(Q.node.TMPTARGET_NODE+"_"+U),H==z&&$==U||(W=(new Date).getTime()),S&&S.isParent&&U==Q.move.TYPE_INNER&&(f=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==S.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===S.tId&&(f=!1),f&&(window.zTreeMoveTimer=setTimeout(function(){U==Q.move.TYPE_INNER&&S&&S.isParent&&!S.open&&(new Date).getTime()-W>B.edit.drag.autoOpenTime&&X.apply(B.callback.beforeDragOpen,[B.treeId,S],!0)&&(Z.switchNode(B,S),B.edit.drag.autoExpandTrigger&&B.treeObj.trigger(Q.event.EXPAND,[B.treeId,S]))},B.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=S.tId)))):T()):(U=Q.move.TYPE_INNER,M&&X.apply(B.edit.drag.inner,[B.treeId,P,null],!!B.edit.drag.inner)?M.addClass(Q.node.TMPTARGET_TREE):M=null,R.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)),H=z,$=U,_.treeObj.trigger(Q.event.DRAGMOVE,[e,_.treeId,P])}return!1}function K(i){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),$=H=null,j.unbind("mousemove",c),j.unbind("mouseup",K),j.unbind("selectstart",u),F.css("cursor","auto"),M&&(M.removeClass(Q.node.TMPTARGET_TREE),z&&G("#"+z+Q.id.A,M).removeClass(Q.node.TMPTARGET_NODE+"_"+Q.move.TYPE_PREV).removeClass(Q.node.TMPTARGET_NODE+"_"+Y.move.TYPE_NEXT).removeClass(Q.node.TMPTARGET_NODE+"_"+Y.move.TYPE_INNER)),X.showIfameMask(_,!1),A.showHoverDom=!0,0!=N.dragFlag){for(var e,t=N.dragFlag=0,n=P.length;t<n;t++)(e=P[t]).isParent&&N.dragNodeShowBefore[e.tId]&&!e.open&&(Z.expandCollapseNode(_,e,!e.open),delete N.dragNodeShowBefore[e.tId]);I&&I.remove(),R&&R.remove();var o,r,a=(i.ctrlKey||i.metaKey)&&_.edit.drag.isMove&&_.edit.drag.isCopy||!_.edit.drag.isMove&&_.edit.drag.isCopy;(M=!a&&M&&z&&P[0].parentTId&&z==P[0].parentTId&&U==Q.move.TYPE_INNER?null:M)?(o=null==z?null:J.getNodeCache(B,z),0!=X.apply(_.callback.beforeDrop,[B.treeId,P,o,U,a],!0)?(r=a?X.clone(P):P,U==Q.move.TYPE_INNER&&X.canAsync(B,o)?Z.asyncNode(B,o,!1,s):s()):Z.selectNodes(l,P)):(Z.selectNodes(l,P),_.treeObj.trigger(Q.event.DROP,[i,_.treeId,P,null,null,null]))}function s(){if(O){if(!a)for(var e=0,t=P.length;e<t;e++)Z.removeNode(_,P[e]);U==Q.move.TYPE_INNER?Z.addNodes(B,o,-1,r):Z.addNodes(B,o.getParentNode(),U==Q.move.TYPE_PREV?o.getIndex():o.getIndex()+1,r)}else if(a&&U==Q.move.TYPE_INNER)Z.addNodes(B,o,-1,r);else if(a)Z.addNodes(B,o.getParentNode(),U==Q.move.TYPE_PREV?o.getIndex():o.getIndex()+1,r);else if(U!=Q.move.TYPE_NEXT)for(e=0,t=r.length;e<t;e++)Z.moveNode(B,o,r[e],U,!1);else for(e=-1,t=r.length-1;e<t;t--)Z.moveNode(B,o,r[t],U,!1);Z.selectNodes(B,r);var n=ee(r[0],_).get(0);Z.scrollIntoView(n),_.treeObj.trigger(Q.event.DROP,[i,B.treeId,r,o,U,a])}}function u(){return!1}return X.uCanDo(_)&&j.bind("mousemove",c),j.bind("mouseup",K),j.bind("selectstart",u),e.preventDefault&&e.preventDefault(),!0}},e={tools:{getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,e=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+e,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),X.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){e.setSelectionRange?(e.focus(),e.setSelectionRange(t,t)):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())},showIfameMask:function(e,t){for(var n=J.getRoot(e);0<n.dragMaskList.length;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var i=ee("iframe",e),o=0,r=i.length;o<r;o++){var a=i.get(o),s=X.getAbs(a),a=ee("<div id='zTreeMask_"+o+"' class='zTreeMask' style='top:"+s[1]+"px; left:"+s[0]+"px; width:"+a.offsetWidth+"px; height:"+a.offsetHeight+"px;'></div>",e);a.appendTo(ee("body",e)),n.dragMaskList.push(a)}}},view:{addEditBtn:function(e,t){var n,i;t.editNameFlag||0<ee(t,Q.id.EDIT,e).length||X.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)&&(n=ee(t,Q.id.A,e),i="<span class='"+Q.className.BUTTON+" edit' id='"+t.tId+Q.id.EDIT+"' title='"+X.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+Q.id.EDIT+" style='display:none;'></span>",n.append(i),ee(t,Q.id.EDIT,e).bind("click",function(){return X.uCanDo(e)&&0!=X.apply(e.callback.beforeEditName,[e.treeId,t],!0)&&Z.editNode(e,t),!1}).show())},addRemoveBtn:function(e,t){var n,i;t.editNameFlag||0<ee(t,Q.id.REMOVE,e).length||X.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)&&(n=ee(t,Q.id.A,e),i="<span class='"+Q.className.BUTTON+" remove' id='"+t.tId+Q.id.REMOVE+"' title='"+X.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+Q.id.REMOVE+" style='display:none;'></span>",n.append(i),ee(t,Q.id.REMOVE,e).bind("click",function(){return X.uCanDo(e)&&0!=X.apply(e.callback.beforeRemove,[e.treeId,t],!0)&&(Z.removeNode(e,t),e.treeObj.trigger(Q.event.REMOVE,[e.treeId,t])),!1}).bind("mousedown",function(e){return!0}).show())},addHoverDom:function(e,t){J.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(Z.addEditBtn(e,t),Z.addRemoveBtn(e,t)),X.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var i=J.getRoot(e),o=e.data.key.name,r=i.curEditNode;if(r){var a=i.curEditInput,t=t||(n?r[o]:a.val());if(!1===X.apply(e.callback.beforeRename,[e.treeId,r,t,n],!0))return!1;r[o]=t,ee(r,Q.id.A,e).removeClass(Q.node.CURSELECTED_EDIT),a.unbind(),Z.setNodeName(e,r),r.editNameFlag=!1,i.curEditNode=null,i.curEditInput=null,Z.selectNode(e,r,!1),e.treeObj.trigger(Q.event.RENAME,[e.treeId,r,n])}return i.noSelection=!0},editNode:function(t,e){var n,i,o=J.getRoot(t);Z.editNodeBlur=!1,J.isSelectedNode(t,e)&&o.curEditNode==e&&e.editNameFlag?setTimeout(function(){X.inputFocus(o.curEditInput)},0):(n=t.data.key.name,e.editNameFlag=!0,Z.removeTreeDom(t,e),Z.cancelCurEditNode(t),Z.selectNode(t,e,!1),ee(e,Q.id.SPAN,t).html("<input type=text class='rename' id='"+e.tId+Q.id.INPUT+"' treeNode"+Q.id.INPUT+" >"),(i=ee(e,Q.id.INPUT,t)).attr("value",e[n]),t.edit.editNameSelectAll?X.inputSelect(i):X.inputFocus(i),i.bind("blur",function(e){Z.editNodeBlur||Z.cancelCurEditNode(t)}).bind("keydown",function(e){"13"==e.keyCode?(Z.editNodeBlur=!0,Z.cancelCurEditNode(t)):"27"==e.keyCode&&Z.cancelCurEditNode(t,null,!0)}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}),ee(e,Q.id.A,t).addClass(Q.node.CURSELECTED_EDIT),o.curEditInput=i,o.noSelection=!1,o.curEditNode=e)},moveNode:function(e,t,n,i,o,r){var a=J.getRoot(e),s=e.data.key.children;if(t!=n&&(!e.data.keep.leaf||!t||t.isParent||i!=Q.move.TYPE_INNER)){var l=n.parentTId?n.getParentNode():a,c=null===t||t==a;c&&(i=Q.move.TYPE_INNER);var u=(t=c&&null===t?a:t).parentTId?t.getParentNode():a;(i=i!=Q.move.TYPE_PREV&&i!=Q.move.TYPE_NEXT?Q.move.TYPE_INNER:i)==Q.move.TYPE_INNER&&(c?n.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,Z.setNodeLineIcos(e,t)),n.parentTId=t.tId));var d=c?v=e.treeObj:(r||i!=Q.move.TYPE_INNER?r||Z.expandCollapseNode(e,t.getParentNode(),!0,!1):Z.expandCollapseNode(e,t,!0,!1),v=ee(t,e),d=ee(t,Q.id.UL,e),v.get(0)&&!d.get(0)&&(Z.makeUlHtml(e,t,g=[],""),v.append(g.join(""))),ee(t,Q.id.UL,e)),c=ee(n,e);c.get(0)?v.get(0)||c.remove():c=Z.appendNodes(e,n.level,[n],null,-1,!1,!0).join(""),d.get(0)&&i==Q.move.TYPE_INNER?d.append(c):v.get(0)&&i==Q.move.TYPE_PREV?v.before(c):v.get(0)&&i==Q.move.TYPE_NEXT&&v.after(c);var p,h,f=-1,m=0,g=null,d=null,v=n.level;if(n.isFirstNode)f=0,1<l[s].length&&((g=l[s][1]).isFirstNode=!0);else if(n.isLastNode)f=l[s].length-1,(g=l[s][f-1]).isLastNode=!0;else for(p=0,h=l[s].length;p<h;p++)if(l[s][p].tId==n.tId){f=p;break}if(0<=f&&l[s].splice(f,1),i!=Q.move.TYPE_INNER)for(p=0,h=u[s].length;p<h;p++)u[s][p].tId==t.tId&&(m=p);i==Q.move.TYPE_INNER?(t[s]||(t[s]=new Array),0<t[s].length&&((d=t[s][t[s].length-1]).isLastNode=!1),t[s].splice(t[s].length,0,n),n.isLastNode=!0,n.isFirstNode=1==t[s].length):t.isFirstNode&&i==Q.move.TYPE_PREV?(u[s].splice(m,0,n),(d=t).isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&i==Q.move.TYPE_NEXT?(u[s].splice(m+1,0,n),(d=t).isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(i==Q.move.TYPE_PREV?u[s].splice(m,0,n):u[s].splice(m+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),J.fixPIdKeyValue(e,n),J.setSonNodeLevel(e,n.getParentNode(),n),Z.setNodeLineIcos(e,n),Z.repairNodeLevelClass(e,n,v),!e.data.keep.parent&&l[s].length<1?(l.isParent=!1,l.open=!1,c=ee(l,Q.id.UL,e),i=ee(l,Q.id.SWITCH,e),v=ee(l,Q.id.ICON,e),Z.replaceSwitchClass(l,i,Q.folder.DOCU),Z.replaceIcoClass(l,v,Q.folder.DOCU),c.css("display","none")):g&&Z.setNodeLineIcos(e,g),d&&Z.setNodeLineIcos(e,d),e.check&&e.check.enable&&Z.repairChkClass&&(Z.repairChkClass(e,l),Z.repairParentChkClassWithSelf(e,l),l!=n.parent&&Z.repairParentChkClassWithSelf(e,n)),r||Z.expandCollapseParentNode(e,n.getParentNode(),!0,o)}},removeEditBtn:function(e,t){ee(t,Q.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){ee(t,Q.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,Z.removeEditBtn(e,t),Z.removeRemoveBtn(e,t),X.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){var i,o;n!==t.level&&(i=ee(t,e),o=ee(t,Q.id.A,e),e=ee(t,Q.id.UL,e),n=Q.className.LEVEL+n,t=Q.className.LEVEL+t.level,i.removeClass(n),i.addClass(t),o.removeClass(n),o.addClass(t),e.removeClass(n),e.addClass(t))},selectNodes:function(e,t){for(var n=0,i=t.length;n<i;n++)Z.selectNode(e,t[n],0<n)}},event:{},data:{setSonNodeLevel:function(e,t,n){if(n){var i=e.data.key.children;if(n.level=t?t.level+1:0,n[i])for(var o=0,r=n[i].length;o<r;o++)n[i][o]&&J.setSonNodeLevel(e,n,n[i][o])}}}};G.extend(!0,G.fn.zTree.consts,Y),G.extend(!0,G.fn.zTree._z,e);var e=G.fn.zTree,X=e._z.tools,Q=e.consts,Z=e._z.view,J=e._z.data,ee=(e._z.event,X.$);J.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),J.addInitBind(function(s){var e=s.treeObj,t=Q.event;e.bind(t.RENAME,function(e,t,n,i){X.apply(s.callback.onRename,[e,t,n,i])}),e.bind(t.DRAG,function(e,t,n,i){X.apply(s.callback.onDrag,[t,n,i])}),e.bind(t.DRAGMOVE,function(e,t,n,i){X.apply(s.callback.onDragMove,[t,n,i])}),e.bind(t.DROP,function(e,t,n,i,o,r,a){X.apply(s.callback.onDrop,[t,n,i,o,r,a])})}),J.addInitUnBind(function(e){var t=e.treeObj,e=Q.event;t.unbind(e.RENAME),t.unbind(e.DRAG),t.unbind(e.DRAGMOVE),t.unbind(e.DROP)}),J.addInitCache(function(e){}),J.addInitNode(function(e,t,n,i,o,r,a){n&&(n.isHover=!1,n.editNameFlag=!1)}),J.addInitProxy(function(e){var t=e.target,n=J.getSetting(e.data.treeId),i=e.relatedTarget,o="",r=null,a="",s=null,l=null;if(X.eqs(e.type,"mouseover")?(l=X.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+Q.id.A}]))&&(o=X.getNodeMainDom(l).id,a="hoverOverNode"):X.eqs(e.type,"mouseout")?(l=X.getMDom(n,i,[{tagName:"a",attrName:"treeNode"+Q.id.A}]))||(o="remove",a="hoverOutNode"):X.eqs(e.type,"mousedown")&&(l=X.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+Q.id.A}]))&&(o=X.getNodeMainDom(l).id,a="mousedownNode"),0<o.length)switch(r=J.getNodeCache(n,o),a){case"mousedownNode":s=c.onMousedownNode;break;case"hoverOverNode":s=c.onHoverOverNode;break;case"hoverOutNode":s=c.onHoverOutNode}return{stop:!1,node:r,nodeEventType:a,nodeEventCallback:s,treeEventType:"",treeEventCallback:null}}),J.addInitRoot(function(e){var t=J.getRoot(e),e=J.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,e.showHoverDom=!0}),J.addZTreeTools(function(e,t){t.cancelEditName=function(e){J.getRoot(this.setting).curEditNode&&Z.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(e,t,n,i){if(!t)return null;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===Q.move.TYPE_INNER)return null;var o=this,r=X.clone(t);function a(){Z.addNodes(o.setting,e,-1,[r],i)}return e||(e=null,n=Q.move.TYPE_INNER),n==Q.move.TYPE_INNER?X.canAsync(this.setting,e)?Z.asyncNode(this.setting,e,i,a):a():(Z.addNodes(this.setting,e.parentNode,-1,[r],i),Z.moveNode(this.setting,e,r,n,!1,i)),r},t.editName=function(e){e&&e.tId&&e===J.getNodeCache(this.setting,e.tId)&&(e.parentTId&&Z.expandCollapseParentNode(this.setting,e.getParentNode(),!0),Z.editNode(this.setting,e))},t.moveNode=function(e,t,n,i){if(!t)return t;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===Q.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&n==Q.move.TYPE_INNER||0<ee(t,this.setting).find("#"+e.tId).length))return null;e=e||null;var o=this;function r(){Z.moveNode(o.setting,e,t,n,!1,i)}return X.canAsync(this.setting,e)&&n===Q.move.TYPE_INNER?Z.asyncNode(this.setting,e,i,r):r(),t},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}});var r=Z.cancelPreSelectedNode;Z.cancelPreSelectedNode=function(e,t){for(var n=J.getRoot(e).curSelectedList,i=0,o=n.length;i<o&&(t&&t!==n[i]||(Z.removeTreeDom(e,n[i]),!t));i++);r&&r.apply(Z,arguments)};var a=Z.createNodes;Z.createNodes=function(e,t,n,i,o){a&&a.apply(Z,arguments),n&&Z.repairParentChkClassWithSelf&&Z.repairParentChkClassWithSelf(e,i)};var n=Z.makeNodeUrl;Z.makeNodeUrl=function(e,t){return e.edit.enable?null:n.apply(Z,arguments)};var i=Z.removeNode;Z.removeNode=function(e,t){var n=J.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),i&&i.apply(Z,arguments)};var o=Z.selectNode;Z.selectNode=function(e,t,n){var i=J.getRoot(e);return(!J.isSelectedNode(e,t)||i.curEditNode!=t||!t.editNameFlag)&&(o&&o.apply(Z,arguments),Z.addHoverDom(e,t),!0)};var s=X.uCanDo;X.uCanDo=function(e,t){var n=J.getRoot(e);return!(!t||!(X.eqs(t.type,"mouseover")||X.eqs(t.type,"mouseout")||X.eqs(t.type,"mousedown")||X.eqs(t.type,"mouseup")))||(n.curEditNode&&(Z.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!s||s.apply(Z,arguments)))}}(jQuery)},{}]},{},[2,1,5,3,4,6,7,8,11,12,9,10,13,14,15,16,18,17,21,19,20,22,23,24,29,30,34,31,32,33,25,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,55,53,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,26,83,27,84,92,93,86,87,88,89,90,94,95,96,97,91,98,99,100,101,102,103,104,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,105,106,107,108,109,110,111,112,113,114,115,117,118,116,119,139,140,141,142,143,144,148,149,150,151,152,153,154,155,156,157,158,145,146,147,164,28,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221]);